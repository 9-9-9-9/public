(window.webpackJsonp = window.webpackJsonp || []).push([[0], [, , , , function(t, e, n) {
    "use strict";
    n.r(e),
    n.d(e, "ChatBar", (function() {
        return ur
    }
    )),
    n.d(e, "NoticeBar", (function() {
        return pr
    }
    )),
    n.d(e, "LogBar", (function() {
        return yr
    }
    )),
    n.d(e, "MainScene", (function() {
        return wr
    }
    )),
    n.d(e, "MainBtnView", (function() {
        return kr
    }
    )),
    n.d(e, "MainMenuView", (function() {
        return Sr
    }
    )),
    n.d(e, "MainFeiShengMenuView", (function() {
        return Tr
    }
    )),
    n.d(e, "MainXiuLianView", (function() {
        return Mr
    }
    )),
    n.d(e, "ProfileView", (function() {
        return Vr
    }
    )),
    n.d(e, "HijackingView", (function() {
        return Mi
    }
    )),
    n.d(e, "DujieDanPanel", (function() {
        return Ni
    }
    )),
    n.d(e, "CommonController", (function() {
        return no.a
    }
    )),
    n.d(e, "YouliLogMessage", (function() {
        return Fr
    }
    )),
    n.d(e, "youliMesLog", (function() {
        return zr
    }
    )),
    n.d(e, "youliOfflineLog", (function() {
        return qr
    }
    )),
    n.d(e, "FinanceLogMessage", (function() {
        return Yr
    }
    )),
    n.d(e, "GuildMessage", (function() {
        return $r
    }
    )),
    n.d(e, "TeamSwordMessage", (function() {
        return Qr
    }
    )),
    n.d(e, "BeastFlyMessage", (function() {
        return ta
    }
    )),
    n.d(e, "TianmenMessage", (function() {
        return na
    }
    )),
    n.d(e, "AutoFlyMessage", (function() {
        return aa
    }
    )),
    n.d(e, "ChatMessage", (function() {
        return ca
    }
    )),
    n.d(e, "CommBossMsg", (function() {
        return ha
    }
    )),
    n.d(e, "Hollow5Message", (function() {
        return pa
    }
    )),
    n.d(e, "TreeMsg", (function() {
        return da
    }
    )),
    n.d(e, "FriendMsg", (function() {
        return ga
    }
    )),
    n.d(e, "ItemType", (function() {
        return Bt.b
    }
    )),
    n.d(e, "PropType", (function() {
        return Bt.f
    }
    )),
    n.d(e, "PropModel", (function() {
        return Bt.e
    }
    )),
    n.d(e, "PropItem", (function() {
        return Bt.c
    }
    )),
    n.d(e, "PropLabel", (function() {
        return Bt.d
    }
    )),
    n.d(e, "EquipItem", (function() {
        return Bt.a
    }
    )),
    n.d(e, "leftPackage", (function() {
        return Bt.l
    }
    )),
    n.d(e, "isMinLevel", (function() {
        return Bt.j
    }
    )),
    n.d(e, "packageIsFull", (function() {
        return Bt.m
    }
    )),
    n.d(e, "getGreenZawu", (function() {
        return Bt.h
    }
    )),
    n.d(e, "getGreenDanYao", (function() {
        return Bt.g
    }
    )),
    n.d(e, "isGreenProp", (function() {
        return Bt.i
    }
    )),
    n.d(e, "isRedProp", (function() {
        return Bt.k
    }
    )),
    n.d(e, "FightItem", (function() {
        return Di.a
    }
    )),
    n.d(e, "FightPanel", (function() {
        return Di.b
    }
    )),
    n.d(e, "FightConfirmPanel", (function() {
        return _a.a
    }
    )),
    n.d(e, "MyBaseAvatar", (function() {
        return ya
    }
    )),
    n.d(e, "Head", (function() {
        return va
    }
    )),
    n.d(e, "Role", (function() {
        return wa
    }
    )),
    n.d(e, "CircleProgress", (function() {
        return ka
    }
    )),
    n.d(e, "GameProgress", (function() {
        return Pa
    }
    )),
    n.d(e, "RechargeTotalRedPoint", (function() {
        return Sa
    }
    )),
    n.d(e, "HuanyigeRedPoint", (function() {
        return Ra
    }
    )),
    n.d(e, "GrowPlanRedPoint", (function() {
        return Ta
    }
    )),
    n.d(e, "XianpuGiftRedPoint", (function() {
        return La
    }
    )),
    n.d(e, "ActivityGiftRedPoint", (function() {
        return xn.e
    }
    )),
    n.d(e, "TimeGiftRedPoint", (function() {
        return xn.Z
    }
    )),
    n.d(e, "LevelGiftRedPoint", (function() {
        return xn.J
    }
    )),
    n.d(e, "PrivilegeCardRedPoint", (function() {
        return xn.U
    }
    )),
    n.d(e, "AppraiseRedPoint", (function() {
        return xn.i
    }
    )),
    n.d(e, "FBRedPoint", (function() {
        return xn.s
    }
    )),
    n.d(e, "BaHaRedPoint", (function() {
        return xn.k
    }
    )),
    n.d(e, "NewServerGiftRed", (function() {
        return xn.R
    }
    )),
    n.d(e, "VipGiftRed", (function() {
        return xn.ab
    }
    )),
    n.d(e, "VipKeFuRed", (function() {
        return xn.bb
    }
    )),
    n.d(e, "AdvertTaskRedPoint", (function() {
        return xn.f
    }
    )),
    n.d(e, "HeroAdvertRedPoint", (function() {
        return xn.C
    }
    )),
    n.d(e, "FishingAdvertRedPoint", (function() {
        return xn.u
    }
    )),
    n.d(e, "GoldStoneAdvertRedPoint", (function() {
        return xn.z
    }
    )),
    n.d(e, "BlackMarketAdvertRedPoint", (function() {
        return xn.l
    }
    )),
    n.d(e, "XianGeAdvertRedPoint", (function() {
        return xn.eb
    }
    )),
    n.d(e, "LiLianAdvertRedPoint", (function() {
        return xn.K
    }
    )),
    n.d(e, "HeiShiAdvertRedPoint", (function() {
        return xn.B
    }
    )),
    n.d(e, "FuDiAdvertRedPoint", (function() {
        return xn.y
    }
    )),
    n.d(e, "HomeAdvertRedPoint", (function() {
        return xn.E
    }
    )),
    n.d(e, "RobeAdvertRedPoint", (function() {
        return xn.W
    }
    )),
    n.d(e, "GuildTaskAdvertRedPoint", (function() {
        return xn.A
    }
    )),
    n.d(e, "XianFuAdvertRedPoint", (function() {
        return xn.db
    }
    )),
    n.d(e, "QiLingAdvertRedPoint", (function() {
        return xn.V
    }
    )),
    n.d(e, "CommonAdvertRedPoint", (function() {
        return xn.n
    }
    )),
    n.d(e, "ACT_PROPS", (function() {
        return xn.a
    }
    )),
    n.d(e, "BountyPropRedPoint", (function() {
        return xn.m
    }
    )),
    n.d(e, "MakeDumplRed", (function() {
        return xn.M
    }
    )),
    n.d(e, "AmuletRewardRed", (function() {
        return xn.g
    }
    )),
    n.d(e, "AmuletTaskRed", (function() {
        return xn.h
    }
    )),
    n.d(e, "Fs0202RedPoint", (function() {
        return xn.v
    }
    )),
    n.d(e, "LoverRedPoint", (function() {
        return xn.L
    }
    )),
    n.d(e, "SpringRedPoint", (function() {
        return xn.X
    }
    )),
    n.d(e, "JuediRedPoint", (function() {
        return xn.F
    }
    )),
    n.d(e, "TaoyuanRedPoint", (function() {
        return xn.Y
    }
    )),
    n.d(e, "HeroPackagePanel", (function() {
        return xn.D
    }
    )),
    n.d(e, "CommonGiftPanel", (function() {
        return xn.o
    }
    )),
    n.d(e, "WanchunRedPoint", (function() {
        return xn.cb
    }
    )),
    n.d(e, "ConfessRedPoint", (function() {
        return xn.p
    }
    )),
    n.d(e, "FightChooseHeroPanel", (function() {
        return xn.t
    }
    )),
    n.d(e, "ActivationWealRed", (function() {
        return xn.d
    }
    )),
    n.d(e, "XingTianRed", (function() {
        return xn.gb
    }
    )),
    n.d(e, "Fs1001LanternRedPoint", (function() {
        return xn.x
    }
    )),
    n.d(e, "Fs1001BringUpRedPoint", (function() {
        return xn.w
    }
    )),
    n.d(e, "ExploreRed", (function() {
        return xn.q
    }
    )),
    n.d(e, "ExploreTaskRedPoint", (function() {
        return xn.r
    }
    )),
    n.d(e, "NySignRed", (function() {
        return xn.T
    }
    )),
    n.d(e, "NyHongBaoRed", (function() {
        return xn.S
    }
    )),
    n.d(e, "nyHongBaoModel", (function() {
        return xn.hb
    }
    )),
    n.d(e, "LaBaRed", (function() {
        return xn.G
    }
    )),
    n.d(e, "XianShouGiftRedPoint", (function() {
        return xn.fb
    }
    )),
    n.d(e, "LanternFestivalRedPoint", (function() {
        return xn.I
    }
    )),
    n.d(e, "LanternFestivalDaRedPoint", (function() {
        return xn.H
    }
    )),
    n.d(e, "ActWelfareRed", (function() {
        return xn.c
    }
    )),
    n.d(e, "ActWelfareBigRed", (function() {
        return xn.b
    }
    )),
    n.d(e, "MergeSignRed", (function() {
        return xn.Q
    }
    )),
    n.d(e, "MergeRebateRed", (function() {
        return xn.P
    }
    )),
    n.d(e, "MergePairMatchRed", (function() {
        return xn.O
    }
    )),
    n.d(e, "MergeLuckyRed", (function() {
        return xn.N
    }
    )),
    n.d(e, "AunuaRedPoint", (function() {
        return xn.j
    }
    )),
    n.d(e, "BlankShopRedPoint", (function() {
        return Ma.BlankShopRedPoint
    }
    )),
    n.d(e, "NewBlackMarketPrePanel", (function() {
        return Ma.NewBlackMarketPrePanel
    }
    )),
    n.d(e, "NewBlackMarketMainPanel", (function() {
        return Ma.NewBlackMarketMainPanel
    }
    )),
    n.d(e, "BlackMarketShopItem", (function() {
        return Ma.BlackMarketShopItem
    }
    )),
    n.d(e, "OpenFunType", (function() {
        return Aa
    }
    )),
    n.d(e, "injectionBtn", (function() {
        return Ba
    }
    )),
    n.d(e, "openFunction", (function() {
        return Ea
    }
    )),
    n.d(e, "calFightPower", (function() {
        return A.b
    }
    )),
    n.d(e, "HeroModel", (function() {
        return A.a
    }
    )),
    n.d(e, "FabaoAttrType", (function() {
        return Da.a
    }
    )),
    n.d(e, "FabaoModel", (function() {
        return Da.b
    }
    )),
    n.d(e, "FabaoItem", (function() {
        return Va
    }
    )),
    n.d(e, "QilingItem", (function() {
        return Fa
    }
    )),
    n.d(e, "TreasureMapModel", (function() {
        return za.a
    }
    )),
    n.d(e, "KeFuPanel", (function() {
        return Ka
    }
    )),
    n.d(e, "FeastMessage", (function() {
        return Za
    }
    )),
    n.d(e, "ParadeMessage", (function() {
        return es
    }
    )),
    n.d(e, "RankPanel", (function() {
        return ns.b
    }
    )),
    n.d(e, "RankItem", (function() {
        return ns.a
    }
    )),
    n.d(e, "mul", (function() {
        return is.c
    }
    )),
    n.d(e, "div", (function() {
        return is.b
    }
    )),
    n.d(e, "add", (function() {
        return is.a
    }
    )),
    n.d(e, "sub", (function() {
        return is.d
    }
    )),
    n.d(e, "DiceRedPoint", (function() {
        return ss
    }
    )),
    n.d(e, "DiceCircleAwdsRed", (function() {
        return cs
    }
    )),
    n.d(e, "DiceScoreAwdsRed", (function() {
        return us
    }
    )),
    n.d(e, "DiceGiftRed", (function() {
        return hs
    }
    )),
    n.d(e, "DiceAwdsRed", (function() {
        return ls
    }
    )),
    n.d(e, "ActBossRedPoint", (function() {
        return bs
    }
    )),
    n.d(e, "ActBossScoreAwdsRed", (function() {
        return gs
    }
    )),
    n.d(e, "CrossBossRedPoint", (function() {
        return vs
    }
    )),
    n.d(e, "CrossBossScoreAwdsRed", (function() {
        return Os
    }
    )),
    n.d(e, "ServerRankRedPoint", (function() {
        return ws
    }
    )),
    n.d(e, "CrossRankRedPoint", (function() {
        return xs
    }
    )),
    n.d(e, "LimitTaskRedPoint", (function() {
        return ks
    }
    )),
    n.d(e, "QishiluRedPoint", (function() {
        return Is
    }
    )),
    n.d(e, "XianmengRankRedPoint", (function() {
        return Ps
    }
    )),
    n.d(e, "KaifuRedPoint", (function() {
        return Ts
    }
    )),
    n.d(e, "HollowRed", (function() {
        return Bs
    }
    )),
    n.d(e, "HolGodCountRed", (function() {
        return Es
    }
    )),
    n.d(e, "HolGodTaskRed", (function() {
        return Ds
    }
    )),
    n.d(e, "HolBossRed", (function() {
        return Gs
    }
    )),
    n.d(e, "HolOccupyRed", (function() {
        return Vs
    }
    )),
    n.d(e, "VoidBossRed", (function() {
        return Us
    }
    )),
    n.d(e, "VoidBossZhushouRedPoint", (function() {
        return Hs
    }
    )),
    n.d(e, "VoidBossShoujiRedPoint", (function() {
        return Fs
    }
    )),
    n.d(e, "FriendMsgRed", (function() {
        return qs
    }
    )),
    n.d(e, "FriendSucRed", (function() {
        return Ws
    }
    )),
    n.d(e, "ChristmasGiftRed", (function() {
        return $s
    }
    )),
    n.d(e, "ChristmasLotteryRed", (function() {
        return Ks
    }
    )),
    n.d(e, "ChristmasPetFeedRed", (function() {
        return Qs
    }
    )),
    n.d(e, "ChristmasMapRed", (function() {
        return Zs
    }
    )),
    n.d(e, "ChristmasMainRed", (function() {
        return tc
    }
    )),
    n.d(e, "Spring2021JigsawRed", (function() {
        return oc
    }
    )),
    n.d(e, "Spring2021LotteryRed", (function() {
        return rc
    }
    )),
    n.d(e, "Spring2021BountyRed", (function() {
        return ac
    }
    )),
    n.d(e, "Spring2021PandaRed", (function() {
        return sc
    }
    )),
    n.d(e, "Spring2021PandaGrowRed", (function() {
        return cc
    }
    )),
    n.d(e, "IconFolderRed", (function() {
        return hc
    }
    )),
    n.d(e, "LimitRed", (function() {
        return pc
    }
    )),
    n.d(e, "FunctionGuideRed", (function() {
        return dc
    }
    )),
    n.d(e, "JingChengRed", (function() {
        return gc
    }
    )),
    n.d(e, "LayoutOrientation", (function() {
        return _c
    }
    )),
    n.d(e, "FactoryList", (function() {
        return yc
    }
    )),
    n.d(e, "CrowdLayout", (function() {
        return Oc
    }
    )),
    n.d(e, "ProgressGetBar", (function() {
        return xc
    }
    )),
    n.d(e, "WholeItemManager", (function() {
        return kc.c
    }
    )),
    n.d(e, "WholeList", (function() {
        return kc.d
    }
    )),
    n.d(e, "WholeItem", (function() {
        return kc.b
    }
    )),
    n.d(e, "RemoveItemEffect", (function() {
        return kc.a
    }
    )),
    n.d(e, "FastList", (function() {
        return Ic.a
    }
    )),
    n.d(e, "CountdownLabel", (function() {
        return Pc.a
    }
    )),
    n.d(e, "InputAmountPanel", (function() {
        return Sc
    }
    )),
    n.d(e, "ChatCrossPkBar", (function() {
        return Rc.a
    }
    )),
    n.d(e, "CommBossMainView", (function() {
        return Tc.a
    }
    ));
    var i, o = n(1), r = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), a = function(t) {
        function e() {
            return t.call(this, "邮件") || this
        }
        return r(e, t),
        e.prototype.init = function() {
            o.cache.onChange("Mail.getList", this.onChange, this),
            o.cache.onChange("Red.getInfo", this.onRedChange, this);
            var t = Object(o.getCache)("Red.getInfo");
            t.mail > 0 ? (t.mail = 0,
            this.updateVisible(!0)) : this.updateVisible(!1)
        }
        ,
        e.prototype.onRedChange = function() {
            var t = Object(o.getCache)("Red.getInfo");
            t.mail > 0 && (t.mail = 0,
            this.updateVisible(!0))
        }
        ,
        e.prototype.onChange = function() {
            var t = Object(o.getCache)("Mail.getList").l.some((function(t) {
                return t.award && t.award.length > 0 && 0 == t.isAw || !t.award && 0 == t.isRe
            }
            ));
            this.updateVisible(t)
        }
        ,
        e
    }(o.RedBaseRule), s = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), c = function(t) {
        function e() {
            return t.call(this, "客服") || this
        }
        return s(e, t),
        e.prototype.init = function() {
            var t = this;
            Object(o.on)("kefu_red_show", (function() {
                t.updateVisible(!0)
            }
            ), this),
            Object(o.on)("kefu_red_hide", (function() {
                t.updateVisible(!1)
            }
            ), this),
            this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule), u = n(111), h = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), l = function(t) {
        function e() {
            return t.call(this, "每日礼包") || this
        }
        return h(e, t),
        e.prototype.init = function() {
            var t = this
              , e = u.a.isCurDayFirst("dayGift");
            this.updateVisible(e),
            Object(o.on)("dayGift_red_hide", (function() {
                t.updateVisible(!1)
            }
            ), this)
        }
        ,
        e
    }(o.RedBaseRule), p = function(t) {
        function e() {
            return t.call(this, "新每日礼包") || this
        }
        return h(e, t),
        e.prototype.init = function() {
            var t = this
              , e = u.a.isCurDayFirst("dailyGift");
            this.updateVisible(e),
            Object(o.on)("dailyGift_red_hide", (function() {
                t.updateVisible(!1)
            }
            ), this)
        }
        ,
        e
    }(o.RedBaseRule), f = n(113), d = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), b = function(t) {
        function e() {
            return t.call(this, "仙界任务") || this
        }
        return d(e, t),
        e.prototype.init = function() {
            var t = Object(o.getCache)("Red.getInfo");
            t.flyTask > 0 ? this.updateVisible(!0) : (this._w = eui.Watcher.watch(t, ["flyTask"], this.updateFlyTask, this),
            this.updateVisible(!1)),
            Object(o.onChange)("User.getInfo", this.onChange, this)
        }
        ,
        e.prototype.updateFlyTask = function() {
            this._w && (this._w.unwatch(),
            this._w = null),
            this.updateVisible(!0)
        }
        ,
        e.prototype.onChange = function(t) {
            if (t.i && t.i.flyTask && Object(o.getConfig)("flyTask_json")) {
                for (var e = Object(f.a)("flyTask"), n = 0; n < e.length; n++) {
                    var i = e[n]
                      , r = this.getConfig(i.id, i.taskId);
                    if (r && i.taskNum >= r.value1)
                        return void this.updateVisible(!0)
                }
                this.updateVisible(!1)
            }
        }
        ,
        e.prototype.getConfig = function(t, e) {
            for (var n = Object(o.getConfig)("flyTask_json")[t].detail, i = 0; i < n.length; i++)
                if (n[i].id == e)
                    return n[i];
            return null
        }
        ,
        e
    }(o.RedBaseRule), g = n(112), _ = n(333), m = n(122), y = n(127), v = n(130), O = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), j = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, w = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, x = function(t) {
        function e() {
            return t.call(this, "节日任务") || this
        }
        return O(e, t),
        e.prototype.init = function() {
            var t = this
              , e = Object(o.getCache)("Red.getInfo");
            if (e && e.activity)
                if (e.activity.fsTask > 0) {
                    e.activity.fsTask = 0;
                    var n = Object(g.d)("fsTask");
                    u.a.isOver(n.end) ? this.updateVisible(!1) : this.updateVisible(!0)
                } else
                    var i = eui.Watcher.watch(e.activity, ["fsTask"], (function() {
                        u.a.isOver(r.end) ? t.updateVisible(!1) : t.updateVisible(!0),
                        i.unwatch()
                    }
                    ), this);
            var r = Object(g.d)("fsTask");
            r && Object(o.on)("refresh_funOpen", this.onUpdate, this)
        }
        ,
        e.prototype.onUpdate = function(t) {
            "fsTask" == t && this.check()
        }
        ,
        e.prototype.check = function() {
            if (RES.getRes("festivalActivity_nd_json")) {
                var t = Object(g.d)("fsTask");
                u.a.isOver(t.end) ? this.updateVisible(!1) : this.updateVisible(t.l.some((function(e) {
                    if (0 == e.status) {
                        var n = Object(g.g)("fsTask", t.cId, e.id);
                        return e.num >= n.num
                    }
                    return !1
                }
                )))
            }
        }
        ,
        e
    }(o.RedBaseRule), k = function(t) {
        function e(e, n) {
            var i = t.call(this, e) || this;
            return i._type = n,
            i
        }
        return O(e, t),
        e.prototype.init = function() {
            var t = this
              , e = Object(g.d)(this._type)
              , n = Object(o.getCache)("Red.getInfo");
            if (n)
                if (n.activity[this._type] > 0)
                    n.activity[this._type] = 0,
                    this.updateVisible(!0);
                else
                    var i = eui.Watcher.watch(n.activity, [this._type], (function() {
                        t.updateVisible(!0),
                        i.unwatch()
                    }
                    ), this);
            e && (Object(o.on)("refresh_funOpen", this.onUpdate, this),
            "fsScoreGuildReward" == this._type && (0 == Object(f.a)("guildId") && this.updateVisible(!1),
            eui.Watcher.watch(e, ["num"], this.check, this),
            eui.Watcher.watch(Object(f.a)(), ["guildId"], this.check, this)))
        }
        ,
        e.prototype.onUpdate = function(t) {
            t == this._type && this.check()
        }
        ,
        e.prototype.check = function() {
            var t = this;
            if (RES.getRes("festivalActivity_nd_json")) {
                if ("fsScoreGuildReward" == this._type && 0 == Object(f.a)("guildId"))
                    return void this.updateVisible(!1);
                var e = Object(g.d)(this._type);
                this.updateVisible(e.l.some((function(n) {
                    if (0 == n.status) {
                        var i = Object(g.g)(t._type, e.cId, n.id);
                        return e.num >= i.num
                    }
                    return !1
                }
                )))
            }
        }
        ,
        e
    }(o.RedBaseRule), I = function(t) {
        function e() {
            return t.call(this, "节日体力") || this
        }
        return O(e, t),
        e.prototype.init = function() {
            this._fsMap = Object(g.d)("fsMap"),
            this._fsMap && (this._fsMap.num >= 10 ? this.vis(!0) : this.check(),
            eui.Watcher.watch(this._fsMap, ["num"], this.check, this))
        }
        ,
        e.prototype.vis = function(t) {
            t && u.a.isOver(this._fsMap.start) && !u.a.isOver(this._fsMap.end) ? this.updateVisible(t) : this.updateVisible(!1)
        }
        ,
        e.prototype.check = function() {
            this._tick && (this._tick.dispose(),
            this._tick = null),
            this._fsMap.num < 10 ? (this._tick = Object(m.b)(this.tick, 1e3, this),
            this.vis(!1)) : this.vis(!0)
        }
        ,
        e.prototype.tick = function() {
            this._fsMap && this._fsMap.num >= 10 ? this.vis(!0) : this._fsMap && _.a.calculate() ? this.vis(this._fsMap.num >= 10) : this.vis(!1)
        }
        ,
        e
    }(o.RedBaseRule), P = function(t) {
        function e(e, n) {
            var i = t.call(this, e) || this;
            return i._type = n,
            i
        }
        return O(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.onUpdate, this),
            Object(o.on)("gift_seen", this.onSeen, this)
        }
        ,
        e.prototype.onSeen = function() {
            this._visible = !1,
            this.doCallback()
        }
        ,
        e.prototype.onUpdate = function(t) {
            "fsTimeGift" == t && this.check()
        }
        ,
        e.prototype.check = function() {
            return j(this, void 0, void 0, (function() {
                var t, e, n;
                return w(this, (function(i) {
                    switch (i.label) {
                    case 0:
                        return v.b.isOpen("recharge") ? (this._fsData = Object(g.d)("fsTimeGift"),
                        this._fsData && this._fsData.l ? [4, RES.getResAsync("recharge_json")] : [3, 2]) : (this.updateVisible(!1),
                        [2]);
                    case 1:
                        for (i.sent(),
                        t = u.a.getNow(),
                        void 0,
                        e = Object(o.getConfig)("recharge_json"),
                        n = 0; n < this._fsData.l.length; n++)
                            if (e[this._fsData.l[n].rechargeId].type == this._type && this._fsData.l[n].time > t)
                                return this.updateVisible(!0),
                                [2];
                        i.label = 2;
                    case 2:
                        return this.updateVisible(!1),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule), C = function(t) {
        function e() {
            return t.call(this, "御剑飞行") || this
        }
        return O(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.onUpdate, this)
        }
        ,
        e.prototype.onUpdate = function(t) {
            "swordFly" == t && this.check()
        }
        ,
        e.prototype.check = function() {
            return j(this, void 0, void 0, (function() {
                var t;
                return w(this, (function(e) {
                    return this._fsData = Object(g.d)("swordFly"),
                    t = u.a.getNow(),
                    this._fsData && t >= this._fsData.start && t <= this._fsData.end && (5 == this._fsData.num || t > this._fsData.time && this._fsData.num > 0) ? (this.updateVisible(!0),
                    [2]) : (this.updateVisible(!1),
                    [2])
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule), S = function(t) {
        function e() {
            var e = t.call(this, "多人御剑飞行") || this;
            return e._red = !1,
            e._firstLogin = !0,
            e
        }
        return O(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.onUpdate, this),
            Object(o.on)("refresh_TeamSword_Red", this.changeRed, this)
        }
        ,
        e.prototype.onUpdate = function(t) {
            "teamSwordFly" == t && this.check()
        }
        ,
        e.prototype.changeRed = function(t) {
            this._red = t,
            this.check()
        }
        ,
        e.prototype.check = function() {
            return j(this, void 0, void 0, (function() {
                var t, e;
                return w(this, (function(n) {
                    if (o.RedPointManager.getRule("御剑累计充值").visible)
                        return this.updateVisible(!0),
                        [2];
                    if ("0" == Object(o.getLocalStorage)().getString("first_teamsword_red", "0"))
                        return Object(o.getLocalStorage)().setString("first_teamsword_red", "1"),
                        this.updateVisible(!0),
                        [2];
                    if (t = Object(g.d)("teamSwordFly"),
                    e = u.a.getNow(),
                    t && t.start <= e && e <= t.end) {
                        if (this._red)
                            return this.updateVisible(!0),
                            [2];
                        if (this._firstLogin && t.applyNum && t.applyNum > 0)
                            return this._firstLogin = !1,
                            this.updateVisible(!0),
                            [2];
                        if (t.swordId && t.swordId > 0 && (5 == t.num || e > t.time && t.num > 0))
                            return this.updateVisible(!0),
                            [2]
                    }
                    return this.updateVisible(!1),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule), R = function(t) {
        function e() {
            var e = t.call(this, "多人御剑队伍信息") || this;
            return e._red = !1,
            e._firstLogin = !0,
            e
        }
        return O(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.onUpdate, this),
            Object(o.on)("refresh_TeamSword_Red", this.changeRed, this)
        }
        ,
        e.prototype.onUpdate = function(t) {
            "teamSwordFly" == t && this.check()
        }
        ,
        e.prototype.changeRed = function(t) {
            this._red = t,
            this.check()
        }
        ,
        e.prototype.check = function() {
            return j(this, void 0, void 0, (function() {
                var t, e;
                return w(this, (function(n) {
                    if (t = u.a.getNow(!0),
                    (e = Object(g.d)("teamSwordFly")) && e.start <= t && t <= e.end) {
                        if (this._firstLogin && e.applyNum && e.applyNum > 0)
                            return this._firstLogin = !1,
                            this.updateVisible(!0),
                            [2];
                        if (this._red)
                            return this.updateVisible(!0),
                            [2]
                    }
                    return this.updateVisible(!1),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule), T = function(t) {
        function e() {
            return t.call(this, "节日福利") || this
        }
        return O(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.onUpdate, this)
        }
        ,
        e.prototype.onUpdate = function(t) {
            "fsDrawScore" == t && this.check()
        }
        ,
        e.prototype.check = function() {
            return j(this, void 0, void 0, (function() {
                var t, e, n, i, o;
                return w(this, (function(r) {
                    switch (r.label) {
                    case 0:
                        return this._fsData = Object(g.d)("fsDrawScore"),
                        t = u.a.getNow(),
                        this._fsData && t >= this._fsData.start && t <= this._fsData.end ? [4, RES.getResAsync("festivalActivity_nd_json")] : [3, 2];
                    case 1:
                        for (r.sent(),
                        e = this._fsData.l,
                        n = Object(y.e)("fsDrawScore", 1).detail,
                        i = 0; i < n.length; i++)
                            if (this._fsData.num >= n[i].num)
                                for (o = 0; o < e.length; o++)
                                    if (!e[o].awded && e[o].id == n[i].id)
                                        return this.updateVisible(!0),
                                        [2];
                        r.label = 2;
                    case 2:
                        return this.updateVisible(!1),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule), L = function(t) {
        function e() {
            return t.call(this, "节日充值额外") || this
        }
        return O(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.onUpdate, this),
            Object(o.on)("gift_seen", this.onSeen, this)
        }
        ,
        e.prototype.onSeen = function() {
            this._visible = !1,
            this.doCallback()
        }
        ,
        e.prototype.onUpdate = function(t) {
            "fsSingleRecharge" == t && this.check()
        }
        ,
        e.prototype.check = function() {
            return j(this, void 0, void 0, (function() {
                var t;
                return w(this, (function(e) {
                    switch (e.label) {
                    case 0:
                        return v.b.isOpen("recharge") ? (this._fsData = Object(g.d)("fsSingleRecharge"),
                        t = u.a.getNow(),
                        this._fsData && this._fsData.l && t >= this._fsData.start && t <= this._fsData.end ? [4, RES.getResAsync("festivalActivity_json")] : [3, 2]) : (this.updateVisible(!1),
                        [2]);
                    case 1:
                        return e.sent(),
                        this.updateVisible(this._fsData.l.lengthp > 0),
                        [3, 3];
                    case 2:
                        this.updateVisible(!1),
                        e.label = 3;
                    case 3:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule), A = n(148), M = n(115), N = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), B = function(t) {
        function e() {
            return t.call(this, "灵契") || this
        }
        return N(e, t),
        e.prototype.init = function() {
            o.cache.onChange("Red.getInfo", this.onRedChange, this),
            o.cache.onCache("Red.getInfo", this.onRedChange, this),
            o.cache.onChange("SpiritArmy.getInfo", this.onRedChange, this),
            Object(o.on)("user_lv_change", this.onRedChange, this),
            Object(o.setInterval)(this.onRedChange, this, 1e4),
            this.onRedChange()
        }
        ,
        e.prototype.onRedChange = function() {
            if (0 != A.a.getEnableList().length) {
                var t = Object(o.getCache)("Red.getInfo");
                if (Object(o.getCache)("SpiritArmy.getInfo")) {
                    var e = this.lingQiTime()
                      , n = this.lingQiMax()
                      , i = this.lingJunTime()
                      , r = this.lingJunMax();
                    e >= n || i >= r ? this.updateVisible(!0) : this.updateVisible(!1)
                } else
                    t && 1 == t.army ? this.updateVisible(!0) : this.updateVisible(!1)
            } else
                this.updateVisible(!1)
        }
        ,
        e.prototype.lingQiTime = function() {
            var t = o.cache.get("SpiritArmy.getInfo");
            if (t.collectQiNum >= this.lingQiMax())
                return t.collectQiNum;
            var e = u.a.getNow(!0)
              , n = 0;
            return t.qiRefTime > 0 && (n = Math.floor((e - t.qiRefTime) / 1800) + 1),
            n < 0 && (n = 0),
            Math.min(t.collectQiNum + n, this.lingQiMax())
        }
        ,
        e.prototype.lingJunTime = function() {
            var t = o.cache.get("SpiritArmy.getInfo");
            if (t.collectJunNum >= this.lingJunMax())
                return t.collectJunNum;
            var e = u.a.getNow(!0)
              , n = 0;
            return t.junRefTime > 0 && (n = Math.floor((e - t.junRefTime) / 1800) + 1),
            n < 0 && (n = 0),
            Math.min(t.collectJunNum + n, this.lingJunMax())
        }
        ,
        e.prototype.lingQiMax = function() {
            return o.cache.get("SpiritArmy.getInfo").limitQiNum + Math.max(0, Math.floor((Object(f.a)("lv") - 71) / 2))
        }
        ,
        e.prototype.lingJunMax = function() {
            return o.cache.get("SpiritArmy.getInfo").limitJunNum + Math.max(0, Math.floor((Object(f.a)("lv") - 71) / 2))
        }
        ,
        e
    }(o.RedBaseRule), E = function(t) {
        function e() {
            return t.call(this, "九幽") || this
        }
        return N(e, t),
        e.prototype.init = function() {
            o.cache.onChange("Red.getInfo", this.onRedChange, this),
            o.cache.onCache("Red.getInfo", this.onRedChange, this),
            o.cache.onChange("Youli.getInfo", this.onRedChange, this),
            Object(o.on)("user_lv_change", this.onRedChange, this),
            Object(o.setInterval)(this.onRedChange, this, 1e4),
            this.onRedChange()
        }
        ,
        e.prototype.onRedChange = function() {
            if (Object(M.w)()) {
                var t = Object(o.getCache)("Red.getInfo");
                if (o.cache.has("Youli.getInfo")) {
                    var e = o.cache.get("Youli.getInfo").jyNum > 0;
                    this.updateVisible(e)
                } else
                    t && 1 == t.jiuyou ? this.updateVisible(!0) : this.updateVisible(!1)
            } else
                this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule), D = n(109), G = n(132), V = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), U = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, H = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, F = function(t) {
        function e() {
            return t.call(this, "仙盟申请") || this
        }
        return V(e, t),
        e.prototype.init = function() {
            o.cache.onChange("Red.getInfo", this.onRedChange, this),
            o.cache.onCache("Red.getInfo", this.onRedChange, this),
            this.onRedChange()
        }
        ,
        e.prototype.onRedChange = function() {
            var t = Object(o.getCache)("Red.getInfo", "guild");
            t && 1 == t.manage ? this.updateVisible(!0) : this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule), z = function(t) {
        function e() {
            var e = t.call(this, "仙盟排行") || this;
            return e.show = !0,
            e
        }
        return V(e, t),
        e.prototype.init = function() {
            o.cache.onChange("User.getInfo", this.onRedChange, this),
            Object(o.on)("guild_rank_open", this.open, this),
            this.onRedChange()
        }
        ,
        e.prototype.onRedChange = function() {
            Object(f.a)("guildId") > 0 && -1 == Object(f.a)("rankWorship").indexOf("family") && this.show ? this.updateVisible(!0) : this.updateVisible(!1)
        }
        ,
        e.prototype.open = function() {
            this.show = !1,
            this.onRedChange()
        }
        ,
        e
    }(o.RedBaseRule), q = function(t) {
        function e() {
            var e = t.call(this, "仙盟建设宝箱") || this;
            return e.show = !0,
            e
        }
        return V(e, t),
        e.prototype.init = function() {
            o.cache.onChange("User.getInfo", this.onRedChange, this),
            o.cache.onChange("Red.getInfo", this.onRedChange, this),
            o.cache.onCache("Red.getInfo", this.onRedChange, this),
            Object(o.on)("guild_build_open", this.open, this),
            this.onRedChange()
        }
        ,
        e.prototype.onRedChange = function() {
            var t = Object(o.getCache)("Red.getInfo", "guild");
            Object(f.a)("guildId") > 0 && t && 1 == t.box && this.show ? this.updateVisible(!0) : this.updateVisible(!1)
        }
        ,
        e.prototype.open = function() {
            var t = Object(o.getCache)("Red.getInfo", "guild");
            Object(f.a)("guildId") > 0 && t && 1 == t.box && (this.show = !1),
            this.onRedChange()
        }
        ,
        e
    }(o.RedBaseRule), W = function(t) {
        function e() {
            var e = t.call(this, "仙盟事务") || this;
            return e.__visible = !1,
            e.show = !0,
            e
        }
        return V(e, t),
        e.prototype.init = function() {
            o.cache.onChange("User.getInfo", this.onRedChange, this),
            o.cache.onChange("Red.getInfo", this.onRedChange, this),
            o.cache.onChange("guild_member.home", this.onRedChange, this),
            o.cache.onCache("Red.getInfo", this.onRedChange, this),
            Object(o.on)("guild_task_open", this.open, this),
            this.onRedChange()
        }
        ,
        e.prototype.onRedChange = function() {
            this._timeId && (this._timeId.dispose(),
            this._timeId = null);
            var t = !1;
            if (Object(f.a)("guildId") > 0 && this.show) {
                var e = Object(o.getCache)("guild_member.home", "task");
                if (e) {
                    var n = e.time;
                    0 == n || (u.a.isOver(n) ? t = !0 : this._timeId = Object(o.setTimeout)(this.onRedChange, this, 1e3 * (n - u.a.getNow())))
                } else {
                    var i = Object(o.getCache)("Red.getInfo", "guild");
                    i && 1 == i.task && (t = !0)
                }
            }
            this.__visible = t,
            this.updateVisible(t)
        }
        ,
        e.prototype.open = function() {
            this.__visible && (this.show = !1),
            this.onRedChange()
        }
        ,
        e
    }(o.RedBaseRule), X = function(t) {
        function e() {
            var e = t.call(this, "仙盟宴会") || this;
            return e.__visible = !1,
            e.show = !0,
            e
        }
        return V(e, t),
        e.prototype.init = function() {
            o.cache.onChange("User.getInfo", this.onRedChange, this),
            o.cache.onChange("Red.getInfo", this.onRedChange, this),
            o.cache.onCache("Red.getInfo", this.onRedChange, this),
            Object(o.on)("guild_feast_open", this.open, this),
            this.onRedChange()
        }
        ,
        e.prototype.onRedChange = function() {
            var t = Object(o.getCache)("Red.getInfo", "guild");
            Object(f.a)("guildId") > 0 && t && 1 == t.feast && this.show ? this.__visible = !0 : this.__visible = !1,
            this.updateVisible(this.__visible)
        }
        ,
        e.prototype.open = function() {
            this.__visible && (this.show = !1),
            this.onRedChange()
        }
        ,
        e
    }(o.RedBaseRule), Y = function(t) {
        function e() {
            var e = t.call(this, "仙盟除魔") || this;
            return e.__visible = !1,
            e.show = !0,
            e
        }
        return V(e, t),
        e.prototype.init = function() {
            o.cache.onChange("User.getInfo", this.onRedChange, this),
            o.cache.onChange("Red.getInfo", this.onRedChange, this),
            o.cache.onCache("Red.getInfo", this.onRedChange, this),
            Object(o.on)("guild_boss_open", this.open, this),
            this.onRedChange()
        }
        ,
        e.prototype.onRedChange = function() {
            var t = Object(o.getCache)("Red.getInfo", "guild");
            Object(f.a)("guildId") > 0 && t && 1 == t.boss && this.show ? this.__visible = !0 : this.__visible = !1,
            this.updateVisible(this.__visible)
        }
        ,
        e.prototype.open = function() {
            this.__visible && (this.show = !1),
            this.onRedChange()
        }
        ,
        e
    }(o.RedBaseRule), J = function(t) {
        function e() {
            return t.call(this, "仙盟充值") || this
        }
        return V(e, t),
        e.prototype.init = function() {
            var t = this;
            Object(o.on)("refresh_funOpen", this.onRedChange, this),
            Object(o.on)("guild_recharge_red", (function() {
                t.onRedChange("guildRecharge")
            }
            ), this),
            this.onRedChange("guildRecharge")
        }
        ,
        e.prototype.onRedChange = function(t) {
            return U(this, void 0, void 0, (function() {
                var e, n, i, r, a;
                return H(this, (function(s) {
                    switch (s.label) {
                    case 0:
                        return "guildRecharge" != t ? [2] : 0 == Object(f.a)("guildId") ? (this.updateVisible(!1),
                        [2]) : null != Object(G.a)("festivalActivity_json") ? [3, 2] : [4, Object(D.a)("festivalActivity_json")];
                    case 1:
                        s.sent(),
                        s.label = 2;
                    case 2:
                        if (!(e = Object(g.d)("guildRecharge")))
                            return this.updateVisible(!1),
                            [2];
                        if (!(n = egret.localStorage.getItem("guild_recharge_red")) || null == n)
                            return this.updateVisible(!0),
                            egret.localStorage.setItem("guild_recharge_red", JSON.stringify({
                                state: 0,
                                time: e.end
                            })),
                            [2];
                        if (0 == JSON.parse(n).state || e.end > JSON.parse(n).time)
                            return this.updateVisible(!0),
                            egret.localStorage.setItem("guild_recharge_red", JSON.stringify({
                                state: 0,
                                time: e.end
                            })),
                            [2];
                        for (e.cId,
                        i = Object(o.getConfig)("festivalActivity_json").guildRecharge.list[0].detail,
                        r = 0; r < i.length; r++)
                            for (a = 0; a < e.l.length; a++)
                                if (e.l[a].id == i[r].id) {
                                    if (0 == e.l[a].awded && e.num >= i[r].num)
                                        return this.updateVisible(!0),
                                        [2];
                                    break
                                }
                        return this.updateVisible(!1),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule), $ = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), K = function(t) {
        function e() {
            return t.call(this, "慕仙境") || this
        }
        return $(e, t),
        e.prototype.init = function() {
            o.cache.onChange("Red.getInfo", this.onRedChange, this),
            o.cache.onCache("Red.getInfo", this.onRedChange, this),
            this.onRedChange()
        }
        ,
        e.prototype.onRedChange = function() {
            var t = Object(o.getCache)("Red.getInfo");
            this.updateVisible(t && 1 == t.watch)
        }
        ,
        e
    }(o.RedBaseRule), Q = n(228), Z = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }();
    var tt, et = function(t) {
        function e() {
            return t.call(this, "四方神木") || this
        }
        return Z(e, t),
        e.prototype.init = function() {
            this.updateView(),
            Object(o.onChange)("Wood.getInfo", this.updateWood, this)
        }
        ,
        e.prototype.updateWood = function() {
            if (1 == Object(f.a)("fly")) {
                var t = Object(o.getCache)("Wood.getInfo");
                if (t.canNum >= Object(Q.b)())
                    this.updateVisible(!0);
                else {
                    var e = t.fruits;
                    if (t.tiaohe > 0)
                        if (e.filter((function(t) {
                            return t.status > 0
                        }
                        )).length > 0)
                            return void this.updateVisible(!0);
                    for (var n = 0; n < e.length; n++)
                        if (0 == e[n].status && e[n].huoli >= (Object(f.a)("tqInfo.tq2") > 0 ? 3 : 2))
                            return void this.updateVisible(!0);
                    var i = t.woods;
                    for (n = 0; n < i.length; n++)
                        if (0 == i[n].wNum)
                            return void this.updateVisible(!0);
                    this.updateVisible(!1)
                }
            } else
                this.updateVisible(!1)
        }
        ,
        e.prototype.updateView = function() {
            if (1 == Object(f.a)("fly")) {
                var t = Object(o.getCache)("Red.getInfo");
                this.updateVisible(t.wood > 0)
            } else
                this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule), nt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), it = function(t) {
        function e() {
            return t.call(this, "仙仆论道") || this
        }
        return nt(e, t),
        e.prototype.init = function() {
            this.updateView(),
            Object(o.onChange)("Spvp.getInfo", this.change, this),
            Object(o.onCache)("Spvp.getInfo", this.change, this)
        }
        ,
        e.prototype.change = function() {
            if (1 == Object(f.a)("fly")) {
                var t = Object(o.getCache)("Spvp.getInfo");
                this.updateVisible(t.sId),
                t.fNum > 0 && t.fCd && t.fCd > u.a.getNow() && egret.setTimeout(this.updateVisible, this, 1e3 * (u.a.getNow() - t.fCd), !0)
            } else
                this.updateVisible(!1)
        }
        ,
        e.prototype.updateView = function() {
            if (1 == Object(f.a)("fly")) {
                var t = Object(o.getCache)("Red.getInfo");
                this.updateVisible(t.spvp)
            } else
                this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule), ot = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), rt = function(t) {
        function e() {
            return t.call(this, "指定传功") || this
        }
        return ot(e, t),
        e.prototype.init = function() {
            this.onInitChange()
        }
        ,
        e.prototype.showChuangong = function() {
            this.updateVisible(!1);
            var t = u.a.nowDay();
            Object(o.getLocalStorage)().setString("chuangong_first_show", String(t + "_1"))
        }
        ,
        e.prototype.onInitChange = function() {
            var t = Object(o.getLocalStorage)().getString("chuangong_first_show", "0_0").split("_");
            u.a.nowDay() != t[0] || "0" == t[1] ? (Object(o.on)("chuangong_first_show", this.showChuangong, this),
            this.updateVisible(!0)) : this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule), at = n(291), st = n(107), ct = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), ut = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, ht = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, lt = function(t) {
        function e() {
            return t.call(this, "太古遗迹") || this
        }
        return ct(e, t),
        e.prototype.init = function() {
            this.updateView(),
            Object(o.onChange)("Finance.getInfo", this.update, this)
        }
        ,
        e.prototype.update = function() {
            return ut(this, void 0, void 0, (function() {
                var t, e, n, i, r, a, s;
                return ht(this, (function(c) {
                    switch (c.label) {
                    case 0:
                        return 1 != Object(f.a)("fly") ? (this.updateVisible(!1),
                        [2]) : (t = !1,
                        e = Object(o.getCache)("Finance.getInfo"),
                        [4, Object(st.a)("fw.c", "Finance.selfList")]);
                    case 1:
                        if (c.sent(),
                        n = Object(o.getCache)("Finance.selfList", "l").length,
                        i = 1 + e.seatBuy + (Object(f.a)("tqInfo").tq2 ? 1 : 0),
                        n < i) {
                            if (r = Object(o.getCache)("Hero.getList", "l") || [],
                            a = e.heroIds || [],
                            e.heroNums)
                                for (s = 0; s < r.length; s++)
                                    if (!r[s].lock && -1 == a.indexOf(r[s].cId) && e.heroNums[r[s].cId] && e.heroNums[r[s].cId].num > 0) {
                                        t = !0;
                                        break
                                    }
                            this.updateVisible(t)
                        } else
                            this.updateVisible(!1);
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.updateView = function() {
            if (1 == Object(f.a)("fly")) {
                var t = Object(o.getCache)("Red.getInfo");
                this.updateVisible(Boolean(t.yiji))
            } else
                this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule), pt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), ft = function(t) {
        function e() {
            return t.call(this, "机缘") || this
        }
        return pt(e, t),
        e.prototype.init = function() {
            var t = Object(o.getCache)("Red.getInfo");
            1 == t.fate ? this.updateVisible(!0) : (this.updateVisible(!1),
            eui.Watcher.watch(t, ["fate"], this.onFateChange, this)),
            o.cache.onChange("LuckChange.getList", this.check, this),
            o.cache.onCache("LuckChange.getList", this.check, this)
        }
        ,
        e.prototype.onFateChange = function() {
            this.updateVisible(1 == Object(o.getCache)("Red.getInfo").fate)
        }
        ,
        e.prototype.check = function() {
            var t = Object(o.getCache)("LuckChange.getList").list;
            t && (t = t.filter((function(t) {
                return "share_event" != t.type || !!v.b.isOpen("advert")
            }
            ))),
            t && t.length > 0 ? this.updateVisible(!0) : this.updateVisible(!1)
        }
        ,
        e.prototype.updateVisible = function(e) {
            t.prototype.updateVisible.call(this, e),
            Object(o.put)("JiYuan_Btn", e)
        }
        ,
        e
    }(o.RedBaseRule), dt = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, bt = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    };
    !function(t) {
        t[t.land = 1] = "land",
        t[t.fairy = 2] = "fairy",
        t[t.jiyuan = 3] = "jiyuan"
    }(tt || (tt = {}));
    var gt = function() {
        function t(t, e) {
            this.type = t,
            this._p = e,
            this.watchChange()
        }
        return t.prototype.watchChange = function() {
            var t;
            switch (this.type) {
            case tt.land:
                t = ["mainTaskNum"];
                break;
            case tt.fairy:
                t = ["taskNum"]
            }
            eui.Watcher.watch(this._p, t, (function() {
                Object(o.put)("updateMission")
            }
            ), this)
        }
        ,
        Object.defineProperty(t.prototype, "p", {
            get: function() {
                switch (this.type) {
                case tt.land:
                    return {
                        id: this._p.mainTaskId,
                        num: this._p.mainTaskNum
                    };
                case tt.fairy:
                    return {
                        id: this._p.id,
                        taskId: this._p.taskId,
                        num: this._p.taskNum
                    }
                }
                return this._p
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "c", {
            get: function() {
                if (!this._c)
                    switch (this.type) {
                    case tt.land:
                        this._c = Object(o.getConfig)(_t())[this.p.id];
                        break;
                    case tt.fairy:
                        for (var t = Object(o.getConfig)("flyTask_json")[this.p.id], e = 0; e < t.detail.length; e++)
                            if (t.detail[e].id == this.p.taskId) {
                                this._c = t.detail[e];
                                break
                            }
                    }
                return this._c
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "super_c", {
            get: function() {
                return this.type == tt.fairy ? Object(o.getConfig)("flyTask_json")[this.p.id] : null
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "need", {
            get: function() {
                switch (this.type) {
                case tt.land:
                    return this.c.value;
                case tt.fairy:
                    return this.c.value1
                }
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "rewards", {
            get: function() {
                switch (this.type) {
                case tt.land:
                    return [{
                        propId: this.c.itemId,
                        num: this.c.num
                    }];
                case tt.fairy:
                    return this.c.reward
                }
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.receive = function() {
            switch (this.type) {
            case tt.land:
                return yt.ins.clearMissionList(this.type),
                Object(st.d)("u.g", {
                    cId: this.p.id
                });
            case tt.fairy:
                return yt.ins.clearMissionList(this.type),
                Object(st.d)("u.y", {
                    id: this.p.id,
                    cId: this.p.taskId
                })
            }
        }
        ,
        t
    }();
    function _t() {
        return 2 == Object(f.a)("taskV") ? "MainTaskNew_json" : "mainTask_json"
    }
    var mt, yt = function() {
        function t() {
            this._missionsDic = {}
        }
        return Object.defineProperty(t, "ins", {
            get: function() {
                return Object(o.singleton)(t)
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.checkRes = function() {
            return dt(this, void 0, void 0, (function() {
                return bt(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Promise.all([Object(st.a)("n.a", "LuckChange.getList", (function(t) {
                            return u.a.getNow(!0) >= t.time
                        }
                        )), Object(D.a)("eventResult_json"), Object(D.a)("duBoEvent_json"), Object(D.a)("unionEvent_json"), Object(D.a)("mainTask_json"), Object(D.a)("daoLvEve_json"), Object(D.a)("event_json"), Object(D.a)("MainTaskNew_json")])];
                    case 1:
                        return [2, t.sent()]
                    }
                }
                ))
            }
            ))
        }
        ,
        t.prototype.addUpdateCall = function(t, e) {
            switch (t) {
            case tt.land:
            case tt.fairy:
                return null;
            case tt.jiyuan:
                return Object(o.setTimeout)(this.updateJiyuanMission, this, this.getUpdateDelay(t), null, e)
            }
        }
        ,
        t.prototype.clearMissionList = function(t) {
            this._missionsDic[t] = null
        }
        ,
        t.prototype.updateJiyuanMission = function(t) {
            this._missionsDic[tt.jiyuan] = null,
            Object(st.c)("n.a", "LuckChange.getList").then((function(e) {
                e && t()
            }
            ))
        }
        ,
        t.prototype.getMissions = function(t) {
            if (!this._missionsDic[t]) {
                this._missionsDic[t] = [];
                var e = void 0
                  , n = void 0;
                switch (t) {
                case tt.land:
                    e = [Object(f.a)()];
                    break;
                case tt.fairy:
                    e = Object(f.a)("flyTask");
                    break;
                case tt.jiyuan:
                    e = Object(o.getCache)("LuckChange.getList", "list")
                }
                if (e)
                    for (var i = 0; i < e.length; i++)
                        (n = new gt(t,e[i])).c && this._missionsDic[t].push(n)
            }
            return this._missionsDic[t]
        }
        ,
        t.prototype.getUpdateDelay = function(t) {
            switch (t) {
            case tt.land:
            case tt.fairy:
                break;
            case tt.jiyuan:
                return 1e3 * (Object(o.getCache)("LuckChange.getList").time - u.a.getNow())
            }
            return 0
        }
        ,
        t
    }(), vt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), Ot = function(t) {
        function e() {
            return t.call(this, "凡间任务") || this
        }
        return vt(e, t),
        e.prototype.init = function() {
            var t = Object(f.a)();
            this.updateNum(),
            eui.Watcher.watch(t, ["mainTaskNum"], this.updateNum, this),
            eui.Watcher.watch(t, ["mainTaskId"], this.updateNum, this)
        }
        ,
        e.prototype.updateNum = function() {
            var t = this;
            Object(D.a)(_t()).then((function(e) {
                var n = Object(o.getConfig)(_t())[Object(f.a)("mainTaskId")];
                n && Object(M.x)((function() {
                    t.updateVisible(Object(f.a)("mainTaskNum") >= parseInt(n.value))
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule), jt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), wt = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, xt = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, kt = function(t) {
        function e() {
            return t.call(this, "演武挑战") || this
        }
        return jt(e, t),
        e.prototype.init = function() {
            this.updateView(),
            Object(o.onChange)("Arena.getInfo", this.update, this),
            Object(o.onCache)("Arena.getInfo", this.update, this)
        }
        ,
        e.prototype.update = function() {
            return wt(this, void 0, void 0, (function() {
                var t;
                return xt(this, (function(e) {
                    return Object(f.a)("lv") < 31 ? (this.updateVisible(!1),
                    [2]) : (t = Object(o.getCache)("Arena.getInfo"),
                    this.updateVisible(t.i.pkNum > 0),
                    [2])
                }
                ))
            }
            ))
        }
        ,
        e.prototype.updateView = function() {
            if (1 == Object(f.a)("fly")) {
                var t = Object(o.getCache)("Red.getInfo");
                this.updateVisible(Boolean(t.arena))
            } else
                this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule), It = n(334), Pt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), Ct = function(t) {
        function e() {
            return t.call(this, "天上任务") || this
        }
        return Pt(e, t),
        e.prototype.init = function() {
            this.onChange(1),
            Object(o.on)("refresh_sky_task", this.onRefresh, this),
            o.cache.onChange("Red.getInfo", this.onChange, this)
        }
        ,
        e.prototype.onChange = function(t) {
            var e = Object(o.getCache)("Red.getInfo");
            1 == t ? e ? this.updateVisible(1 == e.flyDailyTask) : this.updateVisible(!1) : e && 1 == e.flyDailyTask && this.updateVisible(!0)
        }
        ,
        e.prototype.onRefresh = function() {
            var t = It.a.ins.getTaskList();
            if (t)
                for (var e = 0; e < t.length; e++)
                    if (t[e].p.num >= t[e].c.value && 0 == t[e].p.awded)
                        return void this.updateVisible(!0);
            for (var n = Object(o.getConfig)("flyDailyTask_json"), i = Object(o.getCache)("flyDailyTask.getList"), r = function(t) {
                var e = i.l.filter((function(e) {
                    return e.id == n[t].id
                }
                ));
                if (e && e.length >= 0 && (e = e[0],
                i.exp >= n[t].value && 0 == e.awded))
                    return a.updateVisible(!0),
                    {
                        value: void 0
                    }
            }, a = this, s = 101; s <= 105; s++) {
                var c = r(s);
                if ("object" == typeof c)
                    return c.value
            }
            this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule), St = n(150), Rt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), Tt = function(t) {
        function e() {
            return t.call(this, "参加历练") || this
        }
        return Rt(e, t),
        e.prototype.init = function() {
            o.cache.onChange("Red.getInfo", this.onRedChange, this),
            o.cache.onChange("Sect.getInfo", this.onRedChange, this),
            o.cache.onCache("Sect.getInfo", this.onRedChange, this),
            o.cache.onCache("Red.getInfo", this.onRedChange, this),
            this.onRedChange()
        }
        ,
        e.prototype.onRedChange = function() {
            var t = this;
            Object(M.w)() || this.updateVisible(!1);
            var e = o.cache.get("Sect.getInfo");
            if (e)
                Object(M.x)((function() {
                    var n = Object(o.singleton)(St.a)
                      , i = e.exploreList
                      , r = (!i || i.length < 1) && n.info.exploreTalNum - n.info.exploreCount > 0;
                    t.updateVisible(r)
                }
                ));
            else {
                var n = Object(o.getCache)("Red.getInfo");
                n && 1 == n.flyTeach1 ? this.updateVisible(!0) : this.updateVisible(!1)
            }
        }
        ,
        e
    }(o.RedBaseRule), Lt = function(t) {
        function e() {
            return t.call(this, "历练完成") || this
        }
        return Rt(e, t),
        e.prototype.init = function() {
            o.cache.onChange("Red.getInfo", this.onRedChange, this),
            o.cache.onChange("Sect.getInfo", this.onRedChange, this),
            o.cache.onCache("Sect.getInfo", this.onRedChange, this),
            o.cache.onCache("Red.getInfo", this.onRedChange, this),
            this.onRedChange(),
            Object(o.setInterval)(this.onRedChange, this, 5e3)
        }
        ,
        e.prototype.onRedChange = function() {
            Object(M.w)() || this.updateVisible(!1);
            var t = o.cache.get("Sect.getInfo");
            if (t) {
                if (0 == t.point)
                    return void this.updateVisible(!1);
                var e = t.exploreList;
                if (e && e.length > 0) {
                    var n = u.a.getNow(!0)
                      , i = !1;
                    e.forEach((function(t) {
                        t.time < n && (i = !0)
                    }
                    )),
                    this.updateVisible(i)
                } else
                    this.updateVisible(!1)
            } else {
                var r = Object(o.getCache)("Red.getInfo");
                r && 1 == r.explore ? this.updateVisible(!0) : this.updateVisible(!1)
            }
        }
        ,
        e
    }(o.RedBaseRule), At = n(283), Mt = n(294), Nt = n(270), Bt = n(114), Et = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), Dt = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, Gt = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, Vt = function(t) {
        function e(e) {
            return t.call(this, e) || this
        }
        return Et(e, t),
        e.prototype.init = function() {
            o.cache.onChange("Sect.getInfo", this.onRedChange, this),
            o.cache.onCache("Sect.getInfo", this.onRedChange, this),
            this.onRedChange()
        }
        ,
        e.prototype.onRedChange = function() {
            return Dt(this, void 0, void 0, (function() {
                var t, e, n, i, r = this;
                return Gt(this, (function(a) {
                    switch (a.label) {
                    case 0:
                        return Object(M.w)() ? (t = o.cache.get("Sect.getInfo")) ? 0 == t.point ? (this.updateVisible(!1),
                        [2]) : [4, Object(D.a)("pupil_json")] : [3, 4] : (this.updateVisible(!1),
                        [2]);
                    case 1:
                        return a.sent(),
                        [4, Object(D.a)("sectShengYu_json")];
                    case 2:
                        return a.sent(),
                        [4, Object(D.a)("pupilLevel_json")];
                    case 3:
                        switch (a.sent(),
                        e = void 0,
                        n = void 0,
                        this.name) {
                        case "招募弟子":
                            e = Object(o.singleton)(St.a),
                            i = (e.info.diziNum > 0 || e.info.todoDizi > 0) && e.diziArr.length < Object(St.b)().pupilLimit,
                            this.updateVisible(i);
                            break;
                        case "弟子俸禄":
                            Object(M.x)((function() {
                                var t = Object(At.g)();
                                r.updateVisible(t && t.length > 0)
                            }
                            ));
                            break;
                        case "弟子护法":
                            Object(M.x)((function() {
                                var t = Object(At.e)();
                                r.updateVisible(t && t.length > 0)
                            }
                            ));
                            break;
                        case "弟子答疑":
                            Object(M.x)((function() {
                                var t = Object(Mt.a)();
                                r.updateVisible(t && t.length > 0)
                            }
                            ));
                            break;
                        case "弟子训话":
                            Object(M.x)((function() {
                                r.updateVisible(Object(Nt.d)())
                            }
                            ));
                            break;
                        case "弟子传功":
                            Object(M.x)((function() {
                                r.updateVisible(Object(At.f)().length > 0)
                            }
                            ));
                            break;
                        case "门派思道":
                            e = Object(o.singleton)(St.a).info,
                            n = {
                                propId: 1029,
                                st: "wudaoSt"
                            },
                            1 == e.wudao && 1 != e[n.st] && Bt.e.hasEnough(n.propId, 1, !1) ? this.updateVisible(!0) : this.updateVisible(!1);
                            break;
                        case "门派修体":
                            e = Object(o.singleton)(St.a).info,
                            n = {
                                propId: 1029,
                                st: "ningtiSt"
                            },
                            1 == e.wudao && 1 != e[n.st] && Bt.e.hasEnough(n.propId, 1, !1) ? this.updateVisible(!0) : this.updateVisible(!1);
                            break;
                        default:
                            this.updateVisible(!1)
                        }
                        a.label = 4;
                    case 4:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.onInitChange = function() {}
        ,
        e
    }(o.RedBaseRule), Ut = function(t) {
        function e(e) {
            return t.call(this, e) || this
        }
        return Et(e, t),
        e.prototype.init = function() {
            this.onInitChange()
        }
        ,
        e.prototype.showClick = function() {
            this.updateVisible(!1);
            var t = u.a.nowDay();
            Object(o.getLocalStorage)().setString(this.name, String(t + "_1"))
        }
        ,
        e.prototype.onInitChange = function() {
            var t = Object(o.getLocalStorage)().getString(this.name, "0_0").split("_");
            u.a.nowDay() != t[0] || "0" == t[1] ? (Object(o.on)(this.name, this.showClick, this),
            this.updateVisible(!0)) : this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule), Ht = n(237), Ft = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), zt = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, qt = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, Wt = function(t) {
        function e() {
            return t.call(this, "名胜奖励") || this
        }
        return Ft(e, t),
        e.prototype.init = function() {
            o.cache.onChange("Heaven.getBuildingInfo", this.onRedChange, this),
            o.cache.onCache("Heaven.getBuildingInfo", this.onRedChange, this),
            this.onInitChange()
        }
        ,
        e.prototype.onRedChange = function() {
            return zt(this, void 0, void 0, (function() {
                var t, e, n;
                return qt(this, (function(i) {
                    switch (i.label) {
                    case 0:
                        return [4, Object(D.a)("building_json")];
                    case 1:
                        if (i.sent(),
                        (t = Ht.b.getList()).length > 0) {
                            for (e = !1,
                            n = 0; n < t.length; n++)
                                if (t[n].getAwardState() == Ht.c.Complete) {
                                    e = !0;
                                    break
                                }
                            this.updateVisible(e)
                        } else
                            this.updateVisible(!1);
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.onInitChange = function() {
            var t = Object(o.getCache)("Red.getInfo");
            this.updateVisible(Boolean(t.heavenBuild))
        }
        ,
        e
    }(o.RedBaseRule), Xt = n(221), Yt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), Jt = function(t) {
        function e() {
            return t.call(this, "宴会参加") || this
        }
        return Yt(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_funOpen", this.onRedChange, this),
            this.onRedChange("feast"),
            o.cache.onChange("Feast.getList", this.onRedChange.bind(this, "feast"))
        }
        ,
        e.prototype.onRedChange = function(t) {
            if (Object(f.a)("lv") < 31)
                this.updateVisible(!1);
            else if ("feast" == t) {
                var e = o.cache.get("Feast.getInfo", "i");
                if (e) {
                    var n = e && e.endTime && !u.a.isOver(e.endTime)
                      , i = Object(f.a)("uId") == e.uId || 0 != Number(e.guildId) && Object(f.a)("guildId") == e.guildId
                      , r = u.a.isOver(e.joinTime)
                      , a = n && (i || r)
                      , s = o.cache.get("Feast.getList", "l");
                    if (a)
                        if (s && s.length > 0) {
                            var c = s.filter((function(t) {
                                return t.uId == Object(f.a)("uId")
                            }
                            ));
                            e.uId == Object(f.a)("uId") || c && c.length > 0 ? this.updateVisible(!1) : this.updateVisible(!0)
                        } else
                            this.updateVisible(a),
                            s || Xt.b.feastList();
                    else
                        this.updateVisible(a)
                } else
                    this.updateVisible(!1)
            }
        }
        ,
        e
    }(o.RedBaseRule), $t = function(t) {
        function e() {
            return t.call(this, "宴会开启") || this
        }
        return Yt(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_funOpen", this.onRedChange, this),
            this.onRedChange("feast"),
            o.cache.onChange("Feast.getList", this.onRedChange.bind(this, "feast")),
            o.cache.onCache("Feast.getList", this.onRedChange.bind(this, "feast"))
        }
        ,
        e.prototype.onRedChange = function(t) {
            if ("feast" == t) {
                var e = o.cache.get("Feast.getInfo", "i");
                if (e) {
                    var n = e && e.endTime && !u.a.isOver(e.endTime);
                    this.updateVisible(n)
                } else
                    this.updateVisible(!1)
            }
        }
        ,
        e
    }(o.RedBaseRule), Kt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), Qt = function(t) {
        function e() {
            return t.call(this, "失败礼包") || this
        }
        return Kt(e, t),
        e.prototype.init = function() {
            this.updateVisible(!1),
            Object(o.on)("failureGiftUpdateRed", this.updateState, this)
        }
        ,
        e.prototype.updateState = function(t) {
            this.updateVisible(t)
        }
        ,
        e
    }(o.RedBaseRule), Zt = n(146), te = n(106), ee = n(295), ne = n(378), ie = n(338), oe = n(222), re = n(108), ae = n(129), se = n(118), ce = n(157), ue = function(t, e) {
        this.p = t,
        this.c = e
    }, he = function(t, e, n) {
        if (this.c = t,
        this.p = e,
        this.num = n,
        1 == e.awded)
            this.status = 1;
        else {
            var i = Object(ce.a)(t, "num");
            this.status = n >= i ? 0 : 2
        }
    }, le = n(110), pe = n(134), fe = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), de = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, be = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, ge = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "RechargeRewardSkin"),
            e
        }
        return fe(e, t),
        e.prototype.onReady = function() {
            this.addBehavior(new se.a),
            this.tap("btn_recharge", this.onRecharge, this),
            this.rechargeConf = Object(o.getConfig)("activity_json").totalRecharge,
            this.list.itemRenderer = _e,
            this.refreshView(),
            o.cache.onChange("Activity.getList", this.refreshView, this, this.disposeArr)
        }
        ,
        e.prototype.refreshView = function() {
            var t = Object(g.d)("totalRecharge")
              , e = this.rechargeConf.list.map((function(e) {
                for (var n = 0; n < t.l.length; n++)
                    if (t.l[n].id == e.uniqId)
                        return new he(e,t.l[n],t.num)
            }
            ));
            e = e.filter((function(t) {
                return 0 == Object(ce.a)(t.c, "prama1") || Object(ce.a)(t, "num", !1) >= Object(ce.a)(t.c, "prama1", !1)
            }
            ));
            for (var n = [], i = [], o = [], r = 0; r < e.length; r++)
                0 == e[r].status ? n.push(e[r]) : 2 == e[r].status ? i.push(e[r]) : o.push(e[r]);
            e = n.concat(i, o),
            Object(re.a)(this.list, e)
        }
        ,
        e.prototype.onRecharge = function() {
            Zt.b.show(Zt.c.recharge)
        }
        ,
        e.show = function() {
            return de(this, void 0, void 0, (function() {
                return be(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Object(le.b)([Object(D.a)("activity_json")])];
                    case 1:
                        return t.sent(),
                        Object(te.a)(new e),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent), _e = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return fe(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.__data = t,
            Object(re.a)(this.list_reward, t.c.awards),
            this.lbl_title.text = Object(o.tr)(t.c.desc, {
                num: Object(ce.a)(t.c, "num", !1)
            }) + "(" + Object(ce.a)(t, "num", !1) + "/" + Object(ce.a)(t.c, "num", !1) + ")",
            1 == t.status ? this.setState("state3") : 0 == t.status ? this.setState("state1") : this.setState("state2"))
        }
        ,
        e.prototype.onEnter = function() {
            this.tap("btn_receive", this.receive, this)
        }
        ,
        e.prototype.receive = function() {
            var t = this
              , e = Object(o.getConfig)("activity_json").totalRecharge.list.filter((function(e) {
                return e.uniqId == t.__data.c.uniqId
            }
            ))[0].awards;
            if (!Object(Bt.m)(e)) {
                switch (this.__data.c.id) {
                case 1:
                    Object(pe.a)("claim_lingyulou 6 rewards");
                    break;
                case 2:
                    Object(pe.a)("claim_lingyulou 100 rewards");
                    break;
                case 3:
                    Object(pe.a)("claim_lingyulou 500 rewards");
                    break;
                case 4:
                    Object(pe.a)("claim_lingyulou 1000 rewards");
                    break;
                case 5:
                    Object(pe.a)("claim_lingyulou 3000 rewards");
                    break;
                case 6:
                    Object(pe.a)("claim_lingyulou 8000 rewards");
                    break;
                case 7:
                    Object(pe.a)("claim_lingyulou 15000 rewards")
                }
                Object(o.getSocket)().request({
                    route: "at.c",
                    p: {
                        id: this.__data.c.uniqId,
                        activityName: this.__data.c.activityName
                    }
                }).then((function(t) {
                    ae.b.show(t.awds)
                }
                ))
            }
        }
        ,
        e
    }(o.Item), me = n(116), ye = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), ve = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "AchievementSkin"),
            e
        }
        return ye(e, t),
        e.prototype.onReady = function() {
            var t = this;
            this.addBehavior(new se.a),
            Object(D.a)("achievement_json").then((function() {
                t.achiConf = Object(o.getConfig)("achievement_json"),
                t.list.itemRenderer = Oe,
                t.refreshView(),
                o.cache.onChange("Achieve.getList", t.refreshView, t, t.disposeArr)
            }
            ))
        }
        ,
        e.prototype.refreshView = function() {
            for (var t = [], e = o.cache.get("Achieve.getList").l, n = 0; n < e.length; n++)
                t.push(new ue(e[n],this.achiConf[e[n].cId]));
            for (var i = [], r = [], a = 0; a < t.length; a++)
                0 == t[a].p.awded ? i.push(t[a]) : r.push(t[a]);
            t = i.concat(r),
            this.lbl_tip.visible = !(t.length > 0),
            Object(re.a)(this.list, t)
        }
        ,
        e.show = function() {
            Object(o.getSocket)().request({
                route: "ac.b"
            }).then((function(t) {
                o.cache.set("Achieve.getList", t),
                Object(te.a)(new e)
            }
            ))
        }
        ,
        e
    }(o.UIComponent), Oe = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return ye(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.__data = t,
            this.lbl_title.text = Object(o.tr)(t.c.name),
            this.lbl_content.textFlow = (new egret.HtmlTextParser).parser(Object(o.tr)("main@achievementLog", {
                year: t.p.year
            }) + Object(o.tr)(t.c.desc)),
            0 == t.p.awded ? (this.reward.uiData = {
                propId: t.c.propId,
                num: t.c.num
            },
            this.received.visible = !1,
            this.gp_reward.visible = !0) : (this.received.visible = !0,
            this.gp_reward.visible = !1))
        }
        ,
        e.prototype.onReady = function() {
            this.tap("btn_receive", this.onTap, this)
        }
        ,
        e.prototype.onTap = function() {
            Object(o.getSocket)().request({
                route: "ac.a",
                p: {
                    cId: this.__data.c.id
                }
            }).then((function(t) {
                me.a.show(t.awds),
                Object(o.put)("refresh_achievement_red")
            }
            )).catch(o.errorHandler)
        }
        ,
        e
    }(o.Item), je = n(123), we = n(10), xe = n(133), ke = n(128), Ie = n(156), Pe = n(117), Ce = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), Se = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return Ce(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.des1.visible = this.des1.includeInLayout = 0 == t.lv,
            this.lvNode.visible = !1,
            this.des2.visible = !1,
            this.nameLabel.text = Object(o.tr)(t.c.name),
            this.lvLabel.text = Object(o.tr)("main@lv", {
                num: t.lv
            }),
            0 == t.lv && (this.des1.text = t.des1),
            this.des0.text = t.des,
            t.refreshIcon(this))
        }
        ,
        e
    }(o.Item), Re = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.shopId = 1,
            e.costId = 1001,
            e.costNum = 10,
            e._page = 1,
            e._hl = [],
            Object(o.setSkin)(e, "PanelXiandingxianpuSkin"),
            e
        }
        return Ce(e, t),
        e.prototype.onReady = function(t, e) {
            var n = Object(o.getConfig)("hero_json");
            for (var i in n)
                n[i].team == t && this._hl.push(A.a.create(i));
            this._hl.sort((function(t, e) {
                return t.c.id - e.c.id
            }
            )),
            this._page = e,
            this.tap("btn_prev", this.onLeft, this),
            this.tap("btn_next", this.onRight, this),
            this.tap("duihuan", this.onExchange, this),
            this.refreshView()
        }
        ,
        e.prototype.onLeft = function() {
            this._page -= 1,
            this._page < 1 && (this._page = this._hl.length),
            this.refreshView()
        }
        ,
        e.prototype.onRight = function() {
            this._page += 1,
            this._page > this._hl.length && (this._page = 1),
            this.refreshView()
        }
        ,
        e.prototype.refreshView = function() {
            for (var t = Object(o.getCache)("Hero.getList").l || [], e = this._hl[this._page - 1].c.id, n = !1, i = 0; i < t.length; i++)
                if (t[i].cId == e) {
                    n = !0;
                    break
                }
            this.costId = 0,
            this.costNum = 0;
            var r = Object(o.getConfig)("heroShop_json");
            for (var a in r)
                r[a].heroId == e && (this.costId = r[a].costItemId,
                this.costNum = r[a].costNum,
                this.shopId = ~~a);
            if (0 != this.costId) {
                n ? (this.img_1.visible = !0,
                this.duihuan.enabled = !1) : (this.img_1.visible = !1,
                this.duihuan.enabled = !0);
                var s = xe.b.getNum(this.costId);
                this.Num.text = s + "/10",
                Object(Ie.a)(this.Num, s >= 10),
                this.img_random.source = Object(Pe.b)(this.costId);
                var c = this._hl[this._page - 1].getSkills();
                this.List_1.itemRenderer = Se,
                Object(re.a)(this.List_1, c),
                Object(ke.e)(this, this._hl[this._page - 1], "NewHalf")
            }
        }
        ,
        e.prototype.onExchange = function() {
            var t = this
              , e = Object(o.tr)(this._hl[this._page - 1].c.name);
            Object(o.confirm)(Object(o.tr)("main@exchangeAsk1", {
                name: xe.b.getName(this.costId),
                n: this.costNum,
                name1: e
            })).then((function(n) {
                "yes" == n && xe.b.hasEnough(t.costId, t.costNum) && Object(st.d)("s.b", {
                    id: t.shopId,
                    num: 1,
                    shopType: "hero"
                }).then((function(n) {
                    n && (me.a.show(n.awds),
                    Object(o.tooltip)(Object(o.tr)("main@heroAwd", {
                        name: e
                    })),
                    t.refreshView())
                }
                ))
            }
            ))
        }
        ,
        e.show = function(t, n) {
            Object(te.a)(new e, t, n)
        }
        ,
        e
    }(o.UIComponent), Te = n(125), Le = n(119), Ae = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }();
    !function(t) {
        t[t.tiangong = 1] = "tiangong",
        t[t.xiyou = 3] = "xiyou",
        t[t.difu = 4] = "difu",
        t[t.yaomo = 5] = "yaomo"
    }(mt || (mt = {}));
    var Me = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.curIndex = 0,
            e.teamArr = [1, 3, 4, 5],
            Object(o.setSkin)(e, "XiandingxianpuMainSkin"),
            e
        }
        return Ae(e, t),
        e.prototype.onReady = function(t) {
            this.team = t;
            for (var e = 0; e < this.teamArr.length; e++)
                this.teamArr[e] == t && (this.curIndex = e);
            this.setState("state" + (Number(this.curIndex) + 1));
            for (var n = 1; n <= 4; n++)
                this.tap(this["btn_" + n], this.onTapHero(n), this);
            this.tap("btn_help", this.onHelp, this),
            this.tap("btn_left", this.onLeft, this),
            this.tap("btn_right", this.onRight, this)
        }
        ,
        e.prototype.onLeft = function() {
            this.curIndex -= 1,
            this.curIndex < 0 && (this.curIndex = this.teamArr.length - 1),
            this.refreshTeam()
        }
        ,
        e.prototype.onRight = function() {
            this.curIndex += 1,
            this.curIndex >= this.teamArr.length && (this.curIndex = 0),
            this.refreshTeam()
        }
        ,
        e.prototype.refreshTeam = function() {
            this.setState("state" + (Number(this.curIndex) + 1)),
            this.team = this.teamArr[this.curIndex]
        }
        ,
        e.prototype.onHelp = function() {
            Le.a.show({
                title: Object(o.tr)("main@help"),
                content: Object(o.tr)("main@limitHeroHelpContent")
            })
        }
        ,
        e.prototype.onTapHero = function(t) {
            var e = this;
            return function() {
                Re.show(e.team, t)
            }
        }
        ,
        e.show = function() {
            var t = [Object(D.a)("heroShop_json"), Object(D.a)("hero_json"), RES.loadGroup("heroC")].concat(Object(Te.a)("hero_1&hero_2"));
            return Object(le.b)(t).then((function(t) {
                Object(te.a)(new e, 1)
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
      , Ne = n(145)
      , Be = n(173)
      , Ee = n(0)
      , De = n(135)
      , Ge = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Ve = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(Ne.b)("xianshi", e),
            Object(o.setSkin)(e, "ActivityEntranceSkin"),
            e
        }
        return Ge(e, t),
        e.prototype.onReady = function() {
            var t = this;
            this.addBehavior(new se.a),
            this.tap("btn_1", this.onRechargeTotal, this),
            this.tap("btn_2", this.onReTurn, this),
            this.tap("btn_3", this.onLotterySkin, this),
            this.tap("btn_4", this.onGrowPlan, this),
            this.tap("btn_5", this.onLimitHero, this),
            this.disposeArr.push(new je.a("累充奖励",(function(e) {
                e ? t.mv1 ? t.mv1.visible = e : t.mv1 = t.fateMovie(1) : t.mv1 && (t.mv1.visible = e)
            }
            ))),
            this.disposeArr.push(new je.a("幻衣阁",(function(e) {
                e ? t.mv3 ? t.mv3.visible = e : t.mv3 = t.fateMovie(3) : t.mv3 && (t.mv3.visible = e)
            }
            ))),
            this.disposeArr.push(new je.a("成长计划",(function(e) {
                e ? t.mv4 ? t.mv4.visible = e : t.mv4 = t.fateMovie(4) : t.mv4 && (t.mv4.visible = e)
            }
            ))),
            this.disposeArr.push(new je.a("充值转盘",(function(e) {
                e ? t.mv2 ? t.mv2.visible = e : t.mv2 = t.fateMovie(2) : t.mv2 && (t.mv2.visible = e)
            }
            ))),
            this.btn_4.enabled = !Object(Be.a)()
        }
        ,
        e.prototype.onExit = function() {
            this.mv1 && this.mv1.dispose(),
            this.mv2 && this.mv2.dispose(),
            this.mv3 && this.mv3.dispose(),
            this.mv4 && this.mv4.dispose()
        }
        ,
        e.prototype.onRechargeTotal = function() {
            v.b.isOpen("totalRecharge") ? ge.show() : Object(o.tooltip)(Object(o.tr)("main@noOpen"))
        }
        ,
        e.prototype.onGrowPlan = function() {
            v.b.isOpen("growPlan") ? Object(Te.b)({
                source: Object(Ee.J)(),
                locale: "plan",
                name: "growplan",
                getInfo: {
                    route: "gr.a",
                    cache: "Growth.getList"
                }
            }).then((function(t) {
                we.GrowPlanPanel.show()
            }
            )) : Object(o.tooltip)(Object(o.tr)("main@noOpen"))
        }
        ,
        e.prototype.onAchievement = function() {
            "bearjoy" == Object(o.getPlatform)().name ? ve.show() : Object(o.tooltip)(Object(o.tr)("main@noOpen"))
        }
        ,
        e.prototype.onReTurn = function() {
            return Object(f.a)("fly") ? Object(g.d)("luckyWheel") ? void Object(Te.b)({
                source: Object(Ee.Db)(),
                name: "rechargeAct"
            }).then((function(t) {
                t.RechargeTurnPanel.show()
            }
            )) : Object(o.tooltip)(Object(o.tr)("main@noOpen")) : Object(o.tooltip)(Object(o.tr)("main@flyOpenRecTurn"))
        }
        ,
        e.prototype.onLotterySkin = function() {
            De.a.openHuanyige()
        }
        ,
        e.prototype.onLimitHero = function() {
            Me.show()
        }
        ,
        e.prototype.fateMovie = function(t) {
            var e = o.Movie.create("tybiaoti_1_ske_json");
            return e.touchEnabled = !1,
            e.play("1"),
            this["btn_" + t].addChild(e),
            e.scaleX = 1.4,
            e.scaleY = 2,
            4 == t ? (e.x = 185,
            e.y = 346) : 3 == t ? (e.x = 166,
            e.y = 252) : 2 == t ? (e.x = 166,
            e.y = 268) : (e.x = 166,
            e.y = 240),
            e
        }
        ,
        e
    }(o.UIComponent)
      , Ue = n(120)
      , He = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Fe = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , ze = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , qe = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.giftArr = [],
            e.index = 0,
            e.stopClick = !1,
            Object(o.setSkin)(e, "Activity1Skin"),
            e
        }
        return He(e, t),
        e.prototype.onReady = function() {
            var t = this
              , e = Object(o.getConfig)("activityGroup_json")[3].activity.filter((function(t) {
                return "growGift" == t.activityName
            }
            ))[0].name;
            this.lbl_title.text = Object(o.tr)(e),
            this.growCache = Object(g.d)("newGrowGift"),
            o.cache.onChange("Activity.getList", this.refreshView, this, this.disposeArr),
            this.tap("btn_buy_1", (function() {
                t.buy(1)
            }
            ), this),
            this.tap("btn_buy_2", (function() {
                t.buy(2)
            }
            ), this),
            this.tap("btn_left", this.goLeft, this),
            this.tap("btn_right", this.goRight, this);
            for (var n = [], i = 0; i < this.growCache.l.length; i++)
                n.push(this.growCache.l[i]),
                2 == n.length && (this.giftArr.push(n),
                n = []);
            for (var r = [], a = 0; a < this.giftArr.length; a++)
                0 != this.giftArr[a][0].awded && 0 != this.giftArr[a][1].awded || r.push(this.giftArr[a]);
            this.giftArr = r;
            for (var s = [], c = 0; c < this.giftArr.length; c++) {
                this.growCache.extime[this.giftArr[c][0].lv] > u.a.getNow() && s.push(this.giftArr[c])
            }
            if (this.giftArr = s,
            1 == this.giftArr.length)
                this.refreshView(this.giftArr[0][0].lv);
            else
                for (var h = this.giftArr.length - 1; h >= 0; h--)
                    if (1 != this.giftArr[h][0].awded || 1 != this.giftArr[h][1].awded) {
                        this.index = h,
                        this.refreshView(this.giftArr[h][0].lv);
                        break
                    }
        }
        ,
        e.show = function() {
            return Fe(this, void 0, void 0, (function() {
                return ze(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Promise.all([Object(D.a)("activity_json"), Object(D.a)("activityGroup_json"), Object(D.a)("recharge_json")])];
                    case 1:
                        return t.sent(),
                        Object(te.a)(new e),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.onExit = function() {
            this.countDown && this.countDown.dispose(),
            t.prototype.onExit.call(this)
        }
        ,
        e.prototype.refreshView = function(t) {
            if (void 0 === t && (t = null),
            this.growConf = Object(o.getConfig)("activity_json").newGrowGift,
            null != t)
                for (var e = 0; e < this.growConf.list.length; e++)
                    this.growConf.list[e].prama3 == t && (1 == this.growConf.list[e].id ? this.gift1 = this.growConf.list[e] : this.gift2 = this.growConf.list[e]);
            this.lbl_content_1.text = this.gift1 && this.gift1.desc ? this.gift1.desc : "",
            this.lbl_content_2.text = this.gift2 && this.gift2.desc ? this.gift2.desc : "",
            this.btn_buy_1.label = Object(o.tr)("main@growGiftPrice", {
                num: Object(ce.c)(this.gift1, "rechargeNum")
            }),
            this.btn_buy_2.label = Object(o.tr)("main@growGiftPrice", {
                num: Object(ce.c)(this.gift2, "rechargeNum")
            }),
            this.lbl_price_1.text = Object(o.tr)("main@price", {
                num: Object(ce.c)(this.gift1, "showMoney", !1)
            }),
            this.lbl_price_2.text = Object(o.tr)("main@price", {
                num: Object(ce.c)(this.gift2, "showMoney", !1)
            }),
            Object(re.a)(this.list_1, this.gift1.awards),
            Object(re.a)(this.list_2, this.gift2.awards);
            for (var n = 0; n < this.growCache.l.length; n++)
                this.growCache.l[n].id == this.gift1.uniqId ? (this.gp_soldOut_1.visible = 1 == this.growCache.l[n].awded,
                this.btn_buy_1.visible = !(1 == this.growCache.l[n].awded)) : this.growCache.l[n].id == this.gift2.uniqId && (this.gp_soldOut_2.visible = 1 == this.growCache.l[n].awded,
                this.btn_buy_2.visible = !(1 == this.growCache.l[n].awded));
            this.btn_left.visible = 0 != this.index,
            this.btn_right.visible = this.index != this.giftArr.length - 1 && 1 != this.giftArr.length,
            this.countDown && this.countDown.dispose(),
            this.countDown = new Ue.a({
                component: this.lbl_time,
                endTime: this.growCache.extime[this.gift1.prama3]
            }),
            this.lbl_level.text = Object(o.tr)("main@growName", {
                lv: Object(o.tr)(this.gift1.prama4)
            });
            var i = Object(o.getConfig)("recharge_json")[this.gift1.rechargeId];
            this.exp1.text = Object(o.tr)("main@getExp", {
                num: i.vipExp
            });
            var r = Object(o.getConfig)("recharge_json")[this.gift2.rechargeId];
            this.exp2.text = Object(o.tr)("main@getExp", {
                num: r.vipExp
            })
        }
        ,
        e.prototype.buy = function(t) {
            var e = this;
            if (!this.stopClick)
                if (u.a.getNow() - this.growCache.extime[this.gift1.prama3] >= 0)
                    Object(o.tooltip)(Object(o.tr)("main@growTimeOut"));
                else if (1 == t) {
                    if (Object(o.setTimeout)((function() {
                        e.stopClick = !1
                    }
                    ), this, 1e3),
                    Object(Bt.m)(this.gift1.awards))
                        return;
                    Object(ce.d)({
                        id: this.gift1.rechargeId
                    })
                } else {
                    if (Object(o.setTimeout)((function() {
                        e.stopClick = !1
                    }
                    ), this, 1e3),
                    Object(Bt.m)(this.gift2.awards))
                        return;
                    Object(ce.d)({
                        id: this.gift2.rechargeId
                    })
                }
        }
        ,
        e.prototype.goLeft = function() {
            this.index--,
            this.giftArr && this.giftArr[this.index] && this.giftArr[this.index][0] && this.refreshView(this.giftArr[this.index][0].lv)
        }
        ,
        e.prototype.goRight = function() {
            this.index++,
            this.giftArr && this.giftArr[this.index] && this.giftArr[this.index][0] && this.refreshView(this.giftArr[this.index][0].lv)
        }
        ,
        e
    }(o.UIComponent)
      , We = n(344)
      , Xe = n(345)
      , Ye = n(296)
      , Je = n(346)
      , $e = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Ke = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "CollectionRewardSkin"),
            e
        }
        return $e(e, t),
        e.prototype.onReady = function() {
            var t = this;
            Object(D.a)("share_json").then((function() {
                var e = Object(g.d)("addWxGame");
                if (console.log(e),
                e || 1 == o.platform.getConstant("shouq"))
                    if (e || 1 != o.platform.getConstant("shouq")) {
                        var n = Object(o.getConfig)("share_json")[e.id].list[0].awards;
                        Object(re.a)(t.list, n),
                        t.tap("btn_confirm", t.onGet, t),
                        t.setView()
                    } else
                        ;
                else
                    Object(o.tooltip)(Object(o.tr)("数据出错")),
                    o.UI.remove(t);
                o.cache.onChange("Activity.getList", t.setView, t, t.disposeArr)
            }
            ))
        }
        ,
        e.prototype.onGet = function() {
            var t = this
              , e = Object(g.d)("addWxGame");
            if (console.log(e),
            e)
                if (1 == e.status)
                    Object(o.getSocket)().request("at.l").then((function(e) {
                        me.a.show(e.awds, t.btn_confirm),
                        t.btn_confirm.label = "已领取",
                        t.btn_confirm.enabled = !1
                    }
                    )).catch(o.errorHandler);
                else if (0 == e.status) {
                    if ("modoxyx" == Object(o.getPlatform)().name) {
                        if (console.log("modoxyx_has_favorite"),
                        Object(o.getPlatform)().getConstant("has_favorite"))
                            window.modosdk.favorite({}, (function(t) {
                                1 == t.status ? (console.log("收藏成功"),
                                Object(Je.a)()) : (console.log("收藏失败"),
                                Object(o.tooltip)("收藏失败"))
                            }
                            ), this)
                    } else
                        Object(o.getPlatComp)("collect").collect({
                            name: "仙命诀"
                        }).then((function(t) {
                            t && console.log(t)
                        }
                        )),
                        o.is.ios() && Object(Je.a)()
                }
        }
        ,
        e.prototype.onExit = function() {
            t.prototype.onExit.call(this)
        }
        ,
        e.prototype.setView = function() {
            var t = Object(g.d)("addWxGame");
            t.status ? 2 == t.status ? (this.btn_confirm.label = Object(o.tr)("已领取"),
            this.btn_confirm.enabled = !1,
            console.log(5)) : (this.btn_confirm.label = Object(o.tr)("领取"),
            this.btn_confirm.enabled = !0,
            console.log()) : (console.log(1),
            o.is.xyx() ? (this.btn_confirm.label = Object(o.tr)("领取"),
            this.btn_confirm.enabled = !1,
            console.log(2)) : (this.btn_confirm.label = Object(o.tr)("收藏"),
            this.btn_confirm.enabled = !0,
            console.log(3)))
        }
        ,
        e.prototype.noGiftCollect = function() {
            Object(o.getPlatComp)("collect").collect({
                name: "城市造造造"
            })
        }
        ,
        e.show = function() {
            Object(te.a)(new e)
        }
        ,
        e
    }(o.UIComponent)
      , Qe = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.imgArr = ["https://dl03.gm88.com/xmjlogo/share1/1.jpg", "https://dl03.gm88.com/xmjlogo/share1/2.jpg", "https://dl03.gm88.com/xmjlogo/share1/3.jpg", "https://dl03.gm88.com/xmjlogo/share1/4.jpg", "https://dl03.gm88.com/xmjlogo/share1/5.jpg", "https://dl03.gm88.com/xmjlogo/share1/6.jpg", "https://dl03.gm88.com/xmjlogo/share1/7.jpg"],
            Object(o.setSkin)(e, "NewCatShareSkin"),
            e
        }
        return $e(e, t),
        e.prototype.onReady = function() {
            this.tap("share", this.onShare, this)
        }
        ,
        e.prototype.onShare = function() {
            var t = this.imgArr[Math.floor(Math.random() * this.imgArr.length)];
            console.log(t);
            var e = {
                type: 0,
                extra: {
                    share_title: Object(o.tr)("main@imgShareTitle"),
                    share_msg: Object(o.tr)("main@imgShareText"),
                    share_imgurl: t,
                    share_targeturl: "https://url.gm88.com/fJp8n"
                }
            };
            egret.ExternalInterface.call("doShare", JSON.stringify(e))
        }
        ,
        e
    }(o.UIComponent)
      , Ze = n(126)
      , tn = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , en = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return tn(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && this.setItem()
        }
        ,
        e.prototype.setItem = function() {
            this.targetLabel.text = this.data.tn + " / " + this.data.c.shareNum,
            this.list.itemRenderer = Ze.a;
            var t = this.data.c.awards;
            Object(re.a)(this.list, t),
            this.data.p.awded ? (this.get.enabled = !1,
            this.get.label = Object(o.tr)("main@get2")) : (this.get.enabled = !0,
            this.get.label = Object(o.tr)("main@get4")),
            this.data.tn < this.data.c.shareNum && (this.get.enabled = !1,
            this.get.label = Object(o.tr)("main@get3"))
        }
        ,
        e.prototype.onEnter = function() {
            this.shareLabel.text = Object(o.tr)("main@totalTime"),
            this.get.addEventListener(egret.TouchEvent.TOUCH_TAP, this.awds, this)
        }
        ,
        e.prototype.onExit = function() {
            this.get.removeEventListener(egret.TouchEvent.TOUCH_TAP, this.awds, this)
        }
        ,
        e.prototype.awds = function() {
            var t = this
              , e = "awy" == Object(o.getPlatform)().name ? "at.f" : "at.an";
            Object(o.getSocket)().request({
                route: e,
                p: {
                    id: this.data.c.id
                }
            }).then((function(e) {
                me.a.show(e.awds, t.get),
                t.get.enabled = !1,
                t.get.label = Object(o.tr)("main@get2"),
                Object(o.put)("on_share_success"),
                Object(o.put)("refresh_g1")
            }
            )).catch(o.errorHandler)
        }
        ,
        e
    }(o.Item)
      , nn = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , on = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return nn(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.__data = t,
            this.setBtnState())
        }
        ,
        e.prototype.onExit = function() {
            this.get.removeEventListener(egret.TouchEvent.TOUCH_TAP, this.getAwds, this)
        }
        ,
        e.prototype.setBtnState = function() {
            this.dengluNode.visible = !!this.__data.login,
            1 == this.__data.p.p.st ? (this.get.removeEventListener(egret.TouchEvent.TOUCH_TAP, this.getAwds, this),
            this.get.addEventListener(egret.TouchEvent.TOUCH_TAP, this.getAwds, this),
            this.get.enabled = !0,
            this.get.label = Object(o.tr)("main@get4")) : this.__data.p.p.st ? (this.get.enabled = !1,
            this.get.label = Object(o.tr)("main@get2")) : (this.get.enabled = !1,
            this.get.label = Object(o.tr)("main@getNo"),
            this.__data.uId && (this.get.label = Object(o.tr)("main@getNo2")))
        }
        ,
        e.prototype.getAwds = function() {
            var t = this;
            Object(o.getSocket)().request({
                route: "at.m",
                p: {
                    tp: this.__data.type,
                    id: this.__data.uId
                }
            }).then((function(e) {
                console.log(e),
                me.a.show(e.awds, t.get),
                t.get.enabled = !1,
                t.get.label = Object(o.tr)("main@get2"),
                Object(o.put)("refresh_g234", t.__data.type)
            }
            )).catch(o.errorHandler)
        }
        ,
        e
    }(o.Item);
    window.ShareItem2 = on;
    var rn = n(383)
      , an = function() {
        function t(t) {
            this.p = t
        }
        return Object.defineProperty(t.prototype, "present", {
            get: function() {
                if (this.p.p.lv) {
                    var t = Object(o.getConfig)("level_json")[this.p.p.lv];
                    return Object(o.tr)(t.name)
                }
                return Object(o.tr)("main@getNo")
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "login", {
            get: function() {
                return this.p.p.hasOwnProperty("days") ? this.p.p.days > this.p.c.list[0].loginDays ? Object(rn.format)("({num})", {
                    num: this.p.c.list[0].loginDays + " / " + this.p.c.list[0].loginDays
                }) : Object(rn.format)("({num})", {
                    num: this.p.p.days + " / " + this.p.c.list[0].loginDays
                }) : null
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "num", {
            get: function() {
                return this.p.c.list[0].awards[0].num
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "type", {
            get: function() {
                return this.p.p.hasOwnProperty("tp") ? this.p.p.tp : null
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "uId", {
            get: function() {
                return this.p.p.uId
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "pic", {
            get: function() {
                return null
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "name", {
            get: function() {
                return this.p.p.name ? Object(Pe.c)(this.p.p.name) : Object(o.tr)("main@getNo")
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "state", {
            get: function() {
                return this.p.p.hasOwnProperty("st") ? this.p.p.st : 0
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , sn = function(t, e) {
        this.p = t,
        this.c = e
    }
      , cn = n(165)
      , un = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , hn = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.gArr = [],
            e.arr = [],
            Object(o.setSkin)(e, "InviteRewardSkin"),
            e
        }
        return un(e, t),
        e.prototype.getText = function(t) {
            return t.replace("{}", (function() {
                return "awy" == Object(o.getPlatform)().name ? "邀请" : "分享"
            }
            ))
        }
        ,
        e.prototype.onReady = function() {
            var t = this;
            Object(D.a)("share_json").then((function() {
                for (var e, n = 1; n < 5; n++)
                    t.gArr.push(t["group" + n]);
                e = [{
                    text: t.getText("{}有礼")
                }, {
                    text: "邀请好礼"
                }],
                Object(re.a)(t.tab2, e),
                t.tab2.selectedIndex = 0,
                t.tab2.addEventListener(egret.Event.CHANGE, t.onTab, t),
                Object(o.on)("on_share_success", t.setMainView, t, t.arr),
                Object(o.on)("modoxyx_share_success", t.onSend, t, t.arr),
                Object(o.on)("refresh_g1", t.toG1, t, t.arr),
                Object(o.on)("refresh_g234", t.refreshG234, t, t.arr),
                t.tap("share", t.setShareBtn, t),
                t.setMainView(),
                t.onTab()
            }
            ))
        }
        ,
        e.prototype.onSend = function() {
            var t = this
              , e = Object(g.d)("moduoTotalShare");
            console.log("每日主动分享"),
            console.log(e.dn),
            e.dn < 3 ? Object(o.getSocket)().request({
                route: "at.ap"
            }).then((function(e) {
                console.log(e),
                t.setMainView(),
                t.toG1()
            }
            )) : Object(o.tooltip)(Object(o.tr)("main@shareTotalMax"))
        }
        ,
        e.prototype.onExit = function() {
            this.arr = Object(o.dispose)(this.arr),
            this.tab2.removeEventListener(egret.Event.CHANGE, this.onTab, this),
            this._watcher && (this._watcher.unwatch(),
            this._watcher = null),
            this.timer && this.timer.dispose()
        }
        ,
        e.prototype.setMainView = function() {
            var t, e, n = this;
            e = (t = "awy" == Object(o.getPlatform)().name ? Object(g.d)("totalShare") : Object(g.d)("moduoTotalShare")).dn < 4 ? Object(o.getConfig)("share_json").share1.list[0].awards : Object(o.getConfig)("share_json").share2.list[0].awards,
            this.list.itemRenderer = Ze.a,
            Object(re.a)(this.list, e);
            var i = u.a.getNow();
            this._watcher || (this._watcher = eui.Watcher.watch(t, ["awded"], (function() {
                return n.share.label = t.awded ? "领取奖励" : n.getText("{}")
            }
            ), this)),
            this.share.label = 1 == t.awded ? "领取" : this.getText("{}"),
            1 != t.awded && t.cd > i && (this.share.label = "冷却中",
            this.share.enabled = !1),
            this.setProgress(t)
        }
        ,
        e.prototype.setShareBtn = function() {
            var t, e, n = this;
            if ("awy" == Object(o.getPlatform)().name ? (t = Object(g.d)("totalShare"),
            e = "at.g") : (t = Object(g.d)("moduoTotalShare"),
            e = "at.ao"),
            t && 1 == t.awded)
                Object(o.getSocket)().request(e).then((function(t) {
                    me.a.show(t.awds, n.share),
                    n.share.label = "冷却中",
                    n.share.enabled = !1
                }
                )).catch(o.errorHandler);
            else if ("awy" == Object(o.getPlatform)().name) {
                window.AWY_SDK.showShare()
            } else
                o.is.xyx() && Object(cn.b)({
                    shareTime: u.a.getNow()
                })
        }
        ,
        e.prototype.setProgress = function(t) {
            var e, n = this;
            for (var i in console.log("测试setProgress"),
            t.l)
                if (!t.l[i].awded) {
                    e = t.l[i].id;
                    break
                }
            var r = t.l;
            e || (e = r[r.length - 1].id);
            var a = Object(o.getConfig)("share_json")[t.id].list.filter((function(t) {
                return t.id == e
            }
            ))[0].shareNum
              , s = u.a.getNow() > t.cd ? 0 : t.cd - u.a.getNow();
            this.cd = s,
            this.progressLabel.text = "",
            this.progress.value = t.tn,
            this.progress.maximum = a,
            this.targetLabel.text = t.dn + " / " + t.an,
            0 == s ? this.timeLabel.text = "00:00:00" : this.timer = new Ue.a({
                component: this.timeLabel,
                endTime: t.cd,
                complete: function() {
                    n.share.label = n.getText("{}"),
                    n.share.enabled = !0
                }
            })
        }
        ,
        e.prototype.toG1 = function() {
            var t, e = [], n = [];
            if ((t = "awy" == Object(o.getPlatform)().name ? Object(g.d)("totalShare") : Object(g.d)("moduoTotalShare")) && t.id) {
                var i = Object(o.getConfig)("share_json")[t.id].list;
                for (var r in t.l)
                    t.l[r].awded ? n.push({
                        c: i[r],
                        p: t.l[r],
                        tn: t.tn
                    }) : e.push({
                        c: i[r],
                        p: t.l[r],
                        tn: t.tn
                    })
            }
            var a = e.concat(n);
            this.list1.itemRenderer = en,
            Object(re.a)(this.list1, a)
        }
        ,
        e.prototype.toG2 = function() {
            this.list2.itemRenderer = on;
            var t = this.getDpSource("friendNum");
            Object(re.a)(this.list2, t)
        }
        ,
        e.prototype.toG3 = function() {
            this.list3.itemRenderer = on;
            var t = this.getDpSource("friendIdentity");
            Object(re.a)(this.list3, t),
            this.classLabel.text = Object(o.tr)(t[0].p.c.desc)
        }
        ,
        e.prototype.toG4 = function() {
            this.list4.itemRenderer = on;
            var t = this.getDpSource("friendLogin");
            Object(re.a)(this.list4, t),
            this.dayLabel.text = Object(o.tr)(t[0].p.c.desc)
        }
        ,
        e.prototype.toG5 = function() {
            this.inviteLabel.text = this._ic.self,
            this._ic.code && (this.nameInput.text = this._ic.code,
            this.nameInput.enabled = !1)
        }
        ,
        e.prototype.getDpSource = function(t) {
            var e = Object(g.d)("inviteFriend")[t]
              , n = Object(o.getConfig)("share_json")[t];
            if (e) {
                var i = e.map((function(t) {
                    return new an({
                        p: t,
                        c: n
                    })
                }
                ))
                  , r = i.filter((function(t) {
                    return 1 == t.state
                }
                ))
                  , a = i.filter((function(t) {
                    return !t.state
                }
                ))
                  , s = i.filter((function(t) {
                    return 2 == t.state
                }
                ));
                return "friendLogin" == t && a.sort((function(t, e) {
                    return t.p.p.lv >= e.p.p.lv && e.p.p.days - t.p.p.days
                }
                )),
                r.concat(a).concat(s)
            }
            console.log("inviteFriend -> " + t + " -> null")
        }
        ,
        e.prototype.refreshG234 = function(t) {
            switch (t) {
            case "friendNum":
                this.toG2();
                break;
            case "friendIdentity":
                this.toG3();
                break;
            case "friendLogin":
                this.toG4()
            }
        }
        ,
        e.prototype.onTab = function() {
            var t = this.tab2.selectedIndex;
            switch (t) {
            case 0:
                this.toG1();
                break;
            case 1:
                this.toG2();
                break;
            case 2:
            case 3:
                Object(o.tooltip)("暂无开启功能")
            }
            this.switchGroup(t)
        }
        ,
        e.prototype.switchGroup = function(t) {
            this.gArr.forEach((function(t) {
                return t.visible = !1
            }
            )),
            this.gArr[t].visible = !0
        }
        ,
        e.prototype.onTapInvite = function() {
            var t = this
              , e = o.cache.get("User.getInfo", "i")
              , n = this.nameInput.text;
            e.lv < 3 ? Object(o.tooltip)("身份升到 [{city}{name}] 开启", {}) : n == this._ic.self ? Object(o.tooltip)("不能填寫自己賬號的邀請碼") : (console.log("the code is " + n),
            Object(o.getSocket)().request({
                route: "at.aa",
                p: {
                    code: n
                }
            }).then((function(e) {
                console.log(e),
                me.a.show(e.awds, t.inviteBtn),
                t.inviteBtn.enabled = !1,
                t.inviteBtn.label = "已邀请"
            }
            )).catch(o.errorHandler))
        }
        ,
        e.show = function() {
            Object(te.a)(new e)
        }
        ,
        e
    }(o.UIComponent)
      , ln = n(301)
      , pn = n(168)
      , fn = n(239)
      , dn = n(183)
      , bn = n(124)
      , gn = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , _n = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "CollectionRewardSkin"),
            e
        }
        return gn(e, t),
        e.prototype.onReady = function() {
            this.setState("aiweiyou");
            var t = Object(g.d)("addWxGame")
              , e = Object(o.getConfig)("share_json")[t.id].list[0].awards;
            Object(re.a)(this.list, e),
            this.updateView(),
            this.tap("btn_confirm", this.onConfirm, this),
            this.disposeArr.push(o.cache.onChange("Activity.getList", this.updateView, this))
        }
        ,
        e.prototype.onConfirm = function() {
            var t = this
              , e = Object(g.d)("addWxGame");
            if (e)
                if (0 == e.status && "1" == Object(o.getOption)("focus"))
                    Object(o.getSocket)().request("at.l").then((function(e) {
                        Object(o.tooltip)(Object(o.tr)("奖励已发放，请到邮箱中领取")),
                        t.updateBtn("已领取", !1)
                    }
                    )).catch(o.errorHandler);
                else if (0 == e.status) {
                    window.AWY_SDK.showFocus()
                }
        }
        ,
        e.prototype.updateBtn = function(t, e) {
            this.btn_confirm.label = t,
            this.btn_confirm.enabled = e
        }
        ,
        e.prototype.updateView = function() {
            var t = Object(g.d)("addWxGame");
            0 == t.status && "1" == Object(o.getOption)("focus") ? this.updateBtn("领取", !0) : 0 == t.status ? this.updateBtn("关注", !0) : 2 == t.status && this.updateBtn("已领取", !1)
        }
        ,
        e.show = function() {
            Object(D.a)("share_json").then((function(t) {
                Object(te.a)(new e)
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
      , mn = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "FirstShareSkin"),
            e
        }
        return gn(e, t),
        e.isVerify = function() {
            return null == this._isverify ? "1" == Object(o.getOption)("verify") : "1" == this._isverify
        }
        ,
        e.prototype.onReady = function() {
            for (var t = [], e = 0; e < arguments.length; e++)
                t[e] = arguments[e];
            this.setState("aiweiyou"),
            this.updateView(),
            Object(re.a)(this.list, [{
                propId: 1017,
                num: 5
            }, {
                propId: 1021,
                num: 5
            }, {
                propId: 1019,
                num: 5
            }]),
            this.tap("btn_share", this.onTap, this)
        }
        ,
        e.prototype.onTap = function() {
            var t = this;
            if (e.isVerify())
                Object(st.d)("at.o").then((function(e) {
                    e && (me.a.show(e.awds),
                    t.updateView())
                }
                ));
            else {
                if (!window.AWY_SDK)
                    return;
                window.AWY_SDK.verify((function(n) {
                    0 == n.error && (e._isverify = "1",
                    t.updateView())
                }
                ))
            }
        }
        ,
        e.prototype.updateView = function() {
            Object(f.a)("realAuth") > 0 ? this.updateBtn("已领取", !1) : e.isVerify() ? this.updateBtn("领取", !0) : this.updateBtn("我要领取", !0)
        }
        ,
        e.prototype.updateBtn = function(t, e) {
            this.btn_share.label = t,
            this.btn_share.enabled = e
        }
        ,
        e.show = function() {
            Object(te.a)(new e)
        }
        ,
        e._isverify = null,
        e
    }(o.UIComponent);
    Object(bn.a)("AwyVerifyPanel", mn);
    var yn = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , vn = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , On = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , jn = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelJieYinConfirmSkin"),
            e
        }
        return yn(e, t),
        e.prototype.onReady = function() {
            var t = Object(f.a)("jyInfo")
              , e = Object(o.tr)(Object(o.getConfig)("pet_json")[t.cId].name);
            this.lbl_question.text = Object(o.tr)("main@beastJieyin", {
                name: Object(o.tr)(t.name),
                beast: e
            }),
            this.tap("yesBtn", this.onOK, this)
        }
        ,
        e.prototype.onOK = function() {
            var t = this;
            Object(st.d)("p.l").then((function(e) {
                e && (Object(o.put)("BeastFly"),
                o.UI.remove(t))
            }
            ))
        }
        ,
        e.show = function() {
            return vn(this, void 0, void 0, (function() {
                var t;
                return On(this, (function(n) {
                    switch (n.label) {
                    case 0:
                        return (t = Object(f.a)("jyInfo")) && t.cId ? [4, Object(le.b)([Object(D.a)("pet_json"), Object(o.getLocale)().init("pet")])] : [2];
                    case 1:
                        return n.sent(),
                        Object(te.a)(new e),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
      , wn = n(273)
      , xn = n(266)
      , kn = function() {
        function t(t) {
            this.opts = t,
            this.watch()
        }
        return t.prototype.watch = function() {
            var t = this;
            this._watch = v.b.watch(this.opts.name, (function(e) {
                if (t._cd && (t._cd.dispose(),
                t._cd = null),
                egret.clearInterval(t._tick),
                e) {
                    t.opts.group.visible = t.opts.group.includeInLayout = !0;
                    var n = t.opts.endTime();
                    n > 0 && (t._cd = new Ue.a({
                        component: t.opts.component,
                        endTime: n,
                        trKey: t.opts.trKey,
                        complete: function() {
                            t.opts.complete && t.opts.complete()
                        }
                    }))
                } else
                    t.opts.hideTick && (t._tick = egret.setInterval((function() {
                        u.a.isOver(t.opts.endTime()) && (egret.clearInterval(t._tick),
                        t.opts.complete && t.opts.complete())
                    }
                    ), t, 1e3)),
                    t.opts.group.visible = t.opts.group.includeInLayout = !1
            }
            ))
        }
        ,
        t.prototype.dispose = function() {
            egret.clearInterval(this._tick),
            this._cd && this._cd.dispose(),
            this._watch && this._watch.dispose()
        }
        ,
        t
    }()
      , In = n(210)
      , Pn = n(250)
      , Cn = n(299)
      , Sn = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Rn = new (function() {
        function t() {
            this._dispose = []
        }
        return t.prototype.init = function() {
            var t = this;
            o.cache.onChange("User.getInfo", (function(e) {
                e.i.xianbuff && t.check()
            }
            )),
            this.check()
        }
        ,
        t.prototype.check = function() {
            this._dispose = Object(o.dispose)(this._dispose);
            var t = Object(Pn.a)(2);
            t && this._dispose.push(In.b.listen(t.time, (function() {
                Object(o.put)("refresh_funOpen", "xianbuff")
            }
            )))
        }
        ,
        t.prototype.dispose = function() {
            this._dispose = Object(o.dispose)(this._dispose)
        }
        ,
        t
    }())
      , Tn = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e._facialInfo = null,
            e._cd = [],
            Object(o.setSkin)(e, "PanelMainBuffSkin"),
            e
        }
        return Sn(e, t),
        e.prototype.onReady = function() {
            for (var t = this, e = [], n = 0; n < arguments.length; n++)
                e[n] = arguments[n];
            Object(o.put)("refresh_funOpen", "xianbuff"),
            this.updateView(),
            this.tap("btn_cancel", this.onRemoveDebuff, this),
            this.tap("btn_change", this.onChangeFacial, this),
            this.tap("btn_help", (function() {
                Le.a.show({
                    title: Object(o.tr)("main@cFaceHt"),
                    content: Object(o.tr)("main@cFaceCon")
                })
            }
            ), this),
            this.on("refresh_funOpen", (function(e) {
                "xianbuff" == e && t.updateView()
            }
            ))
        }
        ,
        e.prototype.onRemoveDebuff = function() {
            var t = this;
            Object(o.confirm)(Object(o.tr)("main@debuffConfirm", {
                n: this._facialInfo.cost4
            })).then((function(e) {
                if ("yes" == e) {
                    if (!Bt.e.hasEnough(Bt.f.lingyu, t._facialInfo.cost4))
                        return;
                    Rn.check(),
                    Object(st.d)("wj.c").then((function(e) {
                        e && (Object(o.put)("refresh_funOpen", "xianbuff"),
                        t.updateView())
                    }
                    ))
                }
            }
            ))
        }
        ,
        e.prototype.onChangeFacial = function() {
            var t = Object(Pn.a)(2);
            t && Cn.a.show({
                type: 2,
                sex: Object(f.a)("sex"),
                oldId: Number(t.num)
            })
        }
        ,
        e.prototype.onExit = function() {
            for (; this._cd.length; )
                this._cd.shift().dispose()
        }
        ,
        e.prototype.updateView = function() {
            for (; this._cd.length; )
                this._cd.shift().dispose();
            null != Object(Pn.a)() ? (this.updateVisible(this.gp_buff, 1),
            this.updateVisible(this.gp_debuff, 2),
            this.img_divide.visible = this.gp_buff.visible && this.gp_debuff.visible) : o.UI.remove(this)
        }
        ,
        e.prototype.updateVisible = function(t, e) {
            var n = Object(Pn.a)(e);
            n ? (t.visible = t.includeInLayout = !0,
            1 == e ? this.updateBuffView(n) : this.updateDebuffView(n)) : t.visible = t.includeInLayout = !1
        }
        ,
        e.prototype.updateBuffView = function(t) {
            var e = this
              , n = t.num;
            "xiulian" == t.type && (n = 100 * n + "%"),
            this.lbl_buffName.text = Object(o.tr)("main@buffTip", {
                prop: Object(o.tr)("main@" + t.type),
                val: n
            }),
            this._cd.push(new Ue.a({
                component: this.lbl_countdown_1,
                endTime: t.time,
                max: 3600,
                trKey: "main@buffTime",
                complete: function() {
                    return e.updateView()
                }
            }))
        }
        ,
        e.prototype.updateDebuffView = function(t) {
            var e = this;
            this.lbl_debuff.text = Object(o.tr)("main@debuffTip"),
            t.ctype && 1 == t.ctype ? this.btn_change.visible = this.btn_change.includeInLayout = !1 : this.btn_change.visible = this.btn_change.includeInLayout = !0,
            this._cd.push(new Ue.a({
                component: this.lbl_countdown_2,
                endTime: t.time,
                max: 3600,
                trKey: "main@buffTime",
                complete: function() {
                    return e.updateView()
                }
            }));
            var n = Object(G.a)("faceChange_json");
            for (var i in n)
                n[i].id == t.num && (this._facialInfo = n[i]);
            this.cost.text = Object(o.tr)("main@clearDebuffCost", {
                num: this._facialInfo.cost4
            })
        }
        ,
        e.show = function() {
            Object(le.b)([Object(D.a)("faceChange_json")]).then((function() {
                Object(te.a)(new e)
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
      , Ln = n(269)
      , An = n(327)
      , Mn = n(349)
      , Nn = n(302)
      , Bn = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , En = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , Dn = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , Gn = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelPublicGiftSKin"),
            e
        }
        return Bn(e, t),
        e.prototype.onReady = function() {
            var t = this;
            this.tap("btn_copy", (function() {
                t.copy()
            }
            ), this)
        }
        ,
        e.show = function() {
            return En(this, void 0, void 0, (function() {
                return Dn(this, (function(t) {
                    return Object(te.a)(new e),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e.prototype.copy = function() {
            Object(o.getPlatComp)("clipboard").copy("spccgame"),
            Object(o.tooltip)(Object(o.tr)("common@copy"))
        }
        ,
        e.prototype.onExit = function() {
            t.prototype.onExit.call(this)
        }
        ,
        e
    }(o.UIComponent)
      , Vn = n(211)
      , Un = n(121)
      , Hn = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Fn = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , zn = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , qn = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return Hn(e, t),
        e.prototype.onDataUpdate = function(e, n) {
            t.prototype.onDataUpdate.call(this, e, n),
            e && this.rp && (this.rp.dispose(),
            this.rp = null)
        }
        ,
        e.prototype.onExit = function() {
            this.rp && (this.rp.dispose(),
            this.rp = null)
        }
        ,
        e
    }(Un.b)
      , Wn = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e._iconData = {
                sipuFreeGift: "0",
                sipuMonthGift: "1",
                sipuMonthGift2: "3"
            },
            Object(o.setSkin)(e, "SipuGiftSkin"),
            e
        }
        return Hn(e, t),
        e.prototype.onReady = function() {
            var t = this;
            this.tap("codeBtn", this.showCode, this);
            var e = [{
                text: Object(o.tr)("main@zeroGift"),
                name: "sipuFreeGift"
            }, {
                text: Object(o.tr)("main@sixGift"),
                name: "sipuMonthGift"
            }, {
                text: Object(o.tr)("main@threeGift"),
                name: "sipuMonthGift2"
            }];
            this.tab.itemRenderer = qn,
            this.disposeArr.push(new Un.a({
                tab: this.tab,
                array: e,
                onSelect: function(e) {
                    t.updateView(e)
                }
            }))
        }
        ,
        e.prototype.updateView = function(t) {
            var e = Object(o.getConfig)("share_json")[t].list[0].awards
              , n = Object(g.d)("sipuGift");
            e = n[t] && n[t].awards ? n[t].awards : e;
            var i = "sipuFreeGift" == t ? n.free : n.month.indexOf(n[t].id) > -1;
            this.lbl_ygm.visible = i,
            this.lbl_wgm.visible = !i;
            var r = this._iconData[t];
            this.img_bg.source = "bg_sipu_" + r + "_png",
            this.list.itemRenderer = Ze.a,
            Object(re.a)(this.list, e)
        }
        ,
        e.show = function() {
            return Fn(this, void 0, void 0, (function() {
                return zn(this, (function(t) {
                    return Object(D.a)("share_json").then((function() {
                        Object(te.a)(new e)
                    }
                    )),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e.prototype.showCode = function() {
            Gn.show()
        }
        ,
        e.prototype.onExit = function() {
            t.prototype.onExit.call(this)
        }
        ,
        e
    }(o.UIComponent)
      , Xn = n(376)
      , Yn = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , Jn = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , $n = function() {
        function t(t, e) {
            this.p = t,
            this.c = e
        }
        return Object.defineProperty(t.prototype, "title", {
            get: function() {
                return Object(o.tr)(this.c.name)
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "time", {
            get: function() {
                return (new egret.HtmlTextParser).parse(Object(o.tr)("main@actTimeDate", {
                    time1: u.a.timeStamp(this.p.start, "DAY"),
                    time2: u.a.timeStamp(this.p.end, "DAY")
                }))
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , Kn = function() {
        function t() {
            this._allList = []
        }
        return t.prototype.checkRes = function() {
            return Yn(this, void 0, void 0, (function() {
                return Jn(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Promise.all([Object(D.a)("activityTask_json")])];
                    case 1:
                        return [2, t.sent()]
                    }
                }
                ))
            }
            ))
        }
        ,
        t.prototype.allList = function() {
            this._allList = [];
            var t = Object(o.getCache)("Activity.getList").l || []
              , e = Object(o.getConfig)("activityTask_json")
              , n = Object(M.f)() ? "tian" : "di";
            for (var i in e)
                for (var r in t)
                    t[r].id == e[i].activityName && t[r].rankType == n && this._allList.push({
                        p: t[r],
                        c: e[i]
                    });
            return this._allList.map((function(t) {
                return new $n(t.p,t.c)
            }
            ))
        }
        ,
        Object.defineProperty(t.prototype, "ingList", {
            get: function() {
                var t = []
                  , e = this.allList();
                for (var n in e)
                    u.a.getNow(!0) <= e[n].p.end && t.push(e[n]);
                var i = function(e) {
                    var n = t[e].c
                      , i = t[e].p
                      , o = n.list[0].detail
                      , r = "Login" == i.id.substring(i.id.length - 5, i.id.length)
                      , a = Math.ceil((i.end - i.start) / 86400)
                      , s = r ? a : o.length;
                    s > o.length && (s = o.length);
                    for (var c = [], u = 0; u < s; u++)
                        c.push(o[u]);
                    var h = c.filter((function(t) {
                        return i.score >= t.num && -1 == i.ids.indexOf(t.uniqId)
                    }
                    ));
                    t[e].isAwds = h.length > 0 ? 1 : 0
                };
                for (var o in t)
                    i(o);
                return t.sort((function(t, e) {
                    return e.isAwds - t.isAwds
                }
                )),
                t
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "endList", {
            get: function() {
                var t = []
                  , e = this.allList();
                for (var n in e)
                    e[n].p.end < u.a.getNow(!0) && t.push(e[n]);
                return t
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , Qn = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Zn = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return Qn(e, t),
        e.prototype.onReady = function() {
            this.tap("awdsBtn", this.getAwards, this)
        }
        ,
        e.prototype.onDataUpdate = function(t) {
            if (t) {
                this.__data = t,
                this.list.itemRenderer = Ze.a,
                Object(re.a)(this.list, this.__data.awards);
                var e = -1 == this.__data.ids.indexOf(this.__data.uniqId)
                  , n = this.__data.score >= this.__data.num && e;
                this.awdsBtn.enabled = n,
                this.received.visible = !e,
                this.awdsBtn.visible = e,
                this.awdsBtn.label = e ? Object(o.tr)("main@get4") : Object(o.tr)("main@get2"),
                this.lbl_lqyq.text = Object(o.tr)(this.__data.desc, {
                    num: this.__data.num
                }) + "(" + this.__data.score + "/" + this.__data.num + ")"
            }
        }
        ,
        e.prototype.getAwards = function() {
            var t = this;
            Object(st.d)("at.aaa", {
                activityName: this.__data.actName,
                uniqId: this.__data.uniqId
            }).then((function(e) {
                if (e && (Object(o.put)("refresh_limitTaskAwds"),
                Object(o.put)("refresh_limitTaskMain"),
                e.awds && me.a.show(e.awds),
                "attrLogin" == t.data.c.activityName))
                    switch (t.data.c.uniqId) {
                    case 10101:
                        Object(pe.a)("claim_xianshi_login for 1day rewards");
                        break;
                    case 10102:
                        Object(pe.a)("claim_xianshi_login for 2day rewards");
                        break;
                    case 10103:
                        Object(pe.a)("claim_xianshi_login for 3day rewards")
                    }
            }
            ))
        }
        ,
        e.prototype.onExit = function() {}
        ,
        e
    }(o.Item)
      , ti = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e._awdsArr = [],
            Object(o.setSkin)(e, "XianshirenwuneirongSkin"),
            e
        }
        return Qn(e, t),
        e.prototype.onReady = function(t) {
            var e = this;
            console.log(t),
            this.data = t,
            this.addBehavior(new se.a),
            this.on("refresh_limitTaskAwds", (function() {
                e.refreshView()
            }
            ), this),
            this.refreshView(),
            this.lbl_hdsj.textFlow = (new egret.HtmlTextParser).parse(Object(o.tr)("main@actTimeDate_day", {
                color: "4be796",
                time1: u.a.timeStamp(t.p.start, "DAY"),
                time2: u.a.timeStamp(t.p.end, "DAY")
            })),
            this.tap("btn_yjlq", this.getAwards, this),
            this.btn_lssx.visible = t.p.fp || t.p.fp >= 0,
            this.tap(this.btn_lssx, this.onHistoryMax, this)
        }
        ,
        e.prototype.onHistoryMax = function() {
            var t = this.data;
            Le.a.show({
                title: Object(o.tr)("main@historyMax"),
                content: Object(o.tr)("main@taskMaxCont", {
                    value: t.p.fp
                })
            })
        }
        ,
        e.prototype.onExit = function() {}
        ,
        e.prototype.refreshView = function() {
            var t = this
              , e = this.data.p;
            e.end < u.a.getNow(!0) ? this.setActData(e) : Object(st.d)("at.aac", {
                activityName: this.data.c.activityName
            }).then((function(e) {
                e && t.setActData(e)
            }
            ))
        }
        ,
        e.prototype.setActData = function(t) {
            if (this.data.c) {
                var e = this.data.c
                  , n = this.data.p
                  , i = e.activityName
                  , o = e.list[0].detail
                  , r = "Login" == i.substring(i.length - 5, i.length)
                  , a = Math.ceil((n.end - n.start) / 86400)
                  , s = r ? a : o.length;
                s > o.length && (s = o.length);
                for (var c = [], u = 0; u < s; u++)
                    c.push(o[u]);
                for (var h in c)
                    c[h].score = t.score,
                    c[h].ids = t.ids,
                    c[h].actName = e.activityName,
                    c[h].isAwds = t.score >= c[h].num && -1 == t.ids.indexOf(c[h].uniqId),
                    c[h].awdsed = t.ids.indexOf(c[h].uniqId) > -1;
                for (var l = 0; l < c.length - 1; l++)
                    for (var p = 0; p < c.length - 1 - l; p++)
                        if (c[p].isAwds < c[p + 1].isAwds) {
                            var f = c[p];
                            c[p] = c[p + 1],
                            c[p + 1] = f
                        } else if (c[p].isAwds == c[p + 1].isAwds && c[p].awdsed > c[p + 1].awdsed) {
                            f = c[p];
                            c[p] = c[p + 1],
                            c[p + 1] = f
                        }
                this.list.itemRenderer = Zn,
                Object(re.a)(this.list, c)
            }
        }
        ,
        e.prototype.getAwards = function() {
            var t, e = this;
            "attrLogin" == this.data.c.activityName && (t = this._awdsArr.filter((function(t) {
                return 1 == t.isAwds
            }
            ))),
            this.data.p.end < u.a.getNow(!0) ? Object(o.tooltip)(Object(o.tr)("main@actEnd")) : Object(st.d)("at.aab", {
                activityName: this.data.c.activityName
            }).then((function(n) {
                if (n && (n.awds && 0 != n.awds.length || Object(o.tooltip)(Object(o.tr)("main@noAwads")),
                n.awds && me.a.show(n.awds),
                Object(o.put)("refresh_limitTaskAwds"),
                Object(o.put)("refresh_limitTaskMain"),
                "attrLogin" == e.data.c.activityName))
                    for (var i = 0; i < t.length; i++)
                        switch (t[i].uniqId) {
                        case 10101:
                            Object(pe.a)("claim_xianshi_login for 1day rewards");
                            break;
                        case 10102:
                            Object(pe.a)("claim_xianshi_login for 2day rewards");
                            break;
                        case 10103:
                            Object(pe.a)("claim_xianshi_login for 3day rewards")
                        }
            }
            ))
        }
        ,
        e
    }(o.UIComponent);
    var ei = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , ni = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , ii = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , oi = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return ei(e, t),
        e.prototype.onDataUpdate = function(t) {
            this.clean(),
            t && (this.__data = t,
            this.checkRed(),
            this.tap("btn_jrhd", this.gotoAct, this),
            t.p.end < u.a.getNow(!0) ? this.onFinished() : this._countdown = new Ue.a({
                component: this.lbl_hddjs,
                endTime: t.p.end,
                textFlowKey: function(t) {
                    return o.time.leftCountdown(t, Object(o.tr)("main@actTimeDjs"))
                },
                complete: function() {
                    Object(M.x)((function() {
                        Object(o.put)("refresh_limitTaskMain"),
                        Object(o.put)("refresh_limitTaskRed")
                    }
                    ))
                }
            }))
        }
        ,
        e.prototype.checkRed = function() {
            egret.Tween.removeTweens(this.btn_jrhd),
            this.data.isAwds ? egret.Tween.get(this.btn_jrhd, {
                loop: !0
            }).to({
                alpha: .35
            }, 500).to({
                alpha: 1
            }, 500) : this.btn_jrhd.alpha = 1
        }
        ,
        e.prototype.onFinished = function() {
            this.clean(),
            this.lbl_hddjs.text = Object(o.tr)("main@actEnd")
        }
        ,
        e.prototype.gotoAct = function() {
            Object(te.a)(new ti, this.data)
        }
        ,
        e.prototype.clean = function() {
            this._countdown && (this._countdown.dispose(),
            this._countdown = null)
        }
        ,
        e.prototype.onExit = function() {
            this.clean()
        }
        ,
        e
    }(o.Item)
      , ri = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "XianshiRenwuSkin"),
            e
        }
        return ei(e, t),
        e.prototype.onReady = function() {
            var t = this;
            this.addBehavior(new se.a),
            Object(o.put)("refresh_limitTaskMain"),
            this.on("refresh_limitTaskMain", (function() {
                t.refreshView()
            }
            ), this),
            this.refreshView()
        }
        ,
        e.prototype.onExit = function() {}
        ,
        e.prototype.refreshView = function() {
            var t = Object(o.get)(Kn).ingList
              , e = Object(o.get)(Kn).endList;
            this.gp_ywc.y = 205 * t.length,
            this.list.visible = this.list.includeInLayout = t.length > 0,
            this.ywclist.top = 205 * t.length + 50,
            this.ywclist.visible = this.gp_ywc.visible = e.length > 0,
            this.ywclist.includeInLayout = this.gp_ywc.includeInLayout = e.length > 0,
            this.list.itemRenderer = oi,
            this.ywclist.itemRenderer = oi,
            Object(re.a)(this.list, t),
            Object(re.a)(this.ywclist, e)
        }
        ,
        e.show = function() {
            var t = this;
            return Object(le.b)(Object(o.singleton)(Kn).checkRes()).then((function(n) {
                return ni(t, void 0, void 0, (function() {
                    return ii(this, (function(t) {
                        return Object(te.a)(new e),
                        [2]
                    }
                    ))
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent);
    var ai = n(147)
      , si = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , ci = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "QslxdxsSkin"),
            e
        }
        return si(e, t),
        e.prototype.onReady = function(t) {
            t && t.title && (this.title.text = t.title),
            this.titleIcon.source = "Qsl_xdxs_zs_png";
            for (var e = Object(o.getConfig)("pet_json")[t.petId].baseSkill, n = [], i = 0; i < e.length; i++)
                n.push({
                    id: e[i].baseSkill,
                    num: Object(o.getConfig)("petSkill_json")[e[i].baseSkill].value
                });
            var r = new ai.b({
                cId: t.petId,
                lv: 1,
                skills: n
            });
            this._mv = o.Movie.create("pet_" + r.c.icon + "_ske_json"),
            this.animNode.addChild(this._mv),
            this._mv.play("1"),
            this.disposeArr.push(this._mv);
            var a = new egret.HtmlTextParser
              , s = r.getAllAttr();
            this.lbl_zhenyuan.textFlow = a.parser(Object(o.tr)("main@fsgAttr_add_1", {
                num: s.zhenqi,
                add: s.zhenqi_add ? "+" + s.zhenqi_add : ""
            })),
            this.lbl_qixue.textFlow = a.parser(Object(o.tr)("main@fsgAttr_add_3", {
                num: s.tipo,
                add: s.tipo_add ? "+" + s.tipo_add : ""
            })),
            this.lbl_bufa.textFlow = a.parser(Object(o.tr)("main@fsgAttr_add_4", {
                num: s.shenfa,
                add: s.shenfa_add ? "+" + s.shenfa_add : ""
            })),
            this.lbl_jingu.textFlow = a.parser(Object(o.tr)("main@fsgAttr_add_2", {
                num: s.gengu,
                add: s.gengu_add ? "+" + s.gengu_add : ""
            })),
            this.lbl_wuli.textFlow = a.parser(Object(o.tr)("main@hero_atk_add", {
                num: s.atk,
                add: s.atk_add ? "+" + s.atk_add : ""
            })),
            this.lbl_daoshu.textFlow = a.parser(Object(o.tr)("main@hero_datk_add", {
                num: s.datk,
                add: s.datk_add ? "+" + s.datk_add : ""
            })),
            this.lbl_fashu.textFlow = a.parser(Object(o.tr)("main@hero_matk_add", {
                num: s.matk,
                add: s.matk_add ? "+" + s.matk_add : ""
            })),
            this.lbl_youqi.textFlow = a.parser(Object(o.tr)("main@hero_travel_add", {
                num: s.travel,
                add: s.travel_add ? "+" + s.travel_add : ""
            }))
        }
        ,
        e.show = function(t) {
            Object(le.b)([Object(o.singleton)(ai.a).checkRes()]).then((function() {
                o.UI.openBox(new e, t)
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
      , ui = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , hi = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            return n.isPreview = e,
            Object(o.setSkin)(n, "Qishulu3Skin"),
            n
        }
        return ui(e, t),
        e.prototype.onReady = function() {
            for (var t = [], e = 0; e < arguments.length; e++)
                t[e] = arguments[e];
            this.lbl_ttybms.text = Object(o.tr)("main@qsl_ttybms"),
            this.clean(),
            this.gp_time.visible = this.isPreview && Object(M.p)(26, 0),
            this.btn_wshg.visible = !this.isPreview,
            this.tap("btn_wshg", this.onWshg, this),
            this.isPreview && this.refreshCountDown()
        }
        ,
        e.prototype.clean = function() {
            this._countdown && (this._countdown.dispose(),
            this._countdown = null)
        }
        ,
        e.prototype.onWshg = function() {
            pi.show(!0)
        }
        ,
        e.prototype.refreshCountDown = function() {
            if (Object(M.p)(27, 10)) {
                var t = Object(M.j)(27, 10);
                this._countdown = new Ue.a({
                    component: this.lbl_time,
                    endTime: t,
                    textFlowKey: function(t) {
                        return o.time.leftCountdown(t, Object(o.tr)("main@qsl_openDjs"))
                    }
                })
            }
        }
        ,
        e.prototype.onExit = function() {
            this.clean()
        }
        ,
        e.show = function(t) {
            Object(te.a)(new e(t))
        }
        ,
        e
    }(o.UIComponent)
      , li = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , pi = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            return n.isPreview = e,
            Object(o.setSkin)(n, "Qishulu2Skin"),
            n
        }
        return li(e, t),
        e.prototype.onReady = function() {
            for (var t = [], e = 0; e < arguments.length; e++)
                t[e] = arguments[e];
            this.lbl_xjfsms.text = Object(o.tr)("main@qsl_xjfsms"),
            this.lbl_xbjjms.text = Object(o.tr)("main@qsl_xbjjms"),
            this.tap("btn_kttj", this.onKttj, this),
            this.tap("btn_wshg", this.onWshg, this),
            this.btn_kttj.visible = !this.isPreview,
            this.btn_wshg.visible = !this.isPreview || !Object(M.p)(26, 0),
            this.gp_time.visible = Object(M.p)(16, 0) && this.isPreview,
            this.clean(),
            this.isPreview && this.refreshCountDown()
        }
        ,
        e.prototype.clean = function() {
            this._countdown && (this._countdown.dispose(),
            this._countdown = null)
        }
        ,
        e.prototype.refreshCountDown = function() {
            if (Object(M.p)(16, 10)) {
                var t = Object(M.j)(16, 10);
                this._countdown = new Ue.a({
                    component: this.lbl_time,
                    endTime: t,
                    textFlowKey: function(t) {
                        return o.time.leftCountdown(t, Object(o.tr)("main@qsl_openDjs"))
                    }
                })
            }
        }
        ,
        e.prototype.onExit = function() {
            this.clean()
        }
        ,
        e.prototype.onKttj = function() {
            hi.show(!0)
        }
        ,
        e.prototype.onWshg = function() {
            _i.show(!0)
        }
        ,
        e.show = function(t) {
            Object(te.a)(new e(t))
        }
        ,
        e
    }(o.UIComponent)
      , fi = n(251)
      , di = n(172)
      , bi = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , gi = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return bi(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (t) {
                if (this.gp_special.visible = this.gp_special.includeInLayout = !1,
                t.fashionId) {
                    this.gp_special.visible = this.gp_special.includeInLayout = !0;
                    var e = Object(o.getConfig)("fashion_json")[t.fashionId];
                    this.lbl_title.text = e.name,
                    this.img_title.source = "icon_player_title_" + e.icon + "_png",
                    this.gp_honor.visible = this.gp_honor.includeInLayout = 1 == t.param1
                }
                t.param1 == t.param2 ? this.lbl_RankNum.text = Object(o.tr)("rank@rankTop", {
                    n: t.param1
                }) : t.param1 < t.param2 ? this.lbl_RankNum.text = Object(o.tr)("rank@rankTop2", {
                    n: t.param1,
                    n2: t.param2
                }) : t.param1 && t.param2 ? this.lbl_RankNum.text = Object(o.tr)("rank@rankTop2", {
                    n: t.param1,
                    n2: 200
                }) : this.lbl_RankNum.visible = !1,
                this.list.itemRenderer = Ze.a,
                Object(re.a)(this.list, t.awards)
            }
        }
        ,
        e.type = "",
        e
    }(o.Item)
      , _i = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            return n.isPreview = e,
            Object(o.setSkin)(n, "Qishulu1Skin"),
            n
        }
        return bi(e, t),
        e.prototype.onReady = function() {
            for (var t = [], e = 0; e < arguments.length; e++)
                t[e] = arguments[e];
            var n = Object(o.getConfig)("activityRank_json").flyRank;
            gi.type = n.activityName,
            this.list.itemRenderer = gi,
            Object(re.a)(this.list, n.list[0].detail),
            this.lbl_hdms.text = Object(o.tr)("main@qsl_hdms"),
            this.tap("btn_dxb", this.onRank, this),
            this.tap("btn_kttj", this.onKttj, this),
            this.tap("btn_xdxs", this.onXdxs, this),
            this.btn_kttj.visible = !this.isPreview && !Object(g.n)(),
            this.clean(),
            this.refreshCountDown()
        }
        ,
        e.prototype.clean = function() {
            this._countdown && (this._countdown.dispose(),
            this._countdown = null)
        }
        ,
        e.prototype.refreshCountDown = function() {
            var t = this
              , e = Object(g.n)() ? 0 : 10;
            if (Object(M.p)(16, e)) {
                var n = Object(M.j)(16, e);
                this._countdown = new Ue.a({
                    complete: function() {
                        pi.show(!1),
                        o.UI.remove(t)
                    },
                    component: this.lbl_time,
                    endTime: n,
                    textFlowKey: function(t) {
                        return o.time.leftCountdown(t, Object(o.tr)("main@qsl_endDjs"))
                    }
                })
            } else
                this.lbl_time.text = Object(o.tr)("main@actEnd")
        }
        ,
        e.prototype.onRank = function() {
            fi.a.show("flyRank")
        }
        ,
        e.prototype.onXdxs = function() {
            ci.show({
                title: Object(o.tr)("main@qsl_XianshouTitle"),
                petId: 24
            })
        }
        ,
        e.prototype.onExit = function() {
            this.clean()
        }
        ,
        e.prototype.onKttj = function() {
            pi.show(!0)
        }
        ,
        e.show = function(t) {
            Object(le.b)([Object(D.a)("fashion_json"), Object(D.a)("activityRank_json"), di.a.preload()]).then((function(n) {
                Object(te.a)(new e(t))
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
      , mi = n(373)
      , yi = n(140)
      , vi = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Oi = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return vi(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (t) {
                this.__data = t,
                this.noImg.visible = "" == t.uId,
                this.awded.visible = 1 != t.st,
                this.awdBtn.visible = 1 == t.st,
                this.nameLabel.text = t.name;
                var e = Object(o.getConfig)("share_json").fbFriendNum;
                if (this.awardLabel.text = e.list[0].awards[0].num,
                this.awdBtn.enabled = !0,
                this.deleteBtn.visible = !1,
                this.onlineLabel.textColor = "#ce2121",
                t.sId) {
                    var n = u.a.getNow() - t.activityTime;
                    n < 30 ? (this.onlineLabel.text = Object(o.tr)("main@online"),
                    this.onlineLabel.textColor = "0x6bbf2d") : this.onlineLabel.text = n <= 3600 ? Object(o.tr)("main@offline2", {
                        min: Math.floor(n / 60)
                    }) : n <= 86400 ? Object(o.tr)("main@offline3", {
                        hour: Math.floor(n / 3600)
                    }) : n <= 604800 ? Object(o.tr)("main@offline4", {
                        day: Math.floor(n / 86400)
                    }) : n <= 2419200 ? Object(o.tr)("main@offline5", {
                        day: Math.floor(n / 604800)
                    }) : n <= 31104e3 ? Object(o.tr)("main@offline6", {
                        month: Math.floor(n / 2592e3)
                    }) : Object(o.tr)("main@offline7"),
                    this.deleteBtn.visible = n >= 432e3,
                    this.serverLabel.text = Object(o.tr)("main@server", {
                        num: t.sId
                    }),
                    Object(yi.a)(this.head, t.skin)
                } else
                    this.awdBtn.enabled = !1,
                    this.awdBtn.visible = !0,
                    this.awded.visible = !1,
                    this.nameLabel.text = Object(o.tr)("main@getNo"),
                    this.onlineLabel.text = Object(o.tr)("main@weizhi"),
                    this.serverLabel.text = Object(o.tr)("main@weizhi")
            }
        }
        ,
        e.prototype.onReady = function() {
            this.tap("awdBtn", this.getAwd, this),
            this.tap("deleteBtn", this.del, this)
        }
        ,
        e.prototype.getAwd = function() {
            Object(o.getSocket)().request({
                route: "at.m",
                p: {
                    id: this.__data.uId,
                    tp: "fbFriendNum"
                }
            }).then((function(t) {
                console.log(t),
                me.a.show(t.awds)
            }
            )).catch(o.errorHandler)
        }
        ,
        e.prototype.del = function() {
            Object(te.a)(new wi, this.__data)
        }
        ,
        e
    }(o.Item)
      , ji = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return vi(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (t) {
                this.__data = t;
                Object(g.d)("inviteFriend");
                this.noImg.visible = "" == t.uId,
                this.awded.visible = !1,
                this.awdBtn.visible = !0,
                0 == t.st ? this.awdBtn.enabled = !1 : 1 == t.st ? this.awdBtn.enabled = !0 : (this.awdBtn.visible = !1,
                this.awded.visible = !0),
                this.nameLabel.text = t.name;
                Object(o.getConfig)("share_json").fbFriendLv;
                this.awardLabel.text = 2;
                var e = Object(o.getConfig)("level_json")[t.lv];
                if (e) {
                    var n = Object(o.tr)(e.name);
                    switch (t.awrds) {
                    case 0:
                        n += "/" + Object(o.tr)("main@inviteLevel1"),
                        this.awardLabel.text = 2;
                        break;
                    case 1:
                        n += "/" + Object(o.tr)("main@inviteLevel2"),
                        this.awardLabel.text = 4;
                        break;
                    case 2:
                        n += "/" + Object(o.tr)("main@inviteLevel3"),
                        this.awardLabel.text = 6;
                        break;
                    case 3:
                        this.awardLabel.text = 6
                    }
                    this.lvLabel.text = n,
                    Object(yi.a)(this.head, t.skin)
                } else
                    this.awdBtn.enabled = !1,
                    this.awdBtn.visible = !0,
                    this.awded.visible = !1,
                    this.nameLabel.text = Object(o.tr)("main@getNo"),
                    this.lvLabel.text = Object(o.tr)("main@weizhi")
            }
        }
        ,
        e.prototype.onReady = function() {
            this.tap("awdBtn", this.getAwd, this)
        }
        ,
        e.prototype.getAwd = function() {
            Object(o.getSocket)().request({
                route: "at.m",
                p: {
                    id: this.__data.uId,
                    tp: "fbFriendLv",
                    cId: this.__data.cId
                }
            }).then((function(t) {
                me.a.show(t.awds)
            }
            )).catch(o.errorHandler)
        }
        ,
        e
    }(o.Item)
      , wi = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "DeleteConfirmSkin"),
            e
        }
        return vi(e, t),
        e.prototype.onReady = function(t) {
            this._data = t,
            this.des.text = Object(o.tr)("main@delInvite", {
                name: t.name
            }),
            this.tap("yesBtn", this.del, this)
        }
        ,
        e.prototype.del = function() {
            var t = this;
            Object(o.getSocket)().request({
                route: "at.ia",
                p: {
                    id: this._data.uId
                }
            }).then((function(e) {
                console.log(e),
                o.UI.remove(t),
                Object(o.tooltip)(Object(o.tr)("main@delSucc"))
            }
            )).catch(o.errorHandler)
        }
        ,
        e
    }(o.UIComponent)
      , xi = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , ki = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , Ii = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , Pi = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "FbInviteSkin"),
            e
        }
        return xi(e, t),
        e.prototype.onReady = function() {
            var t = this;
            this.tap("awdBtn", this.onGetAwd, this),
            this.tap("copyBtn", this.copyCode, this),
            this.disposeArr.push(new Un.a({
                tab: this.tab,
                container: this.gp_activity,
                array: [{
                    text: Object(o.tr)("main@inviteCode"),
                    name: "tab1"
                }, {
                    text: Object(o.tr)("main@inviteAwd"),
                    name: "tab2"
                }, {
                    text: Object(o.tr)("main@inviteLevel"),
                    name: "tab3"
                }],
                onSelect: function(e) {
                    t.node1.visible = "tab1" == e,
                    t.node2.visible = "tab2" == e,
                    t.node3.visible = "tab3" == e
                }
            })),
            console.log(Object(o.getCache)("Activity.getList")),
            this.code = Object(g.d)("inviteCode").self,
            this.myCode.text = this.code,
            this.refreshView(),
            this.list.itemRenderer = Oi,
            this.list3.itemRenderer = ji,
            o.cache.onChange("Activity.getList", this.refreshView, this, this.disposeArr)
        }
        ,
        e.prototype.refreshView = function() {
            var t = Object(o.getConfig)("share_json").inviteCode
              , e = Object(g.d)("inviteFriend");
            Object(re.a)(this.list1, t.list[0].awards),
            Object(re.a)(this.list, e.fbFriendNum),
            Object(re.a)(this.list3, e.fbFriendLv)
        }
        ,
        e.prototype.onGetAwd = function() {
            var t = this.input.text.trim();
            t ? Object(o.getSocket)().request({
                route: "at.u",
                p: {
                    code: t
                }
            }).then((function(t) {
                console.log(t),
                me.a.show(t.awds),
                Object(o.tooltip)(Object(o.tr)("main@getSucc"))
            }
            )).catch(o.errorHandler) : Object(o.tooltip)(Object(o.tr)("main@needinviteCode"))
        }
        ,
        e.prototype.copyCode = function() {
            Object(o.getPlatComp)("clipboard").copy(this.code)
        }
        ,
        e.show = function() {
            return ki(this, void 0, void 0, (function() {
                return Ii(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Object(o.getSocket)().request({
                            route: "at.a",
                            p: {
                                id: "inviteFriend"
                            }
                        }).then((function(t) {
                            e.refreshCache(t)
                        }
                        )).catch(o.errorHandler)];
                    case 1:
                        return t.sent(),
                        [4, Object(le.b)([Object(D.a)("share_json")])];
                    case 2:
                        return t.sent(),
                        Object(te.a)(new e),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.refreshCache = function(t) {
            return ki(this, void 0, void 0, (function() {
                var e, n;
                return Ii(this, (function(i) {
                    if (e = Object(o.getCache)("Activity.getList").l || [])
                        for (n = 0; n < e.length; n++)
                            "inviteFriend" == e[n].id && (e[n] = t.l[0]);
                    return [2]
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
      , Ci = n(227)
      , Si = n(187)
      , Ri = n(160)
      , Ti = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Li = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , Ai = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , Mi = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "DujieSkin"),
            e
        }
        return Ti(e, t),
        e.prototype.onReady = function() {
            var t = this;
            if (this.addBehavior(new se.a),
            Object(M.f)() ? (this.img_bg1.source = "bg_main_xj_3_jpg",
            this.img_bg2.source = "bg_main_xj_2_png",
            this.img_bg3.source = "bg_main_xj_1_png") : (this.img_bg1.source = "bg_main_fj_3_jpg",
            this.img_bg2.source = "bg_main_fj_2_png",
            this.img_bg3.source = "bg_main_fj_1_png"),
            Object(f.a)("lv") < 140)
                this.setState("normal");
            else {
                var e = o.Movie.create("dujie_2_ske_json");
                this.animeNode4.addChild(e),
                e.play("2"),
                this.setState("hard")
            }
            this.tap("dujie", this.start, this),
            this.tap("useBtn", this.userProp, this),
            this.tap("btn_boss", this.onBoss, this),
            this.tap("btn_adv", (function() {
                Ri.d.show({
                    isIcon: !0,
                    type: "duJie",
                    state: "common",
                    confId: 29
                })
            }
            ), this),
            this.tap("btn_quit", this.onLeave, this),
            this.on("dujie_use_succ", this.refreshView, this),
            this.on("refresh_advert_success", this.refreshView, this),
            this.disposeArr.push(Object(je.b)("渡劫激励视频", this.btn_adv)),
            o.cache.onChange("Bag.getList", this.refreshView, this, this.disposeArr),
            o.cache.onChange("userLv.getInfo", this.refreshView, this, this.disposeArr),
            o.cache.onChange("playGuide.getList", (function() {
                t.playGuide = Object(M.a)()
            }
            ), this, this.disposeArr);
            var n = o.cache.get("userLv.getInfo")
              , i = this;
            n && n.i.delTime && (this.tickId = egret.setTimeout((function() {
                console.log("刷新等级!"),
                Object(st.c)("u.ae", "userLv.getInfo").then((function() {
                    i.refreshView(),
                    Object(o.tooltip)(Object(o.tr)("main@refreshSucc"))
                }
                ))
            }
            ), this, 1e3 * (n.i.delTime + 1))),
            this.refreshView(),
            this.disposeArr.push({
                dispose: function() {
                    t.duJieMv && t.duJieMv.dispose(),
                    t.duJie2Mv && t.duJie2Mv.dispose(),
                    t.successMv && t.successMv.dispose(),
                    egret.clearTimeout(t.timePlay),
                    egret.clearTimeout(t.timeLabel)
                }
            })
        }
        ,
        e.prototype.refreshView = function() {
            var t;
            this.user = Object(f.a)(),
            this.levelConf = Object(o.getConfig)("level_json")[this.user.lv],
            t = 100 == this.succRate() ? Object(o.tr)("main@succRate1") : Object(o.tr)("main@succRate2", {
                num: this.succRate()
            });
            var e = Object(M.n)();
            this.user.tqInfo.tq2 > 0 ? t += Object(o.tr)("main@monthcardSucc2") : e > 0 && (t += Object(o.tr)("main@monthcardSucc1")),
            this.pro.textFlow = (new egret.HtmlTextParser).parser(t),
            this.des.textFlow = (new egret.HtmlTextParser).parser(Object(o.tr)("main@hijackFail", {
                num: this.levelConf.failDecExp
            }));
            var n = Bt.e.getNum(this.levelConf.useItemId);
            if (this.prop.uiData = {
                num: n,
                propId: this.levelConf.useItemId
            },
            this.prop.lbl_name.text = Object(o.tr)(Object(o.getConfig)("item_json")[this.levelConf.useItemId].name),
            this.user.lv >= 140) {
                var i = o.cache.get("userLv.getInfo");
                this.img_done.visible = i && 1 == i.i.isKillBoss,
                this.succRate()
            }
            this.refreshAdvert()
        }
        ,
        e.prototype.refreshAdvert = function() {
            this.btn_adv.visible = Object(cn.a)(29, "duJie"),
            Object(o.put)("refresh_advert_red", "duJie")
        }
        ,
        e.prototype.onExit = function() {
            egret.clearTimeout(this.tickId),
            t.prototype.onExit.call(this)
        }
        ,
        e.prototype.start = function() {
            var t = this;
            100 == this.succRate() ? this.startDujie() : Object(o.confirm)(Object(o.tr)("main@startDujie")).then((function(e) {
                "yes" == e && t.startDujie()
            }
            ))
        }
        ,
        e.prototype.startDujie = function() {
            var t = this;
            o.cache.set("XiuLian_Status", !0),
            Object(o.getSocket)().request({
                route: "u.ab",
                p: {
                    type: 1
                }
            }).then((function(e) {
                console.log(e),
                o.cache.set("userLv.getInfo", null),
                o.audio.playEffect("bgm_dujie_mp3"),
                1 == e.is_success ? t.PlayMovie(!0) : t.PlayMovie(!1),
                Object(o.put)("xiulian_refresh"),
                o.cache.set("XiuLian_Status", !1)
            }
            )).catch((function() {
                o.cache.set("XiuLian_Status", !1)
            }
            ))
        }
        ,
        e.prototype.userProp = function() {
            var t = this;
            Object(D.a)("shopItem_json").then((function() {
                Bt.e.hasEnough(t.levelConf.useItemId, 1, !1) ? Object(te.a)(new Ni, t.levelConf.useItemId) : t.showShop()
            }
            ))
        }
        ,
        e.prototype.PlayMovie = function(t) {
            var e = this;
            this.btn_quit.enabled = !1,
            this.btn_boss.enabled = !1,
            this.setState("play"),
            this.user.lv >= 140 ? (this.duJieMv = o.Movie.create("dujie_2_ske_json", !0),
            this.animeNode2.addChild(this.duJieMv)) : (this.duJieMv = o.Movie.create("dujie_ske_json", !0),
            this.animeNode1.addChild(this.duJieMv)),
            this.duJieMv.play("1", 1),
            this.duJieMv.atLast = !0,
            this.duJieMv.once(o.MovieEvent.COMPLETE, (function() {
                e.duJieMv.play("2", 1),
                e.duJieMv.once(o.MovieEvent.COMPLETE, (function() {
                    e.duJieMv.play("3", 1),
                    e.duJieMv.once(o.MovieEvent.COMPLETE, (function() {
                        e.duJieMv.play("4", 1),
                        t && (e.successMv = o.Movie.create("kedujie_ske_json", !0),
                        e.animeNode3.addChild(e.successMv),
                        e.successMv.play("1"))
                    }
                    ), e)
                }
                ), e)
            }
            ), this),
            this.timeLabel = egret.setTimeout((function() {
                e.playDes.text = Object(o.tr)("main@dujieLog1", {
                    name: e.user.uNa
                }),
                egret.Tween.get(e.playDes).to({
                    alpha: 1
                }, 500).to({}, 700).to({
                    alpha: 0
                }, 400).call((function() {
                    e.playDes.text = Object(o.tr)("main@dujieLog2"),
                    egret.Tween.get(e.playDes).to({
                        alpha: 1
                    }, 500).to({}, 700).to({
                        alpha: 0
                    }, 400).call((function() {
                        e.duJie2Mv = o.Movie.create("dujie_ske_json", !0),
                        e.playDes.text = Object(o.tr)("main@dujieLog3"),
                        egret.Tween.get(e.playDes).to({
                            alpha: 1
                        }, 500).to({}, 1150).to({
                            alpha: 0
                        }, 400).call((function() {
                            e.playDes.text = Object(o.tr)("main@dujieLog4", {
                                name: e.user.uNa
                            }),
                            egret.Tween.get(e.playDes).to({
                                alpha: 1
                            }, 500).to({}, 1250).to({
                                alpha: 0
                            }, 700).call((function() {
                                e.playDes.text = Object(o.tr)("main@dujieLog5"),
                                egret.Tween.get(e.playDes).to({
                                    alpha: 1
                                }, 500).to({}, 700).to({
                                    alpha: 0
                                }, 400).call((function() {
                                    t ? (e.playDes.text = Object(o.tr)("main@dujieSucc1", {
                                        name: e.user.uNa
                                    }),
                                    e.levelConf = Object(o.getConfig)("level_json")[e.user.lv],
                                    e.playDes2.text = Object(o.tr)("main@dujieSucc2", {
                                        level: Object(o.tr)(e.levelConf.name)
                                    })) : (e.playDes.text = Object(o.tr)("main@dujieFail1", {
                                        name: e.user.uNa
                                    }),
                                    e.playDes2.text = Object(o.tr)("main@dujieFail2", {
                                        num: e.levelConf.failDecExp
                                    })),
                                    e.btn_quit.enabled = !0,
                                    egret.Tween.get(e.playDes).to({
                                        alpha: 1
                                    }, 500).to({}, 1e3).call((function() {
                                        var n;
                                        (egret.Tween.get(e.playDes2).to({
                                            alpha: 1
                                        }, 500),
                                        egret.Tween.get(e.btn_quit).to({
                                            alpha: 1
                                        }, 500),
                                        "mododxyx" == Object(o.getPlatform)().name) && (t ? (n = Object(g.d)("moduoTotalShare")) && e.user.lv % 10 == 1 && Ye.a.show(Ye.c.lv) : (n = Object(g.d)("moduoTotalShare")) && n.FailShare_lv == Object(f.a)("lv") && Ye.a.show(Ye.c.lvFail))
                                    }
                                    ))
                                }
                                ))
                            }
                            ), 700)
                        }
                        ))
                    }
                    ))
                }
                ), e)
            }
            ), this, 500),
            egret.Tween.get(this.shadow).to({}, 500).to({
                alpha: .8
            }, 1e3).to({}, 9e3).to({
                alpha: 0
            }, 1e3)
        }
        ,
        e.prototype.succRate = function() {
            var t = this.levelConf.succRate
              , e = Object(M.n)();
            if (this.user.tqInfo.tq2 > 0 ? t = Object(o.getConfig)("privilegeCard_json")[1072].duJiePer + t : e > 0 && (t = Object(o.getConfig)("privilegeCard_json")[1071].duJiePer + t),
            t = (t + this.user.lvRate) / 100,
            this.user.lv >= 140) {
                var n = o.cache.get("userLv.getInfo");
                n && 1 == n.i.isKillBoss && (t += 10)
            }
            return t > 100 ? 100 : t
        }
        ,
        e.prototype.showShop = function() {
            var t, e = this, n = Object(o.getConfig)("shopItem_json");
            for (var i in n)
                n[i].itemId == this.levelConf.useItemId && (t = n[i].shopType);
            t ? Object(o.singleton)(Si.a).checkRes(t).then((function() {
                Object(o.singleton)(Si.a).getShopData(t).then((function() {
                    var n = Object(o.singleton)(Si.a).getShopModel(t, e.levelConf.useItemId);
                    n && Object(te.a)(new Ci.a, n)
                }
                ))
            }
            )) : Object(o.tooltip)(Object(o.tr)("main@shopNoDanYao"))
        }
        ,
        e.prototype.onBoss = function() {
            var t = o.cache.get("userLv.getInfo");
            t && 1 == t.i.isKillBoss || Object(o.confirm)(Object(o.tr)("main@dujieboss")).then((function(t) {
                "yes" == t && Object(o.getSocket)().request("u.af").then((function(t) {
                    console.log(t),
                    Di.b.show(t.fightLog, !0, 1e3).exit((function(t) {
                        t.isWin || (t.isMax ? Object(o.confirm)({
                            text: Object(o.tr)("main@fightFlatLog", {
                                name: Object(f.a)("uNa")
                            }),
                            showNo: !1
                        }) : Object(o.confirm)({
                            text: Object(o.tr)("main@fightLoseLog", {
                                dfd: Object(o.tr)("main@jieling")
                            }),
                            showNo: !1
                        }))
                    }
                    ))
                }
                ))
            }
            ))
        }
        ,
        e.prototype.onLeave = function() {
            o.UI.remove(this),
            this.playGuide && De.a.openPrediction()
        }
        ,
        e.show = function() {
            return Li(this, void 0, void 0, (function() {
                return Ai(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return Object(f.a)("lv") >= 140 ? [4, Object(st.c)("u.ae", "userLv.getInfo")] : [3, 2];
                    case 1:
                        t.sent(),
                        t.label = 2;
                    case 2:
                        return [4, Object(D.a)("privilegeCard_json")];
                    case 3:
                        return t.sent(),
                        Object(te.a)(new e),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
      , Ni = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "DujiedanSkin"),
            e
        }
        return Ti(e, t),
        e.prototype.onReady = function(t) {
            this.itemId = t,
            this.refreshView(),
            o.cache.onChange("Bag.getList", this.refreshView, this, this.disposeArr)
        }
        ,
        e.prototype.refreshView = function() {
            this.itemConf = Object(o.getConfig)("item_json")[this.itemId],
            this.des.text = Object(o.tr)(this.itemConf.desc),
            this.itemName.text = Object(o.tr)(this.itemConf.name),
            this.tap("useBtn", this.use, this),
            this.tap("useAllBtn", this.useAll, this);
            var t = Bt.e.getNum(this.itemId);
            this.item.uiData = {
                propId: this.itemId,
                num: t
            }
        }
        ,
        e.prototype.use = function() {
            var t, e, n = this, i = Object(f.a)(), r = Object(o.getConfig)("level_json")[i.lv], a = Object(M.n)();
            t = i.tqInfo.tq2 > 0 ? Object(o.getConfig)("privilegeCard_json")[1072] : a > 0 ? Object(o.getConfig)("privilegeCard_json")[1071] : 0;
            var s = o.cache.get("userLv.getInfo");
            if (e = s && 1 == s.i.isKillBoss ? 1e3 : 0,
            (100 - (r.succRate + i.lvRate + t + e) / 100) / 5 <= 0)
                return Object(o.tooltip)(Object(o.tr)("main@dujieUse2")),
                void o.UI.remove(this);
            Object(o.getSocket)().request({
                route: "u.aa",
                p: {
                    userItemId: this.itemConf.id,
                    number: 1
                }
            }).then((function(t) {
                Object(o.put)("dujie_use_succ"),
                Object(o.tooltip)(Object(o.tr)("main@dujieUse1", {
                    num: t.addRate
                })),
                o.UI.remove(n)
            }
            )).catch(o.errorHandler)
        }
        ,
        e.prototype.useAll = function() {
            var t, e, n = this, i = 0, r = Bt.e.getNum(this.itemConf.id), a = Object(f.a)(), s = Object(o.getConfig)("level_json")[a.lv], c = Object(M.n)();
            t = a.tqInfo.tq2 > 0 ? Object(o.getConfig)("privilegeCard_json")[1072] : c > 0 ? Object(o.getConfig)("privilegeCard_json")[1071] : 0;
            var u = o.cache.get("userLv.getInfo");
            e = u && 1 == u.i.isKillBoss ? 1e3 : 0;
            var h = (100 - (s.succRate + a.lvRate + t + e) / 100) / 5;
            if (h <= 0)
                return Object(o.tooltip)(Object(o.tr)("main@dujieUse2")),
                void o.UI.remove(this);
            i = r >= h ? h : r,
            Object(o.getSocket)().request({
                route: "u.aa",
                p: {
                    userItemId: this.itemConf.id,
                    number: i
                }
            }).then((function(t) {
                Object(o.put)("dujie_use_succ"),
                Object(o.tooltip)(Object(o.tr)("main@dujieUse1", {
                    num: t.addRate
                })),
                o.UI.remove(n)
            }
            )).catch(o.errorHandler)
        }
        ,
        e
    }(o.UIComponent)
      , Bi = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Ei = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            return n._index = 0,
            Object(o.setSkin)(n, "MissionPanelSkin"),
            n._missionType = e,
            n
        }
        return Bi(e, t),
        e.prototype.onReady = function(t) {
            this.addBehavior(new se.a),
            this.updateView(t),
            this.tap("btn_next", this.onNext, this),
            this.tap("btn_previous", this.onPrevious, this),
            this.tap("btn_get", this.onGet, this),
            this.disposeArr.push(yt.ins.addUpdateCall(this._missionType, this.updateView))
        }
        ,
        Object.defineProperty(e.prototype, "missions", {
            get: function() {
                return this._missions = yt.ins.getMissions(this._missionType),
                this._missions
            },
            set: function(t) {
                this._missions = t
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.onGet = function() {
            var t = this
              , e = this.missions[this._index];
            e && (Number(e.p.num) >= Number(e.need) ? e.receive().then((function(e) {
                e && (me.a.show(e.awds),
                t.updateView(),
                Object(o.put)("updateMission"))
            }
            )) : e.type == tt.fairy ? Ea(e.c.taskType) : (Object(o.put)("common.getWay", Number(e.c.skip), e.c.skipId),
            o.UI.remove(this)))
        }
        ,
        e.prototype.onNext = function() {
            this._index < this.missions.length - 1 && (this._index++,
            this.updateView())
        }
        ,
        e.prototype.onPrevious = function() {
            this._index > 0 && (this._index--,
            this.updateView())
        }
        ,
        e.prototype.onExit = function() {
            Object(M.K)(),
            t.prototype.onExit.call(this)
        }
        ,
        e.prototype.updateView = function(t) {
            if (this.missions.length < 1)
                o.UI.remove(this);
            else {
                t && (this._index = this.missions.indexOf(t));
                var e = this.missions[this._index];
                this.gp_page.visible = this.missions.length > 1,
                this.lbl_page.text = this._index + 1 + "/" + this.missions.length,
                this.btn_next.enabled = this._index < this.missions.length - 1,
                this.btn_previous.enabled = this._index > 0;
                var n = Object(o.getConfig)("npc_json")[4052];
                this.updateNpc({
                    name: n.name,
                    icon: Object(Pe.d)(n, "NewHalf"),
                    identity: "",
                    npcObj: n
                }),
                this.updateTaskView(e)
            }
        }
        ,
        e.prototype.updateTaskView = function(t) {
            var e = "";
            Number(t.need) > 0 && (e = Object(o.tr)("main@mainTaskPro", {
                num: t.p.num,
                total: t.need
            })),
            this.lbl_content.text = Object(o.tr)(t.c.talk) + "\n\n" + Object(o.tr)("main@mainTaskLabel", {
                text: Object(o.tr)(t.c.desc)
            }) + "\n\n" + e,
            this.list.itemRenderer = PropListItem,
            Object(re.a)(this.list, t.rewards),
            this.btn_get.enabled = !0,
            Number(t.p.num) >= Number(t.need) ? this.btn_get.label = Object(o.tr)("main@get") : t.c.skip || t.type == tt.fairy ? this.btn_get.label = Object(o.tr)("main@go") : (this.btn_get.enabled = !1,
            this.btn_get.label = Object(o.tr)("main@get"))
        }
        ,
        e.prototype.updateNpc = function(t) {
            this.lbl_name.text = t.name,
            this.img_npc.source = t.icon,
            this.lbl_identity && (this.lbl_identity.text = t.identity),
            t.npcObj && Object(M.O)(t.npcObj)
        }
        ,
        e.show = function(t, n) {
            Object(te.a)(new e(t), n)
        }
        ,
        e
    }(o.UIComponent)
      , Di = n(186)
      , Gi = n(303)
      , Vi = n(351)
      , Ui = n(143)
      , Hi = n(138)
      , Fi = n(209)
      , zi = n(182)
      , qi = n(253)
      , Wi = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Xi = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , Yi = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , Ji = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e._cds = [],
            Object(o.setSkin)(e, "HollowMainSkin"),
            e
        }
        return Wi(e, t),
        e.prototype.onReady = function() {
            this.addBehavior(new se.a),
            this.updateView(),
            this.tap("btn_1", this.onBtn1, this),
            this.tap("btn_2", this.onBtn2, this),
            this.tap("btn_3", this.onOccupy, this),
            this.tap("btn_4", this.onBtn4, this),
            this.tap("btn_5", this.onBtn5, this),
            this.tap("btn_shop", this.onShop, this),
            this.disposeArr.push(Object(je.b)("虚空众神", this.btn_1)),
            this.disposeArr.push(Object(je.b)("裂缝次数", this.btn_2)),
            this.disposeArr.push(Object(je.b)("虚空探索", this.btn_3)),
            this.disposeArr.push(Object(je.b)("虚空之影", this.btn_4))
        }
        ,
        e.prototype.updateView = function() {
            this.clearCD(),
            this.setBtn(this.btn_1, "crossWar"),
            this.setBtn(this.btn_2, "voidAppears"),
            this.setBtn(this.btn_3, "voidExplore"),
            this.setBtn(this.btn_4, "voidBoss"),
            this.setBtn(this.btn_5, "voidChaos")
        }
        ,
        e.prototype.clearCD = function() {
            for (var t = 0; t < this._cds.length; t++)
                this._cds[t].dispose();
            this._cds = []
        }
        ,
        e.prototype.setBtn = function(t, e) {
            var n = Object(g.d)(e, Object(o.getCache)("Hollow.getList", "l"));
            if (n) {
                var i = t.lbl_course
                  , r = t.lbl_time
                  , a = u.a.getNow();
                if (a < n.start) {
                    var s = new Ue.a({
                        component: i,
                        endTime: n.start,
                        trKey: Object(o.tr)("commact@wait"),
                        complete: this.updateView.bind(this)
                    });
                    this._cds.push(s)
                } else if (a >= n.end)
                    i.text = Object(o.tr)("commact@end");
                else {
                    s = new Ue.a({
                        component: i,
                        endTime: n.end,
                        trKey: Object(o.tr)("mid@endDowntime"),
                        complete: this.updateView.bind(this)
                    });
                    this._cds.push(s)
                }
                r.text = Object(o.tr)("main@actTime", {
                    time1: u.a.getLocaleFormat(n.start),
                    time2: u.a.getLocaleFormat(n.end)
                })
            } else
                t.visible = !1
        }
        ,
        e.prototype.setFirstFlag = function(t, e) {
            var n = Object(o.getLocalStorage)().getString(zi.a.STORAGE_KEY_HOL, "")
              , i = "" == n ? [] : n.split(",")
              , r = i.findIndex((function(n) {
                var i = n.split(":");
                if (i[0] == t && i[1] == e)
                    return !0
            }
            ));
            -1 == r ? i.push(t + ":" + e) : i[r] = t + ":" + e;
            var a = i.join(",");
            return Object(o.getLocalStorage)().setString(zi.a.STORAGE_KEY_HOL, a)
        }
        ,
        e.prototype.getFirstFlag = function(t, e) {
            return !Object(o.getLocalStorage)().getString(zi.a.STORAGE_KEY_HOL, "").split(",").find((function(n) {
                var i = n.split(":");
                if (i[0] == t && i[1] == e)
                    return !0
            }
            ))
        }
        ,
        e.prototype.onBtn1 = function() {
            Object(g.e)("crossWar", !0, g.a.close, Object(o.getCache)("Hollow.getList", "l")) && (this.getFirstFlag(1, Object(g.d)("crossWar", Object(o.getCache)("Hollow.getList", "l")).start) ? (Fi.a.show({
                mapName: Object(o.tr)("hol@title1"),
                desc: Object(o.tr)("hol@story1")
            }, De.a.openHolGodPVP),
            this.setFirstFlag(1, Object(g.d)("crossWar", Object(o.getCache)("Hollow.getList", "l")).start)) : De.a.openHolGodPVP())
        }
        ,
        e.prototype.onBtn2 = function() {
            Object(g.e)("voidAppears", !0, g.a.close, Object(o.getCache)("Hollow.getList", "l")) && (this.getFirstFlag(2, Object(g.d)("voidAppears", Object(o.getCache)("Hollow.getList", "l")).start) ? (Fi.a.show({
                mapName: Object(o.tr)("hol@title2"),
                desc: Object(o.tr)("hol@story2")
            }, De.a.openHolBoss),
            this.setFirstFlag(2, Object(g.d)("voidAppears", Object(o.getCache)("Hollow.getList", "l")).start)) : De.a.openHolBoss())
        }
        ,
        e.prototype.onOccupy = function() {
            Object(g.e)("voidExplore", !0, g.a.close, Object(o.getCache)("Hollow.getList", "l")) && (this.getFirstFlag(3, Object(g.d)("voidExplore", Object(o.getCache)("Hollow.getList", "l")).start) ? (Fi.a.show({
                mapName: Object(o.tr)("hol@title3"),
                desc: Object(o.tr)("hol@story3")
            }, De.a.openHolOccupy),
            this.setFirstFlag(3, Object(g.d)("voidExplore", Object(o.getCache)("Hollow.getList", "l")).start)) : De.a.openHolOccupy())
        }
        ,
        e.prototype.onBtn4 = function() {
            var t = this;
            0 != Object(f.a)("guildId") ? Object(g.e)("voidBoss", !0, g.a.close, Object(o.getCache)("Hollow.getList", "l")) && Object(st.d)("vo.ba").then((function(e) {
                e && (e.guildLv < 4 ? Object(o.tooltip)(Object(o.tr)("main@noGuildLv", {
                    num: e.guildLv
                })) : (o.cache.set("VoidBoss.getInfo", e),
                t.getFirstFlag(4, Object(g.d)("voidBoss", Object(o.getCache)("Hollow.getList", "l")).start) ? (De.a.openVoidBoss(!0),
                t.setFirstFlag(4, Object(g.d)("voidBoss", Object(o.getCache)("Hollow.getList", "l")).start)) : De.a.openVoidBoss()))
            }
            )) : Object(o.tooltip)(Object(o.tr)("main@noGuild"))
        }
        ,
        e.prototype.onBtn5 = function() {
            Object(g.e)("voidChaos", !0, g.a.close, Object(o.getCache)("Hollow.getList", "l")) && this.getFirstFlag(5, Object(g.d)("voidChaos", Object(o.getCache)("Hollow.getList", "l")).start) && (Fi.a.show({
                mapName: Object(o.tr)("hol@title5"),
                desc: Object(o.tr)("hol@story5")
            }),
            this.setFirstFlag(5, Object(g.d)("voidChaos", Object(o.getCache)("Hollow.getList", "l")).start))
        }
        ,
        e.prototype.onShop = function() {
            Ui.b.show(Hi.d.func, "void", [{
                text: Object(o.tr)("hol@shopTab1"),
                name: "1"
            }, {
                text: Object(o.tr)("hol@shopTab2"),
                name: "2"
            }], {
                desc: Object(o.tr)("hol@shopDesc")
            })
        }
        ,
        e.show = function() {
            return Xi(this, void 0, void 0, (function() {
                return Yi(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Object(le.b)([Object(st.a)("vo.ata", "Hollow.getList"), Object(D.a)("void_json"), Object(o.getLocale)().init("commact"), Object(o.getLocale)().init("hol"), Object(o.getLocale)().init("vd"), Object(qi.b)("HollowMainView")].concat(Object(Te.a)("mid_1&mid_2")))];
                    case 1:
                        return t.sent(),
                        [2, Object(te.a)(new e)]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
      , $i = n(202)
      , Ki = n(162)
      , Qi = n(136)
      , Zi = n(163)
      , to = function() {
        function t() {}
        return Object.defineProperty(t, "ins", {
            get: function() {
                return Object(o.singleton)(t)
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.getLotteryOption = function() {
            var t = new $i.b
              , e = Object(g.d)("hoDraw").cId || 1
              , n = Object(y.e)("hoDraw", e, "festivalActivity_json");
            return t.conf = "festivalActivity_json",
            t.costId = 20009,
            t.nameMap = {
                main: "hoDraw",
                scoreReward: "sfScoreReward",
                gift: "ocGift",
                progress: "hoScoreReward"
            },
            t.resMap = {
                bg: "bg_activity_petGift_jpg"
            },
            t.trMap = {
                periodTime: "bounty@lightPeriodTime",
                closeTime: "bounty@lightCloseTime",
                disStart: "bounty@lightDisStart",
                disEnd: "bounty@lightDisEnd",
                disClose: "bounty@lightDisClose",
                luckyV: "bounty@lotRate",
                log: "bounty@lotteryLog",
                rewardItemDesc: "bounty@lotRewardDesc",
                resultDesc: "bounty@lotResultDesc",
                petDesc: "bounty@pet_get",
                freeTime: "bounty@freeTime"
            },
            t.txtMap = {
                helpT: Object(o.tr)("bounty@lotteryTitle"),
                helpC: Object(o.tr)("bounty@lotteryContent"),
                prevT: Object(o.tr)("bounty@lotPrevTitle"),
                rateT: Object(o.tr)("bounty@lotRateT"),
                rateC: Object(o.tr)("bounty@lotteryRateC", {
                    proText1: Bt.e.getName(10591) + ":" + Object(M.l)(n.detail[0].exAwards),
                    proText2: Bt.e.getName(10592) + ":" + Object(M.l)(n.detail[1].exAwards),
                    proText3: Bt.e.getName(10593) + ":" + Object(M.l)(n.detail[2].exAwards)
                }),
                taskT: Object(o.tr)("bounty@lotRewardTitle"),
                rankRewardT: ""
            },
            t.mvMap = {
                lottery: "gift_1_ske_json",
                lucky: "act_fudai_2_ske_json",
                bg: "pet_45_ske_json"
            },
            t.routeMap = {
                lottery: "at.ha",
                log: "at.hb",
                rewardGet: "at.cf",
                taskGet: "",
                proGet: "at.cf"
            },
            t.typeMap = {
                shopType: Hi.d.act,
                shop: "hoDrawShop"
            },
            t.extraMap = {
                petId: 39,
                tweenRotation: 90,
                freeTime: "drawNum",
                maxFreeTime: 10,
                putChange: "refresh_xianShouGift",
                cost1: 10,
                cost2: 90
            },
            t.boxTypeMap = {
                1: 10591,
                2: 10592,
                3: 10593
            },
            t.prevTabArr = [{
                text: Bt.e.getName(10593),
                name: "2",
                icon: "gift_box_3_png",
                iconDown: "gift_box_line_3_png"
            }, {
                text: Bt.e.getName(10592),
                name: "1",
                icon: "gift_box_2_png",
                iconDown: "gift_box_line_2_png"
            }, {
                text: Bt.e.getName(10591),
                name: "0",
                icon: "gift_box_1_png",
                iconDown: "gift_box_line_1_png"
            }],
            t.rankTabArr = [{
                text: Object(o.tr)("commact@selfReward"),
                name: "1",
                id: "petRank1",
                confName: t.conf,
                rankText: Object(o.tr)("commact@score"),
                rankType: Ki.b.cross
            }, {
                text: Object(o.tr)("commact@guildReward"),
                name: "2",
                id: "petRank2",
                confName: t.conf,
                rankText: Object(o.tr)("commact@score"),
                rankType: Ki.b.guildCross
            }],
            t.obtainInfo = [{
                name: "1",
                text: Object(o.tr)("commact@exchangeProp"),
                itemRenderer: Qi.a,
                itemSkinName: "itemSchoolShopSkin",
                getList: this.getExchange.bind(this)
            }],
            t
        }
        ,
        t.prototype.getDetialConf = function(t) {
            var e, n;
            return (n = Object(o.getConfig)("festivalActivity_oc_json")[t].list).length > 0 && (e = n[0].detail),
            e
        }
        ,
        t.prototype.getExchange = function() {
            var t = Object(y.e)("ocExchange", Object(g.d)("ocExchange").cId, "festivalActivity_oc_json").detail;
            return this._ExchangeList = t.map((function(t) {
                return new Zi.a("ocExchange",t)
            }
            )),
            this._ExchangeList
        }
        ,
        t.prototype.getRankData = function() {
            return [{
                text: Object(o.tr)("commact@selfReward"),
                name: "2",
                id: "petRank1",
                confName: "festivalActivity_oc_json",
                rankText: Object(o.tr)("commact@score"),
                rankType: Ki.b.cross
            }, {
                text: Object(o.tr)("commact@guildReward"),
                name: "2",
                id: "petRank2",
                confName: "festivalActivity_oc_json",
                rankText: Object(o.tr)("commact@score"),
                rankType: Ki.b.guildCross
            }]
        }
        ,
        t
    }();
    var eo = n(254)
      , no = n(268)
      , io = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , oo = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , ro = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , ao = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "SeductionTaskSkin"),
            e
        }
        return io(e, t),
        e.prototype.onReady = function() {
            this.list.itemRenderer = so,
            this.updateView(),
            this.on("refresh_seduction_task", this.updateView, this),
            this.tap("btn_duihuan", this.exchange, this),
            this.refreshTime()
        }
        ,
        e.prototype.refreshTime = function() {
            var t = this;
            this.clean();
            var e, n = Object(g.d)("fashionTotalRecharge"), i = u.a.getNow();
            n.end < i ? this.lbl_countdown.text = Object(o.tr)("main@actEnd") : i < (e = n.end) ? this._countdown = new Ue.a({
                component: this.lbl_countdown,
                endTime: e,
                textFlowKey: function(t) {
                    return o.time.leftCountdown(t, Object(o.tr)("main@actTimeDjs"))
                },
                complete: function() {
                    t.refreshTime()
                }
            }) : this.lbl_end.text = Object(o.tr)("main@noOpen")
        }
        ,
        e.prototype.clean = function() {
            this._countdown && (this._countdown = null)
        }
        ,
        e.prototype.updateView = function() {
            Object(re.a)(this.list, eo.b.ins.getSeductionTaskData())
        }
        ,
        e.prototype.exchange = function() {
            Object(o.singleton)(no.a).getWay(1018)
        }
        ,
        e.show = function() {
            return oo(this, void 0, void 0, (function() {
                return ro(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Object(le.b)([Object(D.a)("festivalActivity_json")])];
                    case 1:
                        return t.sent(),
                        Object(te.a)(new e),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
      , so = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return io(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.lbl_desc.text = t.desc,
            this.lbl_num.text = t.num,
            this.lbl_num.textColor = t.color,
            this.btn_take.enabled = 0 != t.receive,
            this.btn_take.label = t.btnLabel,
            this.btn_take.visible = 1 != t.receive,
            this.btn_qwcz.visible = 1 == t.receive,
            Object(re.a)(this.list_item, this.data.c.awards))
        }
        ,
        e.prototype.onReady = function() {
            this.list_item.itemRenderer = PropListItem,
            this.tap("btn_take", this.take, this),
            this.tap("btn_qwcz", this.getWay, this)
        }
        ,
        e.prototype.take = function() {
            if (2 == this.data.receive) {
                var t = this.data.c.awards;
                if (Object(Bt.m)(t))
                    return;
                Object(st.d)("at.au", {
                    id: this.data.c.id,
                    type: "fashionTotalRecharge"
                }).then((function(t) {
                    me.a.show(t.awds),
                    Object(o.put)("refresh_seduction_task")
                }
                ))
            }
        }
        ,
        e.prototype.getWay = function() {
            Zt.b.show(Zt.c.recharge)
        }
        ,
        e
    }(o.Item)
      , co = n(154)
      , uo = n(137)
      , ho = function() {
        function t() {
            this._sevenStarPowerData = []
        }
        return Object.defineProperty(t, "ins", {
            get: function() {
                return Object(o.singleton)(t)
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.getData = function() {
            if (0 == this._sevenStarPowerData.length)
                for (var t = Object(o.getConfig)("festivalActivity_json").sevenStarPower.list[0], e = 0; e < t.detail.length; e++)
                    this._sevenStarPowerData.push(new lo(t.detail[e]));
            return this._sevenStarPowerData = this._sevenStarPowerData.sort((function(t, e) {
                return e.getSort - t.getSort
            }
            )),
            this._sevenStarPowerData
        }
        ,
        t
    }()
      , lo = function() {
        function t(t) {
            this.c = t;
            for (var e = Object(g.d)("sevenStarPower"), n = 0; n < e.l.length; n++)
                if (e.l[n].id == this.c.id) {
                    this.p = e.l[n];
                    break
                }
        }
        return Object.defineProperty(t.prototype, "limit", {
            get: function() {
                return this.p.num + "/" + this.c.totalLimit
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "getSort", {
            get: function() {
                if (this.p.limit == this.p.num)
                    return 1;
                for (var t = 0; t < this.c.cost.length; t++)
                    if (!Bt.e.hasEnough(this.c.cost[t].itemId, this.c.cost[t].num, !1))
                        return 2;
                return 3
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , po = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , fo = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , bo = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , go = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return po(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.item.propId = t.c.itemId,
            this.item.num = t.c.num,
            Object(re.a)(this.list, t.c.cost),
            this.lbl_num.text = t.limit,
            this.gp_soldOut.visible = 1 == t.getSort,
            this.gp_btn.visible = 1 != t.getSort)
        }
        ,
        e.prototype.onReady = function() {
            this.list.itemRenderer = PropListItem,
            this.tap("btn_exchange", this.onExchange, this)
        }
        ,
        e.prototype.onExchange = function() {
            2 != this.data.getSort ? Object(st.d)("at.w", {
                activityName: "sevenStarPower",
                id: this.data.c.id
            }).then((function(t) {
                me.a.show(t.awds),
                Object(o.put)("refresh_seven_Star")
            }
            )) : Object(o.tooltip)(Object(o.tr)("main@itemNotEnough2"))
        }
        ,
        e
    }(o.Item)
      , _o = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "SevenStarPowerSkin"),
            e
        }
        return po(e, t),
        e.prototype.onReady = function() {
            this.list.itemRenderer = go,
            this.updateView(),
            this._downFormat = "dd" + Object(o.tr)("main@day") + " hh:mm:ss",
            this.downtime(),
            this.on("refresh_seven_Star", this.updateView, this),
            this.disposeArr.push(Object(o.setInterval)(this.downtime, this, 1e3)),
            this.tap("btn_help", (function() {
                Le.a.show({
                    title: Object(o.tr)("main@helpTitle"),
                    content: Object(o.tr)("main@sevenStarHelp")
                })
            }
            ), this)
        }
        ,
        e.prototype.updateView = function() {
            Object(re.a)(this.list, ho.ins.getData())
        }
        ,
        e.prototype.downtime = function() {
            var t, e;
            this._actData || (this._actData = Object(g.d)("sevenStarPower"));
            var n = u.a.getNow();
            n < this._actData.start ? (t = this._actData.start,
            e = Object(o.tr)("mid@startDowntime", {
                time: o.time.leftCountdown(t - u.a.getNow(), this._downFormat)
            })) : n < this._actData.end ? (t = this._actData.end,
            e = Object(o.tr)("mid@endDowntime", {
                time: o.time.leftCountdown(t - u.a.getNow(), this._downFormat)
            })) : n < this._actData.awardEnd ? (t = this._actData.awardEnd,
            e = Object(o.tr)("mid@awardEndDowntime", {
                time: o.time.leftCountdown(t - u.a.getNow(), this._downFormat)
            })) : e = "",
            this.lbl_time.text = e
        }
        ,
        e.show = function() {
            return fo(this, void 0, void 0, (function() {
                return bo(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Object(le.b)([Object(D.a)("festivalActivity_json")].concat(Object(Te.a)("mid_1&mid_2")))];
                    case 1:
                        return t.sent(),
                        Object(te.a)(new e),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
      , mo = n(347)
      , yo = n(158)
      , vo = n(363)
      , Oo = n(323)
      , jo = n(331)
      , wo = n(257)
      , xo = n(300)
      , ko = n(309)
      , Io = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Po = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , Co = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , So = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e._isBigMainPet = !1,
            e._moveMainPet = null,
            Object(ko.b)(),
            Object(o.setSkin)(e, "MainPetBtnSkin"),
            e
        }
        return Io(e, t),
        e.prototype.onReady = function() {
            var t = this;
            this.tap("btn_mpPlus", (function() {
                t.updateView(!0)
            }
            ), this),
            this.tap("btn_mpRrduce", (function() {
                t.updateView(!1)
            }
            ), this),
            this.tap("btn_mpSmall", (function() {
                De.a.openMainPet()
            }
            ), this),
            this.tap("btn_mpBig", (function() {
                De.a.openMainPet()
            }
            ), this),
            this.disposeArr.push(new dn.a(this.btn_mpBig,"仙兽灵宠",{
                name: "tybiaoti_1_ske_json",
                x: 100,
                y: 170,
                scaleX: 1,
                scaleY: 1.5
            })),
            this.disposeArr.push(new dn.a(this.btn_mpSmall,"仙兽灵宠",{
                name: "tongyongui_ske_json",
                x: 55,
                y: 47,
                scaleX: 1,
                scaleY: 1
            })),
            this._isBigMainPet = Object(o.getLocalStorage)().getBool("isBigShowMainPet", !0),
            this.updateView(this._isBigMainPet);
            var e = Object(f.a)("mainPet")
              , n = eui.Watcher.watch(e, ["lv"], (function() {
                t.updateView(t._isBigMainPet)
            }
            ), this);
            this.disposeArr.push(Object(o.on)("refresh_mainPetTasks", (function() {
                t.updateView(t._isBigMainPet)
            }
            ), this)),
            this.disposeArr.push({
                dispose: function() {
                    n.unwatch()
                }
            })
        }
        ,
        e.prototype.updateView = function(t) {
            return void 0 === t && (t = !1),
            Po(this, void 0, void 0, (function() {
                var e, n, i, r, a;
                return Co(this, (function(s) {
                    switch (s.label) {
                    case 0:
                        return this._isBigMainPet != t && (this._isBigMainPet = t,
                        Object(o.getLocalStorage)().setBool("isBigShowMainPet", this._isBigMainPet)),
                        this.mpSmall.visible = !1,
                        this.mpBig.visible = !1,
                        this.mpSmall.visible = !this._isBigMainPet,
                        this.mpBig.visible = this._isBigMainPet,
                        this.mpBig.visible ? (this._moveMainPet && (this._moveMainPet.parent && this._moveMainPet.parent.removeChild(this._moveMainPet),
                        this._moveMainPet.dispose(),
                        this._moveMainPet = null),
                        null != RES.getRes("mainPet_json") ? [3, 2] : [4, Object(D.a)("mainPet_json")]) : [3, 3];
                    case 1:
                        s.sent(),
                        s.label = 2;
                    case 2:
                        this.btn_mpBig.icon.visible = !1,
                        e = Object(o.getConfig)("mainPet_json", Object(f.a)("mainPet").id),
                        n = Object(f.a)("mainPet"),
                        i = Object(xo.a)(n.lv),
                        r = e.icon,
                        a = i < 3 ? "mainPet_" + n.id + "_" + i + "_ske_json" : "pet_" + r + "_ske_json",
                        this._moveMainPet = o.Movie.create(a),
                        this.btn_mpBig.animeNode2.addChild(this._moveMainPet),
                        this._moveMainPet.play("1"),
                        s.label = 3;
                    case 3:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.onExit = function() {}
        ,
        e
    }(o.Component);
    var Ro = n(141)
      , To = n(161)
      , Lo = n(139)
      , Ao = n(365)
      , Mo = function() {
        function t() {
            this.conf = "festivalActivity_json",
            this.costId = 10594,
            this.nameMap = {
                main: "mazeMap",
                scoreReward: "mmScore",
                task: "mmTask",
                exchange: "mmExchange",
                gift: "mmGift"
            },
            this.skinMap = {},
            this.resMap = {},
            this.rechargeArr = [],
            this.trMap = {
                periodTime: "commact@lightPeriodTime",
                rewardItemDesc: ""
            },
            this.txtMap = {
                helpT: Object(o.tr)("lotTitle"),
                helpC: Object(o.tr)("lotContent"),
                taskT: Object(o.tr)("lotRewardTitle"),
                rankRewardT: ""
            },
            this.routeMap = {
                move: "yr.i",
                rewardGet: "at.cf",
                nextMap: "yr.j",
                taskGet: "spr.dh"
            },
            this.redMap = {
                reward: "",
                obtain: ""
            },
            this.rankTabArr = [{
                text: Object(o.tr)("commact@selfReward"),
                name: "1",
                id: "mmRank1",
                confName: this.conf,
                rankText: Object(o.tr)("commact@score"),
                rankType: Ki.b.cross
            }, {
                text: Object(o.tr)("commact@crossReward"),
                name: "2",
                id: "mmRank2",
                confName: this.conf,
                rankText: Object(o.tr)("commact@score"),
                rankType: Ki.b.server
            }],
            this.obtainInfo = [{
                name: "1",
                text: Object(o.tr)("commact@festivalGift"),
                itemRenderer: Qi.b,
                itemSkinName: "ItemCommonFesPackageSkin",
                getList: this.getMapGift.bind(this),
                red: "云海探缘探索礼包",
                isRecharge: !0,
                putType: "aunuaGift"
            }, {
                name: "2",
                text: Object(o.tr)("commact@dailyExchange"),
                itemRenderer: Qi.a,
                itemSkinName: "itemSchoolShopSkin",
                getList: this.getMapExchange.bind(this)
            }, {
                name: "3",
                text: Object(o.tr)("commact@dailyTask"),
                itemRenderer: Ro.a,
                itemSkinName: "ItemCommonQuestSkin",
                getList: this.getMapTask.bind(this),
                red: "云海探缘探索任务"
            }]
        }
        return t.prototype.getMapExchange = function() {
            var t = this
              , e = Object(y.e)(this.nameMap.exchange, 0, this.conf).detail;
            return this._lotExchangeList = e.map((function(e) {
                return new Zi.a(t.nameMap.exchange,e)
            }
            )),
            this._lotExchangeList
        }
        ,
        t.prototype.getMapGift = function() {
            var t = this;
            return this._mazeGifts || (this._mazeGifts = Object(y.e)(this.nameMap.gift, 0, this.conf).detail.map((function(e) {
                return new Zi.b(t.nameMap.gift,e)
            }
            ))),
            this._mazeGifts = this._mazeGifts.sort((function(t, e) {
                return t.weal && !e.weal ? -1 : !t.weal && e.weal ? 1 : t.c.uniqId - e.c.uniqId
            }
            )),
            this._mazeGifts
        }
        ,
        t.prototype.getMapTask = function() {
            return Lo.a.ins.getActTaskList(this.nameMap.task, this.routeMap.taskGet, this.conf, null, {
                putType: "refresh_getGift"
            })
        }
        ,
        t
    }()
      , No = function() {
        function t() {}
        return Object.defineProperty(t, "ins", {
            get: function() {
                return Object(o.singleton)(t)
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.getMapList = function(t, e) {
            if (!this._mapList) {
                this._mapList = [];
                for (var n = this.getMapData(e), i = Object(o.getConfig)(t)[n.mapType], r = 0; r < i.length; r++)
                    this._mapList.push(new Bo(i[r],n.map[r]))
            }
            return this._mapList
        }
        ,
        t.prototype.getMapData = function(t) {
            return Object(g.d)(t)
        }
        ,
        t.prototype.gcMap = function() {
            this._mapList = null
        }
        ,
        t.prototype.getMapItem = function(t) {
            return this.getMapList().find((function(e) {
                return e.c.id == t
            }
            ))
        }
        ,
        t
    }()
      , Bo = function() {
        function t(t, e) {
            this.c = t,
            this.p = e
        }
        return Object.defineProperty(t.prototype, "step", {
            get: function() {
                return this.p.step || 0 == this.c.type
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "nearPoints", {
            get: function() {
                if (!this._nearPoints) {
                    this._nearPoints = {};
                    for (var t = this.c.nearPoint.split(","), e = 0; e < t.length; e++)
                        this._nearPoints[t[e]] = t[e]
                }
                return this._nearPoints
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "vailable", {
            get: function() {
                if (this.step)
                    return !1;
                for (var t = No.ins.getMapList(), e = 0; e < t.length; e++)
                    if (this.nearPoints[t[e].c.id] && t[e].step)
                        return !0;
                return !1
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , Eo = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Do = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , Go = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , Vo = function(t) {
        function e(e, n) {
            var i = t.call(this) || this;
            return i.option = n,
            i._bel = Object(Ao.a)(.14, .61, .92, .43),
            Object(o.setSkin)(i, e),
            i
        }
        return Eo(e, t),
        Object.defineProperty(e.prototype, "actData", {
            get: function() {
                return Object(g.d)(this.option.nameMap.main)
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.onReady = function() {
            var t = this;
            this.lbl_time.textFlow = (new egret.HtmlTextParser).parser(Object(o.tr)(this.option.trMap.periodTime, {
                time1: u.a.getLocaleFormat(this.actData.start),
                time2: u.a.getLocaleFormat(this.actData.end)
            })),
            this.updateView(),
            this.tap("btn_reward", (function() {
                Ro.b.show(t.option.txtMap.taskT, t.getTaskData.bind(t))
            }
            ), this),
            this.tap("btn_gift", (function() {
                Qi.c.show(t.option.obtainInfo)
            }
            ), this),
            this.tap("btn_rank", (function() {
                To.a.show(t.option.txtMap.rankRewardT, t.option.rankTabArr, t.option.rankSkinType)
            }
            ), this),
            this.tap("btn_help", (function() {
                Le.a.show({
                    title: t.option.txtMap.helpT,
                    content: t.option.txtMap.helpC
                })
            }
            ), this),
            this.tap("btn_refresh", this.onRefresh, this),
            this.disposeArr.push(Object(m.c)(this.list, this.onList.bind(this), this)),
            this.disposeArr.push(Object(je.b)(this.option.redMap.reward, this.btn_reward)),
            this.disposeArr.push(Object(je.b)(this.option.redMap.obtain, this.btn_gift)),
            this.disposeArr.push(Object(m.g)([this.actData.end], this.validView.bind(this), this))
        }
        ,
        e.prototype.updateView = function() {
            this.validView(),
            this.btn_refresh.visible = No.ins.getMapData(this.option.nameMap.main).isNext,
            this.list.itemRenderer = Uo;
            var t = Object(g.e)(this.option.nameMap.main, !0, g.a.normal)
              , e = Object(g.d)(this.option.nameMap.main);
            this.btn_reward.visible = u.a.getNow() > e.start,
            this.btn_gift.visible = t,
            this.updateMap()
        }
        ,
        e.prototype.validView = function() {
            this.btn_gift.visible = Object(g.e)(this.option.nameMap.main)
        }
        ,
        e.prototype.updateMap = function() {
            Object(re.a)(this.list, No.ins.getMapList(this.option.mapConf, this.option.nameMap.main))
        }
        ,
        e.prototype.getTaskData = function() {
            return Lo.a.ins.getActTaskList(this.option.nameMap.scoreReward, this.option.routeMap.rewardGet, this.option.conf, this.option.trMap.rewardItemDesc)
        }
        ,
        e.prototype.next = function() {}
        ,
        e.prototype.onList = function(t) {
            var e = this
              , n = t.item;
            if (!n.p.step && 0 != n.c.type) {
                for (var i, r = No.ins.getMapData(this.option.nameMap.main), a = Object(o.getConfig)(this.option.mapConf)[r.mapType].find((function(t) {
                    return 0 == t.type
                }
                )).id, s = !1, c = n.c.nearPoint.split(","), u = function(t) {
                    return c[t] == String(a) || (i = r.map.find((function(e) {
                        return e.id == c[t]
                    }
                    ))) && i.step ? (s = !0,
                    "break") : void 0
                }, h = 0; h < c.length; h++) {
                    if ("break" === u(h))
                        break
                }
                if (s) {
                    if (!Object(g.e)(this.option.nameMap.main, !0, g.a.normal))
                        return;
                    Bt.e.hasEnough(this.option.costId, 1) && Object(st.d)(this.option.routeMap.move, {
                        id: n.c.id
                    }).then((function(t) {
                        if (t)
                            if (t.awds = t.awds.concat({
                                propId: 10824,
                                num: t.score
                            }),
                            3 == n.c.type) {
                                e.img_mask.visible = !0;
                                var i = o.Movie.create("bounty_common_1_ske_json");
                                e.anim_reward.addChild(i),
                                i.once(o.MovieEvent.COMPLETE, (function() {
                                    e.img_mask.visible = !1,
                                    Vn.a.show(t),
                                    e.updateView()
                                }
                                ), e),
                                i.play("1", 1)
                            } else
                                Vn.a.show(t),
                                e.updateView()
                    }
                    ))
                } else
                    2 != n.c.type && 3 != n.c.type || ae.b.show(n.p.awds, Object(o.tr)("main@prevAward"), !1)
            }
        }
        ,
        e.prototype.onRefresh = function() {
            var t = this;
            Object(st.d)(this.option.routeMap.nextMap).then((function(e) {
                e && (No.ins.gcMap(),
                t.updateView())
            }
            ))
        }
        ,
        e.show = function(t, n) {
            return Do(this, void 0, void 0, (function() {
                return Go(this, (function(i) {
                    switch (i.label) {
                    case 0:
                        return [4, Object(le.b)([Object(D.a)(n.resMap.bg), Object(D.a)(n.mapConf)])];
                    case 1:
                        return i.sent(),
                        Object(te.a)(new e(t,n)),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
      , Uo = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return Eo(e, t),
        e.prototype.onDataUpdate = function(t) {
            var e;
            if (this.img_left.visible = !1,
            this.img_right.visible = !1,
            this.img_up.visible = !1,
            this.img_down.visible = !1,
            this.img_light.visible = !1,
            this.img_light2.visible = !1,
            t && t.p) {
                switch (0 == t.c.type && (this.img_state.source = "btn_maze_1_png",
                this.img_icon.source = ""),
                t.c.type) {
                case 1:
                    this.img_state.source = t.p.step ? "btn_maze_box_0_png" : "btn_maze_2_png",
                    this.img_icon.source = "";
                    break;
                case 2:
                    this.img_state.source = t.p.step ? "btn_maze_grey_png" : "btn_maze_3_png",
                    this.img_icon.source = t.p.step ? "btn_maze_box_2_png" : "btn_maze_box_1_png";
                    break;
                case 3:
                    this.img_state.source = t.p.step ? "btn_maze_grey_2_png" : "btn_maze_4_png",
                    this.img_icon.source = t.p.step ? "btn_maze_box_grey_2_png" : "btn_maze_box_3_png",
                    this.img_light.visible = !t.p.step,
                    this._mv || (this._mv = o.Movie.create("maze_light_ske_json"),
                    this.anim_permanent.addChild(this._mv),
                    this._mv.play("1"),
                    this._mv.touchEnabled = !1)
                }
                (e = t.vailable) ? (this.img_light2.visible = !0,
                this._tween || (this._tween = egret.Tween.get(this.img_light2, {
                    loop: !0
                }).to({
                    alpha: .35
                }, 500).to({
                    alpha: 1
                }, 500))) : this.img_light2.visible = !1;
                for (var n = t.c.nearPoint.split(","), i = void 0, r = 0; r < n.length; r++)
                    (i = n[r]) == t.c.id + 1 ? (this.img_right.source = t.step || No.ins.getMapItem(i).step ? "line_2_png" : "line_1_png",
                    this.img_right.visible = !0) : i == t.c.id - 1 ? (this.img_left.source = t.step || No.ins.getMapItem(i).step ? "line_2_png" : "line_1_png",
                    this.img_left.visible = !0) : i == t.c.id + 5 ? (this.img_down.source = t.step || No.ins.getMapItem(i).step ? "line_2_png" : "line_1_png",
                    this.img_down.visible = !0) : i == t.c.id - 5 && (this.img_up.source = t.step || No.ins.getMapItem(i).step ? "line_2_png" : "line_1_png",
                    this.img_up.visible = !0)
            } else
                this.img_icon.source = "",
                this.img_left.visible = this.img_right.visible = this.img_up.visible = this.img_down.visible = !1;
            this._tween && !e && (egret.Tween.removeTweens(this.img_light2),
            this.img_light2.alpha = 1,
            this._tween = null)
        }
        ,
        e.prototype.onExit = function() {
            egret.Tween.removeTweens(this.img_light2),
            this._mv && (this._mv.dispose(),
            this._mv = null),
            t.prototype.onExit.call(this)
        }
        ,
        e
    }(o.Item)
      , Ho = function() {
        function t() {}
        return t.prototype.getMazeOption = function() {
            var t = new Mo;
            return t.conf = "festivalActivity_json",
            t.costId = 10794,
            t.mapConf = "mazeMap_json",
            t.rechargeConf = "festivalActivity_re_json",
            t.nameMap = {
                main: "mazeMap",
                scoreReward: "mmScore",
                task: "mmTask",
                exchange: "mmExchange",
                gift: "mmGift"
            },
            t.resMap = {
                bg: "bg_oneyear_3_jpg",
                rechargeBg: "oneyear_title_5_png"
            },
            t.trMap = {
                periodTime: "commact@lightPeriodTime",
                rewardItemDesc: "annual@lotRewardDesc"
            },
            t.txtMap = {
                helpT: Object(o.tr)("annual@mapHelpT"),
                helpC: Object(o.tr)("annual@mapHelpC"),
                taskT: Object(o.tr)("annual@mapRewardT"),
                rankRewardT: "",
                rechargeR: Object(o.tr)("annual@recTaskRule"),
                rechargeT: Object(o.tr)("annual@recTaskTitle")
            },
            t.redMap = {
                reward: "云海探缘积分奖励",
                obtain: "云海探缘获取道具",
                recharge: "云海探缘充值"
            },
            t.routeMap = {
                move: "yr.i",
                rewardGet: "at.cf",
                nextMap: "yr.j",
                taskGet: "spr.dh"
            },
            t.rankTabArr = [{
                text: Object(o.tr)("commact@selfReward"),
                name: "1",
                id: "mmRank1",
                confName: "festivalActivity_json",
                rankText: Object(o.tr)("commact@score"),
                rankType: Ki.b.cross
            }, {
                text: Object(o.tr)("commact@guildReward"),
                name: "2",
                id: "mmRank2",
                confName: "festivalActivity_json",
                rankText: Object(o.tr)("commact@score"),
                rankType: Ki.b.guildCross
            }],
            t
        }
        ,
        t
    }()
      , Fo = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , zo = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelSipuRenzhengNewSkin"),
            e
        }
        return Fo(e, t),
        e.prototype.onReady = function() {
            var t = this;
            Object(D.a)("share_json").then((function() {
                var e = Object(o.getConfig)("share_json").tunameReward.list[0].awards;
                Object(re.a)(t.list, e);
                var n = Object(g.d)("tunameReward");
                t.received.visible = !1,
                2 == n.status && (t.received.visible = !0)
            }
            ))
        }
        ,
        e.prototype.onExit = function() {
            t.prototype.onExit.call(this)
        }
        ,
        e
    }(o.UIComponent)
      , qo = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Wo = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , Xo = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , Yo = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.imgArr = ["https://dl03.gm88.com/xmjlogo/share1/1.jpg", "https://dl03.gm88.com/xmjlogo/share1/2.jpg", "https://dl03.gm88.com/xmjlogo/share1/3.jpg", "https://dl03.gm88.com/xmjlogo/share1/4.jpg", "https://dl03.gm88.com/xmjlogo/share1/5.jpg", "https://dl03.gm88.com/xmjlogo/share1/6.jpg", "https://dl03.gm88.com/xmjlogo/share1/7.jpg"],
            Object(o.setSkin)(e, "DailyShareSkin"),
            e
        }
        return qo(e, t),
        e.prototype.onReady = function() {
            this.tap("shareBtn", this.share, this),
            this.tap("awdBtn", this.get, this),
            this.on("refresh_dailyShare", this.refreshView, this),
            this.list.itemRenderer = Jo,
            this.refreshView(),
            this.shareData = Object(g.d)("fbTotalShare"),
            o.cache.onChange("Activity.getList", this.refreshView, this, this.disposeArr),
            this.on("do_share_done", this.shareResult, this)
        }
        ,
        e.prototype.onExit = function() {}
        ,
        e.prototype.refreshView = function() {
            var t = Object(o.getConfig)("share_json")
              , e = Object(g.d)("fbTotalShare")
              , n = t.fbTotalShare.list.map((function(t) {
                for (var n = 0; n < e.l.length; n++)
                    if (e.l[n].id == t.id)
                        return new sn(e.l[n],t)
            }
            ))
              , i = n.filter((function(t) {
                return 0 == t.p.awded
            }
            ))
              , r = n.filter((function(t) {
                return 1 == t.p.awded
            }
            ));
            n = i.concat(r),
            Object(re.a)(this.list2, t.fbDailyShare.list[0].awards),
            Object(re.a)(this.list, n),
            0 == e.awded ? (this.awded.visible = !1,
            this.awdBtn.visible = !1,
            this.shareBtn.visible = !0) : 1 == e.awded ? (this.awded.visible = !1,
            this.awdBtn.visible = !0,
            this.shareBtn.visible = !1) : (this.awded.visible = !0,
            this.awdBtn.visible = !1,
            this.shareBtn.visible = !0)
        }
        ,
        e.prototype.get = function() {
            Object(o.getSocket)().request({
                route: "at.t"
            }).then((function(t) {
                console.log(t),
                me.a.show(t.awds)
            }
            ))
        }
        ,
        e.prototype.share = function() {
            if (Object(g.n)()) {
                var t = this.imgArr[Math.floor(Math.random() * this.imgArr.length)];
                Object(cn.b)(t, this.shareResult)
            } else {
                var e = u.a.getNow();
                Object(cn.b)({
                    shareTime: e
                }, this.shareResult)
            }
        }
        ,
        e.prototype.shareResult = function(t) {
            "success" != t && "1" != t || ("fb" == Object(o.getPlatform)().getConstant("shareType") || "bearjoy" == Object(o.getPlatform)().name || Object(g.n)() || Object(uo.i)()) && 0 == Object(g.d)("fbTotalShare").awded && Object(o.getSocket)().request({
                route: "at.v"
            }).then((function(t) {
                console.log(t),
                me.a.show(t.awds)
            }
            )).catch(o.errorHandler)
        }
        ,
        e.show = function() {
            return Wo(this, void 0, void 0, (function() {
                return Xo(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Object(le.b)([Object(D.a)("share_json")])];
                    case 1:
                        return t.sent(),
                        Object(te.a)(new e),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
      , Jo = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return qo(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (t) {
                this.__data = t;
                var e = Object(g.d)("fbTotalShare");
                e.tn >= t.c.shareNum ? (1 == t.p.awded ? (this.get.visible = !1,
                this.awded.visible = !0) : (this.get.visible = !0,
                this.awded.visible = !1,
                this.get.enabled = !0),
                this.targetLabel.textFlow = (new egret.HtmlTextParser).parser("<font color=#6BBF2D>" + e.tn + "/" + t.c.shareNum + "</font>")) : (this.awded.visible = !1,
                this.get.visible = !0,
                this.get.enabled = !1,
                this.targetLabel.textFlow = (new egret.HtmlTextParser).parser("<font color=#ce2121>" + e.tn + "/" + t.c.shareNum + "</font>")),
                Object(re.a)(this.list, t.c.awards)
            }
        }
        ,
        e.prototype.onReady = function() {
            this.tap("get", this.getAwd, this)
        }
        ,
        e.prototype.getAwd = function() {
            Object(o.getSocket)().request({
                route: "at.s",
                p: {
                    id: this.__data.c.id
                }
            }).then((function(t) {
                me.a.show(t.awds)
            }
            )).catch(o.errorHandler)
        }
        ,
        e
    }(o.Item)
      , $o = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Ko = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , Qo = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , Zo = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return $o(e, t),
        e.prototype.onDataUpdate = function(e, n) {
            t.prototype.onDataUpdate.call(this, e, n),
            e && this.rp && (this.rp.dispose(),
            this.rp = null)
        }
        ,
        e.prototype.onExit = function() {
            this.rp && (this.rp.dispose(),
            this.rp = null)
        }
        ,
        e
    }(Un.b)
      , tr = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "SipuJieriGiftSkin"),
            e
        }
        return $o(e, t),
        e.prototype.onReady = function() {
            var t = this;
            this.tap("codeBtn", this.showCode, this);
            var e = [{
                text: Object(o.tr)("main@sipuSpringGift1"),
                name: "0"
            }, {
                text: Object(o.tr)("main@sipuSpringGift2"),
                name: "1"
            }];
            this.tab.itemRenderer = Zo,
            this.disposeArr.push(new Un.a({
                tab: this.tab,
                array: e,
                onSelect: function(e) {
                    t.updateView(e)
                }
            }))
        }
        ,
        e.prototype.updateView = function(t) {
            var e = "0" == t
              , n = Object(g.d)("sipuRechargeGift")
              , i = e ? 0 : 1
              , r = n.l[i].awded;
            this.lbl_ygm.visible = r,
            this.lbl_wgm.visible = !r;
            this.img_bg.source = "bg_sipu_2_png";
            var a = e ? "sipuSfGift1" : "sipuSfGift2"
              , s = Object(o.getConfig)("share_json")[a].list[0].awards;
            n.reConf && n.freeConf && (s = (e ? n.freeConf : n.reConf).awards);
            this.list.itemRenderer = Ze.a,
            Object(re.a)(this.list, s)
        }
        ,
        e.show = function() {
            return Ko(this, void 0, void 0, (function() {
                return Qo(this, (function(t) {
                    return Object(D.a)("share_json").then((function() {
                        Object(te.a)(new e)
                    }
                    )),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e.prototype.showCode = function() {
            Gn.show()
        }
        ,
        e.prototype.onExit = function() {
            t.prototype.onExit.call(this)
        }
        ,
        e
    }(o.UIComponent)
      , er = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , nr = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , ir = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , or = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.bindReward_old = [{
                propId: "10395",
                num: 1
            }, {
                propId: "18001",
                num: 1
            }, {
                propId: "10336",
                num: 3
            }, {
                propId: "10150",
                num: 1
            }, {
                propId: "1001",
                num: 50
            }],
            e.bindReward_new = [{
                propId: "1018",
                num: 5
            }, {
                propId: "1020",
                num: 5
            }, {
                propId: "1060",
                num: 5
            }, {
                propId: "10045",
                num: 3
            }, {
                propId: "10420",
                num: 5
            }],
            e.kefuUrl = {
                zh_cn: "https://www.facebook.com/com.immortals.tw/",
                zh_hant: "https://www.facebook.com/com.immortals.tw/",
                en_us: "https://www.facebook.com/com.immortaltaoists/",
                ko_kr: "https://cafe.naver.com/godofsh",
                ja_jp: "https://web.lobi.co/group/3d472fcaa96b2f38f25346da4dc726ed4410018a",
                vi_vn: "https://www.facebook.com/com.immortaltaoists.vn/",
                ta_ta: "https://www.facebook.com/com.immortaltaoists.th/"
            },
            Object(o.setSkin)(e, "BindaccountSkin"),
            e
        }
        return er(e, t),
        e.prototype.onReady = function() {
            var t = o.cache.get("email_bind_state");
            t && -1 != t.bindAwd ? (this.setState("bound"),
            this.myEmail.text = t.email,
            this.received.visible = 0 != t.bindAwd,
            this.btn_reward.visible = 0 == t.bindAwd) : this.setState("bindaccount"),
            this.list.itemRenderer = PropListItem,
            t.isOld ? Object(re.a)(this.list, this.bindReward_old) : Object(re.a)(this.list, this.bindReward_new),
            this.tap("btn_code", this.getCode, this),
            this.tap("btn_bind", this.bindEmail, this),
            this.tap("btn_reward", this.getReward, this),
            this.lbl_service.textFlow = (new egret.HtmlTextParser).parser("<font color=#08a77c href=event:getWay_><u>" + Object(o.tr)("main@lxkefu") + "</u></font>"),
            this.lbl_bintutorials.textFlow = (new egret.HtmlTextParser).parser("<font color=#08a77c href=event:getWay_><u>" + Object(o.tr)("main@courseBind") + "</u></font>"),
            this.disposeArr.push(Object(m.a)(this.lbl_service, egret.TextEvent.LINK, this.onHelp, this)),
            this.disposeArr.push(Object(m.a)(this.lbl_bintutorials, egret.TextEvent.LINK, this.onCourse, this)),
            this.refreshBtn()
        }
        ,
        e.prototype.onExit = function() {
            this.clear()
        }
        ,
        e.prototype.getCode = function() {
            var t = this
              , e = o.cache.get("mobileLang") || "zh-CN"
              , n = this.text.text.trim();
            n && this.isEmailAvailable(n) ? (o.cache.set("emailBind_code_time", u.a.getNow() + 60),
            Object(st.d)("u.bb", {
                email: n,
                lang: e,
                channel: Object(o.getPlatform)().name,
                gcatId: this.gcatId
            }).then((function(e) {
                e && (0 == e.status ? Object(o.tooltip)(e.errortext) : Object(o.tooltip)(Object(o.tr)("main@codeSend")),
                t.refreshBtn())
            }
            ))) : Object(o.tooltip)(Object(o.tr)("main@mustEmail"))
        }
        ,
        e.prototype.bindEmail = function() {
            var t = this
              , e = this.text.text.trim()
              , n = this.text1.text.trim()
              , i = o.cache.get("mobileLang") || "zh-CN"
              , r = this.text2.text.trim()
              , a = this.text0.text.trim();
            e && this.isEmailAvailable(e) ? "" != r && "" != a ? r == a ? r.length < 6 || r.length > 30 ? Object(o.tooltip)(Object(o.tr)("main@pwdError")) : n ? Object(st.d)("u.bc", {
                captcha: n,
                email: e,
                lang: i,
                channel: Object(o.getPlatform)().name,
                gcatId: this.gcatId,
                pwd: r
            }).then((function(n) {
                if (n) {
                    if (!n.status)
                        return void Object(o.tooltip)(n.errortext);
                    Object(o.tooltip)(Object(o.tr)("main@emailBindSucc")),
                    me.a.show(n.awds),
                    o.cache.set("email_bind_state", e),
                    Object(o.put)("refresh_emailBind_red"),
                    o.UI.remove(t)
                }
            }
            )) : Object(o.tooltip)(Object(o.tr)("main@mustCode")) : Object(o.tooltip)(Object(o.tr)("main@pwdNoSame")) : Object(o.tooltip)(Object(o.tr)("main@inputPwd")) : Object(o.tooltip)(Object(o.tr)("main@mustEmail"))
        }
        ,
        Object.defineProperty(e.prototype, "gcatId", {
            get: function() {
                return Object(o.getOption)("gcatId") || ""
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.isEmailAvailable = function(t) {
            return !!/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/.test(t)
        }
        ,
        e.prototype.refreshBtn = function() {
            var t = this
              , e = o.cache.get("emailBind_code_time");
            e && u.a.getNow() < e && (this.btn_code.enabled = !1,
            this.btn_code.label = e - u.a.getNow() + "s",
            this.clear(),
            this._tick = egret.setInterval((function() {
                e && u.a.getNow() < e ? t.btn_code.label = e - u.a.getNow() + "s" : (t.btn_code.enabled = !0,
                t.btn_code.label = Object(o.tr)("main@getCode"),
                t.clear())
            }
            ), this, 1e3))
        }
        ,
        e.prototype.clear = function() {
            this._tick && egret.clearInterval(this._tick)
        }
        ,
        e.prototype.onHelp = function() {
            var t = Object(uo.d)();
            t && (o.cache.set("open_url", this.kefuUrl[t]),
            Object(o.getPlatComp)("phase").phase("goCommunity"))
        }
        ,
        e.prototype.onCourse = function() {
            console.log(1),
            o.cache.set("open_url", "https://home.hkpctimes.com/taoists/guide/"),
            Object(o.getPlatComp)("phase").phase("goCommunity")
        }
        ,
        e.prototype.getReward = function() {
            var t = this
              , e = o.cache.get("mobileLang") || "zh-CN";
            Object(st.d)("u.be", {
                lang: e,
                channel: Object(o.getPlatform)().name,
                gcatId: this.gcatId
            }).then((function(e) {
                e && (me.a.show(e.awds),
                o.cache.get("email_bind_state").bindAwd = 1,
                Object(o.put)("refresh_emailBind_red"),
                o.UI.remove(t))
            }
            ))
        }
        ,
        e.show = function() {
            Object(te.a)(new e)
        }
        ,
        e
    }(o.UIComponent);
    Object(bn.a)("EmailBindPanel", or);
    var rr = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "NewappRewardSkin"),
            e
        }
        return er(e, t),
        e.prototype.onReady = function() {
            var t = Object(o.getConfig)("share_json").updateReward
              , e = o.cache.get("email_bind_state");
            if (Object(uo.h)())
                this.setState("Success");
            else if ("" != e.email)
                this.setState("Update");
            else {
                this.setState("Forbinding");
                var n = o.cache.get("email_bind_info");
                this.lbl_account.text = n.user_name,
                this.lbl_password.text = n.password,
                this.tap("btn_copyName", (function() {
                    Object(o.getPlatComp)("clipboard").copy(n.user_name),
                    Object(o.tooltip)(Object(o.tr)("main@copySucc"))
                }
                ), this),
                this.tap("btn_copyPwd", (function() {
                    Object(o.getPlatComp)("clipboard").copy(n.password),
                    Object(o.tooltip)(Object(o.tr)("main@copySucc"))
                }
                ), this)
            }
            this.tap("btn_add", this.openAdd, this),
            this.tap("btn_reward", this.getAwd, this),
            this.list.itemRenderer = PropListItem,
            Object(re.a)(this.list, t.list[0].awards)
        }
        ,
        e.prototype.openAdd = function() {
            o.cache.set("open_url", "https://itunes.apple.com/app/id1502213030"),
            Object(o.getPlatComp)("phase").phase("goCommunity")
        }
        ,
        e.prototype.getAwd = function() {
            var t = this;
            Object(st.d)("at.p").then((function(e) {
                e && (me.a.show(e.awds),
                Object(o.put)("refresh_email_info"),
                o.UI.remove(t))
            }
            ))
        }
        ,
        e.show = function() {
            return nr(this, void 0, void 0, (function() {
                return ir(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Object(D.a)("share_json")];
                    case 1:
                        return t.sent(),
                        Object(te.a)(new e),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
      , ar = n(362)
      , sr = n(152)
      , cr = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , ur = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.touchChildren = !1,
            e
        }
        return cr(e, t),
        e.prototype.onReady = function() {
            this.updateView(),
            this.on("chatMsg", this.updateView, this),
            this.on("guildSysMsg", this.updateView, this),
            this.on("guildMsg", this.updateView, this),
            this.on("sysMsg", this.updateView, this)
        }
        ,
        e.prototype.updateView = function(t) {
            var e = "";
            t || (t = Object(o.singleton)(sr.a).latestMsg),
            t && (this.currentState = t.state,
            e = 1 == t.type || 4 == t.type ? Object(o.tr)("main@chatBarFormat", {
                name: t.p.name,
                text: t.text
            }) : t.sysText);
            try {
                this.content.textFlow = (new egret.HtmlTextParser).parser(e)
            } catch (t) {
                e && (this.content.text = e)
            }
        }
        ,
        e
    }(o.Component);
    Object(bn.a)("ChatBar", ur);
    var hr = n(226)
      , lr = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , pr = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return lr(e, t),
        e.prototype.onReady = function() {
            if (this.maskImg && (this.commonBg3.mask = this.maskImg),
            this._msgList = [],
            this.on("noticeMsg", this.notice, this),
            hr.a.scrolls)
                for (var t = 0; t < hr.a.scrolls.length; t++)
                    Object(o.singleton)(sr.a).addMsg(hr.a.scrolls[t])
        }
        ,
        e.prototype.notice = function(t) {
            if (t.c_sys && t.c_sys.show) {
                for (var e = t.c_sys.show, n = 0; n < e; n++)
                    this._msgList.push(t);
                this.start()
            }
        }
        ,
        e.prototype.start = function() {
            this._doing || (this._doing = !0,
            this.next())
        }
        ,
        e.prototype.next = function() {
            if (this._msgList.length > 0) {
                var t = this._msgList.shift()
                  , e = this.lbl_1.visible ? this.lbl_2 : this.lbl_1;
                e.textFlow = (new egret.HtmlTextParser).parser(t.sysText),
                this.led(e)
            } else
                this._doing = !1
        }
        ,
        e.prototype.led = function(t) {
            t.x = 750,
            t.visible = !0;
            var e = t.width
              , n = Math.max(e / 80 * 1e3, 8e3);
            egret.Tween.get(t).to({
                x: -e
            }, n).call((function(t) {
                t.visible = !1
            }
            ), this, [t]),
            egret.setTimeout(this.next, this, n - 1e3)
        }
        ,
        e
    }(o.Component);
    Object(bn.a)("NoticeBar", pr);
    var fr = n(166)
      , dr = n(366)
      , br = n(367)
      , gr = n(167)
      , _r = n(368)
      , mr = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , yr = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.touchChildren = !1,
            e
        }
        return mr(e, t),
        e.prototype.onReady = function() {
            var t = this;
            this.updateView(),
            this.listener(),
            this.on(fr.a.getPutType(this.logId), this.updateView, this),
            this.tap(this, (function() {
                dr.b.show(t.logId)
            }
            ), this)
        }
        ,
        e.prototype.listener = function() {
            this.logId == fr.c.raid ? this.on("refresh_RaidLog", this.updateView, this) : this.logId == fr.c.menpai ? this.disposeArr.push(o.cache.onChange("Sect.getInfo", this.updateView, this)) : this.logId == fr.c.menpai_fa ? this.on("menpai_log_change_" + gr.a.forbiddenArea, this.updateView, this) : this.logId == fr.c.menpai_al ? this.on("menpai_log_change_" + gr.a.alliance, this.updateView, this) : this.logId == fr.c.menpai_shop ? this.on("menpai_log_change_" + gr.a.shop, this.updateView, this) : this.logId == fr.c.menpai_hall ? this.on("menpai_log_change_" + gr.a.hall, this.updateView, this) : this.logId == fr.c.menpai_sidao ? this.on("menpai_log_change_" + gr.a.sidao, this.updateView, this) : this.logId == fr.c.youli ? this.on("refresh_YouliLog", this.updateView, this) : this.logId == fr.c.yiji ? this.on("refresh_FinanceLog", this.updateView, this) : this.logId == fr.c.guild_battle ? this.disposeArr.push(o.cache.onChange("GuildWar.getLogs", this.updateView, this)) : this.logId == fr.c.fudi ? this.disposeArr.push(o.cache.onChange("Fudi.getInfo", this.updateView, this)) : this.logId == fr.c.holOccupy ? this.on("refresh_holOccupyLog", this.updateView, this) : this.logId == fr.c.teamSwordFly ? this.on("refresh_TeamSwordFlyLog", this.updateView, this) : this.logId == fr.c.treasure && this.on("refresh_treasureLog", this.updateView, this)
        }
        ,
        e.prototype.updateView = function() {
            if (this.logId != fr.c.raid)
                if (this.logId != fr.c.menpai)
                    if (this.logId != fr.c.menpai_fa)
                        if (this.logId != fr.c.menpai_al)
                            if (this.logId != fr.c.menpai_shop)
                                if (this.logId != fr.c.menpai_hall)
                                    if (this.logId != fr.c.menpai_sidao) {
                                        var t;
                                        if (this.logId == fr.c.youli)
                                            return (t = Object(fr.d)(Object(M.y)("youliLog"))).sort((function(t, e) {
                                                return (t.time1 || 0) - (e.time1 || 0)
                                            }
                                            )),
                                            void (t && t.length > 0 ? this.content.textFlow = Object(_r.b)(t[t.length - 1]) : this.content.text = "");
                                        if (this.logId != fr.c.yiji)
                                            if (this.logId != fr.c.guild_battle)
                                                if (this.logId != fr.c.fudi)
                                                    if (this.logId != fr.c.holOccupy)
                                                        if (this.logId != fr.c.teamSwordFly)
                                                            if (this.logId != fr.c.treasure) {
                                                                var e = Object(o.singleton)(fr.a).getLogs(this.logId);
                                                                if (e && e.length > 0) {
                                                                    for (var n = void 0, i = e.length - 1; i >= 0; i--)
                                                                        if ("" != e[i].log.trim()) {
                                                                            n = e[i];
                                                                            break
                                                                        }
                                                                    if (n)
                                                                        try {
                                                                            this.content.textFlow = (new egret.HtmlTextParser).parser(n.log)
                                                                        } catch (t) {
                                                                            this.content.text = n.log
                                                                        }
                                                                    else
                                                                        this.content.text = ""
                                                                } else
                                                                    this.content.text = ""
                                                            } else {
                                                                var r = Object(fr.d)(Object(M.y)("treasureLog"));
                                                                r && r.length > 0 ? this.content.textFlow = Object(fr.j)(r[r.length - 1]) : this.content.text = ""
                                                            }
                                                        else {
                                                            var a = Object(fr.d)("swordLog");
                                                            a && a.length > 0 ? this.content.textFlow = Object(fr.i)(a[a.length - 1]) : this.content.text = ""
                                                        }
                                                    else {
                                                        var s = Object(fr.d)("holOccLog");
                                                        s && s.length > 0 ? this.content.textFlow = Object(fr.k)(s[s.length - 1]) : this.content.text = ""
                                                    }
                                                else {
                                                    var c = o.cache.get("Fudi.getInfo").i.log;
                                                    c && c.length > 0 ? this.content.textFlow = (new egret.HtmlTextParser).parser(Object(fr.h)(c[c.length - 1])) : this.content.text = ""
                                                }
                                            else {
                                                var u = o.cache.get("GuildWar.getLogs", "l");
                                                u && u.length > 0 ? this.content.text = Object(fr.f)(u[u.length - 1]) : this.content.text = ""
                                            }
                                        else
                                            (t = Object(fr.d)("yijiLog")) && t.length > 0 ? this.content.textFlow = Object(fr.k)(t[t.length - 1]) : this.content.text = ""
                                    } else {
                                        var h = gr.i.getLogArray();
                                        h && h.length > 0 ? this.content.textFlow = (new egret.HtmlTextParser).parser(h[h.length - 1]) : this.content.text = ""
                                    }
                                else {
                                    var l = gr.e.getLogArray();
                                    l && l.length > 0 ? this.content.textFlow = (new egret.HtmlTextParser).parser(l[l.length - 1]) : this.content.text = ""
                                }
                            else {
                                var p = gr.h.getLogArray();
                                p && p.length > 0 ? this.content.textFlow = (new egret.HtmlTextParser).parser(p[p.length - 1]) : this.content.text = ""
                            }
                        else {
                            var f = gr.b.getLogArray();
                            f && f.length > 0 ? this.content.textFlow = (new egret.HtmlTextParser).parser(f[f.length - 1]) : this.content.text = ""
                        }
                    else {
                        var d = gr.d.getLogArray();
                        d && d.length > 0 ? this.content.textFlow = (new egret.HtmlTextParser).parser(d[d.length - 1]) : this.content.text = ""
                    }
                else {
                    var b = gr.f.getLogArray();
                    b && b.length > 0 ? this.content.textFlow = (new egret.HtmlTextParser).parser(b[b.length - 1]) : this.content.text = ""
                }
            else
                (t = Object(fr.e)()) && t.length > 0 ? this.content.textFlow = Object(br.b)(t[t.length - 1]) : this.content.text = ""
        }
        ,
        e
    }(o.Component);
    Object(bn.a)("LogBar", yr);
    var vr = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Or = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , jr = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , wr = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.isSend = !1,
            e.isTianji = !1,
            e.buffOpen = !1,
            e.isRecorder = !1,
            e._iconFolder = void 0,
            e._dynamicBtn = {
                bounty_1: null,
                bounty_2: null,
                bounty_3: null,
                bounty_4: null,
                bounty_5: null,
                bounty_6: null,
                dice: null,
                serverRank: null,
                limitTask: null,
                xianmengRank: null,
                qishilu: null,
                actboss: null,
                crossBoss: null,
                make: null,
                amulet: null,
                xianbang: null,
                crossRank: null,
                swordFly: null,
                festival: null,
                lover: null,
                earlySpring: null,
                juedi: null,
                fs0202: null,
                qingming: null,
                kaifu: null,
                skyTask: null,
                btn_main_bindemail: null,
                btn_main_download: null
            },
            e._isHasView = !1,
            e._mainPetBtn = null,
            e.failGiftObj = {},
            e._waitFestivalAwd = !1,
            Object(o.setSkin)(e, "MainSkin"),
            e
        }
        return vr(e, t),
        e.prototype.onVisible = function(t) {
            console.log("场景:" + t),
            Object(o.put)("xiulian_status", t)
        }
        ,
        e.prototype.heartbeat = function() {
            var t = Object(f.a)("uId")
              , e = Object(f.a)("platId");
            if (e) {
                var n = {
                    appid: Object(An.a)(),
                    who: t,
                    context: {
                        deviceid: e
                    }
                }
                  , i = JSON.stringify(n)
                  , o = new egret.HttpRequest;
                o.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"),
                o.open("https://log.reyun.com/receive/rest/heartbeat", egret.HttpMethod.POST),
                o.send(i)
            } else
                console.log("这是没有platId")
        }
        ,
        e.prototype.createBtn = function(t, e, n) {
            var i = new o.Button;
            if (i.skinName = "BtnSkin",
            i.iconDisplay.source = e,
            "btn_act_ranking_png" == e && (i.iconDisplay.source = Object(M.f)() ? "btn_act_personalRank_png" : "btn_act_ranking_png"),
            t.addChild(i),
            n) {
                var r = new solar.Label;
                if (r.textColor = 4879017,
                r.size = 20,
                r.verticalAlign = "middle",
                r.textAlign = "center",
                r.bottom = -30,
                "object" == typeof n)
                    try {
                        for (var a in n)
                            r[a] = n[a]
                    } catch (t) {}
                i.addChild(r),
                i.labelDisplay = r
            }
            return i
        }
        ,
        e.prototype.createDynamicBtn = function() {
            var t = this;
            this.addEntrance("taoyuan", De.a.openTaoyuan, this.gp_actBtn, "btn_act_wonderLand_png", "taoyuan", "桃源幻境"),
            this.addEntrance("kaifu", De.a.openKaifu, this.gp_actBtn, "kaifu_button_2_png", "kaifu", "开服15天"),
            this.addEntrance("confess", De.a.openConfess, this.gp_actBtn, "button_activity_confess_png", "confess", "告白日"),
            this.addEntrance("wanchun", De.a.wanchun, this.gp_actBtn, "button_activity_wanchun_png", "wanchun", "晚春活动"),
            this.addEntrance("fudai", De.a.fudai, this.gp_actBtn, "icon_yuanxiao_png", "fudai", "福袋节"),
            this.addEntrance("festival", De.a.openFestival, this.gp_actBtn, "button_festival_1_png", "festival", "节日活动"),
            this.addEntrance("dice", De.a.dice, this.gp_actBtn, "button_Christmas_png", "dice", "跑图节日活动"),
            this.addEntrance("actboss", De.a.openActBoss, this.gp_actBtn, "button_monsterAttack_png", "actboss", "魔族入侵活动"),
            this.addEntrance("crossBoss", De.a.openCrossBoss, this.gp_actBtn, "button_act_monsterAttack_cross_png", "crossBoss", "魔族大举入侵活动"),
            this.addEntrance("make", De.a.openMake, this.gp_actBtn, "button_activity_spring_png", "make", "春节活动"),
            this.addEntrance("amulet", De.a.openMakeAmulet, this.gp_actBtn, "button_activity_spring_amulet_png", "amulet", "新春护符"),
            this.addEntrance("swordFly", De.a.openSwordFly, this.gp_actBtn, "button_activity_swordFly_png", "swordFly", "御剑飞行"),
            this.addEntrance("teamSwordFly", De.a.openTeamSwordFly, this.gp_actBtn, "button_activity_swordFly_png", "teamSwordFly", "御剑"),
            this.addEntrance("fs0202", De.a.openFs0202, this.gp_actBtn, "icon_fesDrogon_png", "fs0202", "龙头节"),
            this.addEntrance("spring", De.a.spring, this.gp_actBtn, "button_activity_zaochun_png", "spring", "早春"),
            this.addEntrance("lover", De.a.lover, this.gp_actBtn, "button_activity_valentine_png", "lover", "情人节"),
            this.addEntrance("qingming", De.a.openQingming, this.gp_actBtn, "button_activity_qingming_png", "qingming", "清明节"),
            this.addEntrance("juedi", De.a.openJuedi, this.bottomGroup, "btn_juedi_png", "juedi", "绝地赛"),
            this.addEntrance("hollow", Ji.show, this.gp_actBtn, "button_hollow_zjm_xk_png", "hollow", "虚空之窥"),
            this.addEntrance("annual", De.a.openAnnual, this.gp_actBtn, "btn_act_oneyear_png", "annual", "周年庆"),
            this.addEntrance("gcTotalRecharge", De.a.openTotalRecharge, this.bottomGroup, "btn_act_totalRecharge_png", "gcTotalRecharge", "新累充奖励"),
            this.addEntrance("acttask", De.a.openActTask, this.gp_actBtn, "btn_act_xzrz_png", "acttask", "活跃任务"),
            this.addEntrance("hollow5", De.a.openHollow5, this.gp_actBtn, "btn_act_void5_png", "hollow5", ""),
            this.addEntrance("island", De.a.openIsLand, this.gp_actBtn, "btn_act_island_png", "island", "仙界探险"),
            this.addEntrance("newServerGift", De.a.openNewServerGift, this.activityGroup, "btn_act_newYearGift_png", "newServerGift", "新服礼物"),
            this.addEntrance("megre", De.a.openMerge, this.gp_actBtn, "btn_act_servermerge_png", "merge", "合服活动"),
            this.addEntrance("heroPK", De.a.openHeroPK, this.gp_actBtn, "btn_act_heroPK_png", "heroPK", "仙仆擂台"),
            this.addEntrance("island2", De.a.openIsLand, this.gp_actBtn, "btn_act_island2_png", "island2", "仙界探险"),
            this.addEntrance("bounty_1", De.a.openBounty("suppressMonster"), this.gp_actBtn, "button_activity_bounty_1_png", "suppressMonster", "镇压妖兽"),
            this.addEntrance("bounty_2", De.a.openBounty("divine"), this.gp_actBtn, "button_activity_bounty_2_png", "divine", "占卜"),
            this.addEntrance("bounty_3", De.a.openBounty("mining"), this.gp_actBtn, "button_activity_bounty_3_png", "mining", "灵脉开采"),
            this.addEntrance("bounty_4", De.a.openBounty("treasureHunt"), this.gp_actBtn, "button_activity_bounty_4_png", "treasureHunt", "秘境寻宝"),
            this.addEntrance("bounty_5", De.a.openBounty("divineTree"), this.gp_actBtn, "button_activity_bounty_5_png", "divineTree", "通天神木"),
            this.addEntrance("bounty_6", De.a.openBounty("repairGate"), this.gp_actBtn, "button_activity_bounty_6_png", "repairGate", "修护山门"),
            this.addEntrance("bounty_8", De.a.openBounty("holiday", "festival"), this.gp_actBtn, "btn_act_bounty_8_png", "holiday", "618活动"),
            this.addEntrance("bounty_9", De.a.openBounty("holiday2", "festival"), this.gp_actBtn, "btn_act_bounty_9_png", "holiday2", "万能节日活动2"),
            this.addEntrance("bounty_10", De.a.openBounty("holiday3", "festival"), this.gp_actBtn, "btn_act_bounty_10_png", "holiday3", "万能节日活动3"),
            this.addEntrance("publicBtn", this.onPublic, this.gp_ad, "btn_attention_png", "public", ""),
            this.addEntrance("verifyBtn", this.onVerify, this.gp_ad, "icon_smrz_png", "verify", ""),
            this.addEntrance("sipuShimingBtn", this.onSipuShiming, this.gp_ad, "icon_smrz_png", "sipuShiming", ""),
            this.addEntrance("seduction", this.onSeduction, this.gp_actBtn, "btn_act_Seduction_png", "seduction", "天降霓裳"),
            this.addEntrance("sevenStarPowerBtn", this.onSevenStarPower, this.gp_actBtn, "btn_act_sevenStarPower_png", "sevenStarPower", "七星之力"),
            this.addEntrance("mountainBtn", De.a.onMountain, this.gp_actBtn, "btn_act_mountain_png", "mountain", "仙山奖励"),
            this.addEntrance("treasureBtn", De.a.onTreasure, this.gp_actBtn, "btn_act_treasure_png", "treasure", "玲珑宝藏"),
            this.addEntrance("fs1001Btn", De.a.openFs1001, this.gp_actBtn, "btn_act_fs1001_png", "fs1001", "国庆双节"),
            this.addEntrance("thanksgivingBtn", De.a.openThanksgiving, this.gp_actBtn, "btn_act_thanksgiving_png", "thanksgiving", "感恩节"),
            this.addEntrance("christamsBtn", De.a.openChristmas, this.gp_actBtn, "btn_act_Christmas_png", "christmas", "圣诞节"),
            this.addEntrance("vipkefu", this.onVipKefu, this.gp_act, "btn_service_dianzhi_png", "vipKefu", null, null, null, .8),
            this.addEntrance("feast_2", this.onFeast, this.gp_act, "btn_act_klfh_png", "feast", "宴会参加", null, null, .8),
            this.addEntrance("gzhlbBtn", this.onGzhlb, this.gp_act, "btn_wxGift_png", "sipuGift", "", {
                endTime: Object(g.d)("sipuGift") ? Object(g.d)("sipuGift").end : 0
            }, null, .8),
            this.addEntrance("spjrlbBtn", this.onSipuJieri, this.gp_act, "btn_sipu12_png", "sipuRechargeGift", "", {
                endTime: Object(g.d)("sipuRechargeGift") ? Object(g.d)("sipuRechargeGift").end : 0
            }, null, .8),
            this.addEntrance("skyTask", De.a.openSkyTask, this.gp_act, "flyquest_button_1_png", "skyTask", "天上任务", null, !0, .8),
            this.addEntrance("labaBtn", De.a.openLaba, this.gp_actBtn, "btn_act_laba_png", "laba", "腊八节"),
            this.addEntrance("mainPetGift", (function() {
                De.a.openMainPet()
            }
            ), this.gp_ui, "btn_act_mainpet_gift_png", "mainPetGift", "选择仙兽灵宠", null, null, .8, {
                horizontalCenter: 176,
                verticalCenter: -147.5
            }),
            this.addEntrance("welfareBtn", De.a.openWelfare, this.gp_actBtn, "btn_act_welfare_png", "welfare", "福利抽奖"),
            this.addEntrance("giftDrawBtn", this.onGiftDraw, this.gp_actBtn, "btn_act_fudai_png", "giftDraw", "秘宝单开"),
            this.addEntrance("nySignBtn", De.a.openNySign, this.gp_actBtn, "btn_act_springPreheat_png", "nySign", "春节预热签到"),
            this.addEntrance("nyHongbao", De.a.openNyHongBao, this.gp_hongbao, "btn_act_hongbao_png", "nyHongBao", "春节红包", {
                endTime: Object(g.d)("nyHongBao") ? Object(g.d)("nyHongBao").nextTime : 0,
                labelStyle: {
                    bottom: 32,
                    horizontalCenter: 0,
                    textColor: 10169376,
                    size: 16
                },
                format: function(e) {
                    return 0 == e ? t._dynamicBtn.nyHongbao.labelDisplay.text = Object(o.tr)("main@nyHongBaoTitle") : u.a.cdFormat(e, "HMS")
                },
                complete: function() {
                    var e = t._dynamicBtn.nyHongbao;
                    e.__cd && e.__cd.dispose(),
                    Object(g.o)("nyHongBao").then((function(t) {
                        if (t && t.l && t.l.length > 0) {
                            Object(o.put)("refresh_countDown", "nyHongBao");
                            var n = t.l[0].nextTime;
                            n && !u.a.isOver(n) ? e.__cd = new Ue.a({
                                component: e.labelDisplay,
                                endTime: n,
                                trKey: function(t) {
                                    return u.a.cdFormat(t, "HMS")
                                }
                            }) : e.labelDisplay.text = Object(o.tr)("main@nyHongBaoTitle")
                        }
                    }
                    ))
                }
            }, (function(e, n) {
                var i, o;
                n.x = 40,
                n.y = 60,
                n.anchorOffsetX = n.anchorOffsetX + 40,
                n.anchorOffsetY = n.anchorOffsetY + 60,
                t.disposeArr.push((i = e,
                o = n,
                new je.a(i,(function(t) {
                    egret.Tween.removeTweens(o),
                    o.rotation = 0,
                    t && egret.Tween.get(o, {
                        loop: !0
                    }).to({
                        rotation: 10
                    }, 100).to({
                        rotation: -10
                    }, 200).to({
                        rotation: 0
                    }, 100).wait(3e3)
                }
                ),(function() {
                    egret.Tween.removeTweens(o)
                }
                ))))
            }
            )),
            v.b.watch("nyHongBao", this.hongBaoBtn.bind(this)),
            this.addEntrance("xianShouGift", this.onXianShouGift, this.gp_actBtn, "btn_act_xianShou_png", "xianShouGift", "仙兽御礼"),
            this.addEntrance("lanternFestival", De.a.openLanternFestival, this.gp_actBtn, "btn_act_lanternFestival_png", "lanternFestival", "元宵节"),
            this.addEntrance("annuaMazeBtn", this.onAnnuaMaze, this.gp_actBtn, "btn_act_anniversary_png", "annuaMaze", "云海探缘"),
            this.addEntrance("spring2021Btn", De.a.openSpring2021, this.gp_actBtn, "btn_act_spring2021_png", "spring2021", "新春盛会"),
            "awy" == Object(o.getPlatform)().name ? (this.addEntrance("collectionBtn", this.onCollection, this.gp_ad, "icon_guanzhu_png", "collect", ""),
            this.addEntrance("shareBtn", this.onShare, this.gp_ad, "btn_invite_png", "share", "")) : (this.addEntrance("collectionBtn", this.onCollection, this.gp_ad, "btn_collection_png", "collect", ""),
            this.addEntrance("shareBtn", this.onShare, this.gp_ad, "btn_share_png", "share", "")),
            this.addEntrance("feast_2", this.onFeast, this.gp_act, "btn_act_klfh_png", "feast", "宴会参加"),
            this.addEntrance("fbinviteBtn", this.onFbInvite, this.gp_ad, "btn_fbinvite_png", "inviteFriend", ""),
            Object(yo.d)() && (this.addEntrance("btn_fbShare", this.onFbShare, this.gp_ad, "btn_fbshare_png", "FBshare", ""),
            this.addEntrance("btn_discord", this.onDiscord, this.gp_ad, "btn_discord_png", "discord", "巴哈入口"),
            this.addEntrance("btn_cafe", this.onCafe, this.gp_ad, "icon_cafe_png", "cafe", "巴哈入口"),
            this.addEntrance("btn_lobi", this.onLobi, this.gp_ad, "btn_Lobi_png", "lobi", "巴哈入口"),
            this.addEntrance("bahamutBtn", this.onBaHa, this.gp_ad, "btn_bahamut_png", "baha", "巴哈入口"),
            this.addEntrance("fbBtn", this.onFb, this.gp_ad, "btn_fb_png", "fb", "FB入口"),
            this.addEntrance("returnBtn", this.onReturn, this.activityGroup, "btn_return_png", "return", "回归有礼"),
            this.addEntrance("recallBtn", this.onRecall, this.activityGroup, "btn_recall_png", "recall", "道友召回"),
            this.addEntrance("btn_main_bindemail", this.checkEmailBind, this.bottomGroup, "btn_main_bindemail_png", "bindEmail", "邮箱绑定"),
            this.addEntrance("btn_main_download", this.checkEmailInfo, this.bottomGroup, "btn_main_download_png", "bindDownLoad", "邮箱下载"),
            this.addEntrance("btn_christmas", this.onChristmasActivity, this.gp_actBtn, "btn_act_christmas_oversea_gift_png", "oversea_christmas", "圣诞网页")),
            this.firstRec3Btn(),
            this.checkFailGift(!1)
        }
        ,
        e.prototype.hongBaoBtn = function() {
            return Or(this, void 0, void 0, (function() {
                var t, e;
                return jr(this, (function(n) {
                    return (t = this._dynamicBtn.nyHongbao) && (e = new o.Label,
                    t.addChild(e),
                    e.size = 18,
                    e.bottom = 6,
                    e.horizontalCenter = 0,
                    e.textColor = 16777215,
                    e.strokeColor = 12205354,
                    e.stroke = 2),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e.prototype.firstRec3Btn = function() {
            var t = Object(g.d)("firstChargeGift")
              , e = 0;
            t && (e = 0 == t.curr ? t.buyDeadline : t.deadline + 86400 * (3 - t.curr)),
            this.firstRec3CdObj = {
                endTime: e,
                labelStyle: {
                    bottom: -18,
                    horizontalCenter: 0
                },
                format: function(t) {
                    return u.a.cdFormat(t, "HMS")
                }
            },
            this.addEntrance("firstRec3Btn", De.a.openFirstRec3, this.activityGroup, "btn_act_loginReward_png", "firstRec3", "首充3日礼包", this.firstRec3CdObj)
        }
        ,
        e.prototype.keeperBtnVisible = function() {
            var t = Object(o.getCache)("Red.getInfo")
              , e = Object(M.n)();
            this.gp_zdgj.visible = e > 0 || t.housetake > 0
        }
        ,
        e.prototype.openKeeper = function() {
            De.a.openKeeper()
        }
        ,
        e.prototype.onSipuShiming = function() {
            Object(te.a)(new zo)
        }
        ,
        e.prototype.onSeduction = function() {
            ao.show()
        }
        ,
        e.prototype.onSevenStarPower = function() {
            _o.show()
        }
        ,
        e.prototype.checkGuide = function() {
            pn.a.isFinish(pn.b.welcome) ? pn.a.isFinish(pn.b.task) ? Object(f.a)("lv") > 10 && !pn.a.isFinish(pn.b.dujie) ? pn.a.check(pn.b.dujie) : Object(M.f)() && !pn.a.isFinish(pn.b.xingtian) && A.a.getEnableList().length && v.b.isOpen("xingtian") ? pn.a.check(pn.b.xingtian) : Object(M.f)() || 1 != Object(f.a)("fly") || pn.a.isFinish(pn.b.blackShop) || (this._iconFolder = !0,
            this.onIconStorage(),
            pn.a.check(pn.b.blackShop)) : this.jiyuanBtn.visible && pn.a.check(pn.b.task) : pn.a.check(pn.b.welcome)
        }
        ,
        e.prototype.onGiftDraw = function() {
            return Or(this, void 0, void 0, (function() {
                return jr(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Object(le.b)([Object(D.a)("festivalActivity_json"), Object(o.getLocale)().init("commact"), Object(o.getLocale)().init("fudai")].concat(Object(Te.a)("mid_1&mid_2")))];
                    case 1:
                        return t.sent(),
                        Oo.a.show("ActivityFudaiBoxSkin", Object(o.singleton)(jo.a).getLotteryOption(), !0),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.onAnnuaMaze = function() {
            return Or(this, void 0, void 0, (function() {
                return jr(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Object(le.b)([Object(D.a)("festivalActivity_json"), Object(o.getLocale)().init("commact"), Object(o.getLocale)().init("annual"), Object(o.getLocale)().init("cur")].concat(Object(Te.a)("mid_1&mid_2")))];
                    case 1:
                        return t.sent(),
                        Vo.show("MazeMainSkin", Object(o.singleton)(Ho).getMazeOption()),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.disposeLogin = function() {
            RES.destroyRes(Object(wo.a)()),
            RES.destroyRes(Object(wo.c)())
        }
        ,
        e.prototype.onReady = function() {
            var t, n, i = this;
            this.disposeLogin(),
            this.createActBtn(),
            Object(M.b)(),
            t = [],
            n = function() {
                t = Object(o.dispose)(t);
                var e = o.cache.get("Feast.getInfo", "i");
                e && e.endTime && !u.a.isOver(e.endTime) && t.push(In.b.listen(e.endTime, (function() {
                    Object(o.put)("refresh_funOpen", "feast")
                }
                )))
            }
            ,
            o.cache.onChange("Feast.getInfo", (function(t) {
                Object(o.put)("refresh_funOpen", "feast"),
                n()
            }
            )),
            o.cache.onCache("Feast.getInfo", (function(t) {
                Object(o.put)("refresh_funOpen", "feast"),
                n()
            }
            )),
            n(),
            this.checkReload(),
            Object(We.a)(this),
            console.log("=====enterGame====="),
            console.log(Object(o.getPlatform)().name),
            console.log("=====enterGame====="),
            Object(o.getPlatComp)("phase").phase("enterGame"),
            "" != Object(An.a)() && (Object(o.setInterval)(this.heartbeat, this, 6e4, this.disposeArr),
            this.heartbeat()),
            this.tap("fangshiBtn", this.onFangShi, this),
            this.tap("mainBtn", this.onMail, this),
            this.tap("jiyuanBtn", this.onTask, this),
            this.tap("xianshiBtn", this.onFairyCity, this),
            this.xianshiBtn.visible = this.xianshiBtn.includeInLayout = v.b.isOpen("recharge"),
            this.tap("btn_levelRecharge", this.onLevelGift, this),
            this.tap("xianpuBtn", this.onHeroGift, this),
            this.tap("guanzhiBtn", this.onPrivilegeCard, this),
            this.guanzhiBtn.visible = this.guanzhiBtn.includeInLayout = v.b.isOpen("recharge"),
            this.tap("btn_buff", this.onBuff, this),
            this.tap("chatNode", (function() {
                Ln.a.show()
            }
            ), this),
            this.tap("xianyinBtn", this.onXianYin, this),
            this.tap("activityBtn", this.onActivity, this),
            this.tap("btn_jiyuan", this.onJiyuan, this),
            this.tap("btn_zdgj", this.openKeeper, this),
            this.tap("btn_kunlun", this.onFeast, this),
            this.tap("btn_zhujiao", this.onCharacter, this),
            this.tap("dujie", this.onGPDujie, this),
            this.tap("btn_yanwu", this.onYanwu, this),
            this.tap("btn_linglongge", this.onLinglongge, this),
            this.tap("btn_yujingcheng", De.a.openJingCheng, this),
            this.tap("dengxiangeBtn", this.onDengxiange, this),
            this.tap("btn_fold", this.onFold, this),
            this.tap("btn_chat", De.a.openFriend, this),
            this.tap("btn_storage", this.onIconStorage, this),
            this.tap("btn_qihuo", De.a.openNewBlackMarket, this),
            this.tap("limitBtn", De.a.openLimitGift, this),
            this.tap("btn_prediction", De.a.openPrediction, this),
            this.tap("dayBtn", (function() {
                xn.o.show("dayGift")
            }
            )),
            this.tap("dailyBtn", (function() {
                xn.o.show("dailyGift")
            }
            )),
            this.tap("btn_feishengGift", (function() {
                xn.o.show("flyGift1")
            }
            )),
            this.tap("btn_transcribe", (function() {
                i.createVideo()
            }
            )),
            this.on("refresh_funOpen", this.refreshFuncOpen, this),
            this.on("refresh_failGift", this.checkFailGift, this),
            this.on("push_pay", this.checkFailGift, this),
            this.btn_zhujiao.addEventListener(egret.TouchEvent.TOUCH_BEGIN, this.toucheBegin, this);
            var r = Object(M.f)();
            1 != Object(f.a)("fly") ? (this.btn_xianjie.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onTianji, this),
            this.btn_fanjian.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onTianji, this)) : (this.tap("btn_fanjian", this.playFeiSheng, this),
            this.tap("btn_xianjie", this.playFeiSheng, this),
            r && this.playDiZuo()),
            this.gp_activity && (this.gp_activity.visible = !0),
            this.on("feisheng_refresh_view", (function() {
                Object(pe.a)("Ascension"),
                i.showFeisheng()
            }
            ), this),
            this.on("open_tianting_view", (function() {
                i.bgMask.visible = !1
            }
            ), this),
            this.on("close_tianting_view", this.onBackTianting, this),
            this.on("first_open_share_30min", this.ShareTip, this),
            this.on("pvn_fight", (function() {
                Object(st.d)("m.l").then((function(t) {
                    console.log(t),
                    Di.b.show(t.fightLog)
                }
                ))
            }
            ), this),
            this.on("firstRec3CD", (function(t) {
                i.firstRec3CdObj.ins.start({
                    endTime: t
                })
            }
            )),
            this.on("push_pay", (function() {
                var t = Object(g.d)("firstChargeGift")
                  , e = u.a.getNow(!0);
                if (t && t.curr < 4 && e < t.buyDeadline) {
                    var n = t.deadline + 86400 * (3 - t.curr);
                    i.firstRec3CdObj.ins.start({
                        endTime: n
                    })
                }
            }
            )),
            e.initialized || (e.initialized = !0,
            Object(Xe.a)(),
            Object(o.singleton)(ln.a).record(),
            this.showLoginPanels()),
            this.disposeArr.push(new dn.a(this.gp_yanwu,"演武挑战",{
                name: "btn_zjmbt_1_ske_json",
                x: 196,
                y: 259,
                scaleX: 1.2,
                scaleY: 1.1
            })),
            this.disposeArr.push(new dn.a(this.gp_zdgj,"仙界管家",{
                name: "tongyongui_yuan_ske_json",
                x: 32,
                y: 32,
                scaleX: .8,
                scaleY: .8
            })),
            this.disposeArr.push(new dn.a(this.gp_dengxiange,"登仙阁",{
                name: "btn_zjmbt_1_ske_json",
                x: 170,
                y: 222,
                scaleX: 1.2,
                scaleY: 1.1
            })),
            this.disposeArr.push(new dn.a(this.jiyuanBtn,"凡间任务",{
                name: "tongyongui_ske_json",
                x: 45,
                y: 43,
                scaleX: 1,
                scaleY: 1
            })),
            this.disposeArr.push(new dn.a(this.xianyinBtn,"仙界任务",{
                name: "tongyongui_ske_json",
                x: 45,
                y: 43,
                scaleX: 1,
                scaleY: 1
            })),
            this.disposeArr.push(new dn.a(this.gp_muxianjing,"慕仙境",{
                name: "btn_zjmbt_1_ske_json",
                x: 280,
                y: 242,
                scaleX: 1.2,
                scaleY: 1.1
            })),
            this.disposeArr.push(new dn.a(this.gp_xianshi,"仙都",{
                name: "btn_zjmbt_1_ske_json",
                x: 388,
                y: 314,
                scaleX: 1.2,
                scaleY: 1
            })),
            this.disposeArr.push(new dn.a(this.btn_jiyuan,"机缘",{
                name: "tongyongui_ske_json",
                x: 45,
                y: 52,
                scaleX: 1,
                scaleY: 1
            })),
            this.disposeArr.push(new dn.a(this.gp_kunlun,"宴会参加",{
                name: "btn_zjmbt_1_ske_json",
                x: 117,
                y: 256,
                scaleX: 1.2,
                scaleY: 1
            })),
            this.disposeArr.push(new dn.a(this.animeFeast,"宴会开启",{
                name: "feast_1_ske_json",
                x: 0,
                y: 0,
                scaleX: 1,
                scaleY: 1
            })),
            this.disposeArr.push(new dn.a(this.gp_xingTian,"刑天",{
                name: "btn_zjmbt_1_ske_json",
                x: 120,
                y: 245,
                scaleX: 1.2,
                scaleY: 1
            })),
            this.disposeArr.push(new dn.a(this.gp_qihuo,"黑市",{
                name: "btn_zjmbt_1_ske_json",
                x: 215,
                y: 554,
                scaleX: 1.2,
                scaleY: 1.2
            })),
            this.disposeArr.push(new dn.a(this.gp_yujingcheng,"玉京城",{
                name: "btn_zjmbt_1_ske_json",
                x: 570,
                y: 310,
                scaleX: 1.2,
                scaleY: 1
            })),
            this.disposeArr.push(new je.a("坊市",(function(t) {
                egret.Tween.removeTweens(i.fangshiBtn),
                i.fangshiBtn.alpha = 1;
                var e = !Object(M.f)() || o.RedPointManager.getRule("节日充值福利").visible || o.RedPointManager.getRule("节日充值额外").visible;
                t && e && egret.Tween.get(i.fangshiBtn, {
                    loop: !0
                }).to({
                    alpha: .35
                }, 500).to({
                    alpha: 1
                }, 500)
            }
            )).updateFn((function(t) {
                return i.on("refresh_funOpen", (function(e) {
                    "fly" == e && t()
                }
                ), i)
            }
            ))),
            this.disposeArr.push(Object(je.b)("活动", this.activityBtn)),
            this.disposeArr.push(Object(je.b)("邮件", this.mainBtn)),
            this.disposeArr.push(Object(je.b)("仙市", this.xianshiBtn)),
            this.disposeArr.push(Object(je.b)("特权卡", this.guanzhiBtn)),
            this.disposeArr.push(Object(je.b)("好友", this.btn_chat)),
            this.disposeArr.push(Object(je.b)("图标夹", this.btn_storage)),
            this.disposeArr.push(Object(je.b)("限时礼包", this.limitBtn)),
            this.disposeArr.push(Object(je.b)("功能预知", this.btn_prediction)),
            this.disposeArr.push(Object(je.b)("海外活动", this.anime_fold)),
            this.onIconStorage(),
            this.countDown && this.disposeArr.push(this.countDown),
            this.disposeArr.push(v.b.watch("growGift", this.growGift)),
            this.disposeArr.push(v.b.watch("sipuGift", this.gzhlbBtn)),
            this.disposeArr.push(v.b.watch("heroGift", this.xianpuBtn)),
            this.disposeArr.push(v.b.watch("fb", this.fbBtn)),
            this.disposeArr.push(v.b.watch("xianshi", this.xianshiBtn)),
            this.disposeArr.push(v.b.watch("baha", this.bahamutBtn)),
            this.disposeArr.push(v.b.watch("tianTing", this.tiantingBtn)),
            this.disposeArr.push(v.b.watch("feisheng", this.gp_xianjie)),
            this.disposeArr.push(v.b.watch("cards", this.guanzhiBtn)),
            this.disposeArr.push(v.b.watch("recorder", this.btn_transcribe)),
            this.disposeArr.push(v.b.watch("activity", this.activityBtn)),
            this.disposeArr.push(v.b.watch("heroGift", this.xianpuBtn)),
            this.disposeArr.push(v.b.watch("limitGift", this.limitBtn)),
            this.disposeArr.push(v.b.watch("prediction", this.btn_prediction)),
            this.disposeArr.push(v.b.watch("buff", (function(t) {
                i.buffOpen = t,
                i.btn_buff.visible = i.btn_buff.includeInLayout = t
            }
            ))),
            this.disposeArr.push(v.b.watch("dayGift", (function(t) {
                i.dayGift.visible = i.dayGift.includeInLayout = t
            }
            ))),
            this.disposeArr.push(v.b.watch("dailyGift", (function(t) {
                i.dailyGift.visible = i.dailyGift.includeInLayout = t
            }
            ))),
            this.disposeArr.push(Object(je.b)("仙仆礼包", this.xianpuBtn)),
            this.disposeArr.push(Object(je.b)("每日礼包", this.dayGift)),
            this.disposeArr.push(new kn({
                name: "dayGift",
                component: this.lbl_dayTime,
                group: this.dayGift,
                hideTick: !0,
                endTime: function() {
                    var t = Object(g.d)("dayGift");
                    return t ? t.end : 0
                },
                trKey: function(t) {
                    return u.a.cdFormat(t, "HMS")
                },
                complete: function() {
                    egret.setTimeout((function() {
                        Object(g.d)("dayGift") && Object(g.o)("dayGift").then((function(t) {
                            t && Object(o.put)("refresh_funOpen", "dayGift")
                        }
                        ))
                    }
                    ), i, 2e3)
                }
            })),
            this.disposeArr.push(v.b.watch("mainPet", (function(t) {
                i.showMainPet(t)
            }
            ))),
            this.disposeArr.push(Object(je.b)("新每日礼包", this.dailyGift)),
            this.disposeArr.push(new kn({
                name: "dailyGift",
                component: this.lbl_dailyTime,
                group: this.dailyGift,
                hideTick: !0,
                endTime: function() {
                    var t = Object(g.d)("dailyGift");
                    return t ? t.dayEnd ? t.dayEnd : t.end : 0
                },
                trKey: function(t) {
                    return u.a.cdFormat(t, "HMS")
                },
                complete: function() {
                    egret.setTimeout((function() {
                        Object(g.d)("dailyGift") && Object(g.o)("dailyGift").then((function(t) {
                            t && Object(o.put)("refresh_funOpen", "dailyGift")
                        }
                        ))
                    }
                    ), i, 2e3)
                }
            })),
            Object(g.d)("flyGift1") ? this.disposeArr.push(new kn({
                name: "flyGift1",
                component: this.lbl_feishengTime,
                group: this.feishengGift,
                endTime: function() {
                    return Object(g.d)("flyGift1").extime
                },
                trKey: function(t) {
                    return u.a.cdFormat(t, "HMS")
                },
                complete: function() {
                    i.feishengGift.visible = i.feishengGift.includeInLayout = !1
                }
            })) : this.feishengGift.visible = this.feishengGift.includeInLayout = !1,
            o.cache.set("first_refresh_uc_time", u.a.getNow(!1) + 200),
            egret.setInterval(this.updateLinggen, this, 5e3),
            this.refreshGrowGift(),
            this.playBgAnimation(),
            this.udpateDujieView();
            var a = Object(f.a)()
              , s = eui.Watcher.watch(a, ["lv"], (function() {
                a.lv >= 31 && Object(o.put)("refresh_appraise_red")
            }
            ), this);
            o.cache.onChange("User.getInfo", this.keeperBtnVisible, this, this.disposeArr),
            this.on("refresh_keeper_BtnVisible", this.keeperBtnVisible, this),
            this.disposeArr.push({
                dispose: function() {
                    s.unwatch()
                }
            }),
            this.showBeastJieyin(),
            this.on("BeastFly", (function() {
                i.clearBeastJieyin(),
                wn.a.show()
            }
            ), this),
            this.on("BeastJieyin", this.showBeastJieyin, this),
            this.on("ClearBeastJieyin", this.clearBeastJieyin, this),
            this.tap("anime_jieYin", this.beastJieyin, this),
            Rn.init(),
            "bearjoy" == Object(o.getPlatform)().name && (this.chatNode.visible = !0,
            this.noticeNode.visible = !0),
            Object(Be.a)() || !Object(yo.d)() && "bearjoy" != Object(o.getPlatform)().name || (this.jiantou = o.Movie.create("arrow_1_ske_json", !0),
            this.anime_fold.addChild(this.jiantou),
            this.jiantou.play("1")),
            o.cache.onChange("Activity.getList", (function(t) {
                if ("modoxyx" == Object(o.getPlatform)().name) {
                    var e = t.l;
                    for (var n in e) {
                        if ("moduoTotalShare" == n.replace("@f_id_@", ""))
                            for (var i in e[n]) {
                                var r = i.replace("@s.", "");
                                "daolvId" == r && 0 != e[n][r] && Ye.a.show(Ye.c.daolv)
                            }
                    }
                }
            }
            ), this),
            this.ShareTip(),
            this.initBlackMarket(),
            this.initFestival(),
            this.createDynamicBtn(),
            Object(M.m)() && egret.localStorage.removeItem("selecctServer"),
            Object(uo.c)(),
            this.refreshFeiSheng(),
            Object(o.on)("main_video_over", (function() {
                i.createVideo(!0)
            }
            ), this),
            this.refreshFeiSheng(),
            this.initFanjian(),
            this.initXianjie();
            var c = Object(uo.d)()
              , h = egret.localStorage.getItem("JP_Rule");
            c && "ja_jp" == c && 1 != Number(h) ? Object(te.c)(new ar.a).exit((function() {
                console.log("ja_jp"),
                i.checkGuide()
            }
            )) : this.checkGuide(),
            this.on("update_exp", this.udpateDujieView, this),
            this.on("updateMission", (function() {
                var t = Object(M.f)();
                i.updateMission(t)
            }
            ), this),
            this.on("update_mainActBtn", this.createDynamicBtn, this),
            this.jiYuanBtnVisible(),
            this.on("JiYuan_Btn", this.jiYuanBtnVisible, this),
            this.on("refresh_Day", this.refreshDay, this),
            this.on("refresh_email_info", this.refreshEmailInfo, this),
            this.on("show_mainpetFly", this.onMainPetFly, this);
            var l = u.a.getNow(!0)
              , p = Object(f.a)("nextDayTime") ? Object(f.a)("nextDayTime") : l - (l + 28800) % 86400 + 86400
              , d = 1e3 * (p - l);
            p <= l ? this.refreshDay() : setTimeout((function() {
                i.refreshDay()
            }
            ), d),
            this.gp_ad2.visible && (this.gp_ad2.visible = this.gp_ad.numChildren > 0),
            this.initScroll(),
            o.cache.onChange("playGuide.getList", (function() {
                Object(o.put)("prediction_function_change")
            }
            ), this, this.disposeArr)
        }
        ,
        e.prototype.refreshDay = function() {
            this._isHasView || (this._isHasView = !0,
            Object(o.confirm)({
                title: Object(o.tr)("common@tip"),
                text: Object(o.tr)("main@dayRefresh"),
                yes: Object(o.tr)("common@ok"),
                showNo: !1,
                showClose: !1
            }).then((function() {
                Object(o.getPlatComp)("reload").reload()
            }
            )))
        }
        ,
        e.prototype.onMainPetFly = function(t, e) {
            var n = o.Movie.create("pet_" + t + "_ske_json", !0);
            this.addChild(n),
            n.x = 550,
            n.y = 970,
            n.scaleX = n.scaleY = .6,
            n.play("1");
            var i = o.Movie.create("mainPet_6_ske_json");
            this.addChild(i),
            i.x = 550,
            i.y = 870,
            i.play("1", 1),
            setTimeout((function() {
                n.dispose(),
                n = null
            }
            ), 800),
            setTimeout((function() {
                De.a.openMainPet(!0, e)
            }
            ), 2e3)
        }
        ,
        e.prototype.jiYuanBtnVisible = function(t) {
            this.btn_jiyuan.visible = null == t ? o.RedPointManager.getRule("机缘").visible : t
        }
        ,
        e.prototype.updateMission = function(t) {
            var e = yt.ins.getMissions(tt.land);
            if (e && e.length > 0) {
                this.jiyuanBtn.visible = !t;
                var n = "";
                Number(e[0].need) > 0 && (n = "(" + e[0].p.num + "/" + e[0].need + ")"),
                this.jiyuanBtn.label = Object(o.tr)(e[0].c.acronym) + n
            } else
                this.jiyuanBtn.visible = !1;
            var i = yt.ins.getMissions(tt.fairy);
            if (i && i.length > 0) {
                this.xianyinBtn.visible = t;
                for (var r = -1, a = void 0, s = 0; s < i.length; s++)
                    i[s].p.num / i[s].need > r && (r = i[s].p.num / i[s].need,
                    a = i[s]);
                this.xianyinBtn.label = a ? Object(o.tr)(a.c.acronym) + "(" + a.p.num + "/" + a.need + ")" : "",
                this.xianyinBtn.data = a
            } else
                this.xianyinBtn.visible = !1
        }
        ,
        e.prototype.initFanjian = function() {
            this.tap("zongmenBtn", De.a.zongMen, this),
            this.tap("btn_muxianjing", De.a.openHonorList, this),
            this.disposeArr.push(Object(m.d)(this.zongmenBtn, this.gp_zongmen)),
            this.disposeArr.push(Object(m.d)(this.btn_muxianjing, this.gp_muxianjing)),
            this.disposeArr.push(Object(m.d)(this.btn_yanwu, this.gp_yanwu)),
            this.disposeArr.push(Object(m.d)(this.dengxiangeBtn, this.gp_dengxiange)),
            this.disposeArr.push(Object(m.d)(this.btn_xianjie, this.gp_xianjie))
        }
        ,
        e.prototype.initXianjie = function() {
            this.tap("btn_xianshi", this.onXianshi, this),
            this.tap("tiantingBtn", this.onTianTing, this),
            this.tap("btn_xingTian", De.a.openXingTian, this),
            this.disposeArr.push(Object(m.d)(this.btn_xianshi, this.gp_xianshi)),
            this.disposeArr.push(Object(m.d)(this.tiantingBtn, this.gp_tianting)),
            this.disposeArr.push(Object(m.d)(this.btn_linglongge, this.gp_linglongge)),
            this.disposeArr.push(Object(m.d)(this.btn_yujingcheng, this.gp_yujingcheng)),
            this.disposeArr.push(Object(m.d)(this.btn_fanjian, this.gp_fanjian)),
            this.disposeArr.push(Object(m.d)(this.btn_kunlun, this.gp_kunlun)),
            this.disposeArr.push(Object(m.d)(this.btn_xingTian, this.gp_xingTian))
        }
        ,
        e.prototype.createVideo = function(t) {
            void 0 === t && (t = !1),
            t || this.isRecorder ? !t && Object(o.getPlatform)().getConstant("gameRecorderOver")() : Object(o.getPlatform)().getConstant("gameRecorder")(),
            this.isRecorder = !t || !this.isRecorder;
            var e = this.isRecorder ? 2 : 1;
            this.btn_transcribe.btnImg.source = "btn_transcribe_" + e + "_png"
        }
        ,
        e.prototype.onXianmengTask = function() {
            De.a.openNewRank(di.b.xianmeng)
        }
        ,
        e.prototype.onLimitTask = function() {
            ri.show()
        }
        ,
        e.prototype.onQishilu = function() {
            Object(g.n)() || Object(M.p)(16, 10) ? _i.show(!1) : Object(M.p)(26, 0) ? pi.show(!1) : hi.show(!1)
        }
        ,
        e.prototype.showMainPet = function(t) {
            return Or(this, void 0, void 0, (function() {
                return jr(this, (function(e) {
                    return t && null == this._mainPetBtn && (this._mainPetBtn = new So,
                    this.gp_act.addChildAt(this._mainPetBtn, 100)),
                    this._mainPetBtn && (this._mainPetBtn.visible = this._mainPetBtn.includeInLayout = t),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e.prototype.addEntrance = function(t, e, n, i, r, a, s, c, u, h) {
            var l = this;
            this.disposeArr.push(v.b.watch(r, (function(r) {
                var p = l._dynamicBtn[t];
                if (r && !p && (l._dynamicBtn[t] = l.createBtn(n, i, s ? !s.labelStyle || s.labelStyle : null),
                p = l._dynamicBtn[t],
                l.tap(p, e, l),
                a && c instanceof Boolean && 1 == c ? l.disposeArr.push(new dn.a(p,a,{
                    name: "tongyongui_ske_json",
                    x: 55,
                    y: 52,
                    scaleX: 1,
                    scaleY: 1
                })) : a && c instanceof Function ? c(a, p) : a && l.disposeArr.push(Object(je.b)(a, p)),
                !a || n != l.bottomGroup && n != l.gp_actBtn || o.RedPointManager.getRule("入口图标").addRule(a),
                r && s && p.labelDisplay)) {
                    var f = new Ue.a({
                        component: p.labelDisplay,
                        endTime: s.endTime,
                        trKey: s.format,
                        complete: s.complete
                    });
                    p.__cd = f,
                    s.ins = f,
                    l.disposeArr.push(f)
                }
                if (p) {
                    if (h)
                        for (var d in h)
                            p[d] = h[d];
                    p.visible = p.includeInLayout = r,
                    u && (p.scaleX = u,
                    p.scaleY = u)
                }
            }
            )))
        }
        ,
        e.prototype.showBeastJieyin = function() {
            return Or(this, void 0, void 0, (function() {
                var t, e;
                return jr(this, (function(n) {
                    switch (n.label) {
                    case 0:
                        return t = Object(f.a)(),
                        !Object(f.a)("fly") && t.jyInfo && t.jyInfo.endTime && t.jyInfo.endTime > u.a.getNow() ? this._jieyinMv ? [3, 2] : [4, Object(D.a)("pet_json")] : [3, 3];
                    case 1:
                        n.sent(),
                        e = Object(o.getConfig)("pet_json")[t.jyInfo.cId].icon,
                        this._jieyinMv = o.Movie.create("pet_" + e + "_ske_json"),
                        this.anime_jieYin.addChild(this._jieyinMv),
                        this._jieyinMv.x = this._jieyinMv.y = 200,
                        this._jieyinMv.play("1"),
                        n.label = 2;
                    case 2:
                        this.anime_jieYin.visible = !0,
                        egret.setTimeout(this.clearBeastJieyin, this, 1e3 * (Object(f.a)("jyInfo.endTime") - u.a.getNow())),
                        n.label = 3;
                    case 3:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.onNewOpenRank = function() {
            De.a.openNewRank(di.b.newDi)
        }
        ,
        e.prototype.onRank = function() {
            var t = Object(M.f)() ? di.b.tian : di.b.di;
            De.a.openNewRank(t)
        }
        ,
        e.prototype.clearBeastJieyin = function() {
            this.anime_jieYin.visible = !1,
            this.anime_jieYin.removeChildren(),
            this._jieyinMv && (this._jieyinMv.dispose(),
            this._jieyinMv = null)
        }
        ,
        e.prototype.beastJieyin = function() {
            jn.show()
        }
        ,
        e.prototype.toucheBegin = function(t) {
            this._touch && (this.btn_zhujiao.removeEventListener(egret.TouchEvent.TOUCH_BEGIN, this.toucheBegin, this),
            this.btn_zhujiao.addEventListener(egret.TouchEvent.TOUCH_END, this.toucheEnd, this),
            this.btn_zhujiao.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE, this.toucheEnd, this),
            this.firstTouch = t.stageY)
        }
        ,
        e.prototype.onHeroGift = function() {
            xn.D.show()
        }
        ,
        e.prototype.onPrivilegeCard = function() {
            Xn.a.show()
        }
        ,
        e.prototype.onBuff = function() {
            Tn.show()
        }
        ,
        e.prototype.onFb = function() {
            var t, e, n, i = Object(uo.d)(), r = !1;
            if (r = "gcatenIos" == Object(o.getPlatform)().name || "gcathkIos1" == Object(o.getPlatform)().name ? (e = Number(o.cache.get("get_ios_version"))) && e > 1 : (e = Number(Object(o.getOption)("mobileVer"))) && Number(e) >= 29,
            console.log(r),
            r) {
                switch (i) {
                case "en_us":
                    t = "https://business.facebook.com/com.immortaltaoists/",
                    n = 0x5bf46237b3a7,
                    Object(pe.a)("click_fb_en_cp");
                    break;
                case "vi_vn":
                    t = "https://www.facebook.com/com.immortaltaoists.vn/",
                    n = 0x685d65a5a45a,
                    Object(pe.a)("click_fb_vn_cp");
                    break;
                case "ta_ta":
                    t = "https://www.facebook.com/com.immortaltaoists.th/",
                    n = 0x5faac5cea34e,
                    Object(pe.a)("click_fb_th_cp");
                    break;
                default:
                    t = "https://business.facebook.com/com.immortals.tw/",
                    n = 0x6186304e5fbb,
                    Object(pe.a)("click_fb_hant_cp")
                }
                var a = {
                    code: "2",
                    info: t,
                    pageid: n
                };
                egret.ExternalInterface.call("openPlatform", JSON.stringify(a))
            } else {
                switch (i) {
                case "vi_vn":
                    t = "https://www.facebook.com/com.immortaltaoists.vn/",
                    Object(pe.a)("click_fb_vn_cp");
                    break;
                case "en_us":
                    t = "https://www.facebook.com/com.immortaltaoists/ ",
                    Object(pe.a)("click_fb_en_cp");
                    break;
                case "zh_hant":
                    t = "https://www.facebook.com/com.immortals.tw/",
                    Object(pe.a)("click_fb_hant_cp");
                    break;
                case "ta_ta":
                    t = "",
                    Object(pe.a)("click_fb_th_cp");
                    break;
                default:
                    t = "https://www.facebook.com/com.immortals.tw/",
                    Object(pe.a)("click_fb_hant_cp")
                }
                egret.ExternalInterface.call("openFbPage", t)
            }
            var s = Object(g.d)("fbShare");
            if (s)
                if (2 != s.status)
                    this.sendCommunityReward("at.q");
                else {
                    var c = Object(g.d)("weeklyShare");
                    c && 2 != c.fbshare && this.sendCommunityReward("at.we", "fbshare")
                }
        }
        ,
        e.prototype.onBaHa = function() {
            o.cache.set("open_url", "https://forum.gamer.com.tw/A.php?bsn=37205"),
            Object(o.getPlatComp)("phase").phase("goCommunity"),
            Object(pe.a)("click_bahamut_hant_cp");
            var t = Object(g.d)("bhShare");
            if (t)
                if (2 != t.status)
                    this.sendCommunityReward("at.r");
                else {
                    var e = Object(g.d)("weeklyShare");
                    e && 2 != e.bhshare && this.sendCommunityReward("at.we", "bhshare")
                }
        }
        ,
        e.prototype.onDiscord = function() {
            o.cache.set("open_url", "https://discord.gg/AWaevAS"),
            Object(o.getPlatComp)("phase").phase("goCommunity"),
            Object(pe.a)("click_discord_en_cp");
            var t = Object(g.d)("bhShare");
            if (t)
                if (2 != t.status)
                    this.sendCommunityReward("at.r");
                else {
                    var e = Object(g.d)("weeklyShare");
                    e && 2 != e.bhshare && this.sendCommunityReward("at.we", "bhshare")
                }
        }
        ,
        e.prototype.onLobi = function() {
            o.cache.set("open_url", "https://web.lobi.co/group/3d472fcaa96b2f38f25346da4dc726ed4410018a"),
            Object(o.getPlatComp)("phase").phase("goCommunity"),
            Object(pe.a)("click_lobi_jp_cp");
            var t = Object(g.d)("bhShare");
            if (t)
                if (2 != t.status)
                    this.sendCommunityReward("at.r");
                else {
                    var e = Object(g.d)("weeklyShare");
                    e && 2 != e.bhshare && this.sendCommunityReward("at.we", "bhshare")
                }
        }
        ,
        e.prototype.sendCommunityReward = function(t, e) {
            "at.we" != t ? Object(o.getSocket)().request({
                route: t
            }).then((function(t) {
                console.log(t),
                Object(pe.a)("gift_share")
            }
            )) : Object(o.getSocket)().request({
                route: t,
                p: {
                    shareType: e
                }
            }).then((function() {
                Object(pe.a)("gift_share")
            }
            ))
        }
        ,
        e.prototype.onCafe = function() {
            var t;
            ("gcatenIos" == Object(o.getPlatform)().name || "gcathkIos1" == Object(o.getPlatform)().name ? (t = Number(o.cache.get("get_ios_version"))) > 1 : (t = Number(Object(o.getOption)("mobileVer"))) && Number(t) >= 29) ? egret.ExternalInterface.call("openPlatform", JSON.stringify({
                code: 1,
                info: "",
                pageid: ""
            })) : (o.cache.set("open_url", "https://cafe.naver.com/godofsh/"),
            Object(o.getPlatComp)("phase").phase("goCommunity"));
            var e = Object(g.d)("bhShare");
            if (e)
                if (2 != e.status)
                    this.sendCommunityReward("at.r");
                else {
                    var n = Object(g.d)("weeklyShare");
                    n && 2 != n.bhshare && this.sendCommunityReward("at.we", "bhshare")
                }
            Object(pe.a)("click_cafe_kr_cp")
        }
        ,
        e.prototype.toucheEnd = function(t) {
            1 == Object(f.a)("fly") && (Object(M.f)() ? this.firstTouch - t.stageY <= -170 && this.playFeiSheng() : this.firstTouch - t.stageY >= 170 && this.playFeiSheng(),
            this.btn_zhujiao.addEventListener(egret.TouchEvent.TOUCH_BEGIN, this.toucheBegin, this),
            this.btn_zhujiao.removeEventListener(egret.TouchEvent.TOUCH_END, this.toucheEnd, this),
            this.btn_zhujiao.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE, this.toucheEnd, this))
        }
        ,
        e.prototype.showFeisheng = function() {
            var t = this;
            this.gp_ui.alpha = 0,
            this.gp_ui2.alpha = 0,
            Object(M.C)(!0),
            this.refreshFeiSheng(),
            this.playDiZuo(),
            egret.Tween.get(this.gp_ui).to({
                alpha: 1
            }, 900).call((function() {
                egret.Tween.removeTweens(t.gp_ui)
            }
            )),
            egret.Tween.get(this.gp_ui2).to({
                alpha: 1
            }, 900).call((function() {
                egret.Tween.removeTweens(t.gp_ui2)
            }
            )),
            this.btn_xianjie.removeEventListener(egret.TouchEvent.TOUCH_TAP, this.onTianji, this),
            this.btn_fanjian.removeEventListener(egret.TouchEvent.TOUCH_TAP, this.onTianji, this),
            this.tap("btn_xianjie", this.playFeiSheng, this),
            this.tap("btn_fanjian", this.playFeiSheng, this)
        }
        ,
        e.prototype.onExit = function() {
            egret.Tween.removeTweens(this.mainBtn),
            this.cloudAnime && this.cloudAnime.dispose(),
            this.clearBeastJieyin(),
            t.prototype.onExit.call(this)
        }
        ,
        e.prototype.onVerify = function() {
            mn.show()
        }
        ,
        e.prototype.onFairyCity = function() {
            Object(te.a)(new Ve)
        }
        ,
        e.prototype.openFailureGift = function() {
            De.a.openFailureGift(!0)
        }
        ,
        e.prototype.onTask = function() {
            yt.ins.checkRes().then((function() {
                Ei.show(tt.land)
            }
            ))
        }
        ,
        e.prototype.onJiyuan = function() {
            Vi.a.show(Gi.d.ji)
        }
        ,
        e.prototype.onFeast = function() {
            De.a.openFeast()
        }
        ,
        e.prototype.onMail = function() {
            ee.a.show()
        }
        ,
        e.prototype.onFangShi = function() {
            Object(M.f)() ? Nn.a.show(Zt.c.xianzhi) : Zt.b.show(Zt.c.lingbao)
        }
        ,
        e.prototype.onYanwu = function() {
            De.a.openYanwu()
        }
        ,
        e.prototype.onLinglongge = function() {
            De.a.openLinglongge()
        }
        ,
        e.prototype.onDengxiange = function() {
            De.a.openDxge()
        }
        ,
        e.prototype.onLog = function() {
            oe.b.show()
        }
        ,
        e.prototype.onLevelGift = function() {
            qe.show()
        }
        ,
        e.prototype.onFbShare = function() {
            Yo.show()
        }
        ,
        e.prototype.onPublic = function() {
            Gn.show()
        }
        ,
        e.prototype.onGzhlb = function() {
            Wn.show()
        }
        ,
        e.prototype.onSipuJieri = function() {
            tr.show()
        }
        ,
        e.prototype.onXianShouGift = function() {
            return Or(this, void 0, void 0, (function() {
                return jr(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Object(le.b)([Object(D.a)("festivalActivity_json"), Object(o.getLocale)().init("commact")].concat(Object(Te.a)("mid_1&mid_2"), Object(Te.a)("bounty")))];
                    case 1:
                        return t.sent(),
                        Oo.a.show("PetGiftMainSkin", Object(o.singleton)(to).getLotteryOption(), !0),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.onShare = function() {
            var t = Object(g.d)("moduoShare")
              , e = Object(o.getPlatform)().name;
            t && 2 != t.status && "awy" != e ? Ye.b.show() : hn.show()
        }
        ,
        e.prototype.onTianji = function() {
            var t = this;
            if (this.bgMask.visible = !0,
            this.isTianji) {
                this.btn_buff.visible = this.btn_buff.includeInLayout = this.buffOpen,
                this.setState("normal"),
                this.setSpace(1, !1),
                this.lbl_tianji.alpha = 0;
                var e = o.Movie.create("dengtian_ske_json");
                this.anime_fly.addChild(e),
                e.play("2", 1),
                e.once(o.MovieEvent.COMPLETE, (function() {
                    e.dispose(),
                    egret.Tween.get(t.gp_ui).to({
                        alpha: 1
                    }, 900).call((function() {
                        t.bgMask.visible = !1
                    }
                    )),
                    egret.Tween.get(t.gp_ui2).to({
                        alpha: 1
                    }, 900)
                }
                ), this)
            } else {
                this.setState("tianji");
                var n = o.Movie.create("dengtian_ske_json");
                this.anime_fly.addChild(n),
                this.btn_buff.visible = this.btn_buff.includeInLayout = !1,
                egret.Tween.get(this.roleImg).to({}, 500).call((function() {
                    t.roleImg.visible = !1
                }
                )).to({}, 900),
                n.play("1", 1),
                n.once(o.MovieEvent.COMPLETE, (function() {
                    n.dispose(),
                    t.setSpace(2, !1),
                    egret.Tween.get(t.lbl_tianji).to({
                        alpha: 1
                    }, 900).call((function() {
                        t.bgMask.visible = !1
                    }
                    ))
                }
                ), this)
            }
            this.isTianji = !this.isTianji
        }
        ,
        e.prototype.onCollection = function() {
            "awy" != Object(o.getPlatform)().name ? Ke.show() : _n.show()
        }
        ,
        e.prototype.onTianTing = function() {
            var t = this;
            this.bgMask.visible = !0;
            var e = o.Movie.create("dengtian_ske_json");
            this.anime_fly.addChild(e),
            egret.Tween.get(this.roleImg).to({}, 500).call((function() {
                t.roleImg.visible = !1
            }
            )).to({}, 900),
            e.play("1", 1),
            e.once(o.MovieEvent.COMPLETE, (function() {
                e.dispose(),
                Object(Te.b)({
                    source: Object(Ee.Mb)(),
                    locale: "tiant",
                    name: "tiant"
                }).then((function(t) {
                    t.TianTingView.show()
                }
                ))
            }
            ), this)
        }
        ,
        e.prototype.onBackTianting = function() {
            var t = this;
            this.bgMask.visible = !1;
            var e = o.Movie.create("dengtian_ske_json");
            this.anime_fly.addChild(e),
            egret.Tween.get(this.roleImg).to({}, 500).call((function() {
                t.roleImg.visible = !0
            }
            )).to({}, 900),
            e.play("2", 1),
            e.once(o.MovieEvent.COMPLETE, (function() {
                e.dispose()
            }
            ), this)
        }
        ,
        e.prototype.onXianshi = function() {
            Mn.a.show()
        }
        ,
        e.prototype.onXianYin = function() {
            Ei.show(tt.fairy, this.xianyinBtn.data)
        }
        ,
        e.prototype.refreshFuncOpen = function(t) {
            "newGrowGift" == t && this.refreshGrowGift()
        }
        ,
        e.prototype.checkFailGift = function(t) {
            return void 0 === t && (t = !0),
            Or(this, void 0, void 0, (function() {
                var e, n, i, r, a, s, c, h, l, p, f, d;
                return jr(this, (function(b) {
                    if (!v.b.isOpen("recharge"))
                        return [2];
                    if (e = Object(g.c)("failGift"),
                    i = [],
                    !e)
                        return [2];
                    for (s in (n = Object(g.d)("failGift")) && n.l && (i = Object(g.l)(n.l)),
                    r = 0,
                    a = !1,
                    this.failGiftObj)
                        r++;
                    for (c = 0; c < i.length; c++)
                        this.failGiftObj[i[c].id] && i[c].extime != this.failGiftObj[i[c].id].extime && (a = !0),
                        this.failGiftObj[i[c].id] = i[c];
                    for (l in h = 0,
                    this.failGiftObj)
                        h++;
                    if (i.length > 0) {
                        for (p = 0,
                        f = u.a.getNow(),
                        d = 0; d < i.length; d++)
                            (0 == p || p < i[d].extime - f) && (p = i[d].extime - f);
                        this.failGiftCountDown = {
                            endTime: f + p,
                            labelStyle: {
                                bottom: -18,
                                horizontalCenter: 0
                            },
                            trKey: function(t) {
                                return u.a.cdFormat(t, "HMS")
                            },
                            complete: this.removeFailGiftBtn.bind(this)
                        },
                        this.addEntrance("failGift", this.openFailureGift, this.activityGroup, "btn_main_pug_png", "failGift", "失败礼包", this.failGiftCountDown)
                    }
                    return !t && i.length > 0 && Object(o.put)("failureGiftUpdateRed", !0),
                    t && (r != h || a) && (De.a.openFailureGift(),
                    Object(o.put)("failureGiftUpdateRed", !0)),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e.prototype.removeFailGiftBtn = function() {
            this._dynamicBtn.failGift && (this.activityGroup.removeChild(this._dynamicBtn.failGift),
            this._dynamicBtn.failGift = null),
            this.checkFailGift(!1)
        }
        ,
        e.prototype.refreshGrowGift = function() {
            var t = this;
            if (v.b.isOpen("growGift")) {
                var e = Object(g.d)("newGrowGift")
                  , n = u.a.getNow()
                  , i = Object.keys(e.extime)
                  , o = 0;
                if (i.length > 0)
                    for (var r = 0; r < i.length; r++) {
                        var a = Number(e.extime[i[r]]);
                        o < a && (o = a)
                    }
                else
                    o = n;
                if (n - o >= 0)
                    this.growGift.visible = this.growGift.includeInLayout = !1;
                else {
                    for (r = 0; r < e.l.length; r++)
                        if (0 == e.l[r].awded)
                            return this.growGift.visible = this.growGift.includeInLayout = !0,
                            this.countDown && this.countDown.dispose(),
                            void (this.countDown = new Ue.a({
                                component: this.lbl_growTime,
                                endTime: o,
                                trKey: function(t) {
                                    return u.a.cdFormat(t, "HMS")
                                },
                                complete: function() {
                                    t.growGift.visible = t.growGift.includeInLayout = !1
                                }
                            }));
                    this.growGift.visible = this.growGift.includeInLayout = !1
                }
            } else
                this.growGift.visible = this.growGift.includeInLayout = !1
        }
        ,
        e.prototype.refreshFeiSheng = function(t) {
            void 0 === t && (t = !0),
            this.keeperBtnVisible();
            var e = Object(M.f)();
            this.menu_1.visible = !e,
            this.menu_2.visible = e,
            this._touch = !!Object(f.a)("fly"),
            this.updateMission(e),
            this.gp_ad2.visible = !e && this.gp_ad.numChildren > 0,
            e ? (this.fangshiBtn.pic.source = "btn_xiange_png",
            Object(fn.a)("bgm_bg_2_mp3")) : (this.fangshiBtn.pic.source = "btn_fangshi_png",
            Object(fn.a)("bgm_bg_1_mp3")),
            this.btn_muxianjing.visible = !e,
            this.btn_xianshi.visible = e,
            t && this.setSpace(e ? 2 : 1),
            this._dynamicBtn.xianbang && (this._dynamicBtn.xianbang.iconDisplay.source = e ? "btn_act_personalRank_png" : "btn_act_ranking_png"),
            this.checkBtnShow(this._dynamicBtn.crossRank, e && v.b.isOpen("crossRank")),
            this.checkBtnShow(this._dynamicBtn.xianbang, v.b.isOpen("xianbang")),
            this.checkBtnShow(this._dynamicBtn.limitTask, v.b.isOpen("limitTask")),
            this.checkBtnShow(this._dynamicBtn.serverRank, !e && v.b.isOpen("serverRank")),
            this.checkBtnShow(this._dynamicBtn.openRank, !e && v.b.isOpen("newOpenRank")),
            this.checkBtnShow(this._dynamicBtn.qishilu, !e && v.b.isOpen("qishilu")),
            this.checkBtnShow(this._dynamicBtn.xianmengRank, v.b.isOpen("xianmengRank"))
        }
        ,
        e.prototype.createActBtn = function() {
            this.addEntrance("ReTaskBtn", this.onReTask, this.bottomGroup, "btn_rechargeTask_png", "reTask", "仙道回馈"),
            this.addEntrance("crossRank", this.onCrossRank, this.bottomGroup, "btn_act_crossRank_png", "crossRank", "跨服冲榜"),
            this.addEntrance("xianbang", this.onRank, this.bottomGroup, "btn_act_ranking_png", "xianbang", "仙榜"),
            this.addEntrance("serverRank", this.onRank, this.bottomGroup, "btn_main_kfcb_png", "serverRank", "开服冲榜"),
            this.addEntrance("openRank", this.onNewOpenRank, this.bottomGroup, "btn_main_kfcb_png", "newOpenRank", "新开服冲榜"),
            this.addEntrance("limitTask", this.onLimitTask, this.bottomGroup, "btn_main_xsjl_png", "limitTask", "限时任务"),
            this.addEntrance("qishilu", this.onQishilu, this.bottomGroup, "btn_main_qsl_png", "qishilu", "启示录"),
            this.addEntrance("xianmengRank", this.onXianmengTask, this.bottomGroup, "btn_act_guildRank_png", "xianmengRank", "仙盟冲榜"),
            this.addEntrance("flyboat", this.onFlyboat, this.activityGroup, "btn_flyboat_png", "flyboat", "蓬莱飞舟"),
            this.addEntrance("fbshareBtn", this.onFbShare, this.activityGroup, "btn_act_share_png", "imgShare", "")
        }
        ,
        e.prototype.checkBtnShow = function(t, e) {
            t && (t.visible = t.includeInLayout = e),
            e && !t && this.createActBtn()
        }
        ,
        e.prototype.updateLinggen = function() {
            if (1 == this.isSend) {
                console.log(u.a.getNow());
                var t = o.cache.get("Activity.version").v;
                Object(st.d)("u.c", {
                    acv: t,
                    mask: !1
                }).then((function(e) {
                    if (e) {
                        e.hasOwnProperty("ver") && e.ver !== t && (Object(mo.a)(),
                        o.cache.set("Activity.version", {
                            v: e.ver
                        }));
                        var n = u.a.getNow(!0)
                          , i = o.cache.get("firstActEndTime");
                        i <= n && 0 != i && (Object(o.put)("update_mainActBtn"),
                        Object(M.G)()),
                        (Object(f.a)("nextDayTime") ? Object(f.a)("nextDayTime") : n - (n + 28800) % 86400 + 86400) <= n && Object(o.put)("refresh_Day"),
                        o.cache.set("first_refresh_uc_time", u.a.getNow(!1)),
                        o.cache.set("SpirtRoot_Refresh_Status", !0),
                        Object(o.put)("spiritRoot_stop_false"),
                        e.resource && Object(o.put)("collect_res", e.resource);
                        var r = Object(f.a)()
                          , a = Object(M.n)();
                        if (1 == r.switch.autoLingGen && (a > 0 || r.tqInfo.tq2 > 0)) {
                            var s = o.cache.get("Root.getList").l
                              , c = Object(o.getConfig)("spiritRoot_json")
                              , h = s.root.slice();
                            h.sort((function(t, e) {
                                return t.level > e.level || t.level == e.level && t.id > e.id ? 1 : -1
                            }
                            ));
                            for (var l = function(t) {
                                var e = c[h[t].id].filter((function(e) {
                                    return e.level == h[t].level
                                }
                                ))[0];
                                return c[h[t].id].filter((function(e) {
                                    return e.level == h[t].level + 1
                                }
                                ))[0] ? r.lExp >= e.nextExp ? (console.log(r.lExp, e.nextExp, h[t]),
                                Object(st.d)("sr.a", {
                                    id: h[t].id
                                }).then((function() {
                                    Object(o.put)("SpiritRoot_LvUp_MV", h[t].id)
                                }
                                )).catch(o.errorHandler),
                                "break") : void 0 : "break"
                            }, p = 0; p < h.length; p++) {
                                if ("break" === l(p))
                                    break
                            }
                        }
                    }
                }
                ))
            }
            this.isSend = !this.isSend
        }
        ,
        e.prototype.playBgAnimation = function() {
            var t = this;
            this.cloudAnime = o.Movie.create("zcj_yunwu_2_ske_json", !0),
            this.anime_cloud.addChild(this.cloudAnime),
            this.cloudAnime.play("1");
            for (var e = 0; e < 6; e++)
                egret.setTimeout((function() {
                    var e = o.Movie.create("zhuchangjing_ske_json", !0)
                      , n = Object(M.B)(8, 4) / 10;
                    t.anime_bird.addChild(e),
                    e.play("1"),
                    egret.Tween.get(e, {
                        loop: !0
                    }).call((function() {
                        e.x = 0,
                        e.y = Object(M.B)(160, 0),
                        e.scaleX = n,
                        e.scaleY = n
                    }
                    )).to({
                        x: 760,
                        y: Object(M.B)(40, 0),
                        scaleX: n - .2,
                        scaleY: n - .2
                    }, Object(M.B)(3e4, 2e4))
                }
                ), this, 5e3 * e)
        }
        ,
        e.prototype.playFeiSheng = function() {
            var t = this
              , e = Object(M.f)();
            e ? Object(M.C)(!1) : Object(M.C)(!0),
            this.refreshFeiSheng(!1),
            this.bgMask.visible = !0,
            this.gp_ui.alpha = 0,
            this.gp_ui2.alpha = 0,
            this.gp_ad.alpha = 0;
            var n = o.Movie.create("dengtian_ske_json");
            this.anime_fly.addChild(n),
            egret.Tween.get(this.roleImg).to({}, 500).call((function() {
                t.roleImg.visible = !1,
                t.animeNode_1.visible = !1,
                t.animeNode_2.visible = !1
            }
            )).to({}, 900).call((function() {
                t.roleImg.visible = !0,
                t.animeNode_1.visible = e,
                t.animeNode_2.visible = !0,
                e ? t.animeNode_1.visible = !1 : t.playDiZuo()
            }
            )),
            n.play("1", 1),
            n.once(o.MovieEvent.COMPLETE, (function() {
                n.dispose(),
                t.setSpace(e ? 1 : 2);
                var i = o.Movie.create("dengtian_ske_json");
                t.anime_fly.addChild(i),
                i.play("2", 1),
                egret.Tween.get(t.gp_ui).to({
                    alpha: 1
                }, 900).call((function() {
                    t.bgMask.visible = !1
                }
                )),
                egret.Tween.get(t.gp_ui2).to({
                    alpha: 1
                }, 900),
                egret.Tween.get(t.gp_ad).to({
                    alpha: 1
                }, 900)
            }
            ), this)
        }
        ,
        e.prototype.showCards = function() {
            var t = v.b.isOpen("cards");
            t && Object(M.f)() ? this.guanzhiBtn.visible = t && v.b.isOpen("recharge") : this.guanzhiBtn.visible = !1
        }
        ,
        e.prototype.playDiZuo = function() {
            this.diZuo ? this.animeNode_1.visible = !0 : (this.diZuo = o.Movie.create("dizuo_ske_json", !0),
            this.animeNode_1.addChild(this.diZuo),
            this.diZuo.play("1"))
        }
        ,
        e.prototype.onFold = function() {
            if (!Object(M.q)(125)) {
                this.gp_ad.visible = !this.gp_ad.visible;
                var t = this.gp_ad.visible ? 360 : 180;
                this.jiantou && (egret.Tween.removeTweens(this.jiantou),
                egret.Tween.get(this.jiantou).to({
                    rotation: t
                }, 250))
            }
        }
        ,
        e.prototype.onIconStorage = function() {
            null == this._iconFolder ? this._iconFolder = Object(o.getLocalStorage)().getBool(zi.a.STORAGE_KEY_ICONFOLDER, !0) : this._iconFolder = !this._iconFolder,
            Object(o.put)("iconFolder", this._iconFolder),
            Object(o.getLocalStorage)().setBool(zi.a.STORAGE_KEY_ICONFOLDER, this._iconFolder),
            this.storage.visible = this._iconFolder,
            this.btn_storage.rotation = this._iconFolder ? 0 : 180
        }
        ,
        e.prototype.ShareTip = function() {
            var t = Object(g.d)("moduoShare");
            if (t && ("modoxyx" == Object(o.getPlatform)().name && 2 != t.status && t.pushNum <= 2)) {
                var e = 1e3 * (t.pTime - u.a.getNow());
                e < 0 && (e = 3e3),
                egret.clearTimeout(this.modoShareTime),
                this.modoShareTime = egret.setTimeout((function() {
                    var e = o.UI.getUIComponentAll(o.ComponentType.Box);
                    if (e.length > 0 && e.some((function(t) {
                        return "FirstShareSkin" == t.skinName
                    }
                    )))
                        return;
                    2 == t.status || t.pushNum > 2 || (pn.a.isGuiding ? Object(o.put)("first_open_share_30min") : Ye.b.show())
                }
                ), this, e)
            }
        }
        ,
        e.prototype.festivalAwdAni = function(t) {
            var e = this;
            if (t && t.length) {
                var n, i, r;
                if (1 == Object(o.getConfig)("recharge_json")[t[0].rechargeId].type)
                    n = this.fangshiBtn.x + 50,
                    i = this.fangshiBtn.y + 50 + 90;
                else {
                    var a = this._dynamicBtn.festival ? this._dynamicBtn.festival : this.gp_actBtn;
                    n = a.x + 54,
                    i = a.y + 52
                }
                r = Object(g.d)("fsTimeGift") ? "festival_gift_2_ske_json" : "festival_gift_4_ske_json",
                this._festivalAni = o.Movie.create(r, !0),
                this._festivalAni.x = o.display.stage.stageWidth >> 1,
                this._festivalAni.y = o.display.stage.stageHeight >> 1,
                this._festivalAni.rotation = -30,
                this.addChild(this._festivalAni),
                this._festivalAni.play("1"),
                egret.Tween.get(this._festivalAni).to({
                    x: n,
                    y: i
                }, 1e3).call((function() {
                    e._festivalAni && (e._festivalAni.dispose(),
                    e._festivalAni = null)
                }
                ), this)
            }
        }
        ,
        e.prototype.initFestival = function() {
            if (!(Object(f.a)("lv") < 31)) {
                var t, e = u.a.getNow(), n = Object(g.d)("fsTimeGift");
                if (n ? t = "festival_gift_1_ske_json" : (n = Object(g.d)("fcTimeGift"),
                t = "festival_gift_3_ske_json"),
                !n || e < n.start || e > n.end)
                    this._festivalMv && (this._festivalMv.dispose(),
                    this._festivalMv = null);
                else {
                    if (!n || n.awdNum >= 8 || n.cdTime > u.a.getNow())
                        return this.fesNode.visible = !1,
                        this._festivalMv && (this._festivalMv.dispose(),
                        this._festivalMv = null),
                        void (n && n.awdNum < 8 && n.cdTime && egret.setTimeout(this.initFestival, this, n.cdTime - u.a.getNow()));
                    this.fesNode.visible = !0,
                    this._festivalMv = o.Movie.create(t, !0),
                    this.fesNode.addChild(this._festivalMv),
                    this._festivalMv.play("1"),
                    this._festivalMv.touchEnabled = !0,
                    this.tap(this._festivalMv, this.festivalAwd, this)
                }
            }
        }
        ,
        e.prototype.festivalAwd = function() {
            return Or(this, void 0, void 0, (function() {
                var t, e;
                return jr(this, (function(n) {
                    switch (n.label) {
                    case 0:
                        return this.fesNode.visible && this._festivalMv ? (t = this)._waitFestivalAwd ? [2] : (t._waitFestivalAwd = !0,
                        [4, Object(D.a)("recharge_json")]) : [2];
                    case 1:
                        return n.sent(),
                        e = Object(g.d)("fsTimeGift") ? "at.ar" : "at.cj",
                        Object(st.d)(e).then((function(e) {
                            e ? (e.awds && Vn.a.show(e).exit((function() {
                                e.gift && e.gift.length && t.festivalAwdAni(e.gift)
                            }
                            )),
                            t.initFestival(),
                            t._waitFestivalAwd = !1) : t._waitFestivalAwd = !1
                        }
                        )),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.initBlackMarket = function() {
            var t = Number(Object(M.d)("blackMarket_refresh_time"));
            t && !(u.a.getNow() >= t) || 1 != Object(f.a)("fly") || pn.a.isGuiding || De.a.openBlackMarket()
        }
        ,
        e.prototype.onReTask = function() {
            De.a.openRechargeTask()
        }
        ,
        e.prototype.onCrossRank = function() {
            De.a.openNewRank(di.b.cross)
        }
        ,
        e.prototype.onVipKefu = function() {
            Object(te.a)(new vo.a)
        }
        ,
        e.prototype.onActivity = function() {
            if (Object(o.getOption)("isTestErr")) {
                console.log("testErr")
            }
            mi.a.show()
        }
        ,
        e.prototype.onFlyboat = function() {
            De.a.openFlyBoat()
        }
        ,
        e.prototype.onImgShare = function() {
            Object(te.a)(new Qe)
        }
        ,
        e.prototype.onFbInvite = function() {
            Pi.show()
        }
        ,
        e.prototype.initScroll = function() {
            var t = this;
            Object(co.g)(this.sc),
            Object(M.x)((function() {
                t._scCenter = 2e3 - t.sc.width >> 1,
                t.setSpace(Object(M.f)() ? 2 : 1),
                t.disposeArr.push(Object(m.e)(t.sc, t.img_left, t.img_right, {
                    scrollW: 200,
                    onChange: t.onChangeSc.bind(t),
                    remind: !0
                })),
                t.disposeArr.push(Object(m.a)(t.sc, egret.TouchEvent.CHANGE, t.onChangeSc, t)),
                t.on("resetScenePos", t.resetPos, t)
            }
            ), this),
            this.tweenCloud()
        }
        ,
        e.prototype.onChangeSc = function() {
            this.img_bg1.x = (this._scCenter - this.gp_ui2.scrollH) / 2 - this._scCenter,
            this.img_bg2.x = -this.gp_ui2.scrollH + this.sc.left,
            this.gp_yun.x = -this.gp_ui2.scrollH
        }
        ,
        e.prototype.resetPos = function(t) {
            var e = this;
            void 0 === t && (t = 0),
            this.sc.stopAnimation(),
            this.img_left.touchEnabled = this.img_right.touchEnabled = !1,
            this.sc.viewport.scrollH = this._scCenter + t,
            this.sc.enabled = !1,
            this._resetPosTid && egret.clearTimeout(this._resetPosTid),
            this._resetPosTid = egret.setTimeout((function() {
                e.sc.enabled = !0,
                e.img_left.touchEnabled = e.img_right.touchEnabled = !0,
                e._resetPosTid = 0
            }
            ), this, 1e3)
        }
        ,
        e.prototype.setSpace = function(t, e) {
            void 0 === e && (e = !0),
            e && this.resetPos(),
            1 == t ? (this.img_bg1.source = "bg_main_fj_3_jpg",
            this.img_bg2.source = "bg_main_fj_2_png",
            this.img_bg3.source = "bg_main_fj_1_png",
            this.fanjian.visible = !0,
            this.xianjie.visible = !1) : (this.img_bg1.source = "bg_main_xj_3_jpg",
            this.img_bg2.source = "bg_main_xj_2_png",
            this.img_bg3.source = "bg_main_xj_1_png",
            this.fanjian.visible = !1,
            this.xianjie.visible = !0)
        }
        ,
        e.prototype.tweenCloud = function() {
            egret.Tween.get(this.img_yunwu, {
                loop: !0
            }).to({
                x: 2e3
            }, 2e4).set({
                x: -415
            }),
            egret.Tween.get(this.img_yunwu2, {
                loop: !0
            }).to({
                x: 2e3
            }, 3e4).set({
                x: -1010
            })
        }
        ,
        e.prototype.onReturn = function() {
            De.a.openOverseaReturn()
        }
        ,
        e.prototype.onRecall = function() {
            De.a.openOverseaReturn(2)
        }
        ,
        e.prototype.onCharacter = function() {
            var t = this;
            this.festivalAwd();
            var e = Object(f.a)();
            if (e.lv < 10)
                Object(o.put)("checkTupo");
            else {
                var n = Object(o.getConfig)("level_json")[e.lv];
                if ((!(10 == e.lv && e.exp < n.exp) || this._dujieStatus) && !this._switching) {
                    this._switching = !0;
                    var i, r = [], a = [];
                    this._dujieStatus = !this._dujieStatus,
                    this._dujieStatus ? (a = [this.dujie],
                    r = [this.gp_ui, this.gp_ui2, this.img_left, this.img_right]) : (r = [this.dujie],
                    a = [this.gp_ui, this.gp_ui2, this.img_left, this.img_right]);
                    for (var s = 0; s < r.length; s++)
                        i = egret.Tween.get(r[s]).to({
                            alpha: 0
                        }, 1e3).set({
                            visible: !1
                        });
                    i.call((function() {
                        t._switching = !1
                    }
                    ));
                    for (var c = 0; c < a.length; c++)
                        a[c].alpha = 0,
                        a[c].visible = !0,
                        egret.Tween.get(a[c]).to({
                            alpha: 1
                        }, 1e3);
                    this._dujieStatus ? this.initDujieView() : this.clearDujieAni()
                }
            }
        }
        ,
        e.prototype.onGPDujie = function(t) {
            t.target == this.dujie && this._dujieStatus && this.onCharacter()
        }
        ,
        e.prototype.initDujieView = function() {
            this._initDujie || (this._initDujie = !0,
            this.tap("dujieBtn", this.onDujie, this),
            this.tap("cuitiBtn", this.onCuiti, this))
        }
        ,
        e.prototype.clearDujieAni = function() {
            this._dujieMv && (this._dujieMv.dispose(),
            this._dujieMv = null),
            this._cuitiMv && (this._cuitiMv.dispose(),
            this._cuitiMv = null)
        }
        ,
        e.prototype.udpateDujieView = function() {
            var t = Object(f.a)()
              , e = Object(o.getConfig)("level_json")[t.lv]
              , n = Object(o.getConfig)("bodyLevel_json")[t.blv];
            this.stage1Label.text = Object(o.tr)("main@level", {
                level: Object(o.tr)(e.name)
            }),
            this.stage2Label.text = Object(o.tr)("main@bodyLevel", {
                level: Object(o.tr)(n.name)
            }),
            this.maxLevel == t.lv ? this.exp1Label.text = Object(o.tr)("main@maxLevel") : this.exp1Label.text = Object(o.tr)("main@exp", {
                num: Object(uo.b)(e.exp)
            }),
            this.maxBodyLevel == t.blv ? this.exp2Label.text = Object(o.tr)("main@maxLevel") : this.exp2Label.text = Object(o.tr)("main@exp", {
                num: Object(uo.b)(n.exp)
            }),
            t.lv >= 10 && (t.exp >= e.exp ? (this._dujieMv || (this._dujieMv = o.Movie.create("up_lv_ske_json", !0),
            this.animeNode0.addChild(this._dujieMv),
            this._dujieMv.play("1")),
            this.dujieTipAni()) : (this.clearDujieTipAni(),
            this._dujieMv && (this._dujieMv.dispose(),
            this._dujieMv = null)),
            t.exp >= n.exp ? this._cuitiMv || (this._cuitiMv = o.Movie.create("up_lv_ske_json", !0),
            this.animeNode1.addChild(this._cuitiMv),
            this._cuitiMv.play("2")) : this._cuitiMv && (this._cuitiMv.dispose(),
            this._cuitiMv = null))
        }
        ,
        Object.defineProperty(e.prototype, "maxLevel", {
            get: function() {
                if (!this._maxLevel) {
                    var t = Object(o.getConfig)("level_json");
                    for (var e in this._maxLevel = 1,
                    t)
                        t[e].level > this._maxLevel && (this._maxLevel = t[e].level)
                }
                return this._maxLevel
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "maxBodyLevel", {
            get: function() {
                if (!this._maxBodyLevel) {
                    var t = Object(o.getConfig)("bodyLevel_json");
                    for (var e in this._maxBodyLevel = 1,
                    t)
                        t[e].level > this._maxBodyLevel && (this._maxBodyLevel = t[e].level)
                }
                return this._maxBodyLevel
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.dujieTipAni = function() {
            this._dujieTipMv || (this._dujieTipMv = o.Movie.create("kedujie_ske_json", !0),
            this.animeKedujie.addChild(this._dujieTipMv),
            this._dujieTipMv.play("1"))
        }
        ,
        e.prototype.clearDujieTipAni = function() {
            this._dujieTipMv && (this._dujieTipMv.dispose(),
            this._dujieTipMv = null)
        }
        ,
        e.prototype.onDujie = function() {
            var t = Object(f.a)()
              , e = Object(o.getConfig)("level_json")[t.lv];
            t.lv < 10 ? Object(o.tooltip)(Object(o.tr)("main@xiulianNoEnough1")) : t.lv != this.maxLevel ? e.exp > t.exp ? Object(o.tooltip)(Object(o.tr)("main@xiuweiEnough")) : Mi.show() : Object(o.tooltip)(Object(o.tr)("main@maxLevel"))
        }
        ,
        e.prototype.onCuiti = function() {
            var t = this
              , e = Object(f.a)()
              , n = Object(o.getConfig)("bodyLevel_json")[e.blv];
            o.cache.set("XiuLian_Status", !0),
            e.lv < 10 ? Object(o.tooltip)(Object(o.tr)("main@xiulianNoEnough2")) : e.blv != this.maxBodyLevel ? n.exp > e.exp ? Object(o.tooltip)(Object(o.tr)("main@xiuweiEnough")) : (this.cuitiBtn.enabled = !1,
            Object(st.d)("u.ab", {
                type: 2
            }).then((function(e) {
                (Object(o.put)("xiulian_refresh"),
                Object(o.put)("play_topo_cuiti", 2),
                o.cache.set("XiuLian_Status", !1),
                t.cuitiBtn.enabled = !0,
                "modoxyx" == Object(o.getPlatform)().name) && (Object(g.d)("moduoTotalShare") && e.body_level % 10 == 1 && Ye.a.show(Ye.c.bLv))
            }
            )).catch((function() {
                t.cuitiBtn.enabled = !0,
                o.cache.set("XiuLian_Status", !1)
            }
            ))) : Object(o.tooltip)(Object(o.tr)("main@maxLevel"))
        }
        ,
        e.prototype.showLoginPanels = function() {
            return Or(this, void 0, void 0, (function() {
                var t;
                return jr(this, (function(e) {
                    switch (e.label) {
                    case 0:
                        return (t = Object(g.d)("openScreen")) && ne.a.checkOpenScreen(t) ? [4, ne.a.show()] : [3, 2];
                    case 1:
                        e.sent(),
                        e.label = 2;
                    case 2:
                        return Object(g.d)("nySign") && xn.T.isLoginShow() ? [4, De.a.openNySign()] : [3, 4];
                    case 3:
                        e.sent(),
                        e.label = 4;
                    case 4:
                        return ie.a.show(),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.checkReload = function() {
            var t = egret.localStorage.getItem("temporaryAudio");
            if (t && null != t) {
                var e = JSON.parse(t);
                e.music,
                o.audio.on("music"),
                e.effect,
                o.audio.on("effect"),
                egret.localStorage.removeItem("temporaryAudio")
            }
        }
        ,
        e.prototype.checkEmailBind = function() {}
        ,
        e.prototype.checkEmailInfo = function() {
            if ("" != o.cache.get("email_bind_state").email)
                rr.show();
            else {
                var t = o.cache.get("mobileLang") || "zh-CN";
                Object(st.d)("u.bf", {
                    lang: t,
                    channel: Object(o.getPlatform)().name
                }).then((function(t) {
                    t && (o.cache.set("email_bind_info", t),
                    rr.show())
                }
                ))
            }
        }
        ,
        e.prototype.refreshEmailInfo = function() {
            var t = Object(g.d)("updateReward")
              , e = o.cache.get("email_bind_state");
            t && (u.a.getNow() > t.end || 2 == t.status || e && "" == e.email && Object(uo.h)()) && (this._dynamicBtn.btn_main_bindemail && (this._dynamicBtn.btn_main_bindemail.visible = this._dynamicBtn.btn_main_bindemail.includeInLayout = !1),
            this._dynamicBtn.btn_main_download && (this._dynamicBtn.btn_main_download.visible = this._dynamicBtn.btn_main_download.includeInLayout = !1))
        }
        ,
        e.prototype.onChristmasActivity = function() {
            Object(o.getLocalStorage)().setString("Christmas_web_page", "1"),
            o.cache.set("open_url", "http://www.immortaltaoists.com/christmas/#/"),
            Object(o.getPlatComp)("phase").phase("goCommunity"),
            Object(o.put)("christmas_web_page_get")
        }
        ,
        e.initialized = !1,
        e
    }(o.UIComponent)
      , xr = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , kr = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return xr(e, t),
        e.prototype.onReady = function() {
            this.tap("fangshiBtn", this.onFangShi, this)
        }
        ,
        e.prototype.onFangShi = function() {
            Zt.b.show(Zt.c.lingbao)
        }
        ,
        e
    }(o.Component);
    Object(bn.a)("MainBtnView", kr);
    var Ir = n(371)
      , Pr = n(200)
      , Cr = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Sr = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return Cr(e, t),
        e.prototype.onReady = function() {
            var t = this;
            this.onHome = o.functions.throttle(this.onHome.bind(this), 1500),
            this.onChuangDang = o.functions.throttle(this.onChuangDang.bind(this), 1500),
            this.onXiulian = o.functions.throttle(this.onXiulian.bind(this), 1500),
            this.tap("homeBtn", this.onHome, this),
            this.tap("chuangdangBtn", this.onChuangDang, this),
            this.tap("guildBtn", this.onGuild, this),
            this.tap("xiulianBtn", this.onXiulian, this),
            this.tap("bagBtn", (function() {
                Pr.a.show()
            }
            ), this),
            this.tap("Button_store", this.onShopGift, this),
            this.Button_store.visible = this.Button_store.includeInLayout = v.b.isOpen("recharge"),
            this.disposeArr.push(Object(je.b)("礼包商城", this.Button_store)),
            this.disposeArr.push(new je.a("仙盟",(function(e) {
                egret.Tween.removeTweens(t.guildBtn),
                t.guildBtn.alpha = 1,
                e && egret.Tween.get(t.guildBtn, {
                    loop: !0
                }).to({
                    alpha: .35
                }, 500).to({
                    alpha: 1
                }, 500)
            }
            ),(function() {
                egret.Tween.removeTweens(t.guildBtn)
            }
            )))
        }
        ,
        e.prototype.onGuild = function() {
            De.a.openGuild()
        }
        ,
        e.prototype.onHome = function() {
            De.a.openHome()
        }
        ,
        e.prototype.onShopGift = function() {
            De.a.openShopGift()
        }
        ,
        e.prototype.onChuangDang = function() {
            De.a.openRaid()
        }
        ,
        e.prototype.onXiulian = function() {
            Ir.a.show()
        }
        ,
        e
    }(o.Component);
    Object(bn.a)("MainMenuView", Sr);
    var Rr = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Tr = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return Rr(e, t),
        e.prototype.onReady = function() {
            this.tap("menpaiBtn", this.onMenPai, this),
            this.tap("yunyouBtn", this.onYunYou, this),
            this.tap("xianpuBtn", this.onXianPu, this),
            this.tap("guildBtn", this.onGuild, this),
            this.tap("bagBtn", (function() {
                Pr.a.show()
            }
            ), this),
            this.tap("Button_store", this.onShopGift, this),
            this.Button_store.visible = this.Button_store.includeInLayout = v.b.isOpen("recharge"),
            this.disposeArr.push(Object(je.b)("灵契", this.yunyouBtn)),
            this.disposeArr.push(Object(je.b)("仙盟", this.guildBtn)),
            this.disposeArr.push(Object(je.b)("门派", this.menpaiBtn)),
            this.disposeArr.push(Object(je.b)("礼包商城", this.Button_store))
        }
        ,
        e.prototype.onGuild = function() {
            De.a.openGuild()
        }
        ,
        e.prototype.onMenPai = function() {
            De.a.openMenpai()
        }
        ,
        e.prototype.onSanJie = function() {}
        ,
        e.prototype.onShopGift = function() {
            De.a.openShopGift()
        }
        ,
        e.prototype.onYunYou = function() {
            De.a.openYouli()
        }
        ,
        e.prototype.onXianPu = function() {
            De.a.openHero()
        }
        ,
        e
    }(o.Component);
    Object(bn.a)("MainFeiShengMenuView", Tr);
    var Lr = n(171)
      , Ar = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Mr = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.maxLevel = 1,
            e.maxBodyLevel = 1,
            e.timeAdd = 0,
            e.isTuPo = !1,
            e.isVisible = !0,
            e
        }
        return Ar(e, t),
        e.prototype.onReady = function() {
            var t = this;
            this.user = Object(f.a)(),
            this.tweenTime = this.user.expSync;
            var e = Object(o.getConfig)("level_json");
            for (var n in e)
                e[n].level > this.maxLevel && (this.maxLevel = e[n].level);
            var i = Object(o.getConfig)("bodyLevel_json");
            for (var n in i)
                i[n].level > this.maxBodyLevel && (this.maxBodyLevel = i[n].level);
            this.refreshView(),
            this.tap("xiulianBtn", (function() {
                Object(pe.a)("click_practice"),
                t.xiulian()
            }
            ), this),
            this.tap("tupoBtn", this.tuPo, this),
            this.on("xiulian_refresh", this.refreshView, this),
            this.on("xiulian_status", this.onVisible, this),
            this.on("play_topo_cuiti", this.playMovie, this),
            this.on("checkTupo", this.checkTupo, this),
            this.xiuLianMovie = o.Movie.create("xianqi_ske_json", !0),
            this.animeNode1.addChild(this.xiuLianMovie),
            this.xiuLianMovie.play("1"),
            this.disposeArr.push({
                dispose: function() {
                    t.xiuLianMovie && t.xiuLianMovie.dispose(),
                    t.tuPoMovie1 && t.tuPoMovie1.dispose(),
                    t.tuPoMovie2 && t.tuPoMovie2.dispose(),
                    t.cuitiMovie && t.cuitiMovie.dispose()
                }
            }),
            0 != this.user.rt && this.autoXiulian();
            var r = eui.Watcher.watch(this.user, ["exp"], this.updateExp, this)
              , a = eui.Watcher.watch(this.user, ["lv"], this.updateLv, this);
            this.disposeArr.push({
                dispose: function() {
                    r.unwatch(),
                    a.unwatch()
                }
            })
        }
        ,
        e.prototype.onVisible = function(t) {
            console.log("场景:" + t),
            this.isVisible = t
        }
        ,
        e.prototype.refreshView = function() {
            this.levelConf = Object(o.getConfig)("level_json")[this.user.lv],
            this.bodyLevelConf = Object(o.getConfig)("bodyLevel_json")[this.user.blv],
            this.user.lv >= 10 ? 10 == this.user.lv ? (this.setState("shiji"),
            this.timeEnd = this.user.rt,
            this.progress.visible = !0,
            this.xiulianBtn.visible = !1) : (this.setState("dujie"),
            this.progress.visible = !0) : (this.setState("kaiguan"),
            this.timeEnd = this.user.rt,
            this.progress.visible = 0 != this.user.rt,
            this.xiulianBtn.visible = 0 == this.user.rt),
            this.speedNum.text = "(" + Object(uo.b)(this.levelConf.minExp) + "~" + Object(uo.b)(this.levelConf.maxExp) + ")/" + Object(o.tr)("main@sec", {
                sec: 5
            }),
            this.lbl_lv.text = Object(o.tr)(this.levelConf.name),
            this.updateExp()
        }
        ,
        e.prototype.xiulian = function(t) {
            var e = this;
            void 0 === t && (t = 180),
            180 == t && Object(o.getSocket)().request({
                route: "u.ad"
            }, {
                mask: !0
            }).then((function(t) {
                e.timeEnd = t.rt,
                e.timeAdd = e.timeEnd - u.a.getNow() - 180,
                e.xiulianBtn.visible = !1,
                e.progress.visible = !0,
                e.autoXiulian()
            }
            ))
        }
        ,
        e.prototype.autoXiulian = function() {
            var t = this;
            egret.Tween.removeTweens(this.thumb),
            this.tween = egret.Tween.get(this.thumb).to({
                width: 438
            }, 1e3 * this.tweenTime).call((function() {
                t.thumb.width = 0,
                t.isVisible ? Object(o.getSocket)().request({
                    route: "u.ac"
                }, {
                    mask: !1
                }).then((function(e) {
                    0 != e.addExp && Lr.a.show(Object(o.tr)("main@addExp", {
                        num: e.addExp
                    }), null, t),
                    t.updateExp(),
                    t.autoXiulian()
                }
                )).catch((function() {
                    t.autoXiulian()
                }
                )) : t.autoXiulian()
            }
            ))
        }
        ,
        e.prototype.checkTupo = function() {
            "kaiguan" == this.currentState && this.tupoBtn.visible && this.tuPo()
        }
        ,
        e.prototype.tuPo = function() {
            var t = this;
            this.tupoBtn.visible = !1,
            this.isTuPo = !0,
            o.cache.set("XiuLian_Status", !0),
            Object(pe.a)("click_breakthrough"),
            Object(o.getSocket)().request({
                route: "u.ab",
                p: {
                    userItemId: 0,
                    number: 0,
                    type: 1
                }
            }).then((function(e) {
                t.playMovie(1),
                o.cache.set("XiuLian_Status", !1)
            }
            )).catch((function() {
                o.cache.set("XiuLian_Status", !1),
                t.tupoBtn.visible = !0,
                t.isTuPo = !1
            }
            ))
        }
        ,
        e.prototype.playMovie = function(t) {
            var e = this;
            1 == t ? (this.tuPoMovie1.visible = !1,
            this.tuPoMovie2 = o.Movie.create("tupo2_ske_json", !0),
            this.animeNode3.addChild(this.tuPoMovie2),
            this.tuPoMovie2.play("1", 1),
            this.tuPoMovie2.once(o.MovieEvent.COMPLETE, (function() {
                e.tuPoMovie2 && (e.tuPoMovie2.dispose(),
                e.tuPoMovie2 = null);
                var t = o.Movie.create("zcj_lv_saoguang_ske_json");
                e.animeLv.addChild(t),
                t.once(o.MovieEvent.COMPLETE, (function() {
                    t.dispose()
                }
                ), e),
                t.play("1", 1),
                e.isTuPo = !1,
                e.refreshView()
            }
            ), this)) : (this.cuitiMovie = o.Movie.create("cuiti_ske_json", !0),
            this.animeNode4.addChild(this.cuitiMovie),
            this.cuitiMovie.play("1", 1),
            this.cuitiMovie.once(o.MovieEvent.COMPLETE, (function() {
                e.refreshView(),
                e.cuitiMovie && (e.cuitiMovie.dispose(),
                e.cuitiMovie = null)
            }
            ), this))
        }
        ,
        e.prototype.updateExp = function() {
            if (this.expNum.text = this.user.lv >= 11 ? Object(uo.b)(this.user.exp) : Object(uo.b)(this.user.exp) + "/" + Object(uo.b)(this.levelConf.exp),
            !this.isTuPo) {
                var t = this.user.lv < 10 && this.user.exp >= this.levelConf.exp;
                this.tupoBtn.visible = t,
                t ? this.tuPoMovie1 ? this.tuPoMovie1.visible = !0 : (this.tuPoMovie1 = o.Movie.create("tupo1_ske_json", !0),
                this.animeNode2.addChild(this.tuPoMovie1),
                this.tuPoMovie1.play("1")) : this.tuPoMovie1 && (this.tuPoMovie1.visible = !1)
            }
            !this._dujieGuide && 10 == this.user.lv && this.user.exp >= this.levelConf.exp && (pn.a.isGuiding || (this._dujieGuide = !0,
            pn.a.check(pn.b.dujie))),
            Object(o.put)("update_exp")
        }
        ,
        e.prototype.updateLv = function() {
            11 == this.user.lv && (egret.Tween.removeTweens(this.thumb),
            this.thumb.width = 0,
            this.autoXiulian())
        }
        ,
        e
    }(o.Component);
    Object(bn.a)("MainXiuLianView", Mr);
    var Nr = n(170)
      , Br = n(372)
      , Er = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Dr = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "LoansSkin"),
            e
        }
        return Er(e, t),
        e.prototype.onReady = function() {
            var t = Object(f.a)("scLoan")
              , e = Object(f.a)("scMaxLoan");
            this.progress.maximum = e,
            this.progress.value = e - t,
            0 == t ? this.setState("finish") : this.setState("loans")
        }
        ,
        e.prototype.onExit = function() {}
        ,
        e.show = function() {
            Object(te.a)(new e)
        }
        ,
        e
    }(o.UIComponent)
      , Gr = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Vr = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return Gr(e, t),
        e.prototype.onReady = function() {
            var t = this;
            this.tap("head", this.onTapHead, this),
            this.tap("btn_recharge", this.onRecharge, this),
            this.on("user_sc_change", this.updateView, this),
            this.on("user_gc_change", this.updateView, this),
            this.on("user_name_change", this.updateView, this),
            this.on("user_union_change", this.updateView, this),
            this.on("user_yt_change", this.updateView, this),
            this.updateView();
            var e = 864 - (u.a.getNow(!0) - Object(f.a)("initTime")) % 864;
            if (this.out = Object(m.f)((function() {
                t.tick(),
                t.disposeArr.push(Object(m.b)(t.tick, 864e3, t))
            }
            ), 1e3 * e),
            "false" == Object(o.getOption)("gamecoin") && (this.prestigeLabel.visible = this.img_1001.visible = !1),
            this.yuenan18) {
                var n = Object(uo.d)();
                this.yuenan18.visible = "vi_vn" == n
            }
            var i = Object(f.a)("scLoan");
            i && i > 0 && (this.tap("loansBtn", this.loans, this),
            this.loansBtn.visible = !0,
            this.coinLabel.textColor = "F2BB46")
        }
        ,
        e.prototype.onExit = function() {
            this.out && (this.out.dispose(),
            this.out = null)
        }
        ,
        e.prototype.tick = function() {
            1 == Object(o.singleton)(Nr.a).year ? this.timeLabel.text = Object(o.tr)("main@year", {
                num: Object(o.singleton)(Nr.a).year
            }) : this.timeLabel.text = Object(o.tr)("main@years", {
                num: Object(o.singleton)(Nr.a).year
            })
        }
        ,
        e.prototype.updateView = function() {
            var t = Object(o.singleton)(Nr.a);
            this.nameLabel.text = t.name,
            this.coinLabel.text = t.sc,
            this.prestigeLabel.text = t.gc,
            this.sectLabel.text = t.unionName,
            0 == Object(f.a)("scLoan") && (this.coinLabel.textColor = "0xfff8e8",
            this.loansBtn.visible = !1),
            this.tick()
        }
        ,
        e.prototype.onTapHead = function() {
            Br.a.show()
        }
        ,
        e.prototype.onRecharge = function() {
            Zt.b.show(Zt.c.recharge)
        }
        ,
        e.prototype.loans = function() {
            Dr.show()
        }
        ,
        e
    }(o.Component);
    Object(bn.a)("ProfileView", Vr);
    var Ur = function() {
        return (Ur = Object.assign || function(t) {
            for (var e, n = 1, i = arguments.length; n < i; n++)
                for (var o in e = arguments[n])
                    Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
            return t
        }
        ).apply(this, arguments)
    }
      , Hr = function(t, e, n, i) {
        var o, r = arguments.length, a = r < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
            a = Reflect.decorate(t, e, n, i);
        else
            for (var s = t.length - 1; s >= 0; s--)
                (o = t[s]) && (a = (r < 3 ? o(a) : r > 3 ? o(e, n, a) : o(e, n)) || a);
        return r > 3 && a && Object.defineProperty(e, n, a),
        a
    }
      , Fr = function() {
        function t() {
            this.msgType = "y.*"
        }
        return t.prototype.execute = function(t, e) {
            switch (this.data = t,
            e) {
            case "y.k":
                this.pushLog({
                    t: 3,
                    mId: this.data.ylHangId,
                    awds: this.data.awds,
                    overflow: this.data.overflow,
                    visitor: o.numbers.getRandomInt(1, 2)
                })
            }
        }
        ,
        t.prototype.pushLog = function(t) {
            zr(t)
        }
        ,
        t = Hr([Object(o.message)(Object(o.getSocket)())], t)
    }();
    function zr(t) {
        var e = Object(M.y)("youliLog")
          , n = JSON.parse(Object(o.getLocalStorage)().getString(e, "{}"))
          , i = [];
        for (var r in n)
            i.push(n[r]);
        i.push(Ur({
            year: Object(o.singleton)(Nr.a).year,
            time1: u.a.getNow()
        }, t)),
        Object(o.getLocalStorage)().setString(e, JSON.stringify(i)),
        Object(o.put)("refresh_YouliLog")
    }
    function qr(t) {
        zr({
            t: 3,
            mId: t.ylHangId,
            awds: t.awds,
            overflow: t.overflow,
            visitor: o.numbers.getRandomInt(1, 2)
        })
    }
    window.youliOfflineLog = qr;
    var Wr = function() {
        return (Wr = Object.assign || function(t) {
            for (var e, n = 1, i = arguments.length; n < i; n++)
                for (var o in e = arguments[n])
                    Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
            return t
        }
        ).apply(this, arguments)
    }
      , Xr = function(t, e, n, i) {
        var o, r = arguments.length, a = r < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
            a = Reflect.decorate(t, e, n, i);
        else
            for (var s = t.length - 1; s >= 0; s--)
                (o = t[s]) && (a = (r < 3 ? o(a) : r > 3 ? o(e, n, a) : o(e, n)) || a);
        return r > 3 && a && Object.defineProperty(e, n, a),
        a
    }
      , Yr = function() {
        function t() {
            this.msgType = "fpush.*"
        }
        return t.prototype.execute = function(t, e) {
            switch (this.data = t,
            e) {
            case "fpush.a":
                1 == t.win && (Object(o.put)("finace_attacked", t.mapId),
                o.cache.has("Finance.selfList") && Object(st.d)("fw.c").then((function(t) {
                    t && (o.cache.set("Finance.selfList", t),
                    Object(o.put)("my_list_change", t))
                }
                )),
                this.attacked(t.logItem));
                break;
            case "fpush.b":
                Object(o.put)("finance_auto_back"),
                Object(o.put)("my_list_change")
            }
        }
        ,
        t.prototype.attacked = function(t) {
            this.pushLog({
                hero: t.hero,
                userName: t.name,
                awds: t.awds,
                t: 3
            })
        }
        ,
        t.prototype.pushLog = function(t) {
            var e = Object(M.y)("yijiLog")
              , n = JSON.parse(Object(o.getLocalStorage)().getString(e, "{}"))
              , i = [];
            for (var r in n)
                i.push(n[r]);
            i.push(Wr({
                year: Object(o.singleton)(Nr.a).year,
                time: u.a.nowDay()
            }, t)),
            Object(o.getLocalStorage)().setString(e, JSON.stringify(i)),
            Object(o.put)("refresh_FinanceLog")
        }
        ,
        t = Xr([Object(o.message)(Object(o.getSocket)())], t)
    }()
      , Jr = function(t, e, n, i) {
        var o, r = arguments.length, a = r < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
            a = Reflect.decorate(t, e, n, i);
        else
            for (var s = t.length - 1; s >= 0; s--)
                (o = t[s]) && (a = (r < 3 ? o(a) : r > 3 ? o(e, n, a) : o(e, n)) || a);
        return r > 3 && a && Object.defineProperty(e, n, a),
        a
    }
      , $r = function() {
        function t() {
            this.msgType = "upush.*"
        }
        return t.prototype.execute = function(t, e) {
            switch (this.data = t,
            Object(o.put)("guild.guildMessage", e, t),
            e) {
            case "upush.ua":
                o.cache.get("User.getInfo", "i").guildId = t.guildId,
                Object(o.confirm)({
                    text: Object(o.tr)("main@guildIn", {
                        name: t.guildName
                    }),
                    yes: "",
                    no: ""
                });
                break;
            case "upush.ub":
                o.cache.get("User.getInfo", "i").guildId = 0,
                Object(o.confirm)({
                    text: Object(o.tr)("main@guildOut"),
                    yes: "",
                    no: ""
                });
                break;
            case "upush.uc":
                break;
            case "upush.ud":
                o.cache.get("User.getInfo", "i").guildId = 0,
                Object(o.confirm)({
                    text: Object(o.tr)("main@guildDisintegrate"),
                    yes: "",
                    no: ""
                })
            }
        }
        ,
        t = Jr([Object(o.message)(Object(o.getSocket)())], t)
    }()
      , Kr = function(t, e, n, i) {
        var o, r = arguments.length, a = r < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
            a = Reflect.decorate(t, e, n, i);
        else
            for (var s = t.length - 1; s >= 0; s--)
                (o = t[s]) && (a = (r < 3 ? o(a) : r > 3 ? o(e, n, a) : o(e, n)) || a);
        return r > 3 && a && Object.defineProperty(e, n, a),
        a
    }
      , Qr = function() {
        function t() {
            this.msgType = "apush.*"
        }
        return t.prototype.execute = function(t, e) {
            var n = !1
              , i = o.UI.getUIComponentAll(o.ComponentType.Box);
            switch (i.length > 0 && (n = i.some((function(t) {
                return t.skinName && t.skinName.indexOf("NewSword") > -1
            }
            ))),
            this.data = t,
            e) {
            case "apush.sa":
                Object(o.put)("refresh_TeamSwordInfo_view"),
                Object(o.put)("refresh_TeamSword_log"),
                n && Object(o.confirm)({
                    text: Object(o.tr)("main@team_In", {
                        name: t.swordName
                    }),
                    yes: "",
                    no: ""
                });
                break;
            case "apush.sb":
                Object(M.x)((function() {
                    Object(o.put)("refresh_TeamSword_log"),
                    Object(o.put)("refresh_TeamSwordInfo_view"),
                    n && Object(o.tooltip)(Object(o.tr)("teamsword@push_tcdw"))
                }
                ));
                break;
            case "apush.sc":
                Object(M.x)((function() {
                    Object(o.put)("refresh_TeamSword_log"),
                    Object(o.put)("refresh_TeamSwordInfo_view"),
                    n && Object(o.tooltip)(Object(o.tr)("teamsword@push_jsdw"))
                }
                ));
                break;
            case "apush.sd":
                Object(o.put)("refresh_TeamSword_log"),
                Object(o.put)("refresh_TeamSwordInfo_view"),
                Object(o.put)("refresh_TeamSword_Red", !0)
            }
        }
        ,
        t = Kr([Object(o.message)(Object(o.getSocket)())], t)
    }()
      , Zr = function(t, e, n, i) {
        var o, r = arguments.length, a = r < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
            a = Reflect.decorate(t, e, n, i);
        else
            for (var s = t.length - 1; s >= 0; s--)
                (o = t[s]) && (a = (r < 3 ? o(a) : r > 3 ? o(e, n, a) : o(e, n)) || a);
        return r > 3 && a && Object.defineProperty(e, n, a),
        a
    }
      , ta = function() {
        function t() {
            this.msgType = "push.jy"
        }
        return t.prototype.execute = function(t, e) {
            switch (this.data = t,
            e) {
            case "push.jy":
                Object(o.put)("BeastJieyin", t)
            }
        }
        ,
        t = Zr([Object(o.message)(Object(o.getSocket)())], t)
    }()
      , ea = function(t, e, n, i) {
        var o, r = arguments.length, a = r < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
            a = Reflect.decorate(t, e, n, i);
        else
            for (var s = t.length - 1; s >= 0; s--)
                (o = t[s]) && (a = (r < 3 ? o(a) : r > 3 ? o(e, n, a) : o(e, n)) || a);
        return r > 3 && a && Object.defineProperty(e, n, a),
        a
    }
      , na = function() {
        function t() {
            this.msgType = "push.*"
        }
        return t.prototype.execute = function(t, e) {
            switch (this.data = t,
            e) {
            case "push.heaven":
                Object(o.put)("update_tianmen");
                break;
            case "push.godHall":
                Object(o.put)("update_godHall")
            }
        }
        ,
        t = ea([Object(o.message)(Object(o.getSocket)())], t)
    }()
      , ia = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , oa = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "QslFeishengSkin"),
            e
        }
        return ia(e, t),
        e.prototype.onReady = function(t) {
            var e = {
                autoFly: {
                    title: Object(o.tr)("main@qsl_qwxj")
                },
                answer: {
                    title: Object(o.tr)("main@qsl_qwdt")
                },
                fight: {
                    title: Object(o.tr)("main@qsl_qwxz")
                }
            };
            this.lbl_sjms.text = e[t].title,
            this.tap("btn_qwxj", this.onQwxj, this),
            this.tap("btn_qwdt", this.onQwdt, this),
            this.tap("btn_qwxz", this.onQwxz, this),
            this.btn_qwxj.visible = "autoFly" == t,
            this.btn_qwdt.visible = "answer" == t,
            this.btn_qwxz.visible = "fight" == t
        }
        ,
        e.prototype.onQwxj = function() {
            wn.a.show(),
            o.UI.remove(this)
        }
        ,
        e.prototype.onQwxz = function() {
            De.a.openFeisheng(2),
            o.UI.remove(this)
        }
        ,
        e.prototype.onQwdt = function() {
            De.a.openFeisheng(3),
            o.UI.remove(this)
        }
        ,
        e.prototype.onExit = function() {}
        ,
        e.show = function(t) {
            Object(te.a)(new e, t)
        }
        ,
        e
    }(o.UIComponent)
      , ra = function(t, e, n, i) {
        var o, r = arguments.length, a = r < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
            a = Reflect.decorate(t, e, n, i);
        else
            for (var s = t.length - 1; s >= 0; s--)
                (o = t[s]) && (a = (r < 3 ? o(a) : r > 3 ? o(e, n, a) : o(e, n)) || a);
        return r > 3 && a && Object.defineProperty(e, n, a),
        a
    }
      , aa = function() {
        function t() {
            this.msgType = "push.*"
        }
        return t.prototype.execute = function(t, e) {
            switch (this.data = t,
            e) {
            case "push.autoFly":
                oa.show("autoFly");
                break;
            case "push.answer":
                oa.show(this.data.type)
            }
        }
        ,
        t = ra([Object(o.message)(Object(o.getSocket)())], t)
    }()
      , sa = function(t, e, n, i) {
        var o, r = arguments.length, a = r < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
            a = Reflect.decorate(t, e, n, i);
        else
            for (var s = t.length - 1; s >= 0; s--)
                (o = t[s]) && (a = (r < 3 ? o(a) : r > 3 ? o(e, n, a) : o(e, n)) || a);
        return r > 3 && a && Object.defineProperty(e, n, a),
        a
    }
      , ca = function() {
        function t() {
            this.msgType = "push.*"
        }
        return t.prototype.execute = function(t, e) {
            switch (this.data = t,
            e) {
            case "push.chatRed":
                Object(o.getPlatform)().getConstant("push_ServiceRed");
                break;
            case "push.msg":
                42 != t.sType && 43 != t.sType || (n = t,
                Object(f.a)("uId") != n.uId && Object(o.singleton)(Xt.a).reSetFeastInfo(n)),
                Object(o.singleton)(sr.a).addMsg(t)
            }
            var n
        }
        ,
        t = sa([Object(o.message)(Object(o.getSocket)())], t)
    }()
      , ua = function(t, e, n, i) {
        var o, r = arguments.length, a = r < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
            a = Reflect.decorate(t, e, n, i);
        else
            for (var s = t.length - 1; s >= 0; s--)
                (o = t[s]) && (a = (r < 3 ? o(a) : r > 3 ? o(e, n, a) : o(e, n)) || a);
        return r > 3 && a && Object.defineProperty(e, n, a),
        a
    }
      , ha = function() {
        function t() {
            this.msgType = "push.activiy"
        }
        return t.prototype.execute = function(t, e) {
            switch (this.data = t,
            e) {
            case "push.activiy":
                Object(o.put)("update_commBoss", t.type)
            }
        }
        ,
        t = ua([Object(o.message)(Object(o.getSocket)())], t)
    }()
      , la = function(t, e, n, i) {
        var o, r = arguments.length, a = r < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
            a = Reflect.decorate(t, e, n, i);
        else
            for (var s = t.length - 1; s >= 0; s--)
                (o = t[s]) && (a = (r < 3 ? o(a) : r > 3 ? o(e, n, a) : o(e, n)) || a);
        return r > 3 && a && Object.defineProperty(e, n, a),
        a
    }
      , pa = function() {
        function t() {
            this.msgType = "push.*"
        }
        return t.prototype.execute = function(t, e) {
            switch (this.data = t,
            e) {
            case "push.sandTableGuild":
                Object(o.put)("hollow5_checkMapLog", this.data);
                break;
            case "push.sandTableGuildLog":
                Object(o.singleton)(sr.a).addMsg(this.data);
                break;
            case "push.sandTable":
                t.c && Object(o.put)("hollow5_checkMapChange", t.c),
                t["sandTable.getLog_1"] && this.addMessage(t["sandTable.getLog_1"]),
                t["sandTable.getLog_2"] && this.addMessage(t["sandTable.getLog_2"]),
                t["sandTable.getLog_3"] && this.addMessage(t["sandTable.getLog_3"]),
                t["sandTable.getLog_4"]
            }
        }
        ,
        t.prototype.addMessage = function(t) {
            t && t.l && t.l["@a"] && t.l["@a"].forEach((function(t) {
                Object(o.singleton)(sr.a).addMsg(t)
            }
            ))
        }
        ,
        t = la([Object(o.message)(Object(o.getSocket)())], t)
    }()
      , fa = function(t, e, n, i) {
        var o, r = arguments.length, a = r < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
            a = Reflect.decorate(t, e, n, i);
        else
            for (var s = t.length - 1; s >= 0; s--)
                (o = t[s]) && (a = (r < 3 ? o(a) : r > 3 ? o(e, n, a) : o(e, n)) || a);
        return r > 3 && a && Object.defineProperty(e, n, a),
        a
    }
      , da = function() {
        function t() {
            this.msgType = "push.*"
        }
        return t.prototype.execute = function(t, e) {
            switch (this.data = t,
            e) {
            case "push.fMatch":
                this.deleteTiaoHe(this.data.d.fId),
                Object(o.put)("refresh_fruit_match");
                break;
            case "push.fMatch2":
                this.deleteTiaoHe(this.data.d.fId),
                this.addTiaoHe(this.data.d.fruit),
                Object(o.put)("refresh_fruit_match")
            }
        }
        ,
        t.prototype.deleteTiaoHe = function(t) {
            var e = o.cache.get("WoodRipe2.getInfo");
            if (e)
                for (var n = e.l.length - 1; n >= 0; n--)
                    if (e.l[n].fId == t) {
                        e.l.splice(n, 1),
                        e.count--;
                        break
                    }
        }
        ,
        t.prototype.addTiaoHe = function(t) {
            var e = o.cache.get("WoodRipe1.getInfo");
            if (e) {
                for (var n = !1, i = 0; i < e.l.length; i++)
                    if (e.l[i].fId == t.fId) {
                        n = !0;
                        break
                    }
                n || (e.l.push(t),
                e.count++)
            }
        }
        ,
        t = fa([Object(o.message)(Object(o.getSocket)())], t)
    }()
      , ba = function(t, e, n, i) {
        var o, r = arguments.length, a = r < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
            a = Reflect.decorate(t, e, n, i);
        else
            for (var s = t.length - 1; s >= 0; s--)
                (o = t[s]) && (a = (r < 3 ? o(a) : r > 3 ? o(e, n, a) : o(e, n)) || a);
        return r > 3 && a && Object.defineProperty(e, n, a),
        a
    }
      , ga = function() {
        function t() {
            this.msgType = "friend.*"
        }
        return t.prototype.execute = function(t, e) {
            switch (this.data = t,
            e) {
            case "friend.req":
                Object(o.put)("update_reqFriend", t);
                break;
            case "friend.list":
                Object(o.put)("update_friendList", t)
            }
        }
        ,
        t = ba([Object(o.message)(Object(o.getSocket)())], t)
    }()
      , _a = n(205)
      , ma = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , ya = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e._uid = null,
            e._enableUpdate = !0,
            e
        }
        return ma(e, t),
        e.prototype.setUid = function(t) {
            this._uid = t
        }
        ,
        Object.defineProperty(e.prototype, "uid", {
            get: function() {
                return this._uid
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "enableUpdate", {
            get: function() {
                return this._enableUpdate
            },
            set: function(t) {
                this._enableUpdate = t
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.onReady = function() {
            for (var t = this, e = [], n = 0; n < arguments.length; n++)
                e[n] = arguments[n];
            var i = Object(f.a)();
            0 == i.fly && (this.w = eui.Watcher.watch(i, ["fly"], (function() {
                Object(M.x)((function() {
                    t.w && (t.w.unwatch(),
                    t.w = null)
                }
                ), t),
                t.updateView()
            }
            ), this))
        }
        ,
        e.prototype.onExit = function() {
            this.w && (this.w.unwatch(),
            this.w = null)
        }
        ,
        e.prototype.updateView = function() {}
        ,
        e
    }(o.Component)
      , va = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return ma(e, t),
        e.prototype.onReady = function() {
            t.prototype.onReady.call(this),
            this.on("refresh_avatar", this.updateView, this),
            this.updateView()
        }
        ,
        e.prototype.updateView = function() {
            this.enableUpdate && (null != this.uid && this.uid == Object(f.a)("uId") || !this.uid) && Object(yi.a)(this, Object(f.a)("skin"))
        }
        ,
        e
    }(ya);
    Object(bn.a)("Head", va);
    var Oa = n(131)
      , ja = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , wa = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.initialized = !1,
            e
        }
        return ja(e, t),
        e.prototype.onReady = function() {
            var e = this;
            t.prototype.onReady.call(this),
            this.touchEnabled = this.touchChildren = !1,
            this.gp_body.touchEnabled = this.gp_body.touchChildren = !1,
            this.img_empty.touchEnabled = !1,
            this.initialized = !0,
            this.updateView(),
            this.on("refresh_avatar", (function() {
                (null != e.uid && e.uid == Object(f.a)("uId") || !e.uid) && e.updateView()
            }
            ), this)
        }
        ,
        e.prototype.setHideOpts = function(t) {
            this.hideOpts = t,
            this.updateView()
        }
        ,
        e.prototype.updateView = function() {
            if (0 != this.initialized && this.enableUpdate) {
                var t = Object(f.a)("skin");
                Object(Oa.f)(Object(f.a)("skin"), this, {
                    cloth: Oa.a.body,
                    eye: Oa.b.open,
                    hide: this.hideOpts
                }),
                this.check && (this.check.dispose(),
                this.check = null);
                var e = t[12]
                  , n = [];
                e > 2 && n.push(["pectTime", e]);
                var i = t[14];
                i > 0 && n.push(["titleTime", i]),
                this.checkFashionTime(n)
            }
        }
        ,
        e.prototype.checkFashionTime = function(t) {
            var e = this;
            if (0 != t.length) {
                for (var n = t[0], i = Object(f.a)("fashion." + n[0] + "." + n[1]), o = 1; o < t.length; o++) {
                    var r = t[o]
                      , a = Object(f.a)("fashion." + r[0] + "." + r[1]);
                    (!i || a < i) && (i = a,
                    n = r)
                }
                i && i > 0 && !u.a.isOver(i) && (this.check = In.b.listen(i, (function() {
                    e.updateView()
                }
                )))
            }
        }
        ,
        e.prototype.onExit = function() {
            t.prototype.onExit.call(this),
            this.check && this.check.dispose()
        }
        ,
        e
    }(ya);
    Object(bn.a)("Role", wa);
    var xa = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , ka = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e._radius = 0,
            e._value = 0,
            e._maximum = 100,
            e._minimum = 0,
            e._startAngle = 0,
            e._endAngle = Math.PI / 180 * 360,
            e
        }
        return xa(e, t),
        Object.defineProperty(e.prototype, "radius", {
            get: function() {
                return this._radius
            },
            set: function(t) {
                this._radius = t
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.onReady = function() {
            this.shape = new egret.Shape,
            this.shape.x = this.sprite.x,
            this.shape.y = this.sprite.y;
            var t = this.sprite.parent
              , e = t.getChildIndex(this.sprite);
            this.sprite.mask = this.shape,
            t.addChildAt(this.shape, e + 1),
            this.drawProgress()
        }
        ,
        Object.defineProperty(e.prototype, "value", {
            get: function() {
                return this._value
            },
            set: function(t) {
                t < this.minimum ? t = this.minimum : t > this.maximum && (t = this.maximum),
                this._value = t,
                this.drawProgress()
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "maximum", {
            get: function() {
                return this._maximum
            },
            set: function(t) {
                this._maximum = t,
                this.value > this.maximum && (this.value = this.maximum)
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "minimum", {
            get: function() {
                return this._minimum
            },
            set: function(t) {
                this._minimum = t,
                this.value < this.minimum && (this.value = this.minimum)
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.setValue = function(t, e, n) {
            return void 0 === e && (e = 100),
            void 0 === n && (n = 0),
            this.maximum = e,
            this.minimum = n,
            this.value = t,
            this
        }
        ,
        Object.defineProperty(e.prototype, "startAngle", {
            get: function() {
                return this._startAngle
            },
            set: function(t) {
                this._startAngle = t
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "endAngle", {
            get: function() {
                return this._endAngle
            },
            set: function(t) {
                this._endAngle = t
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.drawProgress = function() {
            var t = this.shape;
            if (t) {
                var e = this.endAngle
                  , n = this.startAngle;
                e = (n - e) * (1 - this.value / this.maximum) + e;
                var i = this.radius;
                t.graphics.clear(),
                t.graphics.beginFill(16711680, 1),
                t.graphics.moveTo(i, i),
                t.graphics.lineTo(2 * i, i),
                t.graphics.drawArc(i, i, i, n, e, !1),
                t.graphics.lineTo(i, i),
                t.graphics.endFill()
            }
        }
        ,
        e
    }(o.Component);
    Object(bn.a)("CircleProgress", ka);
    var Ia = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Pa = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.valueList = [0, 120, 1200, 6e3, 12e3],
            e
        }
        return Ia(e, t),
        e.prototype.setRealValue = function(t) {
            if (0 == t)
                this.value = 0;
            else if (t >= this.valueList[this.valueList.length - 1])
                this.value = this.maximum;
            else {
                for (var e = 0, n = 0, i = 0; i < this.valueList.length; i++)
                    if (t < this.valueList[i]) {
                        n = i,
                        e = (t - this.valueList[i - 1]) / (this.valueList[i] - this.valueList[i - 1]);
                        break
                    }
                var o = 1 / (this.valueList.length - 1);
                this.value = (n - 1 + e) * o * this.maximum
            }
        }
        ,
        e
    }(eui.ProgressBar);
    Object(bn.a)("GameProgress", Pa);
    var Ca = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Sa = function(t) {
        function e() {
            return t.call(this, "累充奖励") || this
        }
        return Ca(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_funOpen", this.onChange, this),
            Object(o.getCache)("Red.getInfo").activity && Object(o.getCache)("Red.getInfo").activity.totalRecharge > 0 ? this.updateVisible(!0) : this.updateVisible(!1)
        }
        ,
        e.prototype.onChange = function(t) {
            if ("totalRecharge" == t) {
                var e = Object(g.d)("totalRecharge");
                if (e) {
                    for (var n = Object(o.getConfig)("activity_json").totalRecharge.list, i = 0; i < e.l.length; i++)
                        if (1 != e.l[i].awded)
                            for (var r = 0; r < n.length; r++)
                                if (e.l[i].id == n[r].uniqId) {
                                    if (e.num >= n[r].num)
                                        return void this.updateVisible(!0);
                                    break
                                }
                    this.updateVisible(!1)
                }
            }
        }
        ,
        e
    }(o.RedBaseRule)
      , Ra = function(t) {
        function e() {
            return t.call(this, "幻衣阁") || this
        }
        return Ca(e, t),
        e.prototype.init = function() {
            "1" == Object(o.getLocalStorage)().getString("huanyige_first_show", "1") ? (Object(o.on)("red_huanyige_show", this.showHyg, this),
            this.updateVisible(!0)) : this.updateVisible(!1)
        }
        ,
        e.prototype.showHyg = function() {
            "1" == Object(o.getLocalStorage)().getString("huanyige_first_show", "1") && (Object(o.getLocalStorage)().setString("huanyige_first_show", "0"),
            this.updateVisible(!1))
        }
        ,
        e
    }(o.RedBaseRule)
      , Ta = function(t) {
        function e() {
            var e = t.call(this, "成长计划") || this;
            return e.isFirstLogin = !0,
            e
        }
        return Ca(e, t),
        e.prototype.init = function() {
            v.b.isOpen("growPlan") ? (o.cache.onChange("Red.getInfo", this.onChange, this),
            Object(o.on)("growPlan_show", this.onChange, this),
            this.onChange()) : this.updateVisible(!1)
        }
        ,
        e.prototype.onChange = function() {
            if (o.cache.has("Growth.getList")) {
                this.isFirstLogin && (this.isFirstLogin = !1,
                o.cache.onChange("Growth.getList", this.onChange, this));
                var t = o.cache.get("Growth.getList", "l");
                if (t && Array.isArray(t))
                    for (var e in t) {
                        var n = t[e].l;
                        for (var i in n)
                            if (t[e].num >= t[e].c.list[i].num && 0 == n[i].awded && 1 == t[e].buy)
                                return void this.updateVisible(!0)
                    }
                this.updateVisible(!1)
            } else
                Object(o.getCache)("Red.getInfo").growth > 0 ? this.updateVisible(!0) : this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule)
      , La = function(t) {
        function e() {
            var e = t.call(this, "仙仆礼包") || this;
            return e.isFirst = !0,
            e
        }
        return Ca(e, t),
        e.prototype.init = function() {
            Object(o.on)("xianpuGift_show", this.onChange, this),
            this.onChange()
        }
        ,
        e.prototype.onChange = function() {
            var t = !1;
            if (this.isFirst) {
                this.isFirst = !1;
                var e = Object(g.d)("heroGift");
                if (e)
                    for (var n in e.l)
                        0 == e.l[n].awded && (t = !0)
            }
            this.updateVisible(t)
        }
        ,
        e
    }(o.RedBaseRule);
    o.RedPointManager.injection(new La),
    o.RedPointManager.injection(new Ta),
    o.RedPointManager.injection(new Ra),
    o.RedPointManager.injection(new Sa),
    o.RedPointManager.injection(new at.g),
    o.RedPointManager.injection(new o.RedPointGroup("仙市","累充奖励","幻衣阁","成长计划","充值转盘"));
    var Aa, Ma = n(6), Na = n(337);
    function Ba(t, e, n) {
        if (void 0 === n && (n = {
            x: 0,
            y: 0
        }),
        t) {
            var i = Object(m.b)((function() {
                var r = o.UI.getComponent(e);
                r && t && (!function(t, e, n) {
                    if (void 0 === n && (n = {
                        x: 0,
                        y: 0
                    }),
                    !e.__guideHand__) {
                        var i = new Na.a;
                        if (i.x = n.x,
                        i.y = n.y,
                        e.addChild(i),
                        e.__guideHand__ = i,
                        i.touchEnabled = i.touchChildren = !1,
                        t)
                            var o = t.tap(e, (function() {
                                delete e.__guideHand__,
                                e.removeChild(i),
                                o.dispose()
                            }
                            ))
                    }
                }(t, r, n),
                i.dispose())
            }
            ), 100);
            t.disposeArr.push(i)
        }
    }
    function Ea(t) {
        var e, n, i;
        switch (o.UI.clearBox(),
        t) {
        case Aa.feisheng:
            De.a.openDaolv().then((function(t) {
                t && Ba(t, "daolv_tab2", {
                    x: 100,
                    y: 30
                })
            }
            ));
            break;
        case Aa.heroTupo:
        case Aa.heroShengJie:
        case Aa.heroUpgrade:
        case Aa.unlockHero:
            De.a.openHero();
            break;
        case Aa.zizhiDan:
            Pr.a.show(3);
            break;
        case Aa.createMenpai:
            Ba(o.UI.getUIComponent(o.ComponentType.Scene), "menpaiBtn", {
                x: 50,
                y: 50
            });
            break;
        case Aa.yanwu:
            De.a.openYanwu();
            break;
        case Aa.zhefa:
        case Aa.lilian:
        case Aa.buildXianshou:
        case Aa.xianshou:
        case Aa.jieyin:
            var r = ((e = {})[Aa.zhefa] = {
                btn: "zhenfaBtn",
                offset: [50, 50]
            },
            e[Aa.yanwu] = {
                btn: "qiecuoBtn",
                offset: [50, 50]
            },
            e[Aa.lilian] = {
                btn: "lilianBtn",
                offset: [180, 150]
            },
            e);
            De.a.openMenpai().then((function(e) {
                var n = o.UI.getUIComponent(e.MenPaiMainPanel);
                if (r[t]) {
                    var i = r[t];
                    Ba(n, i.btn, {
                        x: i.offset[0],
                        y: i.offset[1]
                    })
                } else
                    Ba(n, "xunshouBtn", {
                        x: 200,
                        y: 200
                    })
            }
            ));
            break;
        case Aa.dizi:
        case Aa.mpTask:
        case Aa.xunhua:
        case Aa.chuanDao:
        case Aa.cifu:
        case Aa.zhilu:
        case Aa.dayi:
            var a = ((n = {})[Aa.dizi] = "menpai_recruitBtn",
            n[Aa.mpTask] = "menpai_taskBtn",
            n[Aa.xunhua] = "menpai_trainingBtn",
            n[Aa.dayi] = "menpai_answerBtn",
            n[Aa.cifu] = "menpai_giftBtn",
            n[Aa.zhilu] = "menpai_openBuffBtn",
            n[Aa.chuanDao] = "menpai_transmitBtn",
            n);
            De.a.openMenpai().then((function(e) {
                e.MenPaiHallPanel.show().then((function(e) {
                    if (null != e) {
                        var n = {
                            x: 120,
                            y: 30
                        };
                        t != Aa.mpTask && t != Aa.cifu && t != Aa.chuanDao && t != Aa.zhilu || (n = {
                            x: 60,
                            y: 50
                        }),
                        Ba(e, a[t], n)
                    }
                }
                ))
            }
            ));
            break;
        case Aa.yiji:
            Object(Te.b)({
                source: Object(Ee.y)(),
                locale: "finance",
                resGroup: "finance",
                name: "finance"
            }).then((function(t) {
                Object(o.put)("finance.open")
            }
            ));
            break;
        case Aa.yunyou:
            De.a.openYouli();
            break;
        case Aa.smallWorld:
            De.a.openYouli().then((function(t) {
                Ba(t, "yunyou_tab2", {
                    x: 120,
                    y: 30
                })
            }
            ));
            break;
        case Aa.lingQi:
        case Aa.lingJun:
        case Aa.jiuyou:
        case Aa.lockTower:
            var s = ((i = {})[Aa.jiuyou] = "jiuyouBtn",
            i[Aa.lockTower] = "suoyaotaBtn",
            i);
            De.a.openYouli().then((function(e) {
                var n = "lingqibtn";
                s[t] && (n = s[t]),
                Ba(e, n, {
                    x: 50,
                    y: 50
                })
            }
            ))
        }
    }
    !function(t) {
        t[t.feisheng = 1] = "feisheng",
        t[t.unlockHero = 2] = "unlockHero",
        t[t.heroUpgrade = 3] = "heroUpgrade",
        t[t.lingQi = 4] = "lingQi",
        t[t.lingJun = 5] = "lingJun",
        t[t.zizhiDan = 6] = "zizhiDan",
        t[t.heroTupo = 7] = "heroTupo",
        t[t.heroShengJie = 8] = "heroShengJie",
        t[t.createMenpai = 9] = "createMenpai",
        t[t.dizi = 10] = "dizi",
        t[t.mpTask = 11] = "mpTask",
        t[t.xunhua = 12] = "xunhua",
        t[t.zhefa = 13] = "zhefa",
        t[t.yanwu = 14] = "yanwu",
        t[t.dayi = 15] = "dayi",
        t[t.lilian = 16] = "lilian",
        t[t.buildXianshou = 17] = "buildXianshou",
        t[t.xianshou = 18] = "xianshou",
        t[t.jieyin = 19] = "jieyin",
        t[t.smallWorld = 20] = "smallWorld",
        t[t.lockTower = 21] = "lockTower",
        t[t.yiji = 22] = "yiji",
        t[t.yunyou = 23] = "yunyou",
        t[t.jiuyou = 24] = "jiuyou",
        t[t.cifu = 25] = "cifu",
        t[t.chuanDao = 26] = "chuanDao",
        t[t.zhilu = 27] = "zhilu"
    }(Aa || (Aa = {}));
    var Da = n(194)
      , Ga = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Va = function(t) {
        function e() {
            return t.call(this) || this
        }
        return Ga(e, t),
        e.prototype.setType = function(t, e) {
            var n = this;
            void 0 === e && (e = !1),
            this._type = t;
            var i = e ? "special" : "normal";
            this.setState(i),
            this.position.source = "icon_equip_" + {
                1: 1,
                2: 8,
                3: 2,
                4: 4,
                5: 5,
                6: 6,
                7: 7,
                8: 3
            }[t] + "_png",
            this.runOnSkinLoad((function() {
                var e = Da.b.get(t);
                n.updateData(e)
            }
            ))
        }
        ,
        e.prototype.updateData = function(t) {
            this.model = t,
            t ? (this.position.visible = !1,
            this.img.source = t.icon) : this.img.source = ""
        }
        ,
        e.prototype.select = function(t) {
            var e = this;
            this.runOnSkinLoad((function() {
                e.frame.visible = t
            }
            ))
        }
        ,
        e
    }(o.Component);
    Object(bn.a)("FabaoItem", Va);
    var Ua = n(353)
      , Ha = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Fa = function(t) {
        function e() {
            return t.call(this) || this
        }
        return Ha(e, t),
        e.prototype.setType = function(t) {
            var e = this;
            this._type = t,
            this.position.source = "icon_qiling_" + t + "_png",
            this.runOnSkinLoad((function() {
                var n = Object(o.singleton)(Ua.a).getByPos(t);
                e.updateData(n)
            }
            ))
        }
        ,
        e.prototype.updateData = function(t) {
            this.model = t
        }
        ,
        e.prototype.select = function(t) {
            var e = this;
            this.runOnSkinLoad((function() {
                e.frame.visible = t
            }
            ))
        }
        ,
        e
    }(o.Component);
    Object(bn.a)("QilingItem", Fa);
    var za = n(241)
      , qa = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Wa = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , Xa = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , Ya = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return qa(e, t),
        e.prototype.onDataUpdate = function(t, e) {
            t && (this.txtLbl.text = t.ms,
            this.timeLbl.text = t.dt)
        }
        ,
        e
    }(o.Item)
      , Ja = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return qa(e, t),
        e.prototype.onDataUpdate = function(t, e) {
            t && (this.lbl_name.text = t.uName,
            this.timeLbl.text = t.dt,
            this.txtLbl.text = t.ms,
            Object(re.a)(this.list, t.kfList))
        }
        ,
        e.prototype.onReady = function() {
            for (var t = [], e = 0; e < arguments.length; e++)
                t[e] = arguments[e];
            this.list.itemRenderer = Ya
        }
        ,
        e
    }(o.Item)
      , $a = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.succeed = !1,
            Object(o.setSkin)(e, "PanelServiceInputSkin"),
            e
        }
        return qa(e, t),
        e.prototype.onReady = function() {
            for (var t = [], e = 0; e < arguments.length; e++)
                t[e] = arguments[e];
            this.txt1.maxChars = 128,
            this.txt1.prompt = Object(o.tr)("main@kefu1"),
            this.tap("confirmBtn", this.onConfirm, this)
        }
        ,
        e.prototype.onConfirm = function() {
            var t = this
              , e = this.txt1.text.trim();
            e ? e.length > 128 ? Object(o.tooltip)(Object(o.tr)("main@kefu3")) : Object(st.d)("kf.b", {
                word: e
            }).then((function(e) {
                e && (t.succeed = !0,
                o.UI.remove(t))
            }
            )) : Object(o.tooltip)(Object(o.tr)("main@kefu2"))
        }
        ,
        e
    }(o.UIComponent)
      , Ka = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.arr = [],
            Object(o.setSkin)(e, "PanelServiceSkin"),
            e
        }
        return qa(e, t),
        e.prototype.onReady = function() {
            this.tap("saveBtn", this.onSave, this),
            this.fbBtn && (this.fbBtn.visible = Object(o.getPlatComp)("fb").support,
            this.tap("fbBtn", this.onFb, this)),
            this.list.itemRenderer = Ja,
            o.cache.onChange("Kefu.getList", this.onChange, this, this.arr),
            this.onChange(),
            "zh_hant" == Object(o.getLocaleType)() ? this.setState("hant") : this.setState("normal")
        }
        ,
        e.prototype.onFb = function() {
            Object(o.getPlatComp)("fb").openHomePage()
        }
        ,
        e.prototype.onChange = function() {
            var t = Object(o.getCache)("Kefu.getList").l.concat();
            t.sort((function(t, e) {
                return e.time - t.time
            }
            ));
            var e = new eui.ArrayCollection(t.map((function(t) {
                return t.dt = o.time.format(1e3 * t.time, "mm-dd HH:MM"),
                t.kfList = new eui.ArrayCollection(t.kf.map((function(t) {
                    return t.dt = o.time.format(1e3 * t.time, Object(o.tr)("mm-dd HH:MM")),
                    t
                }
                ))),
                t
            }
            )));
            Object(re.a)(this.list, e, {
                resetScrollerHV: !0
            })
        }
        ,
        e.prototype.onSave = function() {
            Object(te.a)(new $a)
        }
        ,
        e.show = function() {
            return Wa(this, void 0, void 0, (function() {
                return Xa(this, (function(t) {
                    return Object(st.a)("kf.a", "Kefu.getList").then((function() {
                        Object(te.a)(new e)
                    }
                    )),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent);
    Object(bn.a)("KeFuPanel", Ka);
    var Qa = function(t, e, n, i) {
        var o, r = arguments.length, a = r < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
            a = Reflect.decorate(t, e, n, i);
        else
            for (var s = t.length - 1; s >= 0; s--)
                (o = t[s]) && (a = (r < 3 ? o(a) : r > 3 ? o(e, n, a) : o(e, n)) || a);
        return r > 3 && a && Object.defineProperty(e, n, a),
        a
    }
      , Za = function() {
        function t() {
            this.msgType = "push.*"
        }
        return t.prototype.execute = function(t, e) {
            switch (this.data = t,
            e) {
            case "push.feast":
                Object(o.put)("refresh_feastseat")
            }
        }
        ,
        t = Qa([Object(o.message)(Object(o.getSocket)())], t)
    }()
      , ts = function(t, e, n, i) {
        var o, r = arguments.length, a = r < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
            a = Reflect.decorate(t, e, n, i);
        else
            for (var s = t.length - 1; s >= 0; s--)
                (o = t[s]) && (a = (r < 3 ? o(a) : r > 3 ? o(e, n, a) : o(e, n)) || a);
        return r > 3 && a && Object.defineProperty(e, n, a),
        a
    }
      , es = function() {
        function t() {
            this.msgType = "cpush.*"
        }
        return t.prototype.execute = function(t, e) {
            switch (this.data = t,
            e) {
            case "cpush.a":
                !Object(f.a)("switch.petCuise") && this.data.uId != Object(f.a)("uId") && Object(f.a)("lv") >= 31 && De.a.openParade(!0, this.data)
            }
        }
        ,
        t = ts([Object(o.message)(Object(o.getSocket)())], t)
    }()
      , ns = n(214)
      , is = n(272)
      , os = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , rs = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , as = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , ss = function(t) {
        function e() {
            return t.call(this, "跑地图") || this
        }
        return os(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_funOpen", this.onUpdate, this),
            this.check()
        }
        ,
        e.prototype.onUpdate = function(t) {
            "fcDiceMap" == t && this.check()
        }
        ,
        e.prototype.check = function() {
            var t = Object(g.d)("fcDiceMap");
            this.updateVisible(t && t.num > 0)
        }
        ,
        e
    }(o.RedBaseRule)
      , cs = function(t) {
        function e() {
            return t.call(this, "跑圈奖励") || this
        }
        return os(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.onUpdate, this)
        }
        ,
        e.prototype.onUpdate = function(t) {
            "fcCircleReward" == t && this.check()
        }
        ,
        e.prototype.check = function() {
            return rs(this, void 0, void 0, (function() {
                var t, e, n, i, o;
                return as(this, (function(r) {
                    switch (r.label) {
                    case 0:
                        return this._fsData = Object(g.d)("fcCircleReward"),
                        t = u.a.getNow(),
                        this._fsData && t >= this._fsData.start && t <= this._fsData.end ? [4, RES.getResAsync("festivalActivity_ch_json")] : [3, 2];
                    case 1:
                        for (r.sent(),
                        e = this._fsData.l,
                        n = Object(y.e)("fcCircleReward", 1, "festivalActivity_ch_json").detail,
                        i = 0; i < n.length; i++)
                            if (this._fsData.num >= n[i].num)
                                for (o = 0; o < e.length; o++)
                                    if (!e[o].awded && e[o].id == n[i].id)
                                        return this.updateVisible(!0),
                                        [2];
                        r.label = 2;
                    case 2:
                        return this.updateVisible(!1),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule)
      , us = function(t) {
        function e() {
            return t.call(this, "跑图积分奖励") || this
        }
        return os(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.onUpdate, this)
        }
        ,
        e.prototype.onUpdate = function(t) {
            "fcScoreReward" == t && this.check()
        }
        ,
        e.prototype.check = function() {
            return rs(this, void 0, void 0, (function() {
                var t, e, n, i, o;
                return as(this, (function(r) {
                    switch (r.label) {
                    case 0:
                        return this._fsData = Object(g.d)("fcScoreReward"),
                        t = u.a.getNow(),
                        this._fsData && t >= this._fsData.start && t <= this._fsData.end ? [4, RES.getResAsync("festivalActivity_ch_json")] : [3, 2];
                    case 1:
                        for (r.sent(),
                        e = this._fsData.l,
                        n = Object(y.e)("fcScoreReward", 1, "festivalActivity_ch_json").detail,
                        i = 0; i < n.length; i++)
                            if (this._fsData.num >= n[i].num)
                                for (o = 0; o < e.length; o++)
                                    if (!e[o].awded && e[o].id == n[i].id)
                                        return this.updateVisible(!0),
                                        [2];
                        r.label = 2;
                    case 2:
                        return this.updateVisible(!1),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule)
      , hs = function(t) {
        function e(e, n) {
            var i = t.call(this, e) || this;
            return i._type = n,
            i
        }
        return os(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.onUpdate, this),
            Object(o.on)("gift_seen", this.onSeen, this)
        }
        ,
        e.prototype.onSeen = function() {
            this._visible = !1,
            this.doCallback()
        }
        ,
        e.prototype.onUpdate = function(t) {
            "fcTimeGift" == t && this.check()
        }
        ,
        e.prototype.check = function() {
            return rs(this, void 0, void 0, (function() {
                var t, e, n;
                return as(this, (function(i) {
                    switch (i.label) {
                    case 0:
                        return v.b.isOpen("recharge") ? (this._fsData = Object(g.d)("fcTimeGift"),
                        this._fsData && this._fsData.l ? [4, RES.getResAsync("recharge_json")] : [3, 2]) : (this.updateVisible(!1),
                        [2]);
                    case 1:
                        for (i.sent(),
                        t = u.a.getNow(),
                        void 0,
                        e = Object(o.getConfig)("recharge_json"),
                        n = 0; n < this._fsData.l.length; n++)
                            if (e[this._fsData.l[n].rechargeId].type == this._type && this._fsData.l[n].time > t)
                                return this.updateVisible(!0),
                                [2];
                        i.label = 2;
                    case 2:
                        return this.updateVisible(!1),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule)
      , ls = function(t) {
        function e(e, n) {
            var i = t.call(this, e) || this;
            return i._actName = n,
            i
        }
        return os(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.onUpdate, this)
        }
        ,
        e.prototype.onUpdate = function(t) {
            t == this._actName && this.check()
        }
        ,
        e.prototype.check = function() {
            return rs(this, void 0, void 0, (function() {
                var t, e, n, i, o;
                return as(this, (function(r) {
                    switch (r.label) {
                    case 0:
                        return this._fsData = Object(g.d)(this._actName),
                        t = u.a.getNow(),
                        this._fsData && t >= this._fsData.start && t <= this._fsData.end ? [4, RES.getResAsync("festivalActivity_ch_json")] : [3, 2];
                    case 1:
                        for (r.sent(),
                        e = this._fsData.l,
                        n = Object(y.e)(this._actName, 1, "festivalActivity_ch_json").detail,
                        i = 0; i < n.length; i++)
                            if (this._fsData.num >= n[i].num)
                                for (o = 0; o < e.length; o++)
                                    if (!e[o].awded && e[o].id == n[i].id)
                                        return this.updateVisible(!0),
                                        [2];
                        r.label = 2;
                    case 2:
                        return this.updateVisible(!1),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule);
    o.RedPointManager.injection(new ss),
    o.RedPointManager.injection(new cs),
    o.RedPointManager.injection(new us),
    o.RedPointManager.injection(new hs("跑图充值福利",1)),
    o.RedPointManager.injection(new hs("跑图礼包福利",13)),
    o.RedPointManager.injection(new ls("跑图祈愿奖励","fcDrawScore")),
    o.RedPointManager.injection(new ls("跑图boss奖励","fcBossLvReward")),
    o.RedPointManager.injection(new o.RedPointGroup("跑图任务","跑圈奖励","跑图积分奖励")),
    o.RedPointManager.injection(new o.RedPointGroup("跑图活动","跑地图","跑圈奖励","跑图积分奖励")),
    o.RedPointManager.injection(new o.RedPointGroup("跑图节日活动","跑图活动","跑图祈愿奖励","跑图boss奖励"));
    var ps = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , fs = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , ds = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , bs = function(t) {
        function e() {
            return t.call(this, "魔族入侵事件") || this
        }
        return ps(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_funOpen", this.onUpdate, this),
            this.check()
        }
        ,
        e.prototype.onUpdate = function(t) {
            "monsterAttack" == t && this.check()
        }
        ,
        e.prototype.check = function() {
            var t = Object(g.d)("monsterAttack");
            this.updateVisible(t.map && t.map.length > 0)
        }
        ,
        e
    }(o.RedBaseRule)
      , gs = function(t) {
        function e() {
            return t.call(this, "入侵个人积分") || this
        }
        return ps(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.onUpdate, this)
        }
        ,
        e.prototype.onUpdate = function(t) {
            "maRank" == t && this.check()
        }
        ,
        e.prototype.check = function() {
            return fs(this, void 0, void 0, (function() {
                var t, e, n, i, o;
                return ds(this, (function(r) {
                    switch (r.label) {
                    case 0:
                        return this._fsData = Object(g.d)("maRank"),
                        t = u.a.getNow(),
                        this._fsData && t >= this._fsData.start && t <= this._fsData.end ? [4, RES.getResAsync("festivalActivity_json")] : [3, 2];
                    case 1:
                        for (r.sent(),
                        e = this._fsData.l,
                        n = Object(y.e)("maRank", 1, "festivalActivity_json").detail,
                        i = 0; i < n.length; i++)
                            if (this._fsData.num >= n[i].num)
                                for (o = 0; o < e.length; o++)
                                    if (!e[o].awded && e[o].id == n[i].id)
                                        return this.updateVisible(!0),
                                        [2];
                        r.label = 2;
                    case 2:
                        return this.updateVisible(!1),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule);
    o.RedPointManager.injection(new bs),
    o.RedPointManager.injection(new o.RedPointGroup("魔族入侵活动","魔族入侵事件"));
    var _s = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , ms = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , ys = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , vs = function(t) {
        function e() {
            return t.call(this, "魔族大举入侵事件") || this
        }
        return _s(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_funOpen", this.onUpdate, this),
            this.check()
        }
        ,
        e.prototype.onUpdate = function(t) {
            "monsterAttack2" == t && this.check()
        }
        ,
        e.prototype.check = function() {
            var t = Object(g.d)("monsterAttack2");
            this.updateVisible(t.map && t.map.length > 0)
        }
        ,
        e
    }(o.RedBaseRule)
      , Os = function(t) {
        function e() {
            return t.call(this, "大举入侵个人积分") || this
        }
        return _s(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.onUpdate, this)
        }
        ,
        e.prototype.onUpdate = function(t) {
            "maRank" == t && this.check()
        }
        ,
        e.prototype.check = function() {
            return ms(this, void 0, void 0, (function() {
                var t, e, n, i, o;
                return ys(this, (function(r) {
                    switch (r.label) {
                    case 0:
                        return this._fsData = Object(g.d)("maRank"),
                        t = u.a.getNow(),
                        this._fsData && t >= this._fsData.start && t <= this._fsData.end ? [4, RES.getResAsync("festivalActivity_json")] : [3, 2];
                    case 1:
                        for (r.sent(),
                        e = this._fsData.l,
                        n = Object(y.e)("maRank", 1, "festivalActivity_json").detail,
                        i = 0; i < n.length; i++)
                            if (this._fsData.num >= n[i].num)
                                for (o = 0; o < e.length; o++)
                                    if (!e[o].awded && e[o].id == n[i].id)
                                        return this.updateVisible(!0),
                                        [2];
                        r.label = 2;
                    case 2:
                        return this.updateVisible(!1),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule);
    o.RedPointManager.injection(new vs),
    o.RedPointManager.injection(new o.RedPointGroup("魔族大举入侵活动","魔族大举入侵事件"));
    var js = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , ws = function(t) {
        function e() {
            return t.call(this, "开服冲榜") || this
        }
        return js(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_funOpen", this.onUpdate, this),
            this.check()
        }
        ,
        e.prototype.onUpdate = function(t) {
            this.check()
        }
        ,
        e.prototype.check = function() {
            this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule)
      , xs = function(t) {
        function e() {
            return t.call(this, "跨服冲榜") || this
        }
        return js(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_funOpen", this.onUpdate, this),
            this.check()
        }
        ,
        e.prototype.onUpdate = function(t) {
            this.check()
        }
        ,
        e.prototype.check = function() {
            this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule)
      , ks = function(t) {
        function e() {
            return t.call(this, "限时任务") || this
        }
        return js(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_limitTaskRed", this.check, this),
            o.cache.onChange("Activity.getList", this.check, this),
            this.check()
        }
        ,
        e.prototype.check = function() {
            if (Object(g.i)()) {
                var t = Object(o.getCache)("Activity.getList").l || []
                  , e = Object(o.getConfig)("activityTask_json")
                  , n = Object(M.f)() ? "tian" : "di";
                for (var i in e)
                    for (var r in t)
                        if (t[r].id == e[i].activityName && t[r].rankType == n && u.a.getNow(!0) <= t[r].end) {
                            var a = t[r]
                              , s = a.cId > e[i].list.length ? e[i].list.length : a.cId
                              , c = e[i].list[s - 1].detail;
                            for (var h in c) {
                                if (a.score >= c[h].num && -1 == a.ids.indexOf(c[h].uniqId))
                                    return void this.updateVisible(!0)
                            }
                        }
                this.updateVisible(!1)
            } else
                this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule)
      , Is = function(t) {
        function e() {
            return t.call(this, "启示录") || this
        }
        return js(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_funOpen", this.onUpdate, this),
            this.check()
        }
        ,
        e.prototype.onUpdate = function(t) {
            this.check()
        }
        ,
        e.prototype.check = function() {
            this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule)
      , Ps = function(t) {
        function e() {
            return t.call(this, "仙盟冲榜") || this
        }
        return js(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_funOpen", this.onUpdate, this),
            this.check()
        }
        ,
        e.prototype.onUpdate = function(t) {
            this.check()
        }
        ,
        e.prototype.check = function() {
            this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule);
    o.RedPointManager.injection(new ws),
    o.RedPointManager.injection(new ks),
    o.RedPointManager.injection(new Is),
    o.RedPointManager.injection(new xs),
    o.RedPointManager.injection(new Ps);
    var Cs = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Ss = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , Rs = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , Ts = function(t) {
        function e(e, n, i) {
            var o = t.call(this, e) || this;
            return o.actName = n,
            o.confName = i,
            o
        }
        return Cs(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.onUpdate, this)
        }
        ,
        e.prototype.onUpdate = function(t) {
            t == this.actName && this.check()
        }
        ,
        e.prototype.check = function() {
            return Ss(this, void 0, void 0, (function() {
                var t, e, n, i;
                return Rs(this, (function(r) {
                    switch (r.label) {
                    case 0:
                        return v.b.isOpen("recharge") ? (this._fsData = Object(g.d)(this.actName),
                        t = u.a.getNow(),
                        this._fsData && this._fsData.l && t >= this._fsData.start && t <= this._fsData.end ? [4, RES.getResAsync(this.confName)] : [3, 2]) : (this.updateVisible(!1),
                        [2]);
                    case 1:
                        for (r.sent(),
                        e = Object(o.getConfig)(this.confName)[this.actName],
                        n = void 0,
                        i = 0; i < this._fsData.l.length; i++)
                            if (n = e.list[0].detail[i] ? e.list[0].detail[i].num : Number.MAX_VALUE,
                            !this._fsData.l[i].awded && this._fsData.num >= n)
                                return [2, this.updateVisible(!0)];
                        return this.updateVisible(!1),
                        [3, 3];
                    case 2:
                        this.updateVisible(!1),
                        r.label = 3;
                    case 3:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule);
    o.RedPointManager.injection(new Ts("登录活动","openLogin","openActivity_json")),
    o.RedPointManager.injection(new Ts("每日福利","openDailyRecharge","openActivity_json")),
    o.RedPointManager.injection(new Ts("仙榜助力","openTotalRecharge","openActivity_json")),
    o.RedPointManager.injection(new Ts("仙榜助力3","openTotalRecharge3","openActivity_json")),
    o.RedPointManager.injection(new o.RedPointGroup("开服15天","登录活动","每日福利","仙榜助力","仙榜助力3"));
    var Ls = n(169)
      , As = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Ms = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , Ns = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , Bs = function(t) {
        function e() {
            return t.call(this, "虚空") || this
        }
        return As(e, t),
        e.prototype.init = function() {
            var t = this;
            this.updateVisible(Object(o.getCache)("Red.getInfo", "void")),
            Object(o.onCache)("Hollow.getList", (function() {
                t.updateVisible(!1)
            }
            ), this)
        }
        ,
        e
    }(o.RedBaseRule)
      , Es = function(t) {
        function e() {
            return t.call(this, "众神次数") || this
        }
        return As(e, t),
        e.prototype.init = function() {
            var t = this;
            Object(o.onCache)("Hollow.getList", (function() {
                var e = Object(g.d)("crossWar", Object(o.getCache)("Hollow.getList", "l"));
                t.updateVisible(e && e.redDot)
            }
            ), this),
            Object(o.onCache)("VoidGodWar.getInfo", this.change, this),
            Object(o.onChange)("VoidGodWar.getInfo", this.change, this)
        }
        ,
        e.prototype.change = function() {
            if (u.a.isOver(Object(o.getCache)("VoidGodWar.getInfo", "i.et")))
                this.updateVisible(!1);
            else {
                var t = Object(o.getCache)("VoidGodWar.getInfo", "i.dareCount", 0);
                this.updateVisible(t > 0)
            }
        }
        ,
        e
    }(o.RedBaseRule)
      , Ds = function(t) {
        function e() {
            return t.call(this, "众神任务") || this
        }
        return As(e, t),
        e.prototype.init = function() {
            Object(o.onCache)("VoidGodWar.getInfo", this.change, this),
            Object(o.onChange)("VoidGodWar.getInfo", this.change, this)
        }
        ,
        e.prototype.change = function() {
            return Ms(this, void 0, void 0, (function() {
                var t, e, n, i;
                return Ns(this, (function(r) {
                    switch (r.label) {
                    case 0:
                        return [4, RES.getResAsync("voidCrossWarTask_json")];
                    case 1:
                        for (r.sent(),
                        t = Object(o.getConfig)("voidCrossWarTask_json"),
                        e = Object(o.getCache)("VoidGodWar.getInfo", "i.task", []),
                        i = 0; i < e.length; i++)
                            if (n = e[i],
                            t[n.id] && 1 != n.isReward && n.schedule >= t[n.id].num)
                                return this.updateVisible(!0),
                                [2];
                        return this.updateVisible(!1),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule)
      , Gs = function(t) {
        function e() {
            return t.call(this, "裂缝次数") || this
        }
        return As(e, t),
        e.prototype.init = function() {
            var t = this;
            Object(o.onCache)("Hollow.getList", (function() {
                var e = Object(g.d)("voidAppears", Object(o.getCache)("Hollow.getList", "l"));
                t.updateVisible(e && e.redDot)
            }
            ), this),
            Object(o.onCache)("VoidAppears.getInfo", this.change, this),
            Object(o.onChange)("VoidAppears.getInfo", this.change, this)
        }
        ,
        e.prototype.change = function() {
            if (u.a.isOver(Object(o.getCache)("VoidAppears.getInfo", "i.et")))
                this.updateVisible(!1);
            else {
                var t = Object(o.getCache)("VoidAppears.getInfo", "i.count", 0);
                this.updateVisible(t > 0)
            }
        }
        ,
        e
    }(o.RedBaseRule)
      , Vs = function(t) {
        function e() {
            return t.call(this, "探索虚空") || this
        }
        return As(e, t),
        e.prototype.init = function() {
            var t = this;
            Object(o.onCache)("Hollow.getList", (function() {
                var e = Object(g.d)("voidExplore", Object(o.getCache)("Hollow.getList", "l"));
                t.updateVisible(e && e.redDot),
                t.actTimeout(!1)
            }
            ), this),
            Object(o.onCache)("VoidExplore.info", this.actTimeout, this)
        }
        ,
        e.prototype.actTimeout = function(t) {
            void 0 === t && (t = !0);
            var e = Object(g.d)("voidExplore", Object(o.getCache)("Hollow.getList", "l"));
            if (e) {
                this._tId && egret.clearTimeout(this._tId);
                var n = Math.max(0, e.end - u.a.getNow())
                  , i = o.cache.get("VoidExplore.info", "i");
                if (i) {
                    for (var r = i.days, a = u.a.getNow(), s = 0; s < r.length; s++) {
                        if (a < r[s].dbt) {
                            n > r[s].dbt - a && (n = r[s].dbt - a);
                            break
                        }
                        if (a < r[s].det) {
                            n > r[s].det - a && (n = r[s].det - a);
                            break
                        }
                    }
                    this._watch || (this._watch = eui.Watcher.watch(i, ["mapId"], this.change, this),
                    this._watchCount = eui.Watcher.watch(i, ["count"], this.change, this))
                }
                n > 0 && (this._tId = egret.setTimeout(this.actTimeout, this, 1e3 * n)),
                t && this.change()
            }
        }
        ,
        e.prototype.getValidPeriod = function() {
            if (!Object(g.e)("voidExplore", !1, g.a.normal, Object(o.getCache)("Hollow.getList", "l")))
                return !1;
            var t = o.cache.get("VoidExplore.info", "i");
            if (t)
                for (var e = t.days, n = u.a.getNow(), i = 0; i < e.length; i++)
                    if (n > e[i].dbt && n < e[i].det)
                        return !0;
            return !t && Object(g.d)("voidExplore", Object(o.getCache)("Hollow.getList", "l")).redDot
        }
        ,
        e.prototype.change = function() {
            var t = Object(o.getCache)("VoidExplore.info", "i");
            t && this.updateVisible(t.count > 0 && !t.mapId && this.getValidPeriod())
        }
        ,
        e
    }(o.RedBaseRule)
      , Us = function(t) {
        function e() {
            return t.call(this, "虚空之影") || this
        }
        return As(e, t),
        e.prototype.init = function() {
            var t = this;
            Object(o.onCache)("Hollow.getList", (function() {
                var e = Object(g.d)("voidBoss", Object(o.getCache)("Hollow.getList", "l"));
                t.updateVisible(e && e.redDot)
            }
            ), this),
            Object(o.on)("refresh_voidBoss_red", this.check, this),
            o.cache.onChange("VoidBoss.getInfo", this.check, this),
            eui.Watcher.watch(Object(o.getCache)("User.getInfo").i, ["guildId"], this.check, this)
        }
        ,
        e.prototype.check = function() {
            if (o.cache.has("User.getInfo") && 0 == Object(f.a)("guildId"))
                this.updateVisible(!1);
            else {
                if (o.cache.has("VoidBoss.getInfo")) {
                    var t = u.a.getNow(!0)
                      , e = o.cache.get("VoidBoss.getInfo")
                      , n = Object(g.d)("voidBoss", Object(o.getCache)("Hollow.getList", "l"));
                    if (e.round > 6 && e.baseCamp.round <= 0)
                        return void this.updateVisible(!1);
                    if (e.baseCamp.hp > 0 && e.dayStart < t && t < e.dayEnd && t < n.end)
                        return void this.updateVisible(0 == e.front || 0 == e.heroUp)
                }
                this.updateVisible(!1)
            }
        }
        ,
        e
    }(o.RedBaseRule)
      , Hs = function(t) {
        function e() {
            return t.call(this, "虚空之影驻守") || this
        }
        return As(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_voidBoss_red", this.check, this),
            o.cache.onChange("VoidBoss.getInfo", this.check, this),
            eui.Watcher.watch(Object(o.getCache)("User.getInfo").i, ["guildId"], this.check, this)
        }
        ,
        e.prototype.check = function() {
            if (o.cache.has("User.getInfo") && 0 == Object(f.a)("guildId"))
                this.updateVisible(!1);
            else {
                if (o.cache.has("VoidBoss.getInfo")) {
                    var t = u.a.getNow(!0)
                      , e = o.cache.get("VoidBoss.getInfo")
                      , n = Object(g.d)("voidBoss", Object(o.getCache)("Hollow.getList", "l"));
                    if (e.round > 6 && e.baseCamp.round <= 0)
                        return void this.updateVisible(!1);
                    if (e.baseCamp.hp > 0 && e.dayStart < t && t < e.dayEnd && t < n.end)
                        return void this.updateVisible(0 == e.front)
                }
                this.updateVisible(!1)
            }
        }
        ,
        e
    }(o.RedBaseRule)
      , Fs = function(t) {
        function e() {
            return t.call(this, "虚空之影收集") || this
        }
        return As(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_voidBoss_red", this.check, this),
            o.cache.onChange("VoidBoss.getInfo", this.check, this),
            eui.Watcher.watch(Object(o.getCache)("User.getInfo").i, ["guildId"], this.check, this)
        }
        ,
        e.prototype.check = function() {
            if (o.cache.has("User.getInfo") && 0 == Object(f.a)("guildId"))
                this.updateVisible(!1);
            else {
                if (o.cache.has("VoidBoss.getInfo")) {
                    var t = u.a.getNow(!0)
                      , e = o.cache.get("VoidBoss.getInfo")
                      , n = Object(g.d)("voidBoss", Object(o.getCache)("Hollow.getList", "l"));
                    if (e.round > 6 && e.baseCamp.round <= 0)
                        return void this.updateVisible(!1);
                    if (e.baseCamp.hp > 0 && e.dayStart < t && t < e.dayEnd && t < n.end)
                        return void this.updateVisible(0 == e.heroUp)
                }
                this.updateVisible(!1)
            }
        }
        ,
        e
    }(o.RedBaseRule);
    o.RedPointManager.injection(new Hs),
    o.RedPointManager.injection(new Fs),
    o.RedPointManager.injection(new Bs),
    o.RedPointManager.injection(new Es),
    o.RedPointManager.injection(new Ds),
    o.RedPointManager.injection(new Gs),
    o.RedPointManager.injection(new Us),
    o.RedPointManager.injection(new Vs),
    o.RedPointManager.injection(new Ls.d("探索虚空充值","voidExploreRecharge","festivalActivity_json")),
    o.RedPointManager.injection(new o.RedPointGroup("虚空探索","探索虚空","探索虚空充值")),
    o.RedPointManager.injection(new o.RedPointGroup("虚空之影","虚空之影收集","虚空之影驻守")),
    o.RedPointManager.injection(new o.RedPointGroup("虚空众神","众神次数","众神任务")),
    o.RedPointManager.injection(new o.RedPointGroup("虚空之窥","虚空","虚空众神","裂缝次数","虚空探索","虚空之影"));
    var zs = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , qs = function(t) {
        function e() {
            return t.call(this, "好友消息") || this
        }
        return zs(e, t),
        e.prototype.init = function() {
            this.updateVisible(Object(o.getCache)("Red.getInfo", "friend")),
            Object(o.on)("friendMsgRed", this.check, this)
        }
        ,
        e.prototype.check = function(t) {
            if (0 == t)
                return this.updateVisible(!1);
            this.updateVisible(Boolean(sr.a.ins.friendChatList.find((function(t) {
                return t.unread > 0
            }
            ))))
        }
        ,
        e
    }(o.RedBaseRule)
      , Ws = function(t) {
        function e() {
            return t.call(this, "好友添加") || this
        }
        return zs(e, t),
        e.prototype.init = function() {
            this.updateVisible(Object(o.getCache)("Red.getInfo", "reqFriend")),
            Object(o.on)("update_reqFriend", this.check, this),
            Object(o.on)("update_reqFList", this.checkReqFriend, this)
        }
        ,
        e.prototype.check = function() {
            this.updateVisible(!0)
        }
        ,
        e.prototype.checkReqFriend = function() {
            var t = Object(o.getCache)("reqFriend.list", "l");
            if (t && t.length)
                for (var e = 0; e < t.length; e++)
                    if (!t[e].done) {
                        this.updateVisible(!0);
                        break
                    }
            this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule);
    o.RedPointManager.injection(new qs),
    o.RedPointManager.injection(new Ws),
    o.RedPointManager.injection(new o.RedPointGroup("好友","好友消息","好友添加"));
    var Xs = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Ys = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , Js = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , $s = function(t) {
        function e() {
            var e = t.call(this, "圣诞老人礼物") || this;
            return e.actName = "chSanta",
            e.FORAGE = [15171, 15172, 15173],
            e
        }
        return Xs(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_funOpen", this.actUpdate, this),
            o.cache.onChange("Bag.getList", this.check, this),
            this.check()
        }
        ,
        e.prototype.actUpdate = function(t) {
            t == this.actName && this.check()
        }
        ,
        e.prototype.check = function() {
            var t = this;
            if (this.clearCD(),
            Object(g.c)(this.actName) == g.b.start) {
                var e = Object(g.d)(this.actName);
                if (e.giftList && e.giftList.length > 0) {
                    if (u.a.getNow() > e.giftList[0].time)
                        return void this.updateVisible(!0);
                    this._cd = Object(o.setTimeout)((function() {
                        Object(g.o)(t.actName)
                    }
                    ), this, 1e3 * (e.giftList[0].time - u.a.getNow()))
                }
                if (e.feel < 20 && u.a.getNow() > e.feelTime)
                    for (var n = 0; n < this.FORAGE.length; n++)
                        if (Bt.e.getNum(this.FORAGE[n]) > 0)
                            return void this.updateVisible(!0);
                this.updateVisible(!1)
            } else
                this.updateVisible(!1)
        }
        ,
        e.prototype.clearCD = function() {
            this._cd && egret.clearTimeout(this._cd)
        }
        ,
        e
    }(o.RedBaseRule)
      , Ks = function(t) {
        function e() {
            var e = t.call(this, "圣诞秘宝") || this;
            return e.actName = "chLottery",
            e
        }
        return Xs(e, t),
        e.prototype.init = function() {
            Object(o.on)("christmas_lottery_red", this.check, this),
            this.check()
        }
        ,
        e.prototype.check = function() {
            if (Object(g.c)(this.actName) == g.b.start) {
                var t = Object(o.getLocalStorage)().getString("christmas_lottery_red");
                t ? Object(M.e)() > t ? this.updateVisible(!0) : this.updateVisible(!1) : this.updateVisible(!0)
            } else
                this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule)
      , Qs = function(t) {
        function e() {
            var e = t.call(this, "圣诞宠物喂养") || this;
            return e.actName = "chPet",
            e
        }
        return Xs(e, t),
        e.prototype.init = function() {
            return Ys(this, void 0, void 0, (function() {
                var t, e;
                return Js(this, (function(n) {
                    switch (n.label) {
                    case 0:
                        return [4, Object(D.a)("festivalActivity_ch_json")];
                    case 1:
                        return n.sent(),
                        this.check(),
                        Object(o.on)("refresh_funOpen", this.actUpdate, this),
                        o.cache.onChange("Bag.getList", this.check, this),
                        (t = Object(g.d)(this.actName)) && (e = t.end - u.a.getNow()) > 0 && egret.setTimeout(this.check, this, 1e3 * e),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.actUpdate = function(t) {
            t == this.actName && this.check()
        }
        ,
        e.prototype.check = function() {
            return Ys(this, void 0, void 0, (function() {
                var t, e, n, i, r;
                return Js(this, (function(a) {
                    if (!Object(g.e)(this.actName, !1))
                        return [2, this.updateVisible(!1)];
                    if (t = Object(g.d)(this.actName),
                    e = u.a.getNow(),
                    t.start > e || e > t.end)
                        return [2, this.updateVisible(!1)];
                    if (3 == t.level)
                        return [2, this.updateVisible(!1)];
                    for (n = Object(o.getConfig)("festivalActivity_ch_json")[this.actName].list[0].detail,
                    i = 0; i < n.length; i++)
                        if (t.level + 1 == n[i].id)
                            for (r = 0; r < n[i].cost.length; r++)
                                if (n[i].cost[r].label == t.num + 1 && !Bt.e.hasEnough(n[i].cost[r].itemId, n[i].cost[r].num, !1))
                                    return [2, this.updateVisible(!1)];
                    return [2, this.updateVisible(!0)]
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule)
      , Zs = function(t) {
        function e() {
            var e = t.call(this, "圣诞地图") || this;
            return e.actName = "chDiceMap",
            e.FORAGE = [10431, 10432],
            e
        }
        return Xs(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_funOpen", this.actUpdate, this),
            o.cache.onChange("Bag.getList", this.check, this),
            this.check()
        }
        ,
        e.prototype.actUpdate = function(t) {
            t == this.actName && this.check()
        }
        ,
        e.prototype.check = function() {
            if (Object(g.c)(this.actName) == g.b.start) {
                for (var t = 0; t < this.FORAGE.length; t++)
                    if (Bt.e.getNum(this.FORAGE[t]) > 0)
                        return void this.updateVisible(!0);
                this.updateVisible(!1)
            } else
                this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule)
      , tc = function(t) {
        function e() {
            return t.call(this, "圣诞网页") || this
        }
        return Xs(e, t),
        e.prototype.init = function() {
            Object(o.on)("christmas_web_page_get", this.check, this),
            this.check()
        }
        ,
        e.prototype.check = function() {
            Object(o.getLocalStorage)().getString("Christmas_web_page") ? this.updateVisible(!1) : this.updateVisible(!0)
        }
        ,
        e
    }(o.RedBaseRule);
    o.RedPointManager.injection(new $s),
    o.RedPointManager.injection(new Qs),
    o.RedPointManager.injection(new Zs),
    o.RedPointManager.injection(new Ks),
    o.RedPointManager.injection(new tc),
    o.RedPointManager.injection(new Ls.d("圣诞老人任务","chSantaTask","festivalActivity_ch_json")),
    o.RedPointManager.injection(new o.RedPointGroup("圣诞仙鹿","圣诞老人任务","圣诞老人礼物")),
    o.RedPointManager.injection(new o.RedPointGroup("灵鹿圣墟","圣诞地图","圣诞宠物喂养")),
    o.RedPointManager.injection(new o.RedPointGroup("圣诞节","圣诞仙鹿","圣诞秘宝","灵鹿圣墟"));
    var ec = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , nc = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , ic = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , oc = function(t) {
        function e() {
            var e = t.call(this, "新年拼图次数") || this;
            return e.actName = "nyJigsaw",
            e.propId = 15190,
            e
        }
        return ec(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_funOpen", this.actUpdate, this),
            o.cache.onChange("Bag.getList", this.check, this),
            this.check();
            var t = Object(g.d)(this.actName);
            if (t) {
                var e = t.end - u.a.getNow();
                e > 0 && egret.setTimeout(this.check, this, 1e3 * e)
            }
        }
        ,
        e.prototype.actUpdate = function(t) {
            t == this.actName && this.check()
        }
        ,
        e.prototype.check = function() {
            if (this.clearCD(),
            Object(g.c)(this.actName) == g.b.start) {
                var t = Object(g.d)(this.actName)
                  , e = Bt.e.hasEnough(this.propId, 1, !1) && 3 != t.tNum;
                this.updateVisible(e)
            } else
                this.updateVisible(!1)
        }
        ,
        e.prototype.clearCD = function() {
            this._cd && egret.clearTimeout(this._cd)
        }
        ,
        e
    }(o.RedBaseRule)
      , rc = function(t) {
        function e() {
            var e = t.call(this, "天道轮盘") || this;
            return e.actName = "nyLottery",
            e
        }
        return ec(e, t),
        e.prototype.init = function() {
            return nc(this, void 0, void 0, (function() {
                var t, e;
                return ic(this, (function(n) {
                    return this.check(),
                    Object(o.on)("refresh_funOpen", this.actUpdate, this),
                    (t = Object(g.d)(this.actName)) && (e = t.end - u.a.getNow()) > 0 && egret.setTimeout(this.check, this, 1e3 * e),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e.prototype.actUpdate = function(t) {
            t == this.actName && this.check()
        }
        ,
        e.prototype.check = function() {
            return nc(this, void 0, void 0, (function() {
                var t, e, n;
                return ic(this, (function(i) {
                    if (!Object(g.e)(this.actName, !1))
                        return [2, this.updateVisible(!1)];
                    if (Object(g.c)(this.actName) != g.b.start)
                        return this.updateVisible(!1),
                        [2];
                    if (t = Object(o.getLocalStorage)().getString("christmas_lottery_red"))
                        if (Object(M.e)() > t)
                            this.updateVisible(!0);
                        else {
                            if (e = Object(g.d)(this.actName),
                            n = u.a.getNow(),
                            e.start > n || n > e.end)
                                return [2, this.updateVisible(!1)];
                            this.updateVisible(e.freeNum > 0 && 3 != e.tNum)
                        }
                    else
                        this.updateVisible(!0);
                    return [2]
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule)
      , ac = function(t) {
        function e() {
            var e = t.call(this, "2021春节打年兽") || this;
            return e.actName = "nyBoss",
            e.propId = [15192, 15193, 15194],
            e
        }
        return ec(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_funOpen", this.actUpdate, this),
            o.cache.onChange("Bag.getList", this.check, this),
            this.check();
            var t = Object(g.d)(this.actName);
            if (t) {
                var e = t.end - u.a.getNow();
                e > 0 && egret.setTimeout(this.check, this, 1e3 * e)
            }
        }
        ,
        e.prototype.actUpdate = function(t) {
            t == this.actName && this.check()
        }
        ,
        e.prototype.check = function() {
            if (Object(g.c)(this.actName) == g.b.start) {
                for (var t = 0; t < this.propId.length; t++)
                    if (Bt.e.hasEnough(this.propId[t], 1, !1))
                        return void this.updateVisible(!0);
                this.updateVisible(!1)
            } else
                this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule)
      , sc = function(t) {
        function e() {
            var e = t.call(this, "春节仙兽喂养") || this;
            return e.actName = "nyGrow",
            e.ITEM1 = 15201,
            e.FORAGE = [15195, 15196],
            e
        }
        return ec(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_funOpen", this.actUpdate, this),
            o.cache.onChange("Bag.getList", this.check, this),
            this.checkFirst();
            var t = Object(g.d)(this.actName);
            if (t) {
                var e = t.end - u.a.getNow();
                e > 0 && egret.setTimeout(this.check, this, 1e3 * e)
            }
        }
        ,
        e.prototype.actUpdate = function(t) {
            t == this.actName && this.check()
        }
        ,
        e.prototype.checkFirst = function() {
            if (Object(g.c)(this.actName) == g.b.start) {
                var t = Object(g.d)(this.actName);
                this.updateVisible(t.canUp)
            } else
                this.updateVisible(!1)
        }
        ,
        e.prototype.check = function() {
            if (Object(g.c)(this.actName) == g.b.start) {
                if (Object(o.getConfig)("festivalActivity_ny_json")) {
                    var t = Object(g.d)(this.actName);
                    if (!this._conf)
                        for (var e = Object(G.a)("festivalActivity_ny_json").nyGrow.list[0].detail, n = 0; n < e.length; n++)
                            t.level + 1 == e[n].id && (this._conf = e[n]);
                    if (0 == t.level)
                        this.updateVisible(Bt.e.hasEnough(this.ITEM1, 1, !1));
                    else {
                        if (1 != t.level && 2 != t.level)
                            return void this.updateVisible(!1);
                        var i = void 0;
                        for (n = 0; n < this._conf.cost.length; n++)
                            if (this._conf.cost[n].label == t.num + 1)
                                return i = this._conf.cost[n],
                                void this.updateVisible(Bt.e.hasEnough(i.itemId, i.num, !1))
                    }
                }
            } else
                this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule)
      , cc = function(t) {
        function e() {
            var e = t.call(this, "2021春节仙兽培养奖励") || this;
            return e.actName = "nyPetGrow",
            e
        }
        return ec(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_funOpen", this.actUpdate, this),
            this.check();
            var t = Object(g.d)(this.actName);
            if (t) {
                var e = t.end - u.a.getNow();
                e > 0 && egret.setTimeout(this.check, this, 1e3 * e)
            }
        }
        ,
        e.prototype.actUpdate = function(t) {
            t == this.actName && this.check()
        }
        ,
        e.prototype.check = function() {
            if (Object(g.c)(this.actName) == g.b.start) {
                for (var t = Object(g.d)(this.actName), e = 0; e < t.l.length; e++)
                    if (0 == t.l[e].awded && t.num >= t.l[e].lnum)
                        return void this.updateVisible(!0);
                this.updateVisible(!1)
            } else
                this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule);
    o.RedPointManager.injection(new oc),
    o.RedPointManager.injection(new rc),
    o.RedPointManager.injection(new ac),
    o.RedPointManager.injection(new sc),
    o.RedPointManager.injection(new cc),
    o.RedPointManager.injection(new Ls.d("新年拼图任务","nyJigsawtask","festivalActivity_ny_json")),
    o.RedPointManager.injection(new o.RedPointGroup("新年拼图","新年拼图次数","新年拼图任务")),
    o.RedPointManager.injection(new o.RedPointGroup("雪域灵鹿","2021春节打年兽","春节仙兽喂养","2021春节仙兽培养奖励")),
    o.RedPointManager.injection(new o.RedPointGroup("新春盛会","新年拼图","天道轮盘","雪域灵鹿"));
    var uc = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , hc = function(t) {
        function e() {
            return t.call(this, "图标夹") || this
        }
        return uc(e, t),
        e.prototype.init = function() {
            this._iconGroup = o.RedPointManager.getRule("入口图标"),
            this._iconGroup.addCallback(this.check, this),
            Object(o.on)("iconFolder", this.check, this)
        }
        ,
        e.prototype.check = function(t) {
            if (null != t && (this._unfold = t),
            1 == this._unfold)
                return this.updateVisible(!1);
            this.updateVisible(this._iconGroup.visible)
        }
        ,
        e
    }(o.RedBaseRule);
    o.RedPointManager.injection(new o.RedPointGroup("入口图标")),
    o.RedPointManager.injection(new hc);
    var lc = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , pc = function(t) {
        function e(e, n) {
            var i = t.call(this, n) || this;
            return i.actName = e,
            i
        }
        return lc(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_funOpen", this.refresh, this),
            this.refresh(this.actName)
        }
        ,
        e.prototype.refresh = function(t) {
            if (t == this.actName) {
                var e = Object(g.d)(this.actName);
                if (e && e.l) {
                    var n = "limitGift1" == this.actName ? 5199 : 5299;
                    if (e.l.filter((function(t) {
                        return t.id == n && 0 == t.num
                    }
                    )).length > 0)
                        return void this.updateVisible(!0)
                }
                this.updateVisible(!1)
            }
        }
        ,
        e
    }(o.RedBaseRule);
    o.RedPointManager.injection(new pc("limitGift1","限时礼包周")),
    o.RedPointManager.injection(new pc("limitGift2","限时礼包月")),
    o.RedPointManager.injection(new o.RedPointGroup("限时礼包","限时礼包周","限时礼包月"));
    var fc = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , dc = function(t) {
        function e(e) {
            var n = t.call(this, "功能预知" + e) || this;
            return n.type = e,
            n
        }
        return fc(e, t),
        e.prototype.init = function() {
            Object(o.on)("prediction_function_change", this.check, this),
            this.check()
        }
        ,
        e.prototype.check = function() {
            var t;
            t = "play" == this.type ? 1 : "pvp" == this.type ? 2 : 3;
            var e = Object(o.getCache)("playGuide.getList");
            if (e && e.l.length > 0) {
                for (var n = 0; n < e.l.length; n++)
                    if ((1 == e.l[n].unlock || 1 == e.l[n].recive) && t == e.l[n].type)
                        return void this.updateVisible(!0);
                this.updateVisible(!1)
            }
        }
        ,
        e
    }(o.RedBaseRule);
    o.RedPointManager.injection(new dc("play")),
    o.RedPointManager.injection(new dc("pve")),
    o.RedPointManager.injection(new dc("pvp")),
    o.RedPointManager.injection(new o.RedPointGroup("功能预知","功能预知play","功能预知pve","功能预知pvp"));
    var bc = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , gc = function(t) {
        function e() {
            var e = t.call(this, "玉京城") || this;
            return e._disposeArr = [],
            e
        }
        return bc(e, t),
        e.prototype.init = function() {
            var t = this;
            this._disposeArr.push(Object(o.on)("tapJingcheng", (function() {
                Object(o.getLocalStorage)().setInt("jingchengRed", 1),
                t.refresh()
            }
            ), this)),
            this._disposeArr.push(o.cache.onChange("Hero.getList", (function() {
                t.refresh()
            }
            ), this)),
            this._disposeArr.push(o.cache.onChange("User.getInfo", (function() {
                t.refresh()
            }
            ), this)),
            this.refresh()
        }
        ,
        e.prototype.refresh = function() {
            var t = 0 == Object(o.getLocalStorage)().getInt("jingchengRed", 0)
              , e = Object(v.c)(v.a.jingcheng)
              , n = A.a.getEnableList().length > 0
              , i = 0 == (Object(f.a)("guide") & pn.b.jingcheng)
              , r = e && (t || i) && n;
            this.updateVisible(r),
            r || (this._disposeArr = Object(o.dispose)(this._disposeArr))
        }
        ,
        e
    }(o.RedBaseRule);
    o.RedPointManager.injection(new gc);
    var _c, mc = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }();
    !function(t) {
        t[t.rows = 1] = "rows",
        t[t.columns = 2] = "columns"
    }(_c || (_c = {}));
    var yc = function(t) {
        function e() {
            return t.call(this) || this
        }
        return mc(e, t),
        e.prototype.setLayout = function(t, e, n) {
            this.layout = new Oc(t,e,n)
        }
        ,
        e.prototype.$setDataProvider = function(e) {
            return this.$dataProvider != e && this.layout instanceof Oc && this.layout.udpatedDataProvider(),
            t.prototype.$setDataProvider.call(this, e)
        }
        ,
        e.prototype.getVirtualElementAt = function(t) {
            if ((t = 0 | +t) < 0 || t >= this.$dataProvider.length)
                return null;
            var e = this.getRenderer(t);
            if (!e) {
                var n = this.$dataProvider.getItemAt(t);
                e = this.createVirtualRenderer(n),
                this.$indexToRenderer[t] = e,
                this.updateRenderer(e, t, n);
                var i = this.$DataGroup;
                i[4] && (e.validateNow(),
                i[4] = !1,
                this.rendererAdded(e, t, n))
            }
            return e
        }
        ,
        e.prototype.getRenderer = function(t) {
            var e = this.$dataProvider.getItemAt(t)
              , n = this.itemToRendererClass(e)
              , i = this.$indexToRenderer[t];
            if (i && n == this.$DataGroup[2][i.$hashCode])
                return i;
            return null
        }
        ,
        e
    }(eui.List)
      , vc = eui.List.prototype.itemToRendererClass;
    yc.prototype.itemToRendererClass = function(t) {
        var e = vc.call(this, t);
        return e._hashCode || (e._hashCode = egret.$hashCount++,
        e.$hashCode = e._hashCode),
        e
    }
    ,
    yc.prototype.createVirtualRenderer = function(t) {
        var e, n = this.itemToRendererClass(t), i = n.$hashCode, o = this.$DataGroup, r = o[3];
        if (r[i] && r[i].length > 0) {
            for (var a = r[i].length, s = 0; s < a; s++)
                if (r[i][s].data == t) {
                    e = r[i].splice(s, 1)[0];
                    break
                }
            return e || (e = r[i].pop()),
            e.visible = !0,
            this.invalidateDisplayList(),
            e
        }
        return o[4] = !0,
        this.createOneRenderer(n)
    }
    ,
    Object(bn.a)("FactoryList", yc);
    var Oc = function(t) {
        function e(e, n, i) {
            void 0 === n && (n = 0),
            void 0 === i && (i = 0);
            var o = t.call(this) || this;
            return o.indexInViewCalculated = !1,
            o._listW = 0,
            o._listH = 0,
            o.useVirtualLayout = !0,
            o._orientation = e,
            o._gapX = n,
            o._gapY = i,
            o._elementsWH = {},
            o
        }
        return mc(e, t),
        e.prototype.udpatedDataProvider = function() {
            this._elementsWH = {}
        }
        ,
        e.prototype.scrollPositionChanged = function() {
            this.$useVirtualLayout && (this.getIndexInView() && (this.indexInViewCalculated = !0,
            this.$target.invalidateDisplayList()))
        }
        ,
        e.prototype.setElementWH = function(t, e, n) {
            e > 0 && n > 0 && (this._elementsWH[t] = {
                w: e,
                h: n
            })
        }
        ,
        e.prototype.getElementWH = function(t) {
            return this._elementsWH[t]
        }
        ,
        e.prototype.setVirtualElementIndicesInView = function(t, e) {
            (this._startIndex != t || this._endIndex != e || this.needUpdateVirtual(t, e)) && (this._startIndex = t,
            this._endIndex = e,
            this.$target.setVirtualElementIndicesInView(t, e))
        }
        ,
        e.prototype.needUpdateVirtual = function(t, e) {
            for (var n = this.$target.$indexToRenderer, i = this.target.numElements, o = 0; o < i; o++)
                if (o >= t && o <= e)
                    ;
                else if (n[o])
                    return !0;
            return !1
        }
        ,
        e.prototype.getIndexInView = function() {
            if (!this.$target || 0 == this.$target.numElements)
                return this._startIndex = this._endIndex = -1,
                !1;
            var t = this.$target
              , e = t.numElements;
            if (!this.$useVirtualLayout)
                return this._startIndex = 0,
                this._endIndex = e - 1,
                !1;
            var n = t.$UIComponent;
            if (0 == n[10] || 0 == n[11])
                return this._startIndex = this._endIndex = -1,
                !1;
            for (var i, o = this._startIndex, r = this._endIndex, a = this.target.numElements, s = a, c = 0, u = 0, h = 0, l = 0, p = 0, f = 0, d = 0, b = 0, g = 0, _ = 0, m = 0, y = 0, v = 0, O = 0; O < a; O++)
                (i = this.getElementWH(O)) && (u = i.w,
                h = i.h,
                1 == this._orientation ? ((f += u) > this._listW && (f = u,
                d += _ + this._gapY,
                _ = 0),
                _ = Math.max(_, h),
                y = f - u,
                v = d,
                l = this._listW,
                p = Math.max(p, d + h),
                d + h > this.$target.scrollV && (s = Math.min(s, O)),
                v - this.$target.scrollV < this._listH && (c = Math.max(c, O))) : 2 == this._orientation && ((b += h) > this._listH && (b = h,
                g += m + this._gapX,
                m = 0),
                m = Math.max(m, u),
                y = g,
                l = Math.max(l, g + u),
                p = this._listH,
                g + u > this.$target.scrollH && (s = Math.min(s, O)),
                y - this.$target.scrollH < this._listW && (c = Math.max(c, O))));
            return s != o || c != r
        }
        ,
        e.prototype.updateDisplayList = function(e, n) {
            if (this._listW = e,
            this._listH = n,
            t.prototype.updateDisplayList.call(this, e, n),
            this.$target) {
                this.indexInViewCalculated && (this.indexInViewCalculated = !1);
                for (var i, o, r = this.target.numElements, a = 0, s = 0, c = 0, u = 0, h = 0, l = 0, p = 0, f = 0, d = 0, b = 0, g = 0, _ = 0, m = r - 1, y = 0, v = 0; v < r; v++) {
                    if (i = this.getElementWH(v))
                        o = null,
                        g = i.w,
                        _ = i.h;
                    else {
                        if (o = this.target.getVirtualElementAt(v),
                        !egret.is(o, "eui.UIComponent") || !o.includeInLayout)
                            continue;
                        o.data && o.stage && (o.validateNow(),
                        g = o.width,
                        _ = o.height,
                        this.setElementWH(v, g, _))
                    }
                    1 == this._orientation ? ((c += g) > e && (c = g,
                    u += p + this._gapY,
                    p = 0),
                    p = Math.max(p, _),
                    d = c - g,
                    b = u,
                    a = e,
                    s = Math.max(s, u + _),
                    u + _ > this.$target.scrollV && (m = Math.min(m, v)),
                    b - this.$target.scrollV < n && (y = Math.max(y, v)),
                    b + _ - this.$target.scrollV > 0 && b - this.$target.scrollV < n ? (o || (o = this.target.getVirtualElementAt(v)),
                    o.setLayoutBoundsPosition(d, b),
                    o.visible = !0) : o && (o.visible = !1),
                    c += this._gapX) : 2 == this._orientation && ((h += _) > n && (h = _,
                    l += f + this._gapX,
                    f = 0),
                    f = Math.max(f, g),
                    d = l,
                    b = h - _,
                    a = Math.max(a, l + g),
                    s = n,
                    l + g > this.$target.scrollH && (m = Math.min(m, v)),
                    d - this.$target.scrollH < e && (y = Math.max(y, v)),
                    d + g - this.$target.scrollH > 0 && d - this.$target.scrollH < e ? (o || (o = this.target.getVirtualElementAt(v)),
                    o.setLayoutBoundsPosition(d, b),
                    o.visible = !0) : o && (o.visible = !1),
                    h += this._gapY),
                    this.setVirtualElementIndicesInView(m, y)
                }
                this.target.setContentSize(a, s)
            }
        }
        ,
        e
    }(eui.LayoutBase);
    Object(bn.a)("CrowdLayout", Oc);
    var jc = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , wc = function(t, e) {
        this.c = t,
        this.p = e
    }
      , xc = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e._tweensLight = [],
            e._tweensBox = [],
            e._rotation = 0,
            e
        }
        return jc(e, t),
        Object.defineProperty(e.prototype, "maximum", {
            get: function() {
                return this._maximum
            },
            set: function(t) {
                this._maximum = t,
                this.pb.maximum = t
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "value", {
            get: function() {
                return this._value
            },
            set: function(t) {
                this._value = t,
                this.pb.value = t
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "tweenRotation", {
            set: function(t) {
                this._rotation = t
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "option", {
            get: function() {
                return this._option
            },
            set: function(t) {
                if (this._option != t) {
                    var e, n;
                    this._option = t,
                    this._dataList = [];
                    for (var i = 0; i < t.c.length; i++)
                        e = t.c[i].id,
                        n = t.p.find((function(t) {
                            return t.id == e
                        }
                        )),
                        this._dataList.push(new wc(t.c[i],n || {
                            id: e,
                            awded: 0
                        }));
                    this._watch && this._watch.unwatch(),
                    "object" == typeof t.progress && t.progress.hasOwnProperty("num") ? this._watch = eui.Watcher.watch(t.progress, ["num"], this.updatePro, this) : "number" != typeof t.progress && "string" != typeof t.progress || (this._watch = eui.Watcher.watch(t, ["progress"], this.updatePro, this)),
                    t.change && this.on(t.change, this.updatePro, this),
                    this.isSetSkin && this.initPro()
                }
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "progressV", {
            get: function() {
                if (this.option) {
                    var t = typeof this.option.progress;
                    if ("object" == t && this.option.progress.hasOwnProperty("num"))
                        return this.option.progress.num;
                    if ("number" == t || "string" == t)
                        return this.option.progress;
                    if ("function" == t)
                        return this.option.progress()
                }
                return 0
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.onReady = function() {
            this.initPro(),
            this.tap("gp_box", this.onBox, this),
            this.on("update_progressGet", this.updatePro, this)
        }
        ,
        e.prototype.initPro = function() {
            if (this.option) {
                this.gp_box.visible = !0,
                this.gp_part.visible = !0,
                this._maximum || (this.pb.maximum = this.option.c[this.option.c.length - 1].num),
                this.pb.value = this.progressV;
                for (var t = void 0, e = 0; e < 100 && this["lbl_proV" + e]; e++)
                    e < this.option.c.length ? (this["lbl_proV" + e].text = this.option.c[e].num,
                    t = this.pb.width / this.pb.maximum * this.option.c[e].num,
                    this["gp_num" + e].x = this["box" + e].x = t,
                    this["img_light" + e] && (this["img_light" + e].x = t)) : (this["gp_num" + e].visible = this["box" + e].visible = !1,
                    this["img_light" + e] && (this["img_light" + e].visible = !1));
                this.updatePro()
            } else
                this.gp_box.visible = !1,
                this.gp_part.visible = !1
        }
        ,
        e.prototype.updatePro = function() {
            if (this.option) {
                this.pb.value = this.progressV;
                for (var t, e, n, i = this._dataList, o = 0; o < i.length; o++)
                    t = this["box" + o],
                    e = this["img_light" + o],
                    this["box" + o] && (this["box" + o].data = i[o],
                    this["box" + o].touchChildren = !1,
                    this["box" + o].enabled = !i[o].p.awded,
                    !i[o].p.awded && i[o].c.num <= this.progressV ? (this.option.boxNoEffect || -1 == (n = this._tweensBox.indexOf(t)) && (egret.Tween.get(t, {
                        loop: !0
                    }).to({
                        rotation: this._rotation + 20
                    }, 100).to({
                        rotation: this._rotation - 20
                    }, 200).to({
                        rotation: this._rotation
                    }, 100).wait(500),
                    this._tweensBox.push(t)),
                    !this.option.lightNoEffect && e && -1 == (n = this._tweensLight.indexOf(e)) && (egret.Tween.get(e, {
                        loop: !0
                    }).to({
                        rotation: 20
                    }, 1e3),
                    this._tweensLight.push(e),
                    e.visible = !0)) : (this.option.boxNoEffect || -1 != (n = this._tweensBox.indexOf(t)) && (egret.Tween.removeTweens(this._tweensBox[n]),
                    this._tweensBox.splice(n, 1)),
                    e && (e.visible = !1,
                    this.option.lightNoEffect || -1 != (n = this._tweensLight.indexOf(e)) && (egret.Tween.removeTweens(this._tweensLight[n]),
                    this._tweensLight.splice(n, 1)))))
            }
        }
        ,
        e.prototype.onBox = function(t) {
            if (t.target.data) {
                var e = t.target.data;
                if (this.option.onBox && this.option.onBox(e),
                !e.p || !e.c)
                    return;
                this.option.request && !e.p.awded && e.c.num <= this.progressV ? Object(st.d)(this.option.request.route, {
                    id: e.p.id,
                    type: this.option.request.type
                }).then((function(t) {
                    t && (ae.b.show(t.awds, Object(o.tr)("main@getAward"), !0),
                    Object(o.put)("update_progressGet"))
                }
                )) : e.c.awards && e.c.awards.length && ae.b.show(e.c.awards, Object(o.tr)("main@prevAward"), !1)
            }
        }
        ,
        e.prototype.onExit = function() {
            for (var e = 0; e < this._tweensLight.length; e++)
                egret.Tween.removeTweens(this._tweensLight[e]);
            for (e = 0; e < this._tweensBox.length; e++)
                egret.Tween.removeTweens(this._tweensBox[e]);
            this._watch && this._watch.unwatch(),
            t.prototype.onExit.call(this)
        }
        ,
        e
    }(o.Component);
    Object(bn.a)("ProgressGetBar", xc);
    var kc = n(287)
      , Ic = n(267)
      , Pc = n(206)
      , Cc = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Sc = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            return n.option = e,
            n._numStr = "",
            n.initParams(e),
            Object(o.setSkin)(n, "BagInputSkin"),
            n
        }
        return Cc(e, t),
        e.prototype.initParams = function(t) {
            t.max && t.itemId ? this._max = Math.min(t.max, Bt.e.getNum(t.itemId)) : t.max ? this._max = t.max : t.itemId && (this._max = Bt.e.getNum(t.itemId))
        }
        ,
        e.prototype.onReady = function() {
            var t = this;
            this.option.title && this.lbl_title && (this.lbl_title.text = this.option.title),
            this.option.num && (this.input_num.text = this._numStr = "" + this.option.num),
            this.tap("gp_btn", this.onAmount, this),
            this.input_num.addEventListener(egret.Event.CHANGE, this.updateNum, this),
            this.disposeArr.push({
                dispose: function() {
                    t.input_num.removeEventListener(egret.Event.CHANGE, t.updateNum, t)
                }
            })
        }
        ,
        e.prototype.updateNum = function() {
            this._numStr = this.input_num.text,
            this.checkLimit() && (this.input_num.text = this.option.num)
        }
        ,
        e.prototype.checkLimit = function() {
            var t = !1;
            if (this._numStr = this._numStr.trim(),
            "" == this._numStr)
                return this.option.num = 0;
            var e = parseInt(this._numStr);
            if (isNaN(e))
                e = null,
                Object(o.tooltip)(Object(o.tr)("main@invalidAmount")),
                t = !0;
            else if (this._max) {
                (this.option.multiple ? e * this.option.multiple : e) > this._max && (e = this._max / (this.option.multiple || 1),
                Object(o.tooltip)(Object(o.tr)("main@amountLimit")),
                t = !0)
            }
            return this.option.num = e,
            t
        }
        ,
        e.prototype.onAmount = function(t) {
            t.target == this.btn_clean ? this.onClean() : t.target == this.btn_ok ? this.onOk() : t.target instanceof eui.Button && (this._numStr += t.target.label,
            this.input_num.text = this._numStr,
            this.checkLimit() && (this.input_num.text = this.option.num))
        }
        ,
        e.prototype.onOk = function() {
            this.num = this.option.num,
            o.UI.remove(this)
        }
        ,
        e.prototype.onClean = function() {
            this._numStr = "",
            this.input_num.text = "",
            this.option.num = 0
        }
        ,
        e.show = function(t) {
            return t || (t = {
                num: 0
            }),
            Object(te.a)(new e(t))
        }
        ,
        e
    }(o.UIComponent)
      , Rc = n(224)
      , Tc = n(281)
      , Lc = n(311)
      , Ac = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Mc = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , Nc = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , Bc = function(t) {
        function e(e) {
            var n = t.call(this, e) || this;
            return n._watch = null,
            n
        }
        return Ac(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_funOpen", this.refresh, this),
            this.refresh("openActiveTask")
        }
        ,
        e.prototype.refresh = function(t) {
            return Mc(this, void 0, void 0, (function() {
                var e, n, i, o;
                return Nc(this, (function(r) {
                    switch (r.label) {
                    case 0:
                        return "openActiveTask" != t ? [2] : [4, RES.getResAsync("openActiveTask_json")];
                    case 1:
                        return r.sent(),
                        [4, RES.getResAsync("openActiveMap_json")];
                    case 2:
                        return r.sent(),
                        e = this.name.split("_"),
                        n = -1,
                        e.length > 1 && (n = Number(e[1])),
                        i = Lc.b.isSomeRecive(n),
                        -1 == n ? (o = Lc.a.ins.hasSomeTileRecive(),
                        this.updateVisible(i || o)) : this.updateVisible(i),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.injection = function() {
            o.RedPointManager.injection(new e("活跃任务")),
            o.RedPointManager.injection(new e("活跃任务_1")),
            o.RedPointManager.injection(new e("活跃任务_2")),
            o.RedPointManager.injection(new e("活跃任务_3")),
            o.RedPointManager.injection(new e("活跃任务_4")),
            o.RedPointManager.injection(new e("活跃任务_5")),
            o.RedPointManager.injection(new e("活跃任务_6")),
            o.RedPointManager.injection(new e("活跃任务_7")),
            o.RedPointManager.injection(new Ec("活跃成就")),
            o.RedPointManager.injection(new Ec("活跃成就_0")),
            o.RedPointManager.injection(new Ec("活跃成就_1")),
            o.RedPointManager.injection(new Ec("活跃成就_2")),
            o.RedPointManager.injection(new Ec("活跃成就_3"))
        }
        ,
        e
    }(o.RedBaseRule)
      , Ec = function(t) {
        function e(e) {
            var n = t.call(this, e) || this;
            return n._watch = null,
            n
        }
        return Ac(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_funOpen", this.refresh, this),
            this.refresh("openActiveTask")
        }
        ,
        e.prototype.refresh = function(t) {
            return Mc(this, void 0, void 0, (function() {
                var e, n, i;
                return Nc(this, (function(o) {
                    switch (o.label) {
                    case 0:
                        return "openActiveTask" != t ? [2] : [4, RES.getResAsync("openActiveTask_json")];
                    case 1:
                        return o.sent(),
                        [4, RES.getResAsync("openActiveMap_json")];
                    case 2:
                        return o.sent(),
                        e = this.name.split("_"),
                        n = e.length > 1 ? Number(e[1]) : -1,
                        i = Lc.a.ins.hasSomeTileRecive(n),
                        this.updateVisible(i),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule)
      , Dc = n(289)
      , Gc = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Vc = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , Uc = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , Hc = function(t) {
        function e() {
            var e = t.call(this, "新累充奖励") || this;
            return e._watch = null,
            e._watch2 = null,
            e
        }
        return Gc(e, t),
        e.prototype.init = function() {
            o.cache.onCache("Activity.getList", this.initRefresh, this),
            this.initRefresh()
        }
        ,
        e.prototype.initRefresh = function() {
            var t = Object(g.d)("gcTotalRecharge");
            t && null == this._watch && (this._watch = eui.Watcher.watch(t, ["num"], this.refresh, this),
            this._watch2 = eui.Watcher.watch(t, ["stage"], this.refresh, this),
            this.refresh())
        }
        ,
        e.prototype.refresh = function() {
            return Vc(this, void 0, void 0, (function() {
                var t, e;
                return Uc(this, (function(n) {
                    switch (n.label) {
                    case 0:
                        return [4, RES.getResAsync("festivalActivity_json")];
                    case 1:
                        return n.sent(),
                        null == (t = Object(Dc.b)()) ? (this.updateVisible(!1),
                        [2]) : ((e = Object(g.d)("gcTotalRecharge")).stage < t.num ? this.updateVisible(e.num >= t.num) : this.updateVisible(!1),
                        [2])
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule)
      , Fc = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , zc = function(t) {
        function e() {
            return t.call(this, "仙界管家") || this
        }
        return Fc(e, t),
        e.prototype.init = function() {
            var t = this;
            this.updateView(),
            Object(o.on)("refresh_keeperRed", (function() {
                t.updateVisible(!1)
            }
            ), this)
        }
        ,
        e.prototype.updateView = function() {
            var t = Object(o.getCache)("Red.getInfo");
            this.updateVisible(Boolean(t.housetake))
        }
        ,
        e
    }(o.RedBaseRule)
      , qc = n(220)
      , Wc = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Xc = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , Yc = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , Jc = function(t) {
        function e() {
            var e = t.call(this, "登仙阁入座") || this;
            return e._watch = null,
            e
        }
        return Wc(e, t),
        e.prototype.init = function() {
            o.cache.onChange("Pavilion.getList", this.updateView, this),
            o.cache.onCache("Pavilion.getList", this.updateView, this),
            Object(o.on)("refresh_pavilionlist", this.updateView, this);
            var t = Object(o.getCache)("Red.getInfo");
            this.updateVisible(Boolean(t.pavilion)),
            this.updateView()
        }
        ,
        e.prototype.updateView = function() {
            return Xc(this, void 0, void 0, (function() {
                return Yc(this, (function(t) {
                    return Object(f.a)("lv") < 31 ? (this.updateVisible(!1),
                    [2]) : (o.cache.get("Pavilion.getList") && this.updateVisible(qc.a.ins.checkisCanDown()),
                    [2])
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule)
      , $c = function(t) {
        function e() {
            var e = t.call(this, "登仙阁技能") || this;
            return e._watch = null,
            e
        }
        return Wc(e, t),
        e.prototype.init = function() {
            o.cache.onChange("PavilionAttr.GetInfo", this.updateView, this),
            o.cache.onCache("PavilionAttr.GetInfo", this.updateView, this);
            var t = Object(o.getCache)("Red.getInfo");
            this.updateVisible(Boolean(t.pavilion)),
            this.updateView()
        }
        ,
        e.prototype.updateView = function() {
            return Xc(this, void 0, void 0, (function() {
                return Yc(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return Object(f.a)("lv") < 31 ? (this.updateVisible(!1),
                        [2]) : o.cache.get("PavilionAttr.GetInfo") ? [4, Object(D.a)("dengxianLv_json")] : [3, 3];
                    case 1:
                        return t.sent(),
                        [4, Object(D.a)("dengxianSkill_json")];
                    case 2:
                        t.sent(),
                        this.updateVisible(qc.a.ins.hasSkillCanLvUp()),
                        t.label = 3;
                    case 3:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule)
      , Kc = n(277)
      , Qc = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Zc = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , tu = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , eu = function(t) {
        function e() {
            return t.call(this, "探险行动点") || this
        }
        return Qc(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_funOpen", this.refresh, this),
            this.refresh(Kc.a.ins.actionName)
        }
        ,
        e.prototype.refresh = function(t) {
            "island" != t && "island2" != t || this.updateVisible(Kc.a.ins.canMove)
        }
        ,
        e
    }(o.RedBaseRule)
      , nu = function(t) {
        function e() {
            return t.call(this, "探险10行动点") || this
        }
        return Qc(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_funOpen", this.refresh, this),
            this.refresh(Kc.a.ins.actionName)
        }
        ,
        e.prototype.refresh = function(t) {
            "island" != t && "island2" != t || this.updateVisible(Kc.a.ins.canTenMove)
        }
        ,
        e
    }(o.RedBaseRule)
      , iu = function(t) {
        function e() {
            return t.call(this, "仙界探险任务") || this
        }
        return Qc(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_funOpen", this.refresh, this),
            this.refresh(Kc.a.ins.actionName)
        }
        ,
        e.prototype.refresh = function(t) {
            return Zc(this, void 0, void 0, (function() {
                return tu(this, (function(e) {
                    return "island" != t && "island2" != t || this.updateVisible(Kc.b.someTaskRecive()),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule)
      , ou = function(t) {
        function e() {
            return t.call(this, "仙界探险宝箱") || this
        }
        return Qc(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_funOpen", this.refresh, this),
            this.refresh(Kc.a.ins.actionName)
        }
        ,
        e.prototype.refresh = function(t) {
            return Zc(this, void 0, void 0, (function() {
                return tu(this, (function(e) {
                    return "island" != t && "island2" != t || this.updateVisible(Kc.a.ins.hasBoxRecive()),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule)
      , ru = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , au = function(t) {
        function e() {
            return t.call(this, "礼包商城") || this
        }
        return ru(e, t),
        e.prototype.init = function() {
            for (var t = this, e = [{
                act: "fridayGift",
                fly: !1
            }, {
                act: "petGift",
                fly: !1
            }, {
                act: "chShopGift",
                fly: !1
            }], n = !1, i = 0; i < e.length; i++) {
                var r = Object(g.d)(e[i].act);
                if ((0 == e[i].fly || 1 == Object(f.a)("fly")) && r && r.l)
                    if (r.l.filter((function(t) {
                        return t.num > 0
                    }
                    )).length > 0) {
                        n = !0;
                        break
                    }
            }
            this.updateVisible(n);
            var a = [];
            Object(o.on)("shopGift_click", (function() {
                t.updateVisible(!1),
                a = Object(o.dispose)(a)
            }
            ), this, a)
        }
        ,
        e
    }(o.RedBaseRule)
      , su = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , cu = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , uu = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , hu = function(t) {
        function e() {
            var e = t.call(this, "首充3日礼包") || this;
            return e.firstLogin = !0,
            e
        }
        return su(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_funOpen", this.refresh, this),
            Object(o.on)("firstRec3Open", this.onOpen, this),
            this.refresh("firstChargeGift")
        }
        ,
        e.prototype.onOpen = function() {
            this.firstLogin && (this.firstLogin = !1,
            this.refresh("firstChargeGift"))
        }
        ,
        e.prototype.refresh = function(t) {
            return cu(this, void 0, void 0, (function() {
                var e, n, i, o;
                return uu(this, (function(r) {
                    if ("firstChargeGift" != t)
                        return [2];
                    if (e = !1,
                    n = Object(g.d)(t))
                        if (0 == n.curr) {
                            if (this.firstLogin)
                                return this.updateVisible(!0),
                                [2]
                        } else
                            i = n.states.find((function(t) {
                                return t.id == n.curr
                            }
                            )),
                            o = i ? i.get : 0,
                            e = 0 == o;
                    return this.updateVisible(e),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule)
      , lu = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , pu = function(t) {
        function e() {
            return t.call(this, "邮箱绑定") || this
        }
        return lu(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_emailBind_red", this.updateView, this)
        }
        ,
        e.prototype.updateView = function() {
            var t = o.cache.get("email_bind_state");
            this.updateVisible(1 != t.bindAwd)
        }
        ,
        e
    }(o.RedBaseRule)
      , fu = function(t) {
        function e() {
            return t.call(this, "邮箱下载") || this
        }
        return lu(e, t),
        e.prototype.init = function() {
            this.updateVisible(!0)
        }
        ,
        e
    }(o.RedBaseRule);
    Object(ko.a)(),
    o.RedPointManager.injection(new Ot),
    o.RedPointManager.injection(new ft),
    o.RedPointManager.injection(new a),
    o.RedPointManager.injection(new c),
    o.RedPointManager.injection(new l),
    o.RedPointManager.injection(new p),
    o.RedPointManager.injection(new b),
    o.RedPointManager.injection(new x),
    o.RedPointManager.injection(new I),
    o.RedPointManager.injection(new B),
    o.RedPointManager.injection(new E),
    o.RedPointManager.injection(new F),
    o.RedPointManager.injection(new z),
    o.RedPointManager.injection(new q),
    o.RedPointManager.injection(new W),
    o.RedPointManager.injection(new X),
    o.RedPointManager.injection(new Y),
    o.RedPointManager.injection(new J),
    o.RedPointManager.injection(new Ut("天庭名胜")),
    o.RedPointManager.injection(new Wt),
    o.RedPointManager.injection(new o.RedPointGroup("名胜红点组","天庭名胜","名胜奖励")),
    o.RedPointManager.injection(new o.RedPointGroup("仙盟","仙盟申请","仙盟排行","仙盟建设宝箱","仙盟事务","仙盟宴会","仙盟除魔","名胜奖励","仙盟充值")),
    o.RedPointManager.injection(new k("退治个人奖励","fsScoreReward")),
    o.RedPointManager.injection(new k("退治仙盟奖励","fsScoreGuildReward")),
    o.RedPointManager.injection(new L),
    o.RedPointManager.injection(new P("节日充值福利",1)),
    o.RedPointManager.injection(new P("节日礼包福利",13)),
    o.RedPointManager.injection(new T),
    o.RedPointManager.injection(new C),
    o.RedPointManager.injection(new Ls.d("御剑累计充值","teamSwordFlyRecharge","festivalActivity_json",1)),
    o.RedPointManager.injection(new S),
    o.RedPointManager.injection(new R),
    o.RedPointManager.injection(new o.RedPointGroup("新御剑飞行","多人御剑飞行","多人御剑队伍信息","御剑累计充值")),
    o.RedPointManager.injection(new o.RedPointGroup("御剑","新御剑飞行")),
    o.RedPointManager.injection(new o.RedPointGroup("退治奖励","退治个人奖励","退治仙盟奖励")),
    o.RedPointManager.injection(new o.RedPointGroup("节日活动","退治个人奖励","退治仙盟奖励","节日任务","节日体力","节日礼包福利","节日福利")),
    o.RedPointManager.injection(new o.RedPointGroup("节日任务入口","节日任务","节日礼包福利")),
    o.RedPointManager.injection(new K),
    o.RedPointManager.injection(new et),
    o.RedPointManager.injection(new it),
    o.RedPointManager.injection(new rt),
    o.RedPointManager.injection(new Tt),
    o.RedPointManager.injection(new Lt),
    o.RedPointManager.injection(new lt),
    o.RedPointManager.injection(new kt),
    o.RedPointManager.injection(new zc),
    o.RedPointManager.injection(new Vt("招募弟子")),
    o.RedPointManager.injection(new Vt("弟子俸禄")),
    o.RedPointManager.injection(new Vt("弟子护法")),
    o.RedPointManager.injection(new Vt("弟子答疑")),
    o.RedPointManager.injection(new Vt("弟子训话")),
    o.RedPointManager.injection(new Vt("弟子传功")),
    o.RedPointManager.injection(new Vt("门派思道")),
    o.RedPointManager.injection(new Vt("门派修体")),
    o.RedPointManager.injection(new Ut("门派赐福")),
    o.RedPointManager.injection(new Ut("门派传道")),
    o.RedPointManager.injection(new o.RedPointGroup("思道修体","门派思道","门派修体")),
    o.RedPointManager.injection(new o.RedPointGroup("门派大厅","招募弟子","弟子俸禄","弟子护法","弟子答疑","弟子训话","弟子传功","门派赐福","门派传道","门派思道","门派修体")),
    o.RedPointManager.injection(new o.RedPointGroup("历练","参加历练","历练完成")),
    o.RedPointManager.injection(new o.RedPointGroup("门派","历练完成","招募弟子","弟子训话","门派思道","门派修体")),
    o.RedPointManager.injection(new o.RedPointGroup("仙都","四方神木","仙仆论道","太古遗迹","演武挑战")),
    o.RedPointManager.injection(new o.RedVisitRule("本服冲榜礼包","benfuGift")),
    o.RedPointManager.injection(new o.RedVisitRule("跨服冲榜礼包","kuafuGift")),
    o.RedPointManager.injection(new at.h("累计充值","fsTotalRecharge","festivalActivity_json")),
    o.RedPointManager.injection(new at.h("每日充值","fsDailyRecharge","festivalActivity_json")),
    o.RedPointManager.injection(new at.h("累天充值","fsRechargeDay","festivalActivity_json")),
    o.RedPointManager.injection(new o.RedPointGroup("仙道回馈","累计充值","每日充值","累天充值")),
    o.RedPointManager.injection(new at.l),
    o.RedPointManager.injection(new at.m),
    o.RedPointManager.injection(new at.n("密藏回馈累充","1")),
    o.RedPointManager.injection(new at.n("密藏回馈抽奖","2")),
    o.RedPointManager.injection(new o.RedPointGroup("密藏回馈","密藏回馈累充","密藏回馈抽奖")),
    o.RedPointManager.injection(new o.RedPointGroup("玲珑宝藏","玲珑宝藏钥匙","密藏回馈")),
    o.RedPointManager.injection(new Jt),
    o.RedPointManager.injection(new $t),
    o.RedPointManager.injection(new at.c),
    o.RedPointManager.injection(new at.a),
    o.RedPointManager.injection(new at.b("蓬莱限定连充1","1")),
    o.RedPointManager.injection(new at.b("蓬莱限定连充2","2")),
    o.RedPointManager.injection(new at.b("蓬莱限定连充3","3")),
    o.RedPointManager.injection(new at.b("蓬莱限定连充4","4")),
    o.RedPointManager.injection(new at.b("蓬莱限定连充5","5")),
    o.RedPointManager.injection(new o.RedPointGroup("蓬莱限定连充","蓬莱限定连充1","蓬莱限定连充2","蓬莱限定连充3","蓬莱限定连充4","蓬莱限定连充5")),
    o.RedPointManager.injection(new o.RedPointGroup("蓬莱飞舟","蓬莱累计充值","每日返利")),
    o.RedPointManager.injection(new eu),
    o.RedPointManager.injection(new nu),
    o.RedPointManager.injection(new iu),
    o.RedPointManager.injection(new ou),
    o.RedPointManager.injection(new o.RedPointGroup("仙界探险","探险行动点","仙界探险任务","仙界探险宝箱")),
    o.RedPointManager.injection(new Hc),
    o.RedPointManager.injection(new pu),
    o.RedPointManager.injection(new fu),
    o.RedPointManager.injection(new Jc),
    o.RedPointManager.injection(new $c),
    o.RedPointManager.injection(new o.RedPointGroup("登仙阁","登仙阁入座","登仙阁技能")),
    o.RedPointManager.injection(new hu),
    Bc.injection(),
    o.RedPointManager.injection(new at.i("道友召回","recallNum")),
    o.RedPointManager.injection(new at.i("回归登录有礼","returnLogin")),
    o.RedPointManager.injection(new at.j("回归进阶第1日奖励","1")),
    o.RedPointManager.injection(new at.j("回归进阶第2日奖励","2")),
    o.RedPointManager.injection(new at.j("回归进阶第3日奖励","3")),
    o.RedPointManager.injection(new at.j("回归进阶第5日奖励","5")),
    o.RedPointManager.injection(new at.j("回归进阶第7日奖励","7")),
    o.RedPointManager.injection(new at.k),
    o.RedPointManager.injection(new o.RedPointGroup("回归进阶奖励","回归进阶活跃奖励","回归进阶第1日奖励","回归进阶第2日奖励","回归进阶第3日奖励","回归进阶第5日奖励","回归进阶第7日奖励")),
    o.RedPointManager.injection(new o.RedPointGroup("回归有礼","回归登录有礼","回归进阶奖励")),
    o.RedPointManager.injection(new eu),
    o.RedPointManager.injection(new au),
    o.RedPointManager.injection(new Qt),
    o.RedPointManager.injection(new Ls.d("仙山奖励","mtScoreReward","festivalActivity_mountain_json",1)),
    o.RedPointManager.injection(new Ct)
}
, function(t, e, n) {
    "use strict";
    n.r(e),
    n.d(e, "Main", (function() {
        return gt
    }
    )),
    n.d(e, "BJPlatform", (function() {
        return _t.c
    }
    )),
    n.d(e, "AccountPlatform", (function() {
        return _t.a
    }
    )),
    n.d(e, "MengqiPlatform", (function() {
        return _t.f
    }
    )),
    n.d(e, "ModoPlatform", (function() {
        return _t.g
    }
    )),
    n.d(e, "CatPlatform", (function() {
        return _t.d
    }
    )),
    n.d(e, "CatRunPlatform", (function() {
        return _t.e
    }
    )),
    n.d(e, "catVideoAdvert", (function() {
        return _t.k
    }
    )),
    n.d(e, "initPlatform", (function() {
        return _t.l
    }
    )),
    n.d(e, "AwyPlatform", (function() {
        return _t.b
    }
    )),
    n.d(e, "ModoXyxPlatform", (function() {
        return _t.h
    }
    )),
    n.d(e, "QQMiniPlatform", (function() {
        return _t.i
    }
    )),
    n.d(e, "TiktokPlatform", (function() {
        return _t.j
    }
    )),
    n.d(e, "InjectUIComponent", (function() {
        return mt.a
    }
    )),
    n.d(e, "injectUI", (function() {
        return mt.c
    }
    )),
    n.d(e, "checkImg", (function() {
        return mt.b
    }
    ));
    var i = function(t, e) {
        var n = new egret.SpriteSheet(t);
        for (var i in e) {
            var o = e[i]
              , r = n.createTexture(i, o.x, o.y, o.w, o.h, o.offX, o.offY, o.sourceW, o.sourceH);
            if (o.scale9grid) {
                var a = o.scale9grid.split(",");
                r.scale9Grid = new egret.Rectangle(parseInt(a[0]),parseInt(a[1]),parseInt(a[2]),parseInt(a[3]))
            }
        }
        return n
    }
      , o = {
        onLoadStart: function(t, e) {
            return t.load(e, "json").then((function(n) {
                var o = n[e.name].file
                  , r = t.resourceConfig.getResource(RES.nameSelector(o));
                if (console.log(r),
                !r) {
                    var a = RES.processor.getRelativePath(e.url, o);
                    r = {
                        name: a,
                        url: a,
                        type: "image",
                        root: e.root
                    }
                }
                return t.load(r).then((function(o) {
                    var a = n[e.name].frames
                      , s = i(o, a);
                    for (var c in s.$resourceInfo = r,
                    s.$sheets = [],
                    s.$sheetMap = {},
                    s.$data = n,
                    s.$fontMap = {},
                    s.$image = {},
                    t.save(r, o),
                    n)
                        if (c != e.name && c.indexOf("_") > -1) {
                            var u = n[c];
                            if (n.fnt.indexOf(c) > -1)
                                if ("string" == typeof u) {
                                    var h = /file=\"([^\"]+?)\"/gi.exec(u)
                                      , l = s.getTexture(RES.nameSelector(h[1]))
                                      , p = new egret.BitmapFont(l,u);
                                    s.$fontMap[c] = p,
                                    t.resourceConfig.addSubkey(c, e.name)
                                } else {
                                    l = s.getTexture(RES.nameSelector(u.file)),
                                    p = new egret.BitmapFont(l,u);
                                    s.$fontMap[c] = p,
                                    t.resourceConfig.addSubkey(c, e.name)
                                }
                            else if (n.sheet.indexOf(c) > -1) {
                                l = s.getTexture(RES.nameSelector(u.file));
                                var f = i(l, u.frames);
                                for (var d in s.$sheets.push(f),
                                u.frames)
                                    s.$sheetMap[d] = f,
                                    t.resourceConfig.addSubkey(d, e.name)
                            } else if (c.indexOf("_tex_json") > -1) {
                                t.resourceConfig.addSubkey(c, e.name);
                                var b = RES.nameSelector(u.imagePath);
                                l = s.getTexture(b);
                                s.$image[b] = l,
                                t.resourceConfig.addSubkey(b, e.name)
                            } else if (n.movieclip.indexOf(c) > -1 || n.mc.indexOf(c) > -1) {
                                b = c.replace("_json", "_png"),
                                l = s.getTexture(b);
                                s.$image[b] = l,
                                t.resourceConfig.addSubkey(b, e.name),
                                t.resourceConfig.addSubkey(c, e.name),
                                s.$data[c] = new egret.MovieClipDataFactory(u,l)
                            } else
                                t.resourceConfig.addSubkey(c, e.name)
                        }
                    return s
                }
                ), (function(e) {
                    throw t.remove(r),
                    e
                }
                ))
            }
            ))
        },
        getData: function(t, e, n, i) {
            var o = t.get(e);
            return o ? o.$sheetMap[i] ? o.$sheetMap[i].getTexture(i) : o.$fontMap[i] ? o.$fontMap[i] : o.$data[i] ? o.$data[i] : o.getTexture(i) : null
        },
        onRemoveStart: function(t, e) {
            var n = t.get(e)
              , i = n.$resourceInfo;
            return n.dispose(),
            t.unload(i),
            Promise.resolve()
        }
    }
      , r = n(1)
      , a = n(154)
      , s = n(177);
    var c = n(0);
    function u(t) {
        if (t) {
            var e = t.message + "\nSTACK:" + t.stack;
            return t.info && (e += "\nINFO:" + t.info),
            e
        }
        return "unknown error"
    }
    var h = n(111)
      , l = function(t) {
        __extends(n, t);
        var e = function(t) {
            function e() {
                t.call(this),
                this.skinParts = ["thumb"],
                this.elementsContent = [this._Image1_i(), this.thumb_i()]
            }
            __extends(e, t);
            var n = e.prototype;
            return n._Image1_i = function() {
                var t = new eui.Image;
                return t.horizontalCenter = 0,
                t.source = "progress_login_bg_png",
                t.verticalCenter = 0,
                t
            }
            ,
            n.thumb_i = function() {
                var t = new eui.Image;
                return this.thumb = t,
                t.horizontalCenter = -25,
                t.source = "progress_login_bar_png",
                t.verticalCenter = -5,
                t
            }
            ,
            e
        }(eui.Skin);
        function n() {
            t.call(this),
            this.skinParts = ["bg", "animeNode", "logo", "progress", "loadingShape", "loadingLabel", "copyrightText", "commonBg2", "yuenanban", "hanyuban"],
            this.height = 1334,
            this.width = 750,
            this.elementsContent = [this.bg_i(), this.animeNode_i(), this.logo_i(), this.progress_i(), this.loadingShape_i(), this.loadingLabel_i(), this.commonBg2_i(), this.yuenanban_i(), this.hanyuban_i()]
        }
        var i = n.prototype;
        return i.bg_i = function() {
            var t = new eui.Image;
            return this.bg = t,
            t.horizontalCenter = 0,
            t.source = "bg_login_2_jpg",
            t.verticalCenter = 0,
            t
        }
        ,
        i.animeNode_i = function() {
            var t = new eui.Group;
            return this.animeNode = t,
            t.horizontalCenter = 0,
            t.verticalCenter = 0,
            t
        }
        ,
        i.logo_i = function() {
            var t = new eui.Image;
            return this.logo = t,
            t.horizontalCenter = 0,
            t.source = "",
            t.top = 82,
            t
        }
        ,
        i.progress_i = function() {
            var t = new eui.ProgressBar;
            return this.progress = t,
            t.bottom = 240,
            t.horizontalCenter = 0,
            t.maximum = 100,
            t.value = 0,
            t.skinName = e,
            t
        }
        ,
        i.loadingShape_i = function() {
            var t = new eui.Image;
            return this.loadingShape = t,
            t.anchorOffsetX = 36,
            t.anchorOffsetY = 36,
            t.horizontalCenter = 1,
            t.name = "loadingShape",
            t.scaleX = .7,
            t.scaleY = .7,
            t.source = "shape_loading_png",
            t.verticalCenter = 351,
            t
        }
        ,
        i.loadingLabel_i = function() {
            var t = new solar.Label;
            return this.loadingLabel = t,
            t.bold = !0,
            t.bottom = 207,
            t.fontFamily = "黑体",
            t.horizontalCenter = 0,
            t.size = 20,
            t.text = "Label",
            t.wordWrap = !0,
            t
        }
        ,
        i.commonBg2_i = function() {
            var t = new eui.Group;
            return this.commonBg2 = t,
            t.bottom = 0,
            t.horizontalCenter = 0,
            t.width = 750,
            t.elementsContent = [this.copyrightText_i()],
            t
        }
        ,
        i.copyrightText_i = function() {
            var t = new solar.Label;
            return this.copyrightText = t,
            t.bottom = 8,
            t.fontFamily = "黑体",
            t.horizontalCenter = 0,
            t.lineSpacing = 4,
            t.size = 14,
            t.text = "Label",
            t.top = 8,
            t.wordWrap = !0,
            t
        }
        ,
        i.yuenanban_i = function() {
            var t = new eui.Image;
            return this.yuenanban = t,
            t.anchorOffsetX = 0,
            t.anchorOffsetY = 0,
            t.height = 157.04,
            t.left = 15,
            t.source = "icon_ban18_png",
            t.top = 11,
            t.visible = !1,
            t.width = 183.87,
            t
        }
        ,
        i.hanyuban_i = function() {
            var t = new eui.Image;
            return this.hanyuban = t,
            t.anchorOffsetX = 0,
            t.anchorOffsetY = 0,
            t.height = 106,
            t.source = "icon_logorule_png",
            t.visible = !1,
            t.width = 114,
            t.x = 607,
            t.y = 1187,
            t
        }
        ,
        n
    }(eui.Skin);
    function p(t) {
        t.commonBg2.visible = !0;
        var e = Object(r.tr)("common@copyright")
          , n = Object(r.getPlatform)().name;
        if ("gcatmlHtml" == n ? e += "\n著作权人：武汉择天文化传媒有限公司    出版单位：华中科技大学电子音像出版社\n批准文号：国新出审[2020]709号  出版物号：ISBN 978-7-498-07590-1 \n软著登记号：2018SR490526" : Object(r.getOption)("baibao") ? e = "" : "awy" == n ? e += "\n著作权人：咸宁方片互动网络有限公司    出版单位：杭州润趣科技有限公司\n批准文号：国新出审[2019]82号  出版物号：ISBN 978-7-498-05677-1" : "gcat" == n ? e += "\n软著登记号：2018SR227865  出版单位  成都盈众九州网络科技有限公司\n批准文号：国新出审[2019]793号  出版物号 ：ISBN 978-7-498-06180-5" : "xiaoyouxi" != n && "modoxyx" != n || (e += "\n批准文号：国新出审[2019]82号  出版物号：ISBN 978-7-498-05677-1"),
        "awy" == n && (e += "\n适龄提示：本游戏适合18周岁以上者参与"),
        t.copyrightText.text = e,
        "zh_hant" == Object(r.getLocaleType)()) {
            var i = new eui.Image("icon_pubianji_jpg");
            i.width = i.height = 80,
            i.bottom = 8,
            i.right = 8,
            t.addChild(i)
        }
        Object(a.f)(t.commonBg2)
    }
    var f, d = n(124), b = n(257), g = n(130), _ = n(134), m = n(137), y = (f = function(t, e) {
        return (f = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        f(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), v = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.__fullui = !0,
            e.skinName = l,
            e
        }
        return y(e, t),
        e.prototype.onExit = function() {
            egret.Tween.removeTweens(this.loadingShape)
        }
        ,
        e.prototype.onReady = function() {
            for (var t = [], e = 0; e < arguments.length; e++)
                t[e] = arguments[e];
            if (r.is.web())
                try {
                    var n = Object(r.getPlatform)().name;
                    "gcatmlHtml" != n && (document.body.style.backgroundImage = "url()")
                } catch (t) {}
            this.loadingShape.visible = !1,
            this.progress.visible = !1,
            g.b.isOpen("loadingBar") ? this.progress.visible = !0 : (this.loadingShape.visible = !1,
            this.loadingLabel.visible = !1,
            egret.Tween.get(this.loadingShape, {
                loop: !0
            }).to({
                rotation: 360
            }, 1200)),
            this.progress.maximum = 100,
            this.progress.value = 0,
            this.bg.source = Object(b.a)(),
            this.logo.source = Object(b.c)(),
            this.logo.visible = !Object(r.getOption)("noLogo"),
            this.loadingLabel.textFlow = (new egret.HtmlTextParser).parse(Object(r.tr)("common@loadTip")),
            Object(_.a)("loaded_0"),
            p(this);
            var i = Object(m.d)();
            "vi_vn" == i ? this.yuenanban.visible = !0 : "ko_kr" == i && (this.hanyuban.visible = !0)
        }
        ,
        e.prototype.onProgress = function(t, e, n) {
            this.progress.maximum = e,
            this.progress.value = t,
            t == Math.ceil(e / 2) ? Object(_.a)("loaded_middle") : t == e && Object(_.a)("loaded_100")
        }
        ,
        e
    }(r.UIComponent);
    var O = n(125)
      , j = n(107)
      , w = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , x = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e._delayLoad = 0,
            e
        }
        return w(e, t),
        e.prototype.$onAddToStage = function(e, n) {
            t.prototype.$onAddToStage.call(this, e, n),
            this.checkSource()
        }
        ,
        Object.defineProperty(e.prototype, "realSource", {
            get: function() {
                return this._realSource
            },
            set: function(t) {
                this._realSource = t,
                this.checkSource()
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "delayLoad", {
            get: function() {
                return this._delayLoad
            },
            set: function(t) {
                this._delayLoad = t
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.update = function(t, e) {
            RES.getRes(t) ? this.source = t : (this.source = e,
            this._realSource = t,
            this.checkSource())
        }
        ,
        e.prototype.checkSource = function() {
            var t = this;
            if (this._realSource && this.stage) {
                var e = RES.getRes(this._realSource);
                if (e)
                    this.source = e;
                else {
                    var n = function() {
                        RES.getResAsync(t._realSource, (function(e) {
                            t.source = e
                        }
                        ), t)
                    };
                    this._delayLoad > 0 ? egret.setTimeout(n, this, this._delayLoad) : n()
                }
            }
        }
        ,
        e
    }(eui.Image);
    Object(d.a)("LazyImage", x);
    var k = n(108)
      , I = function(t) {
        __extends(i, t);
        var e = function(t) {
            function e() {
                t.call(this),
                this.skinParts = ["servicePoint", "serviceName"],
                this.elementsContent = [this._Image1_i(), this.servicePoint_i(), this.serviceName_i()]
            }
            __extends(e, t);
            var n = e.prototype;
            return n._Image1_i = function() {
                var t = new eui.Image;
                return t.source = "bg_service_png",
                t
            }
            ,
            n.servicePoint_i = function() {
                var t = new eui.Image;
                return this.servicePoint = t,
                t.left = 20,
                t.source = "icon_service_smooth_png",
                t.verticalCenter = 0,
                t
            }
            ,
            n.serviceName_i = function() {
                var t = new solar.Label;
                return this.serviceName = t,
                t.fontFamily = "黑体",
                t.horizontalCenter = 20,
                t.size = 24,
                t.text = "@十七区  上清",
                t.textColor = 4216408,
                t.verticalCenter = 0,
                t.wordWrap = !0,
                t
            }
            ,
            e
        }(eui.Skin)
          , n = function(t) {
            function e() {
                t.call(this),
                this.skinParts = ["servicePoint", "serviceName"],
                this.elementsContent = [this._Image1_i(), this.servicePoint_i(), this.serviceName_i()]
            }
            __extends(e, t);
            var n = e.prototype;
            return n._Image1_i = function() {
                var t = new eui.Image;
                return t.source = "bg_service_png",
                t
            }
            ,
            n.servicePoint_i = function() {
                var t = new eui.Image;
                return this.servicePoint = t,
                t.left = 20,
                t.source = "icon_service_smooth_png",
                t.verticalCenter = 0,
                t
            }
            ,
            n.serviceName_i = function() {
                var t = new solar.Label;
                return this.serviceName = t,
                t.fontFamily = "黑体",
                t.horizontalCenter = 20,
                t.size = 24,
                t.text = "@十七区  上清",
                t.textColor = 4216408,
                t.verticalCenter = 0,
                t.wordWrap = !0,
                t
            }
            ,
            e
        }(eui.Skin);
        function i() {
            t.call(this),
            this.skinParts = ["rect", "currentServer", "selectServer", "serviceList_1", "serviceList_2", "close", "contentNode"],
            this.height = 1334,
            this.width = 750,
            this.elementsContent = [this.rect_i(), this.contentNode_i()]
        }
        var o = i.prototype;
        return o.rect_i = function() {
            var t = new eui.Image;
            return this.rect = t,
            t.bottom = 0,
            t.left = 2,
            t.right = -2,
            t.source = "bg_common_rect_png",
            t.top = 0,
            t
        }
        ,
        o.contentNode_i = function() {
            var t = new eui.Group;
            return this.contentNode = t,
            t.horizontalCenter = 0,
            t.verticalCenter = 0,
            t.elementsContent = [this._Group2_i(), this._Image3_i(), this._Image4_i(), this._Image5_i(), this._Image6_i(), this._Image7_i(), this._Image8_i(), this._Image9_i(), this.currentServer_i(), this.selectServer_i(), this._Scroller1_i(), this._Scroller2_i(), this.close_i(), this._Group6_i()],
            t
        }
        ,
        o._Group2_i = function() {
            var t = new eui.Group;
            return t.horizontalCenter = 0,
            t.top = -61,
            t.elementsContent = [this._Image1_i(), this._Group1_i()],
            t
        }
        ,
        o._Image1_i = function() {
            var t = new eui.Image;
            return t.left = 0,
            t.right = 0,
            t.scale9Grid = new egret.Rectangle(89,3,538,22),
            t.scaleX = 1,
            t.scaleY = 1,
            t.source = "img_common_title_1_2_png",
            t.y = 37,
            t
        }
        ,
        o._Group1_i = function() {
            var t = new eui.Group;
            return t.horizontalCenter = 0,
            t.scaleX = 1,
            t.scaleY = 1,
            t.x = 148,
            t.y = 0,
            t.elementsContent = [this._Image2_i(), this._Label1_i()],
            t
        }
        ,
        o._Image2_i = function() {
            var t = new eui.Image;
            return t.left = -86,
            t.right = -86,
            t.source = "img_common_title_1_png",
            t.y = 0,
            t
        }
        ,
        o._Label1_i = function() {
            var t = new solar.Label;
            return t.fontFamily = "黑体",
            t.horizontalCenter = 0,
            t.size = 28,
            t.text = "选择区服",
            t.textColor = 16773325,
            t.top = 9,
            t.wordWrap = !0,
            t
        }
        ,
        o._Image3_i = function() {
            var t = new eui.Image;
            return t.height = 830,
            t.horizontalCenter = 0,
            t.scale9Grid = new egret.Rectangle(243,58,41,29),
            t.source = "bg_common_panel_1_png",
            t.verticalCenter = 0,
            t
        }
        ,
        o._Image4_i = function() {
            var t = new eui.Image;
            return t.bottom = -25,
            t.horizontalCenter = 0,
            t.source = "img_common_bottom_1_png",
            t
        }
        ,
        o._Image5_i = function() {
            var t = new eui.Image;
            return t.horizontalCenter = .5,
            t.source = "img_common_title_1_png",
            t.y = -63.63,
            t
        }
        ,
        o._Image6_i = function() {
            var t = new eui.Image;
            return t.anchorOffsetY = 0,
            t.height = 267.33,
            t.horizontalCenter = 0,
            t.scale9Grid = new egret.Rectangle(36,36,36,36),
            t.source = "bg_common_frame_1_png",
            t.verticalCenter = -221.5,
            t.width = 650,
            t
        }
        ,
        o._Image7_i = function() {
            var t = new eui.Image;
            return t.anchorOffsetY = 0,
            t.height = 461,
            t.horizontalCenter = 0,
            t.scale9Grid = new egret.Rectangle(36,36,36,36),
            t.source = "bg_common_frame_1_png",
            t.verticalCenter = 146.5,
            t.width = 650,
            t
        }
        ,
        o._Image8_i = function() {
            var t = new eui.Image;
            return t.horizontalCenter = .5,
            t.source = "img_xianmeng_title_1_png",
            t.y = 75.57,
            t
        }
        ,
        o._Image9_i = function() {
            var t = new eui.Image;
            return t.horizontalCenter = .5,
            t.source = "img_xianmeng_title_1_png",
            t.y = 344.87,
            t
        }
        ,
        o.currentServer_i = function() {
            var t = new solar.Label;
            return this.currentServer = t,
            t.fontFamily = "楷体",
            t.horizontalCenter = 0,
            t.size = 28,
            t.text = "最近登录",
            t.textColor = 2042933,
            t.verticalCenter = -317,
            t.wordWrap = !0,
            t
        }
        ,
        o.selectServer_i = function() {
            var t = new solar.Label;
            return this.selectServer = t,
            t.fontFamily = "楷体",
            t.horizontalCenter = 0,
            t.size = 28,
            t.text = "所有区服",
            t.textColor = 2042933,
            t.verticalCenter = -48,
            t.wordWrap = !0,
            t
        }
        ,
        o._Scroller1_i = function() {
            var t = new eui.Scroller;
            return t.height = 170,
            t.horizontalCenter = .5,
            t.verticalCenter = -195,
            t.viewport = this.serviceList_1_i(),
            t
        }
        ,
        o.serviceList_1_i = function() {
            var t = new solar.List;
            return this.serviceList_1 = t,
            t.itemRendererSkinName = e,
            t.layout = this._TileLayout1_i(),
            t
        }
        ,
        o._TileLayout1_i = function() {
            var t = new eui.TileLayout;
            return t.horizontalGap = 15,
            t.paddingBottom = 10,
            t.paddingLeft = 10,
            t.paddingRight = 10,
            t.paddingTop = 10,
            t.requestedColumnCount = 2,
            t.verticalGap = 15,
            t
        }
        ,
        o._Scroller2_i = function() {
            var t = new eui.Scroller;
            return t.height = 370,
            t.horizontalCenter = 0,
            t.verticalCenter = 167,
            t.viewport = this.serviceList_2_i(),
            t
        }
        ,
        o.serviceList_2_i = function() {
            var t = new solar.List;
            return this.serviceList_2 = t,
            t.itemRendererSkinName = n,
            t.layout = this._TileLayout2_i(),
            t
        }
        ,
        o._TileLayout2_i = function() {
            var t = new eui.TileLayout;
            return t.horizontalGap = 18,
            t.paddingBottom = 10,
            t.paddingLeft = 10,
            t.paddingRight = 10,
            t.paddingTop = 10,
            t.requestedColumnCount = 2,
            t.verticalGap = 15,
            t
        }
        ,
        o.close_i = function() {
            var t = new solar.Button;
            return this.close = t,
            t.notice = "common.close",
            t.skinName = "BtnClose1Skin",
            t.x = 619.91,
            t.y = -174.21,
            t
        }
        ,
        o._Group6_i = function() {
            var t = new eui.Group;
            return t.x = 59,
            t.y = 18,
            t.layout = this._HorizontalLayout4_i(),
            t.elementsContent = [this._Group3_i(), this._Group4_i(), this._Group5_i()],
            t
        }
        ,
        o._HorizontalLayout4_i = function() {
            var t = new eui.HorizontalLayout;
            return t.gap = 20,
            t
        }
        ,
        o._Group3_i = function() {
            var t = new eui.Group;
            return t.x = 0,
            t.y = 0,
            t.layout = this._HorizontalLayout1_i(),
            t.elementsContent = [this._Image10_i(), this._Label2_i()],
            t
        }
        ,
        o._HorizontalLayout1_i = function() {
            var t = new eui.HorizontalLayout;
            return t.gap = 3,
            t.verticalAlign = "middle",
            t
        }
        ,
        o._Image10_i = function() {
            var t = new eui.Image;
            return t.source = "icon_service_hot_png",
            t.x = 0,
            t.y = 0,
            t
        }
        ,
        o._Label2_i = function() {
            var t = new solar.Label;
            return t.fontFamily = "黑体",
            t.size = 22,
            t.text = "爆满",
            t.textColor = 16775400,
            t.wordWrap = !0,
            t.x = 32,
            t.y = 5,
            t
        }
        ,
        o._Group4_i = function() {
            var t = new eui.Group;
            return t.x = 10,
            t.y = 10,
            t.layout = this._HorizontalLayout2_i(),
            t.elementsContent = [this._Image11_i(), this._Label3_i()],
            t
        }
        ,
        o._HorizontalLayout2_i = function() {
            var t = new eui.HorizontalLayout;
            return t.gap = 3,
            t.verticalAlign = "middle",
            t
        }
        ,
        o._Image11_i = function() {
            var t = new eui.Image;
            return t.source = "icon_service_smooth_png",
            t.x = 0,
            t.y = 0,
            t
        }
        ,
        o._Label3_i = function() {
            var t = new solar.Label;
            return t.fontFamily = "黑体",
            t.size = 22,
            t.text = "正常",
            t.textColor = 16775400,
            t.wordWrap = !0,
            t.x = 32,
            t.y = 5,
            t
        }
        ,
        o._Group5_i = function() {
            var t = new eui.Group;
            return t.x = 20,
            t.y = 20,
            t.layout = this._HorizontalLayout3_i(),
            t.elementsContent = [this._Image12_i(), this._Label4_i()],
            t
        }
        ,
        o._HorizontalLayout3_i = function() {
            var t = new eui.HorizontalLayout;
            return t.gap = 3,
            t.verticalAlign = "middle",
            t
        }
        ,
        o._Image12_i = function() {
            var t = new eui.Image;
            return t.source = "icon_service_close_png",
            t.x = 0,
            t.y = 0,
            t
        }
        ,
        o._Label4_i = function() {
            var t = new solar.Label;
            return t.fontFamily = "黑体",
            t.size = 22,
            t.text = "维护",
            t.textColor = 16775400,
            t.wordWrap = !0,
            t.x = 32,
            t.y = 5,
            t
        }
        ,
        i
    }(eui.Skin)
      , P = n(306)
      , C = n(115)
      , S = n(113)
      , R = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , T = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return R(e, t),
        e.prototype.onDataUpdate = function(t, e) {
            t && (Object(P.a)(this.servicePoint, t.t),
            this.serviceName.text = t.name)
        }
        ,
        e
    }(r.Item)
      , L = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.skinName = I,
            e
        }
        return R(e, t),
        e.prototype.onReady = function() {
            for (var t = this, e = [], n = 0; n < arguments.length; n++)
                e[n] = arguments[n];
            console.log("=====server====="),
            Object(r.getPlatComp)("phase").phase("server"),
            this.on("server.tap", this.onTap, this),
            this.tap("close", (function() {
                return r.UI.remove(t)
            }
            ), this),
            this.currentServer.text = Object(r.tr)("common@currentServer"),
            this.selectServer.text = Object(r.tr)("common@selectServer");
            var i = this.serviceList_2;
            i.itemRenderer = T,
            i.itemNotice = "server.tap",
            Object(k.a)(i, Object(a.a)().serverInfo.getAreaList(null)),
            (i = this.serviceList_1).itemRenderer = T,
            i.itemNotice = "server.tap",
            Object(k.a)(i, Object(a.a)().serverInfo.getAreaList({
                type: 0
            }))
        }
        ,
        e.prototype.onTap = function(t) {
            t.sId == Object(S.a)("sId") ? r.UI.remove(this) : Object(r.confirm)(Object(r.tr)("main@changeServer")).then((function(e) {
                "yes" == e && (Object(C.F)(t.sId),
                Object(r.getPlatComp)("reload").reload())
            }
            ))
        }
        ,
        e
    }(r.UIComponent)
      , A = n(158)
      , M = function(t) {
        __extends(o, t);
        var e = function(t) {
            function e() {
                t.call(this),
                this.skinParts = [],
                this.elementsContent = [this._Image1_i()],
                this.states = [new eui.State("up",[]), new eui.State("down",[new eui.SetProperty("_Image1","scaleX",.9), new eui.SetProperty("_Image1","scaleY",.9)]), new eui.State("disabled",[])]
            }
            return __extends(e, t),
            e.prototype._Image1_i = function() {
                var t = new eui.Image;
                return this._Image1 = t,
                t.horizontalCenter = 0,
                t.source = "btn_close_1_png",
                t.verticalCenter = 0,
                t
            }
            ,
            e
        }(eui.Skin)
          , n = function(t) {
            function e() {
                t.call(this),
                this.skinParts = ["labelDisplay"],
                this.height = 74,
                this.width = 230,
                this.elementsContent = [this._Image1_i(), this.labelDisplay_i()]
            }
            __extends(e, t);
            var n = e.prototype;
            return n._Image1_i = function() {
                var t = new eui.Image;
                return t.horizontalCenter = 0,
                t.source = "btn_blue_1_png",
                t.verticalCenter = 0,
                t
            }
            ,
            n.labelDisplay_i = function() {
                var t = new solar.Label;
                return this.labelDisplay = t,
                t.horizontalCenter = 0,
                t.size = 30,
                t.text = "Label",
                t.textColor = 5200233,
                t.verticalCenter = 0,
                t.wordWrap = !0,
                t
            }
            ,
            e
        }(eui.Skin)
          , i = function(t) {
            function e() {
                t.call(this),
                this.skinParts = ["labelDisplay"],
                this.height = 74,
                this.width = 230,
                this.elementsContent = [this._Image1_i(), this.labelDisplay_i()]
            }
            __extends(e, t);
            var n = e.prototype;
            return n._Image1_i = function() {
                var t = new eui.Image;
                return t.horizontalCenter = 0,
                t.source = "btn_yellow_1_png",
                t.verticalCenter = 0,
                t
            }
            ,
            n.labelDisplay_i = function() {
                var t = new solar.Label;
                return this.labelDisplay = t,
                t.horizontalCenter = 0,
                t.size = 30,
                t.text = "Label",
                t.textColor = 5200233,
                t.verticalCenter = 0,
                t.wordWrap = !0,
                t
            }
            ,
            e
        }(eui.Skin);
        function o() {
            t.call(this),
            this.skinParts = ["rect2", "closeBtn", "lbl_title", "textLabel", "noBtn", "yesBtn", "contentNode"],
            this.height = 1334,
            this.width = 750,
            this.elementsContent = [this.rect2_i(), this.contentNode_i()],
            eui.Binding.$bindProperties(this, ["hostComponent.data.showClose"], [0], this.closeBtn, "visible"),
            eui.Binding.$bindProperties(this, ["hostComponent.data.title"], [0], this._BitmapLabel1, "text"),
            eui.Binding.$bindProperties(this, ["hostComponent.data.title"], [0], this.lbl_title, "text"),
            eui.Binding.$bindProperties(this, ["hostComponent.data.text"], [0], this.textLabel, "text"),
            eui.Binding.$bindProperties(this, ["hostComponent.data.showButtonGroup"], [0], this._Group5, "includeInLayout"),
            eui.Binding.$bindProperties(this, ["hostComponent.data.showButtonGroup"], [0], this._Group5, "visible"),
            eui.Binding.$bindProperties(this, ["hostComponent.data.showNo"], [0], this._Group3, "includeInLayout"),
            eui.Binding.$bindProperties(this, ["hostComponent.data.showNo"], [0], this._Group3, "visible"),
            eui.Binding.$bindProperties(this, ["hostComponent.data.no"], [0], this.noBtn, "label"),
            eui.Binding.$bindProperties(this, ["hostComponent.data.showYes"], [0], this._Group4, "includeInLayout"),
            eui.Binding.$bindProperties(this, ["hostComponent.data.showYes"], [0], this._Group4, "visible"),
            eui.Binding.$bindProperties(this, ["hostComponent.data.yes"], [0], this.yesBtn, "label")
        }
        var r = o.prototype;
        return r.rect2_i = function() {
            var t = new eui.Image;
            return this.rect2 = t,
            t.bottom = 0,
            t.left = 0,
            t.right = 0,
            t.scale9Grid = new egret.Rectangle(1,1,1,1),
            t.source = "rect_1_png",
            t.top = 0,
            t
        }
        ,
        r.contentNode_i = function() {
            var t = new eui.Group;
            return this.contentNode = t,
            t.horizontalCenter = 0,
            t.verticalCenter = 0,
            t.width = 586,
            t.elementsContent = [this._Image1_i(), this.closeBtn_i(), this._BitmapLabel1_i(), this.lbl_title_i(), this._Group6_i()],
            t
        }
        ,
        r._Image1_i = function() {
            var t = new eui.Image;
            return t.bottom = 0,
            t.horizontalCenter = 0,
            t.scale9Grid = new egret.Rectangle(330,126,60,64),
            t.source = "common_panel_1_png",
            t.top = 0,
            t
        }
        ,
        r.closeBtn_i = function() {
            var t = new solar.Button;
            return this.closeBtn = t,
            t.label = "Button",
            t.notice = "common.close",
            t.right = 20,
            t.top = 20,
            t.skinName = e,
            t
        }
        ,
        r._BitmapLabel1_i = function() {
            var t = new solar.BitmapLabel;
            return this._BitmapLabel1 = t,
            t.font = "common_font_fnt",
            t.height = 2,
            t.horizontalCenter = 0,
            t.top = 20,
            t
        }
        ,
        r.lbl_title_i = function() {
            var t = new solar.Label;
            return this.lbl_title = t,
            t.horizontalCenter = 0,
            t.stroke = 2,
            t.strokeColor = 5200233,
            t.top = 20,
            t.visible = !1,
            t.wordWrap = !0,
            t
        }
        ,
        r._Group6_i = function() {
            var t = new eui.Group;
            return t.bottom = 20,
            t.horizontalCenter = 0,
            t.top = 75,
            t.width = 550,
            t.layout = this._VerticalLayout2_i(),
            t.elementsContent = [this._Group2_i(), this._Group5_i()],
            t
        }
        ,
        r._VerticalLayout2_i = function() {
            var t = new eui.VerticalLayout;
            return t.gap = 10,
            t.horizontalAlign = "center",
            t
        }
        ,
        r._Group2_i = function() {
            var t = new eui.Group;
            return t.width = 550,
            t.x = 0,
            t.y = 0,
            t.elementsContent = [this._Scroller1_i()],
            t
        }
        ,
        r._Scroller1_i = function() {
            var t = new eui.Scroller;
            return t.bottom = 15,
            t.bounces = !1,
            t.left = 15,
            t.maxHeight = 400,
            t.minHeight = 200,
            t.right = 15,
            t.top = 15,
            t.viewport = this._Group1_i(),
            t
        }
        ,
        r._Group1_i = function() {
            var t = new eui.Group;
            return t.layout = this._VerticalLayout1_i(),
            t.elementsContent = [this.textLabel_i()],
            t
        }
        ,
        r._VerticalLayout1_i = function() {
            var t = new eui.VerticalLayout;
            return t.paddingBottom = 5,
            t.paddingTop = 5,
            t.verticalAlign = "middle",
            t
        }
        ,
        r.textLabel_i = function() {
            var t = new solar.Label;
            return this.textLabel = t,
            t.anchorOffsetX = 0,
            t.lineSpacing = 6,
            t.maxWidth = 520,
            t.size = 26,
            t.textAlign = "left",
            t.textColor = 5200233,
            t.verticalAlign = "middle",
            t.width = 520,
            t.wordWrap = !0,
            t.y = 10.35,
            t
        }
        ,
        r._Group5_i = function() {
            var t = new eui.Group;
            return this._Group5 = t,
            t.scaleX = .8,
            t.scaleY = .8,
            t.layout = this._HorizontalLayout1_i(),
            t.elementsContent = [this._Group3_i(), this._Group4_i()],
            t
        }
        ,
        r._HorizontalLayout1_i = function() {
            var t = new eui.HorizontalLayout;
            return t.gap = 40,
            t
        }
        ,
        r._Group3_i = function() {
            var t = new eui.Group;
            return this._Group3 = t,
            t.elementsContent = [this.noBtn_i()],
            t
        }
        ,
        r.noBtn_i = function() {
            var t = new solar.Button;
            return this.noBtn = t,
            t.horizontalCenter = 0,
            t.scaleX = 1,
            t.scaleY = 1,
            t.verticalCenter = 0,
            t.skinName = n,
            t
        }
        ,
        r._Group4_i = function() {
            var t = new eui.Group;
            return this._Group4 = t,
            t.elementsContent = [this.yesBtn_i()],
            t
        }
        ,
        r.yesBtn_i = function() {
            var t = new solar.Button;
            return this.yesBtn = t,
            t.horizontalCenter = 0,
            t.scaleX = 1,
            t.scaleY = 1,
            t.verticalCenter = 0,
            t.skinName = i,
            t
        }
        ,
        o
    }(eui.Skin)
      , N = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , B = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            return n.descData = e,
            n.skinName = M,
            n.data = e,
            n
        }
        return N(e, t),
        e.prototype.onReady = function() {
            this.tap("yesBtn", this.onConfirm, this)
        }
        ,
        e.prototype.onConfirm = function() {
            r.UI.remove(this)
        }
        ,
        e
    }(r.UIComponent)
      , E = function(t) {
        function e() {
            t.call(this),
            this.skinParts = ["rect", "titleLbl", "msg", "contentNode"],
            this.height = 1280,
            this.width = 750,
            this.elementsContent = [this.rect_i(), this.contentNode_i()]
        }
        __extends(e, t);
        var n = e.prototype;
        return n.rect_i = function() {
            var t = new eui.Image;
            return this.rect = t,
            t.bottom = 0,
            t.left = 0,
            t.right = 0,
            t.source = "bg_common_rect_png",
            t.top = 0,
            t
        }
        ,
        n.contentNode_i = function() {
            var t = new eui.Group;
            return this.contentNode = t,
            t.horizontalCenter = 0,
            t.verticalCenter = 0,
            t.width = 700,
            t.elementsContent = [this._Image1_i(), this._Image2_i(), this._Image3_i(), this._Image4_i(), this.titleLbl_i(), this._Button1_i(), this._Label1_i(), this._Scroller1_i()],
            t
        }
        ,
        n._Image1_i = function() {
            var t = new eui.Image;
            return t.anchorOffsetY = 0,
            t.height = 805,
            t.horizontalCenter = .5,
            t.scale9Grid = new egret.Rectangle(243,58,41,29),
            t.source = "bg_common_panel_1_png",
            t.verticalCenter = 29.5,
            t
        }
        ,
        n._Image2_i = function() {
            var t = new eui.Image;
            return t.horizontalCenter = .5,
            t.source = "img_common_bottom_1_png",
            t.y = 851,
            t
        }
        ,
        n._Image3_i = function() {
            var t = new eui.Image;
            return t.horizontalCenter = .5,
            t.source = "img_common_title_1_png",
            t.y = 24.03,
            t
        }
        ,
        n._Image4_i = function() {
            var t = new eui.Image;
            return t.height = 749,
            t.horizontalCenter = 0,
            t.scale9Grid = new egret.Rectangle(36,36,36,36),
            t.source = "bg_common_frame_1_png",
            t.verticalCenter = 17.5,
            t.width = 650,
            t
        }
        ,
        n.titleLbl_i = function() {
            var t = new solar.Label;
            return this.titleLbl = t,
            t.fontFamily = "黑体",
            t.horizontalCenter = 0,
            t.size = 28,
            t.text = "用户协议",
            t.textColor = 16773325,
            t.wordWrap = !0,
            t.y = 34.02,
            t
        }
        ,
        n._Button1_i = function() {
            var t = new solar.Button;
            return t.notice = "common.close",
            t.skinName = "BtnClose1Skin",
            t.x = 609.67,
            t.y = -104.14,
            t
        }
        ,
        n._Label1_i = function() {
            var t = new solar.Label;
            return t.horizontalCenter = 0,
            t.size = 20,
            t.strokeColor = 5054742,
            t.text = "点击空白区域关闭窗口",
            t.textColor = 4924964,
            t.wordWrap = !0,
            t.y = 855.81,
            t
        }
        ,
        n._Scroller1_i = function() {
            var t = new eui.Scroller;
            return t.anchorOffsetX = 0,
            t.anchorOffsetY = 0,
            t.bounces = !1,
            t.height = 720,
            t.horizontalCenter = 0,
            t.verticalCenter = 17,
            t.width = 620,
            t.viewport = this._Group1_i(),
            t
        }
        ,
        n._Group1_i = function() {
            var t = new eui.Group;
            return t.elementsContent = [this.msg_i()],
            t
        }
        ,
        n.msg_i = function() {
            var t = new solar.Label;
            return this.msg = t,
            t.lineSpacing = 8,
            t.maxWidth = 620,
            t.size = 22,
            t.text = "Label",
            t.textColor = 16777215,
            t.y = 10,
            t
        }
        ,
        e
    }(eui.Skin)
      , D = n(286)
      , G = function(t) {
        __extends(c, t);
        var e = function(t) {
            function e() {
                t.call(this),
                this.skinParts = [],
                this.elementsContent = [this._Label1_i()],
                this.states = [new eui.State("up",[]), new eui.State("down",[]), new eui.State("disabled",[])]
            }
            return __extends(e, t),
            e.prototype._Label1_i = function() {
                var t = new solar.Label;
                return t.bold = !0,
                t.fontFamily = "楷体",
                t.horizontalCenter = 0,
                t.size = 24,
                t.stroke = 2,
                t.strokeColor = 16777215,
                t.text = "刷新游戏",
                t.textColor = 16153101,
                t.top = 0,
                t.wordWrap = !0,
                t
            }
            ,
            e
        }(eui.Skin)
          , n = function(t) {
            function e() {
                t.call(this),
                this.skinParts = [],
                this.elementsContent = [this._Image1_i()],
                this.states = [new eui.State("up",[]), new eui.State("down",[]), new eui.State("disabled",[])]
            }
            return __extends(e, t),
            e.prototype._Image1_i = function() {
                var t = new eui.Image;
                return t.percentHeight = 100,
                t.source = "btn_mark_2_png",
                t.percentWidth = 100,
                t.y = -5,
                t
            }
            ,
            e
        }(eui.Skin)
          , i = function(t) {
            function e() {
                t.call(this),
                this.skinParts = ["lbl_login_1", "lbl_login_2"],
                this.height = 70,
                this.width = 491,
                this.elementsContent = [this._Image1_i(), this.lbl_login_1_i(), this.lbl_login_2_i()]
            }
            __extends(e, t);
            var n = e.prototype;
            return n._Image1_i = function() {
                var t = new eui.Image;
                return t.height = 70,
                t.source = "bg_panel_1_png",
                t
            }
            ,
            n.lbl_login_1_i = function() {
                var t = new solar.Label;
                return this.lbl_login_1 = t,
                t.fontFamily = "黑体",
                t.horizontalCenter = 0,
                t.text = "已登陆",
                t.textColor = 16775400,
                t.verticalCenter = 0,
                t.visible = !1,
                t.wordWrap = !0,
                t
            }
            ,
            n.lbl_login_2_i = function() {
                var t = new solar.Label;
                return this.lbl_login_2 = t,
                t.fontFamily = "黑体",
                t.horizontalCenter = 0,
                t.text = "点击登陆",
                t.textColor = 16775400,
                t.verticalCenter = 0,
                t.wordWrap = !0,
                t
            }
            ,
            e
        }(eui.Skin)
          , o = function(t) {
            function e() {
                t.call(this),
                this.skinParts = ["labelDisplay"],
                this.elementsContent = [this._Image1_i(), this.labelDisplay_i()],
                this.states = [new eui.State("up",[]), new eui.State("down",[]), new eui.State("disabled",[])]
            }
            __extends(e, t);
            var n = e.prototype;
            return n._Image1_i = function() {
                var t = new eui.Image;
                return t.source = "btn_gamestart_png",
                t
            }
            ,
            n.labelDisplay_i = function() {
                var t = new solar.Label;
                return this.labelDisplay = t,
                t.fontFamily = "黑体",
                t.horizontalCenter = -1,
                t.size = 30,
                t.text = "enter",
                t.textColor = 7558993,
                t.verticalCenter = 8.5,
                t.wordWrap = !0,
                t
            }
            ,
            e
        }(eui.Skin)
          , r = function(t) {
            function e() {
                t.call(this),
                this.skinParts = ["lbl_serviceName_2", "servicePoint", "labelDisplay"],
                this.height = 70,
                this.width = 491,
                this.elementsContent = [this._Image1_i(), this.lbl_serviceName_2_i(), this._Group1_i()],
                this.states = [new eui.State("up",[]), new eui.State("down",[]), new eui.State("disabled",[])]
            }
            __extends(e, t);
            var n = e.prototype;
            return n._Image1_i = function() {
                var t = new eui.Image;
                return t.height = 70,
                t.source = "bg_panel_1_png",
                t
            }
            ,
            n.lbl_serviceName_2_i = function() {
                var t = new solar.Label;
                return this.lbl_serviceName_2 = t,
                t.fontFamily = "黑体",
                t.horizontalCenter = 0,
                t.text = "服务器名字",
                t.textColor = 16775400,
                t.verticalCenter = 0,
                t.visible = !1,
                t.wordWrap = !0,
                t
            }
            ,
            n._Group1_i = function() {
                var t = new eui.Group;
                return t.height = 70,
                t.horizontalCenter = 0,
                t.verticalCenter = 0,
                t.width = 491,
                t.elementsContent = [this.servicePoint_i(), this.labelDisplay_i()],
                t
            }
            ,
            n.servicePoint_i = function() {
                var t = new eui.Image;
                return this.servicePoint = t,
                t.horizontalCenter = -175,
                t.scaleX = 1.5,
                t.scaleY = 1.5,
                t.source = "icon_service_smooth_png",
                t.verticalCenter = 0,
                t
            }
            ,
            n.labelDisplay_i = function() {
                var t = new solar.Label;
                return this.labelDisplay = t,
                t.fontFamily = "黑体",
                t.horizontalCenter = 0,
                t.text = "@十七区  上清",
                t.textColor = 16775400,
                t.verticalCenter = 1,
                t.wordWrap = !0,
                t
            }
            ,
            e
        }(eui.Skin)
          , a = function(t) {
            function e() {
                t.call(this),
                this.skinParts = [],
                this.elementsContent = [this._Image1_i()],
                this.states = [new eui.State("up",[]), new eui.State("down",[]), new eui.State("disabled",[])]
            }
            return __extends(e, t),
            e.prototype._Image1_i = function() {
                var t = new eui.Image;
                return t.percentHeight = 100,
                t.source = "btn_notice_png",
                t.percentWidth = 100,
                t
            }
            ,
            e
        }(eui.Skin)
          , s = function(t) {
            function e() {
                t.call(this),
                this.skinParts = [],
                this.elementsContent = [this._Image1_i()],
                this.states = [new eui.State("up",[]), new eui.State("down",[]), new eui.State("disabled",[])]
            }
            return __extends(e, t),
            e.prototype._Image1_i = function() {
                var t = new eui.Image;
                return t.percentHeight = 100,
                t.source = "btn_service_png",
                t.percentWidth = 100,
                t
            }
            ,
            e
        }(eui.Skin);
        function c() {
            t.call(this),
            this.skinParts = ["bg", "animeNode", "logo", "refreshBtn", "btn_tips", "refreshNode", "accountSwitch", "enterGame", "serviceBtn", "btn_notice", "btn_service", "copyrightText", "commonBg2", "yuenanban"],
            this.height = 1334,
            this.width = 750,
            this.elementsContent = [this.bg_i(), this.animeNode_i(), this.logo_i(), this.refreshNode_i(), this.accountSwitch_i(), this.enterGame_i(), this.serviceBtn_i(), this.btn_notice_i(), this.btn_service_i(), this.commonBg2_i(), this.yuenanban_i()]
        }
        var u = c.prototype;
        return u.bg_i = function() {
            var t = new eui.Image;
            return this.bg = t,
            t.horizontalCenter = 0,
            t.source = "bg_login_jpg",
            t.top = 0,
            t
        }
        ,
        u.animeNode_i = function() {
            var t = new eui.Group;
            return this.animeNode = t,
            t.horizontalCenter = 0,
            t.verticalCenter = 0,
            t
        }
        ,
        u.logo_i = function() {
            var t = new eui.Image;
            return this.logo = t,
            t.horizontalCenter = 0,
            t.scaleX = .8,
            t.scaleY = .8,
            t.source = "",
            t.top = 160,
            t
        }
        ,
        u.refreshNode_i = function() {
            var t = new eui.Group;
            return this.refreshNode = t,
            t.bottom = 350,
            t.horizontalCenter = 0,
            t.layout = this._HorizontalLayout1_i(),
            t.elementsContent = [this._Label1_i(), this.refreshBtn_i(), this.btn_tips_i()],
            t
        }
        ,
        u._HorizontalLayout1_i = function() {
            var t = new eui.HorizontalLayout;
            return t.gap = 10,
            t.verticalAlign = "middle",
            t
        }
        ,
        u._Label1_i = function() {
            var t = new solar.Label;
            return t.fontFamily = "黑体",
            t.size = 22,
            t.stroke = 2,
            t.strokeColor = 3023908,
            t.text = "长时间登录不进去请",
            t.textColor = 16777215,
            t.x = 1,
            t.y = 2,
            t
        }
        ,
        u.refreshBtn_i = function() {
            var t = new solar.Button;
            return this.refreshBtn = t,
            t.x = 204,
            t.y = -1,
            t.skinName = e,
            t
        }
        ,
        u.btn_tips_i = function() {
            var t = new solar.Button;
            return this.btn_tips = t,
            t.label = "",
            t.scaleX = 1,
            t.scaleY = 1,
            t.x = -70,
            t.y = -10,
            t.skinName = n,
            t
        }
        ,
        u.accountSwitch_i = function() {
            var t = new solar.Button;
            return this.accountSwitch = t,
            t.anchorOffsetY = 0,
            t.bottom = 338,
            t.label = "",
            t.left = 130,
            t.visible = !1,
            t.skinName = i,
            t
        }
        ,
        u.enterGame_i = function() {
            var t = new solar.Button;
            return this.enterGame = t,
            t.bottom = 82,
            t.horizontalCenter = 3,
            t.label = "进入游戏",
            t.skinName = o,
            t
        }
        ,
        u.serviceBtn_i = function() {
            var t = new solar.Button;
            return this.serviceBtn = t,
            t.bottom = 245,
            t.horizontalCenter = 0,
            t.label = "",
            t.scaleY = 1,
            t.skinName = r,
            t
        }
        ,
        u.btn_notice_i = function() {
            var t = new solar.Button;
            return this.btn_notice = t,
            t.label = "",
            t.right = 653,
            t.top = 62,
            t.skinName = a,
            t
        }
        ,
        u.btn_service_i = function() {
            var t = new solar.Button;
            return this.btn_service = t,
            t.height = 104,
            t.label = "",
            t.right = 559,
            t.top = 73,
            t.skinName = s,
            t
        }
        ,
        u.commonBg2_i = function() {
            var t = new eui.Group;
            return this.commonBg2 = t,
            t.bottom = 0,
            t.horizontalCenter = 0,
            t.width = 750,
            t.elementsContent = [this.copyrightText_i()],
            t
        }
        ,
        u.copyrightText_i = function() {
            var t = new solar.Label;
            return this.copyrightText = t,
            t.bottom = 8,
            t.fontFamily = "黑体",
            t.horizontalCenter = 0,
            t.lineSpacing = 4,
            t.size = 14,
            t.text = "Label",
            t.textColor = 16775400,
            t.top = 8,
            t.wordWrap = !0,
            t
        }
        ,
        u.yuenanban_i = function() {
            var t = new eui.Image;
            return this.yuenanban = t,
            t.anchorOffsetX = 0,
            t.anchorOffsetY = 0,
            t.height = 157.04,
            t.left = 556,
            t.source = "icon_ban18_png",
            t.top = 6,
            t.visible = !1,
            t.width = 183.87,
            t
        }
        ,
        c
    }(eui.Skin)
      , V = n(226)
      , U = n(173)
      , H = function() {
        function t() {}
        return t.updateAlert = function() {
            if (t._alert)
                console.log("已经通知玩家重启了");
            else {
                if (console.log("hasUpDate:" + t.hasUpDate),
                console.log("downloadDone:" + t.downloadDone),
                !t.hasUpDate || !t.downloadDone)
                    return t._alert = !0,
                    void window[t.getScope()].showModal({
                        title: "更新提示",
                        content: "检测到有新版本，请重启游戏",
                        showCancel: !1,
                        success: function(t) {
                            t.confirm && Object(r.getPlatform)().exit()
                        }
                    });
                t._alert = !0;
                var e = window[t.getScope()].getUpdateManager();
                window[t.getScope()].showModal({
                    title: "更新提示",
                    content: "新版本已经准备好，重启应用体验最新功能",
                    showCancel: !1,
                    success: function(t) {
                        t.confirm && e.applyUpdate()
                    }
                })
            }
        }
        ,
        t.removeLocal = function() {
            t.isMiniGame() ? window.util_fs && window.util_fs.removeAll && (window.util_fs.removeAll(),
            window[t.getScope()].showModal({
                title: "提示",
                content: "更新缓存，即将重启，请退出后重新进入游戏",
                showCancel: !1,
                success: function(t) {
                    t.confirm && Object(r.getPlatform)().exit()
                }
            })) : window.location.reload()
        }
        ,
        t.isMiniGame = function() {
            return r.is.xyx() || r.is.baidu()
        }
        ,
        t.getScope = function() {
            return r.is.wx() ? "wx" : r.is.qqxyx() ? "qq" : r.is.ttxyx() ? "tt" : r.is.baidu() ? "swan" : void 0
        }
        ,
        t.hasUpDate = !1,
        t.downloadDone = !1,
        t._alert = !1,
        t
    }();
    window.WxUpDate = H;
    var F = n(106)
      , z = function(t) {
        __extends(i, t);
        var e = function(t) {
            function e() {
                t.call(this),
                this.skinParts = ["labelDisplay"],
                this.elementsContent = [this._Image1_i(), this.labelDisplay_i()],
                this.states = [new eui.State("up",[]), new eui.State("down",[new eui.SetProperty("_Image1","source","btn_common_talk_2_png")]), new eui.State("disabled",[])]
            }
            __extends(e, t);
            var n = e.prototype;
            return n._Image1_i = function() {
                var t = new eui.Image;
                return this._Image1 = t,
                t.horizontalCenter = 0,
                t.scale9Grid = new egret.Rectangle(26,5,162,34),
                t.source = "btn_common_talk_1_png",
                t.verticalCenter = 0,
                t.width = 430,
                t.x = 0,
                t
            }
            ,
            n.labelDisplay_i = function() {
                var t = new solar.Label;
                return this.labelDisplay = t,
                t.fontFamily = "黑体",
                t.height = 54,
                t.horizontalCenter = 0,
                t.size = 20,
                t.text = "",
                t.textAlign = "center",
                t.verticalAlign = "middle",
                t.verticalCenter = 0,
                t.width = 386,
                t.wordWrap = !0,
                t
            }
            ,
            e
        }(eui.Skin)
          , n = function(t) {
            function e() {
                t.call(this),
                this.skinParts = ["labelDisplay"],
                this.elementsContent = [this.labelDisplay_i()],
                this.states = [new eui.State("up",[]), new eui.State("down",[]), new eui.State("disabled",[])]
            }
            return __extends(e, t),
            e.prototype.labelDisplay_i = function() {
                var t = new solar.Label;
                return this.labelDisplay = t,
                t.fontFamily = "黑体",
                t.horizontalCenter = 0,
                t.size = 20,
                t.textAlign = "center",
                t.textColor = 4216408,
                t.verticalAlign = "middle",
                t.verticalCenter = 0,
                t.wordWrap = !0,
                t
            }
            ,
            e
        }(eui.Skin);
        function i() {
            t.call(this),
            this.skinParts = ["btn_game", "lbl_title", "lbl_conten", "btn_shut"],
            this.height = 1334,
            this.width = 750,
            this.elementsContent = [this._Image1_i(), this._Group2_i()]
        }
        var o = i.prototype;
        return o._Image1_i = function() {
            var t = new eui.Image;
            return t.bottom = 0,
            t.left = 0,
            t.right = 0,
            t.source = "bg_common_rect_png",
            t.top = 0,
            t
        }
        ,
        o._Group2_i = function() {
            var t = new eui.Group;
            return t.horizontalCenter = 0,
            t.verticalCenter = -87,
            t.elementsContent = [this._Image2_i(), this.btn_game_i(), this.lbl_title_i(), this._Scroller1_i(), this._Image3_i(), this.btn_shut_i()],
            t
        }
        ,
        o._Image2_i = function() {
            var t = new eui.Image;
            return t.anchorOffsetY = 0,
            t.height = 515,
            t.horizontalCenter = 0,
            t.scale9Grid = new egret.Rectangle(274,120,25,20),
            t.source = "bg_common_panel_2_png",
            t.width = 660,
            t.y = 193,
            t
        }
        ,
        o.btn_game_i = function() {
            var t = new solar.Button;
            return this.btn_game = t,
            t.horizontalCenter = 0,
            t.label = "免費拿獎勵，給次機會玩玩看",
            t.y = 580,
            t.skinName = e,
            t
        }
        ,
        o.lbl_title_i = function() {
            var t = new solar.Label;
            return this.lbl_title = t,
            t.fontFamily = "楷体",
            t.horizontalCenter = 0,
            t.size = 30,
            t.text = "致歉",
            t.textColor = 1847093,
            t.wordWrap = !0,
            t.y = 208,
            t
        }
        ,
        o._Scroller1_i = function() {
            var t = new eui.Scroller;
            return t.anchorOffsetX = 0,
            t.anchorOffsetY = 0,
            t.height = 260,
            t.horizontalCenter = 0,
            t.width = 618,
            t.y = 282,
            t.viewport = this._Group1_i(),
            t
        }
        ,
        o._Group1_i = function() {
            var t = new eui.Group;
            return t.elementsContent = [this.lbl_conten_i()],
            t
        }
        ,
        o.lbl_conten_i = function() {
            var t = new solar.Label;
            return this.lbl_conten = t,
            t.fontFamily = "楷体",
            t.horizontalCenter = 0,
            t.lineSpacing = 6,
            t.size = 26,
            t.text = "        道友您好，因我們的遊戲發行權益遭到侵害，我們被迫中止與原開發商的合作，導致我們既定的遊戲無法如期上線，對此我們深表歉意。 爲了給廣大預約的道友一個交代，我們給各位道友準備了一款內容更為豐富的修仙遊戲（全球有250萬+下載，有22萬+忠實粉絲），希望能給您帶來一場精美絕倫的修仙之旅。同時我們也為廣大道友準備了價值800台幣的預註冊大禮包等各種豐富的福利。衷心希望您能嘗試一下！  千錯萬錯，都是我們的錯，再次對您説聲抱歉！ ",
            t.textColor = 4216408,
            t.top = 3,
            t.width = 597,
            t.wordWrap = !0,
            t
        }
        ,
        o._Image3_i = function() {
            var t = new eui.Image;
            return t.bottom = -10,
            t.horizontalCenter = 0,
            t.source = "img_common_bottom_1_png",
            t
        }
        ,
        o.btn_shut_i = function() {
            var t = new solar.Button;
            return this.btn_shut = t,
            t.horizontalCenter = 0,
            t.label = "狠心退出(需手动退出）",
            t.verticalCenter = 314,
            t.skinName = n,
            t
        }
        ,
        i
    }(eui.Skin)
      , q = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , W = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.skinName = z,
            e
        }
        return q(e, t),
        e.prototype.onReady = function() {
            this.tap("btn_game", this.play, this),
            this.tap("btn_shut", this.close, this),
            this.btn_game.label = Object(r.tr)("common@tryPlay"),
            this.btn_shut.label = Object(r.tr)("common@tryExit"),
            this.lbl_title.text = Object(r.tr)("common@sorry"),
            this.lbl_conten.text = Object(r.tr)("common@sorryContent")
        }
        ,
        e.prototype.play = function() {
            egret.localStorage.setItem("gcat_newpack_check", "1"),
            r.UI.remove(this)
        }
        ,
        e.prototype.close = function() {
            egret.localStorage.setItem("gcat_newpack_check", "1"),
            Object(r.tooltip)(Object(r.tr)("common@closeTip"))
        }
        ,
        e
    }(r.UIComponent)
      , X = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Y = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.__fullui = !0,
            e.skinName = G,
            e
        }
        return X(e, t),
        e.prototype.onReady = function() {
            for (var t = [], e = 0; e < arguments.length; e++)
                t[e] = arguments[e];
            if (this.bg.source = Object(b.a)(),
            this.logo.source = Object(b.c)(),
            this.logo.visible = !Object(r.getOption)("noLogo"),
            this.refreshView(),
            this.tap("enterGame", this.onEnter, this),
            this.on("refresh_server", this.refreshView, this),
            this.btn_tips.visible = r.is.wx() || Object(r.getOption)("xyx"),
            this.refreshNode.visible = H.isMiniGame() || Object(r.getOption)("xyx"),
            this.tap("refreshBtn", this.refreshGame, this),
            this.accountSwitch.visible = !0 === Object(r.getPlatConstant)("switchAccount"),
            this.accountSwitch.label = Object(r.tr)("common@switchAccount"),
            this.on("btn_service", this.onOpenKefu, this),
            this.enterGame.label = Object(r.tr)("common@enterGame"),
            Object(m.f)() || Object(m.g)() || this.checkNotice(),
            Object(A.i)()) {
                this.checkTip();
                var n = (new Date).getTime() / 1e3
                  , i = Object(r.getLocalStorage)().getString("wxCleanTime", n.toString())
                  , o = Number(i);
                o == n && Object(r.getLocalStorage)().setString("wxCleanTime", i);
                var a = Object(r.getOption)("cleanTime") ? Object(r.getOption)("cleanTime") : 432e3
                  , s = n - o;
                s >= a && (Object(r.getLocalStorage)().setString("wxCleanTime", n.toString()),
                s <= 2592e3 && this.refreshGame())
            }
            p(this),
            "gcathk" == Object(r.getPlatform)().name && (this.copyrightText.text = "特別提醒：PC端、手機端均可暢玩遊戲\n客服信箱：cs@xforce-games.com ",
            this.copyrightText.stroke = 2,
            this.copyrightText.size = 24,
            this.copyrightText.textColor = "0xFFFFFF");
            var c = Object(m.d)();
            "vi_vn" == c && (this.yuenanban.visible = !0)
        }
        ,
        e.prototype.showAgreement = function() {
            r.is.android() && (this.agreeCkb.selected = 0 == Object(a.a)().serverInfo.isNew)
        }
        ,
        e.prototype.agreement = function() {
            Object(F.a)(new J)
        }
        ,
        e.prototype.checkTip = function() {
            "0" == Object(r.getLocalStorage)().getString("wxFirstLogin", "0") && (Object(r.getLocalStorage)().setString("wxFirstLogin", "1"),
            this.showTip())
        }
        ,
        e.prototype.showTip = function() {
            Object(F.a)(new B({
                title: Object(r.tr)("common@confirmTitle"),
                text: Object(r.tr)("common@wxRefreshDesc"),
                yes: Object(r.tr)("common@ok"),
                showButtonGroup: !0,
                showYes: !0,
                showNo: !1
            }))
        }
        ,
        e.prototype.refreshGame = function() {
            H.removeLocal()
        }
        ,
        e.prototype.checkNotice = function() {
            if (!Object(U.b)()) {
                var t = V.a.gonggao
                  , e = t.ver;
                t.l.length > 0 && (Object(r.getLocalStorage)().setString("noticeVer", e + ""),
                this.onNotice())
            }
        }
        ,
        e.prototype.checkNewPack = function() {
            return "1721" == Object(r.getOption)("gcatId") && !egret.localStorage.getItem("gcat_newpack_check")
        }
        ,
        e.prototype.showKefu = function() {
            return !(!r.is.xyx() || r.is.ttxyx())
        }
        ,
        e.prototype.onNotice = function() {
            Object(F.a)(new D.a)
        }
        ,
        e.prototype.onOpenKefu = function() {
            Object(r.getPlatComp)("kefu").open()
        }
        ,
        e.prototype.onService = function() {
            console.log("=====clickServerBtn====="),
            Object(r.getPlatComp)("phase").phase("clickServerBtn"),
            Object(F.a)(new L)
        }
        ,
        e.prototype.onEnter = function() {
            var t = Object(a.a)().serverInfo.selectArea;
            if (4 != t.t) {
                if (r.audio.isOn("music") && (r.audio.off("music"),
                r.audio.on("music")),
                r.audio.isOn("effect") && (r.audio.off("effect"),
                r.audio.on("effect")),
                console.log("=====start====="),
                this.agreeCkb && !this.agreeCkb.selected && Object(A.e)())
                    return Object(r.tooltip)(Object(r.tr)("请同意用户协议"));
                this._resolve && this._resolve()
            } else
                t.msg && Object(r.tooltip)(t.msg)
        }
        ,
        e.prototype.onSelectCatService = function() {
            console.log("selecet cat service")
        }
        ,
        e.prototype.refreshView = function() {
            Object(C.m)() && Object(a.a)().serverInfo.select(Object(C.m)());
            var t = Object(a.a)().serverInfo.selectArea;
            this.serviceBtn.label = t.name,
            Object(P.a)(this.serviceBtn.servicePoint, t.t)
        }
        ,
        Object.defineProperty(e.prototype, "promise", {
            get: function() {
                var t = this;
                return this._promise || (this._promise = new Promise((function(e) {
                    t._resolve = e
                }
                ))),
                (Object(m.i)() || "bearjoy" == Object(r.getPlatform)().name) && (this.checkNewPack() ? Object(F.a)(new W) : this.onEnter()),
                this._promise
            },
            enumerable: !0,
            configurable: !0
        }),
        e
    }(r.UIComponent)
      , J = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.skinName = E,
            e
        }
        return X(e, t),
        e.prototype.onReady = function() {
            var t, e = this;
            this.titleLbl.text = Object(A.b)() ? Object(r.tr)("common@ysxy") : Object(r.tr)("common@yhtl"),
            t = Object(A.b)() ? "gcatAgreement_txt" : Object(A.h)() ? "unionAgreement_txt" : "agreement_txt",
            RES.getResAsync(t).then((function(t) {
                Object(A.i)() && (t = (t = t.replace(/城市造造造/g, "仙命决")).replace(/厦门比悦网络科技有限公司/g, "厦门跳兔信息科技有限公司")),
                e.msg.text = t
            }
            ))
        }
        ,
        e
    }(r.UIComponent)
      , $ = function(t) {
        __extends(i, t);
        var e = function(t) {
            function e() {
                t.call(this),
                this.skinParts = ["labelDisplay"],
                this.elementsContent = [this._Image1_i(), this.labelDisplay_i()],
                this.states = [new eui.State("up",[]), new eui.State("down",[]), new eui.State("disabled",[])]
            }
            __extends(e, t);
            var n = e.prototype;
            return n._Image1_i = function() {
                var t = new eui.Image;
                return t.percentHeight = 100,
                t.source = "btn_yellow_1_png",
                t.percentWidth = 100,
                t
            }
            ,
            n.labelDisplay_i = function() {
                var t = new solar.Label;
                return this.labelDisplay = t,
                t.fontFamily = "黑体",
                t.horizontalCenter = 0,
                t.size = 30,
                t.text = "enter",
                t.textColor = 7558993,
                t.verticalCenter = -1,
                t.wordWrap = !0,
                t
            }
            ,
            e
        }(eui.Skin)
          , n = function(t) {
            function e() {
                t.call(this),
                this.skinParts = ["labelDisplay"],
                this.elementsContent = [this._Image1_i(), this.labelDisplay_i()],
                this.states = [new eui.State("up",[]), new eui.State("down",[]), new eui.State("disabled",[])]
            }
            __extends(e, t);
            var n = e.prototype;
            return n._Image1_i = function() {
                var t = new eui.Image;
                return t.percentHeight = 100,
                t.source = "btn_yellow_1_png",
                t.percentWidth = 100,
                t
            }
            ,
            n.labelDisplay_i = function() {
                var t = new solar.Label;
                return this.labelDisplay = t,
                t.fontFamily = "黑体",
                t.horizontalCenter = 0,
                t.size = 30,
                t.text = "enter",
                t.textColor = 7558993,
                t.verticalCenter = -1,
                t.wordWrap = !0,
                t
            }
            ,
            e
        }(eui.Skin);
        function i() {
            t.call(this),
            this.skinParts = ["bg", "enterGame", "youkeGame"],
            this.height = 1334,
            this.width = 750,
            this.elementsContent = [this.bg_i(), this.enterGame_i(), this.youkeGame_i()]
        }
        var o = i.prototype;
        return o.bg_i = function() {
            var t = new eui.Image;
            return this.bg = t,
            t.horizontalCenter = 0,
            t.source = "bg_login_jpg",
            t.top = 0,
            t
        }
        ,
        o.enterGame_i = function() {
            var t = new solar.Button;
            return this.enterGame = t,
            t.bottom = 100,
            t.horizontalCenter = -150,
            t.label = "进入游戏",
            t.scaleX = .9,
            t.scaleY = .9,
            t.skinName = e,
            t
        }
        ,
        o.youkeGame_i = function() {
            var t = new solar.Button;
            return this.youkeGame = t,
            t.bottom = 100,
            t.horizontalCenter = 150,
            t.label = "试玩游戏",
            t.scaleX = .9,
            t.scaleY = .9,
            t.skinName = n,
            t
        }
        ,
        i
    }(eui.Skin)
      , K = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Q = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , Z = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , tt = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.__fullui = !0,
            e.skinName = $,
            e
        }
        return K(e, t),
        e.prototype.onReady = function() {
            for (var t = this, e = [], n = 0; n < arguments.length; n++)
                e[n] = arguments[n];
            var i = Object(r.getLocalStorage)().getString("tt_code", "");
            "" != i && (this.youkeGame.visible = !1,
            this.enterGame.horizontalCenter = 0),
            this.bg.source = Object(b.a)(),
            this.tap("enterGame", (function() {
                t.loginStart(!1)
            }
            ), this),
            this.tap("youkeGame", (function() {
                t.loginStart(!0)
            }
            ), this),
            this.enterGame.label = Object(r.tr)("common@enterGame")
        }
        ,
        e.prototype.centerLogin = function() {
            return Q(this, void 0, void 0, (function() {
                return Z(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return console.log("===tt login==="),
                        [4, Promise.race([Object(r.getPlatform)().login(), new Promise((function(t) {
                            window.setTimeout((function() {
                                console.log("===loginTimeOut==="),
                                t()
                            }
                            ), 2e3)
                        }
                        ))])];
                    case 1:
                        return [2, t.sent()]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.loginStart = function(t) {
            return Q(this, void 0, void 0, (function() {
                var e, n;
                return Z(this, (function(i) {
                    switch (i.label) {
                    case 0:
                        return console.log("===start==="),
                        e = t ? "1" : "0",
                        Object(r.getLocalStorage)().setString("ttLoginType", e),
                        [4, this.centerLogin()];
                    case 1:
                        return n = i.sent(),
                        console.log("===params==="),
                        console.log(n),
                        n && this._resolve && this._resolve(n),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        Object.defineProperty(e.prototype, "promise", {
            get: function() {
                var t = this;
                return this._promise || (this._promise = new Promise((function(e) {
                    t._resolve = e
                }
                ))),
                this._promise
            },
            enumerable: !0,
            configurable: !0
        }),
        e
    }(r.UIComponent)
      , et = n(110)
      , nt = n(346);
    var it = ""
      , ot = null
      , rt = null;
    window.wx && (ot = window.wx.getSystemInfoSync(),
    window.wx.getNetworkType({
        success: function(t) {
            rt = t.networkType
        }
    }),
    window.wx.onNetworkStatusChange((function(t) {
        rt = t.networkType
    }
    )));
    var at = {};
    function st(t) {
        var e = Object(a.a)().getUrl("uploadLog.php");
        if (e) {
            var n = Object(S.a)("uId")
              , i = function() {
                var i = ""
                  , o = "";
                if ("string" == typeof t ? (i = t,
                o = t) : t && (t.message && (i += "ERRMSG " + t.message + "\n",
                o += t.message),
                t.stack && (i += "ERRSTACK " + t.stack + "\n",
                o += t.stack),
                t.info && (i += "ERRINFO " + t.info + "\n")),
                !at[o]) {
                    at[o] = !0;
                    var a = ["NEWERR " + (new Date).toUTCString(), "UID " + n, "VER " + it, "PF " + Object(r.getPlatform)().name, "UA " + navigator.userAgent];
                    ot && (a.push("NTAG system " + ot.system),
                    a.push("NTAG sdk " + ot.SDKVersion),
                    a.push("NTAG wxVer " + ot.version),
                    a.push("NTAG model " + ot.model),
                    rt && a.push("NTAG netType " + rt)),
                    a.push(i),
                    a.push("ENDERR"),
                    function(t, e, n) {
                        void 0 === n && (n = {
                            encode: !1,
                            json: !1
                        });
                        var i = "";
                        n.json ? (i = JSON.stringify(e),
                        n.encode && (i = encodeURIComponent(i))) : i = Object.keys(e).map((function(t) {
                            return t + "=" + (n.encode ? encodeURIComponent(e[t]) : e[t])
                        }
                        )).join("&");
                        var o = new egret.HttpRequest;
                        o.open(t, egret.HttpMethod.POST),
                        o.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"),
                        console.log("stat:" + t),
                        o.addEventListener(egret.Event.COMPLETE, (function(t) {
                            console.log("stat response:" + o.response)
                        }
                        ), this),
                        o.send(i)
                    }(e, {
                        logStr: a.join("\n")
                    })
                }
            };
            it || (it = Object(r.getOption)("clientVer") || Object(r.getOption)("codeVer")) ? i() : r.res.getGameVersion().then((function(t) {
                it = t.version,
                i()
            }
            ))
        }
    }
    window.uploadLog = st;
    var ct = n(239)
      , ut = n(109);
    var ht = n(147)
      , lt = n(114)
      , pt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , ft = function() {
        return (ft = Object.assign || function(t) {
            for (var e, n = 1, i = arguments.length; n < i; n++)
                for (var o in e = arguments[n])
                    Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
            return t
        }
        ).apply(this, arguments)
    }
      , dt = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , bt = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , gt = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.loadPackageFail = 0,
            e.initRole = "login",
            e._refreshNum = 0,
            e._initializedCache = !1,
            e
        }
        return pt(e, t),
        e.prototype.loadSubpackage = function() {
            return Promise.resolve()
        }
        ,
        e.prototype.IsPC = function() {
            for (var t = navigator.userAgent.toString(), e = ["Android", "iPhone", "SymbianOS", "Windows Phone", "iPad", "iPod"], n = !0, i = 0; i < e.length; i++)
                if (t.indexOf(e[i]) > 0) {
                    n = !1;
                    break
                }
            return n
        }
        ,
        e.prototype.createChildren = function() {
            return dt(this, void 0, void 0, (function() {
                var e = this;
                return bt(this, (function(n) {
                    switch (n.label) {
                    case 0:
                        return t.prototype.createChildren.call(this),
                        console.log("runtime:" + egret.Capabilities.runtimeType),
                        this.stage.setContentSize(750, 1334),
                        this.stage.scaleMode = egret.StageScaleMode.FIXED_WIDTH,
                        this.stage.orientation = egret.OrientationMode.PORTRAIT,
                        this.stage.frameRate = 30,
                        RES.setMaxLoadingThread(3),
                        Object(d.a)("LazyImage", x),
                        this._subpackage = Promise.resolve(),
                        egret.lifecycle.addLifecycleListener((function() {}
                        )),
                        egret.lifecycle.onPause = function() {
                            console.log("egret onPause===>>>")
                        }
                        ,
                        egret.lifecycle.onResume = function() {
                            console.log("egret onResume===>>>")
                        }
                        ,
                        r.is.wx() && Object(r.setPlatformInfo)({
                            name: "modoxyx",
                            version: "release"
                        }),
                        r.audio.setDefaultVolume("music", .8),
                        Object(r.getLocalStorage)().setPrefix("xz-6"),
                        [4, Object(a.h)(this.stage)];
                    case 1:
                        return n.sent(),
                        i = Object(s.a)(),
                        r.UIComponent.setAdpater((function(t) {
                            if (!t.__resize__ || "wanba" != Object(r.getPlatform)().getConstant("spf")) {
                                if (t.__resize__ = !0,
                                t.width = r.display.stageW,
                                t.height = r.display.stageH,
                                t.componentType == r.ComponentType.Box || t.componentType == r.ComponentType.Scene || "GuideTalkSkin" == t.skinName) {
                                    var e = r.display.stageH / 1334;
                                    e < 1 && (t.width = 750,
                                    t.height = 1334,
                                    t.scaleX = t.scaleY = e,
                                    t.x = (r.display.stageW - 750 * e) / 2,
                                    t.y = (r.display.stageH - 1334 * e) / 2)
                                }
                                1 != t.__fullui ? (t.y = i.top,
                                t.height -= t.y * (1 / t.scaleY),
                                t.height -= i.bottom,
                                t.runOnSkinLoad((function() {
                                    t.bg && i.top > 0 && (t.bg.verticalCenter = -(i.top - i.bottom) / 2),
                                    t.cloud && (t.cloud.bottom = -i.bottom,
                                    Object(a.f)(t.cloud))
                                }
                                ))) : t.height -= i.bottom
                            }
                        }
                        )),
                        function() {
                            if (r.is.xyx()) {
                                var t = window.wx;
                                t.onError((function(t) {
                                    console.log("wx_onErr"),
                                    console.log(JSON.stringify(t)),
                                    st(t)
                                }
                                )),
                                t.onShow((function(t) {
                                    for (var e in console.log("on show"),
                                    console.log(t),
                                    t.query)
                                        console.log("key:" + e + "|value:" + t.query[e]);
                                    (r.is.wx() ? [1089] : [1023, 1103, 1089]).indexOf(t.scene) > -1 && Object(nt.a)()
                                }
                                )),
                                t.onHide((function(t) {
                                    console.log("on hide"),
                                    console.log(t)
                                }
                                ))
                            } else
                                window.onerror = function(t, e, n, i, o) {
                                    st(o)
                                }
                        }(),
                        this.runGame().then((function() {
                            e.doLoading()
                        }
                        )).catch((function() {}
                        )),
                        [2]
                    }
                    var i
                }
                ))
            }
            ))
        }
        ,
        e.prototype.runGame = function() {
            return dt(this, void 0, void 0, (function() {
                var t, e, n, i, o, u, h, l, p;
                return bt(this, (function(f) {
                    switch (f.label) {
                    case 0:
                        return f.trys.push([0, 11, , 15]),
                        [4, Promise.all([this.loadRes(), Object(a.a)().getLoginCenterUrl()])];
                    case 1:
                        return f.sent(),
                        [3, 3];
                    case 2:
                        for (t = f.sent(),
                        e = 0; e < t.common.groups.length; e++)
                            n = t.common.groups[e],
                            RES.createGroup(n.name, n.files, !0);
                        f.label = 3;
                    case 3:
                        return console.log(":locale promise:"),
                        this._localePromise = Promise.all([Object(r.getLocale)().init("base"), Object(r.getLocale)().init("ui"), Object(r.getLocale)().init("act"), Object(r.getLocale)().init("npc"), Object(r.getLocale)().init("battle"), Object(r.getLocale)().init("dl")].concat(Object(O.a)("hero_1&hero_2"), [Object(r.getLocale)().init("event"), Object(r.getLocale)().init("fly"), Object(r.getLocale)().init("un"), Object(r.getLocale)().init("pet"), Object(r.getLocale)().init("gw"), Object(r.getLocale)().init("petcuise")])),
                        (i = Object(s.a)()) && i.top > 0 && (o = new eui.Rect(this.stage.stageWidth,i.top),
                        this.stage.addChild(o)),
                        this._preloadView && (this._preloadView.hide(),
                        this._preloadView = null),
                        [4, this.centerLogin()];
                    case 4:
                        return u = f.sent(),
                        this._centerLoadView && (this._centerLoadView.hide(),
                        this._centerLoadView = null),
                        this._preload && (r.display.removeFromParent(this._preload),
                        this._preload = null),
                        u.isNew && !r.is.android() ? [3, 6] : [4, r.UI.runScene(Y).promise];
                    case 5:
                        f.sent(),
                        f.label = 6;
                    case 6:
                        return console.log("begin init socket"),
                        [4, Object(a.a)().initSockets()];
                    case 7:
                        return (h = f.sent()) && 0 == h.initRole ? [4, Object(O.b)({
                            source: Object(c.j)(),
                            name: "create",
                            locale: "create"
                        })] : [3, 10];
                    case 8:
                        return [4, f.sent().show()];
                    case 9:
                        f.sent(),
                        this.initRole = "reg",
                        Object(_.a)("complete_registration"),
                        f.label = 10;
                    case 10:
                        return Object(_.a)("view_loaded"),
                        console.log("init role done"),
                        [3, 15];
                    case 11:
                        return l = f.sent(),
                        p = function() {
                            if (Object(r.getPlatform)().getConstant("tokenExpire"))
                                Object(r.getPlatform)().getConstant("tokenExpire")();
                            else {
                                var t = Object(r.getPlatComp)("reload");
                                if (t.support)
                                    return void t.reload()
                            }
                        }
                        ,
                        8 == l.status ? [2, Object(r.confirm)({
                            title: Object(r.tr)("common@confirmTitle"),
                            text: l.message,
                            showNo: !1,
                            showClose: !1
                        }).then((function(t) {
                            p()
                        }
                        ))] : 408 == l.status ? [2, Object(r.confirm)({
                            title: Object(r.tr)("common@confirmTitle"),
                            text: l.message,
                            showNo: !1,
                            showYes: !1,
                            showClose: !1
                        })] : 1022 != l.status ? [3, 13] : [4, Object(r.confirm)({
                            text: Object(r.tr)("common@loginErr"),
                            no: "",
                            showClose: !1
                        })];
                    case 12:
                        return "yes" == f.sent() && p(),
                        [2, this.runGame()];
                    case 13:
                        return [4, this.doError(l)];
                    case 14:
                        if (1 == f.sent())
                            throw "stop";
                        return [2, this.runGame()];
                    case 15:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.doLoading = function() {
            return dt(this, void 0, void 0, (function() {
                var t, e, n;
                return bt(this, (function(i) {
                    switch (i.label) {
                    case 0:
                        return i.trys.push([0, 2, , 4]),
                        t = r.UI.runScene(v),
                        (e = [RES.loadGroup("preload", 100, t), this._localePromise]).push(Object(ut.b)("eui_json")),
                        e.push(this.requestData()),
                        e.push(this._subpackage),
                        [4, Promise.all(e)];
                    case 1:
                        return i.sent(),
                        console.log("RES_load===>>>", RES.isGroupLoaded(this._localePromise[0])),
                        this.initCache(),
                        Object(r.getPlatComp)("phase").phase("onLogin", this.initRole),
                        this.createScene(),
                        [3, 4];
                    case 2:
                        return n = i.sent(),
                        [4, this.doError(n)];
                    case 3:
                        return 1 == i.sent() ? [2] : [2, this.doLoading()];
                    case 4:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.doError = function(t) {
            return dt(this, void 0, void 0, (function() {
                var e, n;
                return bt(this, (function(i) {
                    switch (i.label) {
                    case 0:
                        return e = Object(r.formatError)(t),
                        n = u(e),
                        st(e),
                        Object(m.i)() && (1 == t.status ? t.message = Object(r.tr)("common@errorTip1") : 2 == t.status ? t.message = Object(r.tr)("common@errorTip2") : 3 == t.status ? t.message = Object(r.tr)("common@errorTip3") : 4 == t.status ? t.message = Object(r.tr)("common@errorTip4") : 5 == t.status ? t.message = Object(r.tr)("common@errorTip5") : 6 == t.status ? t.message = Object(r.tr)("common@errorTip6") : 7 == t.status ? t.message = Object(r.tr)("common@errorTip7") : 9 == t.status && (t.message = Object(r.tr)("common@errorTip9")),
                        e = Object(r.formatError)(t),
                        n = u(e),
                        st(e)),
                        Object(r.errorHandler)(e, !0) ? [2, !0] : [4, Object(r.getPlatform)().confirm({
                            text: r.is.qqxyx() || Object(r.getOption)("qqxyx") ? t.message : n,
                            yes: Object(r.tr)("common@retry"),
                            no: "",
                            showClose: !1
                        })];
                    case 1:
                        return i.sent(),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.centerLogin = function() {
            return dt(this, void 0, void 0, (function() {
                var t;
                return bt(this, (function(e) {
                    switch (e.label) {
                    case 0:
                        return r.is.ttxyx() || Object(r.getOption)("isTest") ? [4, r.UI.runScene(tt).promise] : [3, 2];
                    case 1:
                        return t = e.sent(),
                        [3, 4];
                    case 2:
                        return [4, Object(r.getPlatform)().login()];
                    case 3:
                        t = e.sent(),
                        e.label = 4;
                    case 4:
                        return console.log("params===>>>"),
                        console.log(t),
                        this._centerLoadView = et.a.show(450),
                        [4, this.centerReq(t)];
                    case 5:
                        return [2, e.sent()]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.centerReq = function(t) {
            return dt(this, void 0, void 0, (function() {
                var e;
                return bt(this, (function(n) {
                    return e = this,
                    [2, new Promise((function(n, i) {
                        Object(a.a)().initServers(ft({}, t)).then((function(t) {
                            n(t)
                        }
                        )).catch((function(o) {
                            "noAl" == o ? Object(r.confirm)({
                                text: Object(r.tr)("common@noAl"),
                                showClose: !1,
                                showYes: !1,
                                showNo: !1
                            }) : e._refreshNum <= 3 ? (e._refreshNum += 1,
                            console.log("重连次数===>>>" + e._refreshNum),
                            setTimeout((function() {
                                n(e.centerReq(t))
                            }
                            ), 1e3)) : i(o)
                        }
                        ))
                    }
                    ))]
                }
                ))
            }
            ))
        }
        ,
        e.prototype.requestData = function() {
            return dt(this, void 0, void 0, (function() {
                var t;
                Object(l.d)("ca.b", {
                    worshipUId: "50141039760"
                });
                return bt(this, (function(e) {
                    switch (e.label) {
                    case 0:
                        return this._reqData ? [3, 2] : [4, Promise.all([Object(j.e)("u.b")])];
                    case 1:
                        t = e.sent(),
                        this._reqData = t,
                        e.label = 2;
                    case 2:
                        return [2, this._reqData]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.initCache = function() {
            if (0 == this._initializedCache) {
                this._initializedCache = !0;
                var t = this._reqData;
                console.log(t);
                var e = t[0];
                e.i.bagNum = 999;
                r.cache.set("User.getInfo", {
                    i: e.i
                }),
                r.cache.set("Bag.getList", {
                    l: e.props
                }),
                r.cache.set("Arm.getList", {
                    l: e.arms
                }),
                r.cache.set("Skill.getList", {
                    l: e.skills
                }),
                r.cache.set("SkillJx.getList", {
                    l: e.skillJxs
                }),
                r.cache.set("Main.getList", {
                    l: e.record
                }),
                r.cache.set("Speed.getList", {
                    l: e.speed
                }),
                r.cache.set("Root.getList", {
                    l: e.root
                }),
                r.cache.set("Lv.getList", {
                    l: e.lv
                }),
                r.cache.set("Weapon.getList", {
                    l: e.weapons || []
                }),
                r.cache.set("TreasureMap.getList", {
                    l: e.tsMaps || []
                }),
                r.cache.set("Hero.getList", {
                    l: e.heros || []
                }),
                r.cache.set("Msg.latest", {
                    o: e.firstChat
                }),
                r.cache.set("Chat.getInfo", e.chatInfo),
                r.cache.set("Feast.getInfo", {
                    i: e.feast
                }),
                e.i && e.i.uId && Object(r.getLocalStorage)().setPrefix("xz-6_" + e.i.uId),
                Object(r.getPlatComp)("phase").phase("start"),
                h.a.setServerTime(e.i.nowTime),
                e.i.hasOwnProperty("zone") && (h.a.zone = e.i.zone)
            }
        }
        ,
        e.prototype.createScene = function() {
            for (var t, e, n, i = this, o = r.cache.get("Hero.getList", "l"), a = !1, s = 0; s < o.length; s++)
                if (o[s].pet) {
                    a = !0;
                    break
                }

            Object(C.f)() ? (t = "bg_main_xj_1_png",
            e = "bg_main_xj_2_png",
            n = "bg_main_xj_3_jpg") : (t = "bg_main_fj_1_png",
            e = "bg_main_fj_2_png",
            n = "bg_main_fj_3_jpg"),
            Promise.all([Object(O.b)({
                source: Object(c.lb)(),
                name: "main",
                locale: "main"
            }), Object(j.e)("at.a", {
                retryTime: 100,
                retryCount: 2
            }), a && Object(r.singleton)(ht.a).checkRes(), RES.getResByUrl(t), RES.getResByUrl(e), RES.getResByUrl(n)]).then((function(t) {
                if (!t[0] || !t[1]) {
                    var e = [];
                    throw t[0] || e.push("module"),
                    t[1] || e.push("activity"),
                    new r.SolarError(1e4,"CreateScene " + e.join(","))
                }
                if (Object(U.a)() && "gcathkIos1" == Object(r.getPlatform)().name) {
                    var n = ["timeGift", "levelGift", "activeGift", "followAward", "overseaVip", "shareShop", "nySign", "nyJigsaw", "nyJigsawtask", "nyGrow", "nyBoss", "nyPetGrow", "nyGuildRank", "nyRank", "nyBossGift", "nyLottery", "nyShopGift", "pandaShop", "jigsawShop"]
                      , i = t[1].l || [];
                    t[1].l = i.filter((function(t) {
                        return -1 != n.indexOf(t.id)
                    }
                    ))
                } else if (Object(U.a)()) {
                    var o = ["timeGift", "levelGift", "activeGift", "followAward", "overseaVip"];
                    t[1].l = t[1].l ? t[1].l.filter((function(t) {
                        return -1 != o.indexOf(t.id)
                    }
                    )) : []
                }
                lt.e.chcekActivityPropId(t[1].l),
                t[1].l && r.cache.set("Activity.getList", {
                    l: t[1].l
                }),
                t[1].dl && r.cache.set("Daoshua.getInfo", t[1].dl),
                t[1].ver && r.cache.set("Activity.version", {
                    v: t[1].ver
                }),
                Object(C.G)(),
                Object(j.d)("rd.a").then((function(t) {
                    t && r.cache.set("Red.getInfo", t)
                }
                )).then((function() {
                    r.cache.get("Red.getInfo") || (console.log("没有拿到红点数据"),
                    r.cache.set("Red.getInfo", {})),
                    r.UI.runScene(t[0].MainScene),
                    V.a.inGame = !0
                }
                )),
                1 == Object(S.a)("fly") && Object(j.d)("y.n").then((function(e) {
                    e && e.awds && t[0].youliOfflineLog && t[0].youliOfflineLog(e)
                }
                )),
                Object(j.d)("pg.a").then((function(t) {
                    t && (r.cache.set("playGuide.getList", t),
                    Object(r.put)("prediction_function_change"))
                }
                ))
            }
            )).catch((function(t) {
                return i.doError(t).then((function(t) {
                    1 != t && i.createScene()
                }
                ))
            }
            ))
        }
        ,
        e.prototype.loadRes = function() {
            return dt(this, void 0, void 0, (function() {
                var t = this;
                return bt(this, (function(e) {
                    switch (e.label) {
                    case 0:
                        return [4, Promise.all([r.res.loadRes().then((function() {
                            t._preload || (t._preload = new eui.Image("bg_login_jpg"),
                            t._preload.source = Object(b.b)(),
                            t.addChildAt(t._preload, 0),
                            t._preload.horizontalCenter = t._preload.verticalCenter = 0,
                            t._preloadView = et.a.show(450),
                            console.log("=====initBegin====="),
                            Object(r.getPlatComp)("phase").phase("initBegin"),
                            Object(r.startMaskView)())
                        }
                        )), r.res.loadLocateRes(Object(r.getLocaleType)()), r.res.loadRemoteRes()])];
                    case 1:
                        return e.sent(),
                        Object(ct.a)("bgm_yw_1_mp3"),
                        console.log("load res done"),
                        [4, Object(r.getLocale)().init("common")];
                    case 2:
                        return e.sent(),
                        r.style.confirm.title = Object(r.tr)("common@confirmTitle"),
                        r.style.confirm.yes = Object(r.tr)("common@ok"),
                        r.style.confirm.no = Object(r.tr)("common@no"),
                        console.log("init common done"),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(eui.UILayer);
    var _t = n(322)
      , mt = n(253);
    RES.processor.map("gather", o)
}
, function(t, e, n) {
    "use strict";
    n.r(e),
    n.d(e, "BlankShopRedPoint", (function() {
        return f
    }
    )),
    n.d(e, "NewBlackMarketPrePanel", (function() {
        return v
    }
    )),
    n.d(e, "NewBlackMarketMainPanel", (function() {
        return g.b
    }
    )),
    n.d(e, "BlackMarketShopItem", (function() {
        return g.a
    }
    ));
    var i = n(124)
      , o = n(1)
      , r = n(109)
      , a = n(227)
      , s = n(187)
      , c = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , u = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    };
    var h, l = n(113), p = (h = function(t, e) {
        return (h = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        h(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), f = function(t) {
        function e() {
            return t.call(this, "黑市") || this
        }
        return p(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_newBlackMarKet", this.onChange, this),
            Object(o.getCache)("Red.getInfo").special > 0 && (Object(l.a)("druglv") > 0 || Object(l.a)("refinlv") > 0) ? this.updateVisible(!0) : this.updateVisible(!1)
        }
        ,
        e.prototype.onChange = function() {
            var t = Object(o.getCache)("Special.getList");
            t && t.hasNum != t.num && (Object(l.a)("druglv") > 0 || Object(l.a)("refinlv") > 0) ? this.updateVisible(!0) : this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule);
    o.RedPointManager.injection(new f),
    o.RedPointManager.injection(new o.RedPointGroup("坊市","黑市","节日充值福利","节日充值额外")),
    o.RedPointManager.injection(new o.RedPointGroup("节日充值","节日充值福利","节日充值额外"));
    var d = n(106)
      , b = n(107)
      , g = n(282)
      , _ = n(115)
      , m = n(168)
      , y = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , v = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "NewBlackMarketNoticeSkin"),
            e
        }
        return y(e, t),
        e.prototype.onReady = function(t) {
            this.tap(this.btn_go, this.onGo, this);
            var e = Object(o.getCache)("Special.getList");
            Object(_.H)("blackMarket_refresh_time", e.time)
        }
        ,
        e.prototype.onGo = function() {
            o.UI.remove(this),
            g.b.show()
        }
        ,
        e.show = function() {
            m.a.isGuiding || (Object(o.hasCache)("Special.getList") ? Object(d.a)(new e) : Object(b.d)("sps.a").then((function(t) {
                t && (o.cache.set("Special.getList", t),
                Object(d.a)(new e))
            }
            )))
        }
        ,
        e
    }(o.UIComponent);
    Object(i.a)("showShopBuyPanel", (function(t) {
        return c(this, void 0, void 0, (function() {
            var e, n, i;
            return u(this, (function(c) {
                switch (c.label) {
                case 0:
                    return [4, Object(r.a)("shopItem_json")];
                case 1:
                    for (i in c.sent(),
                    e = Object(o.getConfig)("shopItem_json"))
                        e[i].itemId == t && (n = e[i].shopType);
                    return n ? (Object(o.singleton)(s.a).checkRes(n).then((function(e) {
                        Object(o.singleton)(s.a).getShopData(n).then((function(e) {
                            var i = Object(o.singleton)(s.a).getShopModel(n, t);
                            i && o.UI.openBox(new a.a, i)
                        }
                        ))
                    }
                    )),
                    [2, !0]) : [2, !1]
                }
            }
            ))
        }
        ))
    }
    ))
}
, function(t, e, n) {
    "use strict";
    n.r(e),
    n.d(e, "GuildMainView", (function() {
        return wt
    }
    )),
    n.d(e, "GuildController", (function() {
        return Ci
    }
    )),
    n.d(e, "GuildBuildItem", (function() {
        return Ct
    }
    )),
    n.d(e, "GuildBuildChest", (function() {
        return Ri
    }
    )),
    n.d(e, "GuildItem", (function() {
        return ie
    }
    )),
    n.d(e, "GuildRankItem", (function() {
        return un
    }
    )),
    n.d(e, "GuildFeastHead", (function() {
        return Li
    }
    )),
    n.d(e, "GuildFeastView", (function() {
        return Pe
    }
    )),
    n.d(e, "GuildChallengeView", (function() {
        return $e
    }
    )),
    n.d(e, "GuildShopView", (function() {
        return tn
    }
    )),
    n.d(e, "GuildProxy", (function() {
        return a.c
    }
    )),
    n.d(e, "GuildEvent", (function() {
        return a.b
    }
    )),
    n.d(e, "GuildConst", (function() {
        return a.a
    }
    ));
    var i, o = n(1), r = n(144), a = n(149), s = n(118), c = n(131), u = n(269), h = n(123), l = n(110), p = n(107), f = n(109), d = n(125), b = n(119), g = n(237), _ = n(106), m = n(128), y = n(122), v = n(108), O = n(4), j = n(116), w = n(115), x = n(153), k = n(117), I = n(140), P = n(189), C = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), S = function() {
        return (S = Object.assign || function(t) {
            for (var e, n = 1, i = arguments.length; n < i; n++)
                for (var o in e = arguments[n])
                    Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
            return t
        }
        ).apply(this, arguments)
    }, R = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelCommonRankSkin1"),
            e
        }
        return C(e, t),
        e.prototype.onReady = function(t) {
            this.list.itemRenderer = T,
            this.currentState = "benfu";
            var e = 0;
            t.l = t.l.map((function(t) {
                return e++,
                S({}, t, {
                    rank: e
                })
            }
            )),
            Object(v.a)(this.list, t.l);
            var n = t.self && t.self.rank;
            this.self.visible = n,
            n && Object(P.a)(this.self, t.self),
            this.RankName.text = Object(o.tr)("guild@buildRTital"),
            this.rankingName.text = Object(o.tr)("guild@buildRValue"),
            this.gp_countdown.visible = !1
        }
        ,
        e.prototype.onExit = function() {}
        ,
        e.show = function(t) {
            Object(l.b)([Object(g.d)(t)]).then((function(t) {
                Object(_.a)(new e, t[0])
            }
            ))
        }
        ,
        e
    }(o.UIComponent), T = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return C(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.currentState = "benfu",
            Object(x.a)(this.img_top, this.lbl_top, t.rank),
            t.skin && Object(I.a)(this.head, t.skin),
            this.lbl_name.text = Object(k.c)(t.name),
            this.lbl_score && (this.lbl_score.text = t.score + ""))
        }
        ,
        e
    }(o.Item), L = n(111), A = n(113), M = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), N = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, B = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, E = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e._sortState = "down",
            e._selectIndex = -1,
            e._heroAniItem = null,
            e._flyTip = null,
            e._flyValue = 0,
            e._isAuto = !1,
            e._buildType = 3,
            e._sortHero = function(t, n) {
                var i = t.getAttr(e._c.type)
                  , o = n.getAttr(e._c.type);
                return "down" == e._sortState ? o - i : i - o
            }
            ,
            Object(o.setSkin)(e, "SkyBuildingDetailSkin"),
            e
        }
        return M(e, t),
        e.prototype.onReady = function(t) {
            this.addBehavior(new s.a),
            this._id = t;
            var e = this._c = Object(g.e)(t);
            if (this.list.itemRenderer = V,
            this.disposeArr.push(Object(y.c)(this.list, this.onTapItem, this)),
            this.disposeArr.push(Object(o.on)("build_select_hero", this.selectHero, this)),
            this.tap("btn_sort", this.onBtnSort, this),
            this.tap("btn_build", this.onBuild, this),
            this.tap("btn_rank", this.onRank, this),
            this.tap(this.btn_auto, this.onTapAuto, this),
            this.tap("btn_back", this.onTapBack, this),
            this.refreshBtnSort(),
            this.btn_back.label = Object(o.tr)(e.name),
            this.disposeArr.push(this.on("refresh_buyhero", this.refreshBuyHero, this)),
            !this.refeshBuild()) {
                if (this.refreshHero(),
                this.createAni(),
                this.isOver())
                    return this.gp_notice.visible = !0,
                    void (this.btn_build.visible = !1);
                this.lbl_notice.visible = Object(A.a)("lv") < 81,
                this.btn_auto.visible = Object(A.a)("lv") >= 81,
                this.gp_talk.visible = !1,
                o.cache.onChange("Heaven.getBuildingInfo", this.refeshBuild, this, this.disposeArr)
            }
        }
        ,
        e.prototype.isOver = function() {
            return !!L.a.isOver(Object(g.f)())
        }
        ,
        e.prototype.createAni = function() {
            for (var t = 1; t <= 3; t++) {
                var e = o.Movie.create("act_skyBuilding_ske_json");
                e.play("1", -1),
                this["animeNode_" + t].addChild(e),
                this.disposeArr.push(e)
            }
        }
        ,
        e.prototype.checkComp = function() {
            if (this._p = Object(g.g)(this._id),
            this._p.progress >= this._c.value) {
                this.animeNode_1.visible = this.animeNode_2.visible = !1,
                this.setState("end");
                var t = Object(o.tr)(this._c.name);
                return this.lbl_desc.text = Object(o.tr)("guild@buildCom", {
                    name: t
                }),
                this._isAuto = !1,
                !0
            }
            return this.animeNode_1.visible = this.animeNode_2.visible = !0,
            this.setState("build"),
            !1
        }
        ,
        e.prototype.checkNext = function(t) {
            var e = this;
            if (void 0 === t && (t = !0),
            !this.refeshBuild() && (this.refreshHero(),
            this._isAuto))
                if (this.getHeroState(this._heroList[0].c.id) == g.a.Normal) {
                    var n = this.sc
                      , i = function() {
                        e.doBuild()
                    };
                    t ? (egret.Tween.removeTweens(n.viewport),
                    n.viewport.scrollH = -181,
                    egret.Tween.get(n.viewport).to({
                        scrollH: 0
                    }, 250).call((function() {
                        i()
                    }
                    ))) : i()
                } else
                    Object(o.tooltip)(Object(o.tr)("guild@noHero")),
                    this.onBuild()
        }
        ,
        e.prototype.onBtnSort = function() {
            this._isAuto || (this._sortState = "up" == this._sortState ? "down" : "up",
            this.refreshBtnSort(),
            this.refreshHero())
        }
        ,
        e.prototype.refreshBtnSort = function() {
            this.btn_sort.label = "up" == this._sortState ? Object(o.tr)("guild@sortDown") : Object(o.tr)("guild@sortUp"),
            "up" == this._sortState ? Object(o.setSkin)(this.btn_sort, "BtnBlueSkin") : Object(o.setSkin)(this.btn_sort, "BtnYellowSkin")
        }
        ,
        e.prototype.refeshBuild = function() {
            var t = this
              , e = this.checkComp() ? 2 : 1;
            return Object(w.x)((function() {
                t.img_build.source = "bg_building_detail_" + t._id + "_" + e + "_jpg";
                var n = Object(g.g)(t._id);
                t.progress.maximum = t._c.value,
                t.progress.value = n.progress
            }
            )),
            2 == e
        }
        ,
        e.prototype.refreshBuyHero = function() {
            this._heros = o.cache.get("Heaven.getBuildingInfo").heroes;
            var t = this;
            Object(v.a)(t.list, this._heroList.map((function(e) {
                return new G(e,t.getHeroState(e.c.id),t._c.type)
            }
            )))
        }
        ,
        e.prototype.selectHero = function(t, e) {
            this._selectRend = t,
            this._selectRend.visible = !0,
            this._flyValue = e
        }
        ,
        e.prototype.refreshHero = function() {
            this.btn_build.visible = !0,
            e.select = -1,
            this._selectIndex = -1;
            var t = O.HeroModel.getEnableList();
            this._heros = o.cache.get("Heaven.getBuildingInfo").heroes;
            for (var n = [], i = [], r = [], a = 0; a < t.length; a++) {
                var s = this.getHeroState(t[a].c.id);
                s == g.a.Normal ? n.push(t[a]) : s == g.a.Buy ? i.push(t[a]) : r.push(t[a])
            }
            n.sort(this._sortHero),
            i.sort(this._sortHero),
            r.sort(this._sortHero),
            this._heroList = n.concat(i, r);
            var c = this;
            this.getHeroState(this._heroList[0].c.id) == g.a.Normal && (e.select = this._heroList[0].c.id,
            this._selectIndex = 0),
            Object(v.a)(c.list, this._heroList.map((function(t) {
                return new G(t,c.getHeroState(t.c.id),c._c.type)
            }
            )));
            var u = this.sc;
            egret.Tween.removeTweens(u.viewport),
            egret.Tween.get(u.viewport).to({
                scrollH: 0
            }, 500)
        }
        ,
        e.prototype.getHeroState = function(t) {
            for (var e = this._heros, n = 0; n < e.length; n++)
                if (e[n].id == t)
                    return 0 == e[n].isCd ? g.a.Normal : e[n].hasOwnProperty("isBuy") && 0 != e[n].isBuy ? g.a.Disable : g.a.Buy;
            return g.a.Disable
        }
        ,
        e.prototype.onTapItem = function(t) {
            var n = this._heroList[t.itemIndex];
            if (this.getHeroState(n.c.id) == g.a.Normal) {
                e.select = this._heroList[t.itemIndex].c.id,
                this._selectIndex = t.itemIndex;
                var i = this;
                Object(v.a)(i.list, this._heroList.map((function(t) {
                    return new G(t,i.getHeroState(t.c.id),i._c.type)
                }
                )))
            }
        }
        ,
        e.prototype.onTapAuto = function() {
            this._buildType = this.btn_auto.selected ? 2 : 1,
            this.btn_build.label = 1 == this._buildType ? Object(o.tr)("guild@btnBuild") : Object(o.tr)("guild@autoBuild"),
            1 == this._buildType && (this._isAuto = !1,
            this.btn_build.skinName = "BtnYellowSkin")
        }
        ,
        e.prototype.onBuild = function() {
            return this.isOver() ? (this.gp_notice.visible = !0,
            void (this.btn_build.visible = !1)) : 2 == this._buildType ? (this._isAuto = !this._isAuto,
            this.btn_auto.enabled = !this._isAuto,
            this._isAuto && this.checkNext(!1),
            this.btn_build.label = this._isAuto ? Object(o.tr)("guild@stopBuild") : Object(o.tr)("guild@autoBuild"),
            void (this.btn_build.skinName = this._isAuto ? "BtnRedSkin" : "BtnYellowSkin")) : void this.doBuild()
        }
        ,
        e.prototype.doBuild = function() {
            var t = this;
            -1 != e.select ? Object(p.d)("he.i", {
                id: this._p.id,
                hId: e.select
            }).then((function(e) {
                e && (t._isAuto || (t.btn_build.visible = !1),
                t.showCardAni(e.awds),
                Object(o.put)("build_info_update"))
            }
            )) : Object(o.tooltip)(Object(o.tr)("main@noXianpu"))
        }
        ,
        e.prototype.showCardAni = function(t) {
            var e = this
              , n = this.sc;
            egret.Tween.removeTweens(n.viewport);
            var i = 171 * (this._selectIndex - 1) * Math.max(1, 750 / o.display.stageW);
            i < 0 && (i = 0);
            var r = this.animeNode
              , a = Math.abs(n.viewport.scrollH - i);
            a = Math.min(500, a),
            egret.Tween.get(n.viewport).to({
                scrollH: i
            }, a).call((function() {
                e.gp_talk.visible = !0,
                e.gp_talk.aplha = 0;
                var n = e._heroList[e._selectIndex].p.skin
                  , i = Object(o.getConfig)("heroSkin_json")[n];
                e.img_head.source = i ? "role_NewHead_" + i.res + "_png" : Object(k.d)(e._heroList[e._selectIndex].c, "NewHead");
                var a = Math.floor(3 * Math.random() + 1);
                e.lbl_talk.text = Object(o.tr)("guild@buildDec" + a);
                var s = e._selectRend;
                s.visible = !1;
                var c = s.localToGlobal(s.x, s.y);
                null == e._heroAniItem && (e._heroAniItem = new U),
                e._heroAniItem.refresh(e._heroList[e._selectIndex], e._c.type),
                c.x = e._selectIndex >= 1 ? 186 : 15,
                e._heroAniItem.x = c.x,
                e._heroAniItem.y = c.y,
                e._heroAniItem.alpha = 1,
                e.addChild(e._heroAniItem),
                egret.Tween.get(e.gp_talk).to({
                    alpha: 1
                }, 150).wait(1700).to({
                    alpha: 0
                }, 150),
                egret.Tween.get(e._heroAniItem).to({
                    x: r.x - s.width / 2,
                    y: r.y - s.height / 2,
                    alpha: 0
                }, 250).call((function() {
                    var n;
                    e.removeChild(e._heroAniItem),
                    (n = o.Movie.create("act_skyBuilding_ske_json")).x = r.x,
                    n.y = r.y,
                    n.scaleX = n.scaleY = 5,
                    n.once(o.MovieEvent.COMPLETE, (function() {
                        j.a.show(t),
                        e.showFlyTip(),
                        e.checkNext()
                    }
                    ), e),
                    n.play("1", 1),
                    e.addChild(n),
                    e.addChild(e.gp_talk)
                }
                ))
            }
            ))
        }
        ,
        e.prototype.showFlyTip = function() {
            var t = this;
            null == this._flyTip && (this._flyTip = new H);
            var e = this._flyValue;
            setTimeout((function() {
                var n = new egret.Point(o.display.stageW / 2,o.display.stageH / 2);
                t._flyTip.show(Object(o.tr)("guild@buildAdd", {
                    num: e
                }), t, {
                    x: n.x,
                    y: n.y
                })
            }
            ), 600)
        }
        ,
        e.prototype.onRank = function() {
            R.show(this._p.id)
        }
        ,
        e.prototype.onTapBack = function() {
            this._isAuto || o.UI.remove(this)
        }
        ,
        e.prototype.onExit = function() {
            this._isAuto = !1,
            this._heroAniItem = null
        }
        ,
        e.show = function(t) {
            return N(this, void 0, void 0, (function() {
                return B(this, (function(n) {
                    switch (n.label) {
                    case 0:
                        return [4, Object(l.b)([Object(f.a)("bg_building_detail_" + t + "_1_jpg"), Object(f.a)("bg_building_detail_" + t + "_2_jpg")])];
                    case 1:
                        return n.sent(),
                        [2, o.UI.openBox(new e, t)]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.select = -1,
        e
    }(o.UIComponent), D = E, G = function(t, e, n) {
        this.hero = t,
        this.useState = e,
        this.atType = n
    }, V = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return M(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (t) {
                Object(m.e)(this, t.hero, "VHalf"),
                this.img_xianpu.mask = this.maskImg;
                var e = t.atType
                  , n = 1;
                "atkAttr" == e && (n = 1),
                "matkAttr" == e && (n = 2),
                "datkAttr" == e && (n = 3),
                "travelAttr" == e && (n = 4);
                var i = t.hero.getAttr(e);
                this.lbl_attr.text = Object(o.tr)("hero@zz" + n) + ":" + i,
                this.btn_recover.visible = t.useState == g.a.Buy;
                var r = "up";
                t.hero.c.id == E.select ? (r = "down",
                Object(o.put)("build_select_hero", this, i)) : (this.visible = !0,
                t.useState == g.a.Disable && (this.img_dark.visible = !0,
                r = "disabled")),
                this.setState(r),
                "disabled" != r && (this.img_dark.visible = this.btn_recover.visible)
            }
        }
        ,
        e.prototype.onReady = function() {
            this.tap("btn_recover", this.onRecover, this)
        }
        ,
        e.prototype.onRecover = function() {
            var t = this;
            Object(o.confirm)({
                title: Object(o.tr)("main@confirmTitle"),
                text: Object(o.tr)("guild@recoHero"),
                showNo: !0,
                showClose: !1
            }).then((function(e) {
                "yes" == e && O.PropModel.hasEnough(10286, 1) && Object(p.d)("he.k", {
                    hId: t.data.hero.c.id
                }).then((function(t) {
                    Object(w.x)((function() {
                        Object(o.put)("refresh_buyhero")
                    }
                    ))
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.Item), U = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "ItemSkyBuildingDetailSkin"),
            e
        }
        return M(e, t),
        e.prototype.refresh = function(t, e) {
            this.img_xianpu.source = "",
            this.img_dark.visible = !1,
            Object(m.e)(this, t, "VHalf"),
            this.img_xianpu.mask = this.maskImg;
            var n = 1;
            "atkAttr" == e && (n = 1),
            "matkAttr" == e && (n = 2),
            "datkAttr" == e && (n = 3),
            "travelAttr" == e && (n = 4),
            this.lbl_attr.text = Object(o.tr)("hero@zz" + n) + ":" + t.getAttr(e)
        }
        ,
        e
    }(o.UIComponent), H = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "TipsGetItemSkin"),
            e
        }
        return M(e, t),
        e.prototype.show = function(t, e, n) {
            var i = this;
            Object(w.x)((function() {
                egret.Tween.removeTweens(i),
                e.addChild(i),
                i.alpha = 1,
                i.lbl_get && (i.lbl_get.visible = i.lbl_get.includeInLayout = !1),
                i.num && (i.num.text = t),
                i.x = n.x - i.width / 2,
                i.y = n.y + i.height,
                egret.Tween.get(i).to({
                    y: i.y - 120
                }, 1900).call((function() {
                    o.display.removeFromParent(i)
                }
                )),
                egret.Tween.get(i).wait(800).to({
                    alpha: 0
                }, 1200)
            }
            ))
        }
        ,
        e
    }(o.UIComponent), F = n(114), z = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), q = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "SkyBuildingInfoSkin"),
            e
        }
        return z(e, t),
        e.prototype.onReady = function(t) {
            this._id = t,
            o.cache.onChange("Heaven.getBuildingInfo", this.refresh, this, this.disposeArr),
            this.refresh()
        }
        ,
        e.prototype.refresh = function() {
            var t = this._id
              , e = this._c = Object(g.e)(t);
            this._p = Object(g.g)(t),
            this.lbl_title.text = Object(o.tr)(this._c.name),
            this.lbl_desc.text = Object(o.tr)(this._c.desc);
            var n = e.type
              , i = 1;
            "atkAttr" == n && (i = 1),
            "matkAttr" == n && (i = 2),
            "datkAttr" == n && (i = 3),
            "travelAttr" == n && (i = 4),
            this.lbl_need.text = Object(o.tr)("guild@needZZType" + i),
            e.awards.length > 0 && (this.lbl_reward.text = Object(o.tr)("guild@buildAw", {
                name: Object(o.tr)(F.e.getName(e.awards[0].itemId))
            })),
            this.progress.maximum = e.value,
            this.progress.value = this._p.progress,
            this.tap("btn_go", this.onGo, this),
            this.img_building.source = "bg_building_detail_" + t + "_2_jpg",
            this.img_building.mask = this.maskImg
        }
        ,
        e.prototype.onGo = function() {
            D.show(this._p.id),
            o.UI.remove(this)
        }
        ,
        e.prototype.onExit = function() {}
        ,
        e
    }(o.UIComponent), W = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), X = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "SkyBuildingRewardSkin"),
            e
        }
        return W(e, t),
        e.prototype.onReady = function() {
            this.list.itemRenderer = Y,
            this.disposeArr.push(this.on("refresh_buildingreward", this.refreshView, this)),
            this.refreshView()
        }
        ,
        e.prototype.refreshView = function() {
            Object(v.a)(this.list, g.b.getList())
        }
        ,
        e
    }(o.UIComponent), Y = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return W(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.list_reward.itemRenderer = PropListItem,
            Object(v.a)(this.list_reward, t.c.memberAwards),
            this.lbl_title.text = Object(o.tr)(t.c.name),
            t.getAwardState() == g.c.Awarded ? (this.btn_receive.visible = !1,
            this.lbl_none.visible = !1,
            this.received.visible = !0) : (this.btn_receive.visible = t.getAwardState() != g.c.NoJoin,
            this.received.visible = !1,
            this.btn_receive.enabled = t.getAwardState() == g.c.Complete,
            this.lbl_none.visible = t.getAwardState() == g.c.NoJoin))
        }
        ,
        e.prototype.onReceive = function() {
            Object(p.d)("he.j", {
                id: this.data.p.id
            }).then((function(t) {
                t.awds && j.a.show(t.awds),
                Object(o.put)("refresh_buildingreward")
            }
            ))
        }
        ,
        e.prototype.onReady = function() {
            this.tap("btn_receive", this.onReceive, this)
        }
        ,
        e
    }(o.Item), J = n(182), $ = n(209), K = n(145), Q = n(5), Z = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), tt = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, et = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, nt = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(K.b)("SkyBuilding", e),
            Object(o.setSkin)(e, "SkyBuildingMainSkin"),
            e
        }
        return Z(e, t),
        e.prototype.onReady = function() {
            var t = this;
            this.addBehavior(new s.a),
            this.tap("helpBtn", (function() {
                b.a.show({
                    title: Object(o.tr)("guild@msHelpTitle"),
                    content: Object(o.tr)("guild@msHelpContent")
                })
            }
            ), this),
            this.tap("btn_detail", this.onAwardDetail, this);
            for (var e = 1; e <= 12; e++)
                this.tap("btn_" + e, this.onBuding, this);
            this.refreshBuilding();
            var n = this.sc;
            Object(w.x)((function() {
                Object(w.x)((function() {
                    n.viewport.scrollV = Math.max(0, n.viewport.contentHeight - n.height),
                    t.watchUpAndDown()
                }
                ))
            }
            )),
            this.disposeArr.push(Object(h.b)("名胜奖励", this.btn_detail)),
            this.checkStory(),
            o.cache.onChange("Heaven.getBuildingInfo", this.refreshBuilding, this, this.disposeArr)
        }
        ,
        e.prototype.watchUpAndDown = function() {
            var t = this
              , e = this.sc;
            egret.Tween.get(this.btn_up, {
                loop: !0
            }).to({
                top: 50
            }, 500).to({
                top: 25
            }, 500),
            egret.Tween.get(this.btn_down, {
                loop: !0
            }).to({
                bottom: 67
            }, 500).to({
                bottom: 42
            }, 500);
            var n = function() {
                t.btn_up.visible = e.viewport.scrollV > 5,
                t.btn_down.visible = e.viewport.scrollV < e.viewport.contentHeight - e.height - 5,
                t.btn_up.visible || (o = !1),
                t.btn_down.visible || (o = !1)
            }
              , i = eui.Watcher.watch(e.viewport, ["scrollV"], n, this)
              , o = !1
              , r = !1
              , a = function() {
                o = !0,
                r = !1,
                h()
            }
              , s = function() {
                r = !0,
                o = !1,
                h()
            }
              , c = function() {
                o = !1
            }
              , u = function() {
                r = !1
            }
              , h = function() {
                if (egret.Tween.removeTweens(e.viewport),
                o || r) {
                    var t = e.viewport.scrollV;
                    o && (t -= 100),
                    r && (t += 100),
                    t = Math.max(t, 0),
                    t = Math.min(t, e.viewport.contentHeight - e.height),
                    egret.Tween.get(e.viewport, {
                        loop: !0
                    }).to({
                        scrollV: t
                    }, 200).call((function() {
                        h()
                    }
                    ))
                }
            };
            this.btn_up.addEventListener(egret.TouchEvent.TOUCH_BEGIN, a, this),
            this.btn_up.addEventListener(egret.TouchEvent.TOUCH_END, c, this),
            this.btn_up.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE, c, this),
            this.btn_down.addEventListener(egret.TouchEvent.TOUCH_BEGIN, s, this),
            this.btn_down.addEventListener(egret.TouchEvent.TOUCH_END, u, this),
            this.btn_down.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE, u, this);
            this.disposeArr.push({
                dispose: function() {
                    i.unwatch(),
                    t.btn_up.removeEventListener(egret.TouchEvent.TOUCH_BEGIN, a, t),
                    t.btn_up.removeEventListener(egret.TouchEvent.TOUCH_END, c, t),
                    t.btn_up.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE, c, t),
                    t.btn_down.removeEventListener(egret.TouchEvent.TOUCH_BEGIN, s, t),
                    t.btn_down.removeEventListener(egret.TouchEvent.TOUCH_END, u, t),
                    t.btn_down.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE, u, t)
                }
            }),
            n()
        }
        ,
        e.prototype.checkStory = function() {
            "1" != Object(o.getLocalStorage)().getString(J.a.STORAGE_KEY_BUILDING, "0") && ($.a.show({
                mapName: Object(o.tr)("guild@buildTital"),
                desc: Object(o.tr)("guild@buildStory")
            }),
            Object(o.getLocalStorage)().setString(J.a.STORAGE_KEY_BUILDING, "1"))
        }
        ,
        e.prototype.refreshBuilding = function() {
            for (var t = 1; t <= 12; t++) {
                var e = Object(g.e)(t)
                  , n = Object(g.g)(t);
                if (e) {
                    var i = this["btn_" + t];
                    i.lbl_name.text = Object(o.tr)(e.name),
                    n && n.progress >= e.value ? i.gp_complete.visible = !0 : i.gp_complete.visible = !1
                }
            }
        }
        ,
        e.prototype.onBuding = function(t) {
            var e = t.currentTarget
              , n = this.checkBuildingId(e)
              , i = Object(g.e)(n);
            Object(g.g)(n).progress >= i.value ? Object(_.a)(new D, n) : Object(_.a)(new q, n)
        }
        ,
        e.prototype.checkBuildingId = function(t) {
            for (var e = 1; e <= 12; e++)
                if (this["btn_" + e] == t)
                    return e
        }
        ,
        e.prototype.onAwardDetail = function() {
            Object(_.a)(new X)
        }
        ,
        e.prototype.onExit = function() {}
        ,
        e.show = function() {
            return tt(this, void 0, void 0, (function() {
                return et(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Object(l.b)([Object(p.c)("he.h", "Heaven.getBuildingInfo"), Object(f.b)("eui_xianmeng_json"), Object(Q.checkImg)("SkyBuildingMainPanel")].concat(Object(d.a)("hero_1&hero_2"), [Object(f.a)("building_json")]))];
                    case 1:
                        return t.sent(),
                        [2, o.UI.openBox(new e)]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent), it = n(130), ot = n(146), rt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), at = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "HomeSuangxiuLogSkin"),
            e
        }
        return rt(e, t),
        e.prototype.onReady = function(t, e) {
            this.list.itemRenderer = st;
            var n = e.filter((function(e) {
                return t == e.id
            }
            ));
            Object(v.a)(this.list, n),
            this.lbl_title.text = Object(o.tr)("guild@rechargeLog")
        }
        ,
        e
    }(o.UIComponent), st = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return rt(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.des.text = Object(o.tr)("guild@getLog", {
                time: L.a.timeStamp(t.time, "MINUTES"),
                name: t.name
            }))
        }
        ,
        e
    }(o.Item), ct = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), ut = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, ht = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, lt = function(t) {
        function e() {
            return t.call(this) || this
        }
        return ct(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (t) {
                this.lbl_renshu.text = Object(o.tr)("guild@rechargeNum", {
                    num: t.c.num
                }),
                this.progress.maximum = t.c.num,
                this.progress.value = t.num,
                Object(v.a)(this.list_item, t.c.awards),
                this.gp_get.visible = 3 == t.isAwd,
                this.gp_lingqu.visible = 0 == t.isAwd,
                this.gp_lingwan.visible = 1 == t.isAwd,
                this.btn_qw.visible = 2 == t.isAwd;
                var e = Object(o.singleton)(r.a).p;
                this.lbl_getNum.text = Object(o.tr)("guild@getAwdNum", {
                    num1: t.p.has,
                    num2: e.mMaxNum
                })
            }
        }
        ,
        e.prototype.onReady = function() {
            this.list_item.itemRenderer = PropListItem,
            this.tap("btn_lqjl", this.onLog, this),
            this.tap("btn_get", this.onGet, this),
            this.tap("btn_qw", this.onPay, this)
        }
        ,
        e.prototype.onLog = function() {
            return ut(this, void 0, void 0, (function() {
                var t = this;
                return ht(this, (function(e) {
                    return Object(p.d)("at.ch", {
                        type: 1
                    }).then((function(e) {
                        Object(_.a)(new at, t.data.c.id, e.l)
                    }
                    )),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e.prototype.onGet = function() {
            Object(p.d)("at.cg", {
                id: this.data.c.id
            }).then((function(t) {
                j.a.show(t.awds),
                Object(o.put)("refresh_guild_recharge")
            }
            ))
        }
        ,
        e.prototype.onPay = function() {
            ot.b.show(ot.c.recharge)
        }
        ,
        e
    }(o.Item), pt = function(t) {
        function e() {
            return t.call(this) || this
        }
        return ct(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.lbl_ranking.text = t.rank,
            this.lbl_name.text = t.name,
            this.lbl_position.text = a.a.roleName(t.role),
            this.lbl_sum.text = t.total)
        }
        ,
        e
    }(o.Item), ft = n(112), dt = function() {
        function t(t) {
            this.c = t;
            for (var e = Object(ft.d)("guildRecharge"), n = 0; n < e.l.length; n++)
                if (this.c.id == e.l[n].id) {
                    this.p = e.l[n];
                    break
                }
        }
        return Object.defineProperty(t.prototype, "isAwd", {
            get: function() {
                var t = Object(o.singleton)(r.a).p;
                return 1 == this.p.awded ? 0 : this.p.has == t.mMaxNum ? 1 : this.num >= this.c.num ? 3 : 2
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "num", {
            get: function() {
                return Object(ft.d)("guildRecharge").num
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }(), bt = function() {
        function t() {
            this._array = [],
            this._wordArray = []
        }
        return Object.defineProperty(t, "ins", {
            get: function() {
                return Object(o.singleton)(t)
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.getData = function() {
            if (!this._array || 0 == this._array.length) {
                Object(ft.d)("guildRecharge").cId;
                for (var t = Object(o.getConfig)("festivalActivity_json").guildRecharge.list[0].detail, e = 0; e < t.length; e++)
                    this._array.push(new dt(t[e]))
            }
            return this._array = this._array.sort((function(t, e) {
                return e.isAwd - t.isAwd
            }
            )),
            this._array
        }
        ,
        t.prototype.clearData = function() {
            this._array = [],
            this._wordArray = []
        }
        ,
        t.prototype.getWordData = function() {
            return Object(o.getCache)("guildRechargeLog_getList") && (this._wordArray = Object(o.getCache)("guildRechargeLog_getList").l),
            this._wordArray
        }
        ,
        t
    }(), gt = n(120), _t = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), mt = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, yt = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, vt = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "XianmengPaySkin"),
            e
        }
        return _t(e, t),
        e.prototype.onReady = function() {
            var t = Object(ft.d)("guildRecharge")
              , e = egret.localStorage.getItem("guild_recharge_red")
              , n = JSON.parse(e);
            e && null != e ? n && (0 == n.state || t.end > n.time) && (egret.localStorage.setItem("guild_recharge_red", JSON.stringify({
                state: 1,
                time: t.end
            })),
            Object(o.put)("guild_recharge_red")) : (egret.localStorage.setItem("guild_recharge_red", JSON.stringify({
                state: 1,
                time: t.end
            })),
            Object(o.put)("guild_recharge_red")),
            this.list.itemRenderer = lt,
            this.list_word.itemRenderer = pt,
            this.on("refresh_guild_recharge", this.refreshView, this),
            this.tap("btn_help", (function() {
                b.a.show({
                    title: Object(o.tr)("guild@rechargeTitle"),
                    content: Object(o.tr)("guild@rechargeHelp")
                })
            }
            ), this),
            this.refreshView(),
            this.refreshTime(),
            this.showLog()
        }
        ,
        e.prototype.onExit = function() {
            bt.ins.clearData(),
            this.clean()
        }
        ,
        e.prototype.refreshView = function() {
            var t = Object(o.getCache)("guildRechargeLog_getList");
            t && (this.lbl_money.text = Object(o.tr)("guild@rechargeTotal", {
                num: t.total
            }),
            this.lbl_ljrs.text = Object(o.tr)("guild@rechargeTotalNum", {
                num: t.num
            })),
            Object(v.a)(this.list, bt.ins.getData()),
            Object(v.a)(this.list_word, bt.ins.getWordData())
        }
        ,
        e.prototype.refreshTime = function() {
            var t = this;
            this.clean();
            var e, n, i = Object(ft.d)("guildRecharge"), r = L.a.getNow(!0);
            i.end < r ? this.lbl_countdown.text = Object(o.tr)("main@actEnd") : (r < i.start ? (e = i.start,
            n = Object(o.tr)("main@newRank_start")) : i.start < r && r < i.end ? (e = i.end,
            n = Object(o.tr)("main@newRank_time")) : i.end < r && (e = i.awardEnd,
            this.lbl_countdown.text = Object(o.tr)("main@actEnd")),
            r < e ? this._countdown = new gt.a({
                component: this.lbl_countdown,
                endTime: e + 1,
                textFlowKey: function(t) {
                    return o.time.leftCountdown(t, n)
                },
                complete: function() {
                    t.refreshTime()
                }
            }) : this.lbl_countdown.text = Object(o.tr)("main@actUnopen"))
        }
        ,
        e.prototype.clean = function() {
            this._countdown && (this._countdown.dispose(),
            this._countdown = null)
        }
        ,
        e.prototype.showLog = function() {}
        ,
        e.show = function() {
            return mt(this, void 0, void 0, (function() {
                return yt(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Object(l.b)([Object(ft.o)("guildRecharge"), Object(p.c)("at.ch", "guildRechargeLog_getList", null, {
                            type: 2
                        }), Object(f.a)("festivalActivity_json")])];
                    case 1:
                        return t.sent(),
                        Object(_.a)(new e),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent), Ot = n(173), jt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), wt = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.arr = [],
            Object(o.setSkin)(e, "XianmengMainSkin"),
            e
        }
        return jt(e, t),
        e.prototype.onReady = function() {
            var t = this;
            e.in = !0,
            this.addBehavior(new s.a),
            this.btn_shop.displayIcon.source = Object(Ot.a)() ? "btn_yunyou_shop_1_png" : "icon_shangdian_png",
            Object(o.on)(a.b.deal_done, this.refreshView, this, this.arr),
            Object(o.on)(a.b.role_change, this.refreshView, this, this.arr),
            Object(o.on)(a.b.build_done, this.refreshView, this, this.arr),
            Object(o.on)(a.b.set_change, this.refreshView, this, this.arr),
            Object(o.on)("union.sc.change", this.refreshView, this, this.arr),
            this.refreshView(),
            this.showNotice(),
            this.tap("chatNode", this.showChat, this),
            this.tap("btn_skyBuilding", this.onSkyBuilding, this),
            this.tap("btn_pay", this.onPay, this),
            this.disposeArr.push(it.b.watch("guildPay", (function(e) {
                t.btn_pay.visible = e
            }
            ))),
            this.redBtn("仙盟申请", "manageBtn"),
            this.redBtn("仙盟排行", "rankBtn"),
            this.redBtn("仙盟建设宝箱", "buildBtn"),
            this.redBtn("仙盟事务", "shiwuBtn"),
            this.redBtn("仙盟宴会", "feastBtn"),
            this.redBtn("仙盟除魔", "bossBtn"),
            this.redBtn("名胜红点组", "btn_skyBuilding"),
            this.redBtn("仙盟充值", "btn_pay")
        }
        ,
        e.prototype.redBtn = function(t, e) {
            var n = this;
            this.disposeArr.push(new h.a(t,(function(t) {
                egret.Tween.removeTweens(n[e]),
                n[e].alpha = 1,
                t && egret.Tween.get(n[e], {
                    loop: !0
                }).to({
                    alpha: .35
                }, 500).to({
                    alpha: 1
                }, 500)
            }
            ),(function() {
                egret.Tween.removeTweens(n[e])
            }
            )))
        }
        ,
        e.prototype.onExit = function() {
            this.arr = Object(o.dispose)(this.arr),
            e.in = !1,
            t.prototype.onExit.call(this)
        }
        ,
        e.prototype.showChat = function() {
            u.a.show("tab3")
        }
        ,
        e.prototype.onSkyBuilding = function() {
            Object(o.put)("天庭名胜"),
            O.HeroModel.getEnableList().length < 1 ? Object(o.tooltip)(Object(o.tr)("guild@openSkyB")) : nt.show()
        }
        ,
        e.prototype.refreshView = function() {
            var t = Object(o.singleton)(r.a).c
              , e = Object(o.singleton)(r.a).p;
            e.mNum,
            e.mMaxNum;
            this.level.text = e.lv,
            this.xianmengName.text = e.name,
            this.totalShenwei.text = Object(o.tr)("guild@heroFp", {
                v: e.totalHeroFp
            }),
            Object(o.singleton)(r.a).isFuncOpen() ? this.xianmengRank.text = Object(o.tr)("guild@guildRank", {
                v: e.lvRank
            }) : this.xianmengRank.text = Object(o.tr)("guild@guildNoRank"),
            this.mengzhuID.text = Object(o.tr)("guild@ownerName", {
                name: e.uName
            }),
            this.expProgress.maximum = t.exp,
            this.expProgress.value = e.exp,
            console.log("role:" + e.role),
            console.log(a.a.roleName(e.role)),
            Object(c.f)(e.uSkin, this.role, {
                cloth: c.a.body,
                eye: c.b.open
            }),
            this.Label_gonggao.text = e.notice,
            Object(r.b)(this.huizhang, e.icon)
        }
        ,
        e.prototype.showNotice = function() {}
        ,
        e.prototype.onPay = function() {
            vt.show()
        }
        ,
        e.in = !1,
        e
    }(o.UIComponent), xt = n(124), kt = n(133), It = n(292), Pt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), Ct = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e._lftTime = 0,
            e
        }
        return Pt(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (t) {
                this._conf = Object(o.getConfig)("guildBuild_json")[t.id];
                var e = Object(o.singleton)(It.a).unionBuildAdd()
                  , n = this._conf.contribution * (1 + e);
                this.guildMoney.text = Object(o.tr)("guild@guildMoney", {
                    v: n
                }),
                this.img_jianshe.source = "icon_jianshe_" + t.id + "_png",
                this.btn.img_cash.source = Object(k.b)(this._conf.propId),
                1 == t.id ? 0 == t.num ? this._need = this._conf.num.split(",")[4] : this._need = this._conf.num.split(",")[5 - t.num] : this._need = this._conf.num,
                t.num <= 0 ? (this.btn.visible = !0,
                this.btn.enabled = !1) : this.btn.enabled = !0,
                this.btn.label = this._need,
                this.nameLabel.text = Object(o.tr)(this._conf.name),
                this.guildExp.text = Object(o.tr)("guild@buildExp", {
                    v: this._conf.exp
                }),
                this.timeLabel.text = Object(o.tr)("guild@times", {
                    has: t.num,
                    max: this._conf.times
                })
            }
        }
        ,
        e.prototype.onEnter = function() {
            t.prototype.onEnter.call(this),
            this.tap(this.btn, this.onBuild, this),
            this.tap(this.btn_time, this.onBuild, this)
        }
        ,
        e.prototype.onExit = function() {
            t.prototype.onExit.call(this)
        }
        ,
        e.prototype.onBuild = function() {
            kt.b.hasEnough(this._conf.propId, this._need) && a.c.build({
                id: this.data.id
            })
        }
        ,
        e
    }(o.Item);
    Object(xt.a)("GuildBuildItem", Ct);
    var St = n(129)
      , Rt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Tt = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "CommonPanelTextSkin"),
            e
        }
        return Rt(e, t),
        e.prototype.getWeek = function(t) {
            switch (t) {
            case 1:
                return Object(o.tr)("main@day_1");
            case 2:
                return Object(o.tr)("main@day_2");
            case 3:
                return Object(o.tr)("main@day_3");
            case 4:
                return Object(o.tr)("main@day_4");
            case 5:
                return Object(o.tr)("main@day_5");
            case 6:
                return Object(o.tr)("main@day_6");
            case 0:
                return Object(o.tr)("main@day_0")
            }
        }
        ,
        e.prototype.onReady = function(t) {
            var e;
            if (void 0 === t && (t = "help"),
            this.lbl_title.text = Object(o.tr)("main@help"),
            "help" == t) {
                var n, i, r = L.a.getTime(0, 0, 1), a = L.a.getTime(23, 59, 3), s = L.a.getTime(0, 0, 4), c = L.a.getTime(23, 59, 7), u = Object(o.tr)("main@weekTime1", {
                    d1: this.getWeek(r.day),
                    h1: r.hour,
                    m1: r.minute,
                    d2: this.getWeek(a.day),
                    h2: a.hour,
                    m2: a.minute
                }), h = Object(o.tr)("main@weekTime1", {
                    d1: this.getWeek(s.day),
                    h1: s.hour,
                    m1: s.minute,
                    d2: this.getWeek(c.day),
                    h2: c.hour,
                    m2: c.minute
                }), l = void 0, p = void 0, f = L.a.getTime(10, 0, 1), d = L.a.getTime(22, 0, 1), b = L.a.getTime(10, 0, 4), g = L.a.getTime(22, 0, 4), _ = L.a.getTime(10, 0, 2), m = L.a.getTime(22, 0, 3);
                n = Object(o.tr)("main@weekTime1", {
                    d1: this.getWeek(_.day),
                    h1: _.hour,
                    m1: _.minute,
                    d2: this.getWeek(m.day),
                    h2: m.hour,
                    m2: m.minute
                });
                var y = L.a.getTime(10, 0, 5)
                  , v = L.a.getTime(22, 0, 7);
                i = Object(o.tr)("main@weekTime1", {
                    d1: this.getWeek(y.day),
                    h1: y.hour,
                    m1: y.minute,
                    d2: this.getWeek(v.day),
                    h2: v.hour,
                    m2: v.minute
                }),
                f.day == d.day ? (l = Object(o.tr)("main@weekRange", {
                    w1: this.getWeek(f.day),
                    h1: f.hour,
                    m1: f.minute,
                    h2: d.hour,
                    m2: d.minute
                }),
                p = Object(o.tr)("main@weekRange", {
                    w1: this.getWeek(b.day),
                    h1: b.hour,
                    m1: b.minute,
                    h2: g.hour,
                    m2: g.minute
                })) : (l = Object(o.tr)("main@weekTime1", {
                    d1: this.getWeek(f.day),
                    h1: f.hour,
                    m1: f.minute,
                    d2: this.getWeek(d.day),
                    h2: d.hour,
                    m2: d.minute
                }),
                p = Object(o.tr)("main@weekTime1", {
                    d1: this.getWeek(b.day),
                    h1: b.hour,
                    m1: b.minute,
                    d2: this.getWeek(g.day),
                    h2: g.hour,
                    m2: g.minute
                })),
                e = Object(o.tr)("guild@help", {
                    time1: u,
                    time2: h,
                    time3: l,
                    time4: p,
                    time5: n,
                    time6: i
                })
            } else
                "buildHelp" == t ? e = Object(o.tr)("guild@buildHelp") : "feastHelp" == t ? e = Object(o.tr)("guild@feastHelp") : "bossHelp" == t ? e = Object(o.tr)("guild@bossHelp") : "manageHelp" == t ? e = Object(o.tr)("guild@manageHelp") : "battleReward" == t && (e = Object(o.tr)("guild@battleReward"));
            this.lbl_content.text = e
        }
        ,
        e
    }(o.UIComponent)
      , Lt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , At = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.arr = [],
            e._nextIdx = 1,
            Object(o.setSkin)(e, "XianmengHuoyueduSkin"),
            e
        }
        return Lt(e, t),
        e.prototype.onReady = function() {
            this.refreshItem();
            for (var t = 1; t <= 4; t++)
                this.tap(this["chest" + t], this.openBox, this);
            this.tap("chest0", this.nextAwd, this),
            this.tap("btn_shuoming", this.showHelp, this),
            Object(o.on)(a.b.build_done, this.refreshItem, this, this.arr),
            o.cache.onChange("guild_member.getBuildList", this.refreshItem, this, this.arr)
        }
        ,
        e.prototype.onExit = function() {
            this.arr = Object(o.dispose)(this.arr),
            t.prototype.onExit.call(this)
        }
        ,
        e.prototype.showHelp = function() {
            Object(_.a)(new Tt, "buildHelp")
        }
        ,
        e.prototype.refreshItem = function() {
            var t = o.cache.get("guild_member.getBuildList");
            this.list.itemRenderer = Ct,
            Object(v.a)(this.list, t.l);
            var e = Object(o.singleton)(r.a).p.lv;
            this._nextIdx = 0;
            for (var n = [], i = [0], a = Object(o.getConfig)("guildDayReward_json"), s = 1; s <= 4; s++) {
                var c = void 0
                  , u = void 0
                  , h = a[s].guildLv;
                if (h > e)
                    c = 100,
                    u = Object(o.tr)("guild@lvLock", {
                        num: h
                    });
                else if (1 == t.box[s - 1].state) {
                    var l = a[s].exp;
                    c = t.exp >= l ? 1 : 2
                } else
                    c = 3;
                3 != c && this._nextIdx <= 0 && (this._nextIdx = s),
                i.push(a[s].exp),
                n.push({
                    v: c,
                    id: t.box[s - 1].id,
                    change: !0,
                    lock: u,
                    needLv: h
                }),
                this["chest" + s].refreshView(n[s - 1]),
                this["needExp" + s].text = a[s].exp
            }
            this._nextIdx <= 0 && (this._nextIdx = 4),
            this.chest0.refreshView(n[this._nextIdx - 1]),
            this.donateProgress.valueList = i,
            this.donateProgress.maximum = a[4].exp,
            this.donateProgress.setRealValue(t.exp),
            this.totalExp.text = t.exp
        }
        ,
        e.prototype.nextAwd = function() {
            var t, e = Object(o.getConfig)("guildDayReward_json"), n = o.cache.get("guild_member.getBuildList"), i = Object(o.singleton)(r.a).p.lv, s = e[this._nextIdx].guildLv;
            if (s > i)
                t = 100;
            else if (1 == n.box[this._nextIdx - 1].state) {
                var c = e[this._nextIdx].exp;
                t = n.exp >= c ? 1 : 2
            } else
                t = 3;
            100 != t ? 1 == t ? a.c.buildBox({
                id: this._nextIdx
            }) : St.b.show(e[this._nextIdx].reward, Object(o.tr)("guild@boxTitle"), !1) : Object(o.tooltip)(Object(o.tr)("guild@awdLock", {
                num: s
            }))
        }
        ,
        e.prototype.openBox = function(t) {
            var e = t.currentTarget.data;
            if (1 == e.v && e.id == this._nextIdx)
                a.c.buildBox({
                    id: e.id
                });
            else {
                if (100 == e.v)
                    return void Object(o.tooltip)(Object(o.tr)("guild@awdLock", {
                        num: e.needLv
                    }));
                var n = Object(o.getConfig)("guildDayReward_json");
                St.b.show(n[e.id].reward, Object(o.tr)("guild@boxTitle"), !1)
            }
        }
        ,
        e
    }(o.UIComponent)
      , Mt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Nt = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return Mt(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.quality.text = "bg_item_" + t.quality + "_png",
            this.icon.source = t.icon,
            this.nameLabel.text = Object(o.tr)(t.c.name),
            this.lv.text = "Lv." + t.lv + "/Lv." + t.maxLv,
            this.btn.label = this.data.lvUpNeed,
            this.des.text = t.desc)
        }
        ,
        e.prototype.onEnter = function() {
            t.prototype.onEnter.call(this),
            this.tap(this.btn, this.lvClick, this)
        }
        ,
        e.prototype.onExit = function() {
            t.prototype.onExit.call(this)
        }
        ,
        e.prototype.lvClick = function() {
            var t = this;
            if (this.data.lvLimit)
                Object(o.tooltip)(Object(o.tr)("guild@lvLimit", {
                    num: this.data.needLv
                }));
            else if (this.data.isMaxLv)
                Object(o.tooltip)(Object(o.tr)("main@baGuaMax"));
            else {
                var e = this.data.lvUpNeed;
                kt.b.hasEnough(kt.c.fcb, e) && a.c.skillUp({
                    cId: this.data.c.id
                }, (function() {
                    t.onDataUpdate(t.data)
                }
                ), this)
            }
        }
        ,
        e
    }(o.Item)
      , Bt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Et = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "ListXianmengSkillSkin"),
            e
        }
        return Bt(e, t),
        e.prototype.onReady = function() {
            this.list.itemRenderer = Nt,
            this.refreshView()
        }
        ,
        e.prototype.refreshView = function() {
            var t = Object(o.singleton)(It.a).getList();
            Object(v.a)(this.list, t)
        }
        ,
        e
    }(o.UIComponent)
      , Dt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Gt = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return Dt(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && Object(r.b)(this.huizhang, t)
        }
        ,
        e
    }(o.Item)
      , Vt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Ut = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.ok = !1,
            e.selectIdx = 1,
            Object(o.setSkin)(e, "XianmengQizhiXuanzeSkin"),
            e
        }
        return Vt(e, t),
        e.prototype.onReady = function(t) {
            this.selectIdx = t,
            this.tap(this.btn1, this.okClick, this),
            this.list.itemRenderer = Gt,
            this.list.addEventListener(eui.ItemTapEvent.ITEM_TAP, this.itemTap, this),
            Object(v.a)(this.list, [1, 2, 3, 4, 5, 6, 7, 8, 9]),
            this.list.selectedIndex = this.selectIdx - 1
        }
        ,
        e.prototype.onExit = function() {
            this.list.removeEventListener(eui.ItemTapEvent.ITEM_TAP, this.itemTap, this),
            t.prototype.onExit.call(this)
        }
        ,
        e.prototype.itemTap = function(t) {
            console.log(t.itemIndex),
            this.selectIdx = t.itemIndex + 1
        }
        ,
        e.prototype.okClick = function() {
            this.ok = !0,
            o.UI.remove(this)
        }
        ,
        e
    }(o.UIComponent)
      , Ht = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Ft = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return Ht(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (t) {
                if (Object(I.a)(this.head, t.skin),
                this.nameLabel.text = Object(k.c)(t.name),
                this.positionLabel.text = a.a.roleName(t.role),
                this.stateLabel && (1 == t.online ? (this.stateLabel.text = Object(o.tr)("main@online"),
                this.stateLabel.textColor = 4949091) : (this.stateLabel.text = L.a.timestampFormat(t.online),
                this.stateLabel.textColor = 5200233)),
                this.level && (this.level.text = Object(o.tr)("guild@gxd", {
                    num: t.cbTotal
                })),
                this.level_1) {
                    var n = Object(o.getConfig)("level_json")[t.lv];
                    this.level_1.text = Object(o.tr)(n.name)
                }
                "feast" == e.state && this.yes && (this.yes.visible = t.inFeast,
                this.no.visible = !t.inFeast)
            }
        }
        ,
        e.prototype.onReady = function() {
            this.transferBtn && this.tap(this.transferBtn, this.doTransfer, this)
        }
        ,
        e.prototype.doTransfer = function() {
            var t = this;
            Object(o.confirm)({
                title: Object(o.tr)("guild@transferTitle"),
                text: Object(o.tr)("guild@transferDes")
            }).then((function(e) {
                "yes" == e && a.c.changeOwner({
                    tId: t.data.uId
                })
            }
            ))
        }
        ,
        e.state = "normal",
        e
    }(o.Item)
      , zt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , qt = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "XianmengZhuangrangSkin"),
            e
        }
        return zt(e, t),
        e.prototype.onReady = function() {
            var t = this;
            Ft.state = "transfer",
            this.list.itemRenderer = Ft;
            var e = Object(o.singleton)(r.a).userList;
            e = e.filter((function(t) {
                return 2 == t.role
            }
            )),
            Object(v.a)(this.list, e),
            this.on(a.b.close_transferView, (function() {
                o.UI.remove(t)
            }
            ), this)
        }
        ,
        e
    }(o.UIComponent)
      , Wt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Xt = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.ok = !1,
            Object(o.setSkin)(e, "XianmengJiesanSkin"),
            e
        }
        return Wt(e, t),
        e.prototype.onReady = function() {
            var t = Object(o.singleton)(r.a).p;
            Object(r.b)(this.huizhang, t.icon),
            this.confirm.text = Object(o.tr)("guild@disConfirm", {
                name: t.name
            }),
            this.tap("btnconfirm", this.onOk, this),
            this.tap("btncancel", this.onCancel, this)
        }
        ,
        e.prototype.onOk = function() {
            this.ok = !0,
            o.UI.remove(this)
        }
        ,
        e.prototype.onCancel = function() {
            o.UI.remove(this)
        }
        ,
        e
    }(o.UIComponent)
      , Yt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Jt = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelGuildAlterNameSkin"),
            e
        }
        return Yt(e, t),
        e.prototype.onReady = function() {
            this.tap("btn_confirm", this.changeName, this)
        }
        ,
        e.prototype.changeName = function() {
            var t = this
              , e = this.input_name.text.trim();
            e = (e = e.replace(/\r\n/g, " ")).replace(/\n/g, " ");
            var n = Object(w.M)(e);
            n < 2 || n > 12 ? Object(o.tooltip)(Object(o.tr)("guild@nameLimit")) : Object(o.confirm)({
                text: Object(o.tr)("guild@confirm3")
            }).then((function(n) {
                "yes" == n && (e = encodeURIComponent(e),
                a.c.guildChangeName({
                    name: e,
                    encode: 1,
                    guildId: Object(o.singleton)(r.a).guildId()
                }, t.changeBack, t))
            }
            ))
        }
        ,
        e.prototype.changeBack = function() {
            Object(o.tooltip)(Object(o.tr)("guild@cNameSuccess")),
            this.ok = !0,
            o.UI.remove(this)
        }
        ,
        e.prototype.onExit = function() {}
        ,
        e
    }(o.UIComponent)
      , $t = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Kt = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e._proxy = !1,
            e.arr = [],
            e._selectIdx = 1,
            Object(o.setSkin)(e, "XianmengManageSkin"),
            e
        }
        return $t(e, t),
        e.prototype.onReady = function() {
            var t = this;
            this.tap(this.changeBtn, this.changePic, this),
            this.tap(this.resignBtn, this.resign, this),
            this.tap(this.dismissBtn, this.dismiss, this),
            this.tap(this.quitBtn, this.quit, this),
            this.tap(this.applyListBtn, this.applyList, this),
            this.tap(this.Change1, this.xuanyan, this),
            this.tap(this.Change0, this.gonggao, this),
            this.tap(this.btn_help, this.showHelp, this),
            this.tap(this.textImg1, this.checkLv, this),
            this.tap(this.textImg2, this.checkLv, this),
            this.tap(this.btn_rename, this.onRename, this),
            this.on(a.b.close_manageView, (function() {
                o.UI.remove(t)
            }
            ), this),
            this._proxy = !1;
            var e = Object(o.singleton)(r.a).p;
            this._selectIdx = e.icon,
            Object(o.on)(a.b.role_change, this.refreshView, this, this.arr),
            this.refreshView()
        }
        ,
        e.prototype.checkLv = function() {
            var t = Object(o.singleton)(r.a).isManager()
              , e = Object(o.singleton)(r.a).p.lv >= 2;
            t && !e && Object(o.tooltip)(Object(o.tr)("guild@noLv"))
        }
        ,
        e.prototype.onExit = function() {
            Object(o.dispose)(this.arr),
            !this._proxy && Object(o.singleton)(r.a).isManager() && this.saveInfo(),
            Object(o.put)(a.b.set_change),
            t.prototype.onExit.call(this)
        }
        ,
        e.prototype.showHelp = function() {
            Object(_.a)(new Tt, "manageHelp")
        }
        ,
        e.prototype.xuanyan = function() {
            if (Object(o.singleton)(r.a).p.lv < 2)
                Object(o.tooltip)(Object(o.tr)("guild@noLv"));
            else {
                var t = this.announce1.text.trim();
                if ((t = (t = t.replace(/\r\n/g, " ")).replace(/\n/g, " ")).length > 15)
                    return Object(o.tooltip)(Object(o.tr)("guild@notice1Limit")),
                    !1;
                var e = {
                    declaration: encodeURIComponent(t),
                    encode: 1
                };
                a.c.guildSet(e)
            }
        }
        ,
        e.prototype.gonggao = function() {
            if (Object(o.singleton)(r.a).p.lv < 2)
                Object(o.tooltip)(Object(o.tr)("guild@noLv"));
            else {
                var t = this.announce2.text.trim();
                if ((t = (t = t.replace(/\r\n/g, " ")).replace(/\n/g, " ")).length > 110)
                    return Object(o.tooltip)(Object(o.tr)("guild@notice2Limit")),
                    !1;
                var e = {
                    notice: encodeURIComponent(t),
                    encode: 1
                };
                a.c.guildSet(e)
            }
        }
        ,
        e.prototype.saveInfo = function() {
            var t, e = this.cBox.selected ? 1 : 0;
            Object(o.singleton)(r.a);
            t = {
                open: e,
                icon: this._selectIdx
            },
            a.c.guildSet(t)
        }
        ,
        e.prototype.changePic = function() {
            var t = this;
            Object(_.a)(new Ut, this._selectIdx).exit((function(e) {
                e.ok && (t._selectIdx = e.selectIdx,
                t.refreshView())
            }
            ))
        }
        ,
        e.prototype.onRename = function() {
            var t = this;
            Object(o.singleton)(r.a).p.lv >= 2 ? Object(_.a)(new Jt).exit((function(e) {
                e.ok && t.refreshView()
            }
            )) : Object(o.tooltip)(Object(o.tr)("guild@noLv"))
        }
        ,
        e.prototype.resign = function() {
            console.log("转让"),
            this._proxy = !0,
            Object(_.a)(new qt)
        }
        ,
        e.prototype.quit = function() {
            var t = this;
            console.log("退出"),
            Object(o.confirm)({
                title: Object(o.tr)("guild@quitTitle"),
                text: Object(o.tr)("guild@confirm2")
            }).then((function(e) {
                "yes" == e && (t._proxy = !0,
                Object(o.put)("guild.quit"))
            }
            ))
        }
        ,
        e.prototype.dismiss = function() {
            var t = this;
            console.log("解散"),
            Object(_.a)(new Xt).exit((function(e) {
                e.ok && (t._proxy = !0,
                Object(o.put)("guild.dissolution"))
            }
            ))
        }
        ,
        e.prototype.applyList = function() {
            Object(o.put)("guild.applyList")
        }
        ,
        e.prototype.refreshView = function() {
            var t = Object(o.singleton)(r.a)
              , e = t.p;
            Object(r.b)(this.huizhang, this._selectIdx),
            this.announce1.text = e.declaration,
            this.announce2.text = e.notice,
            this.cBox.selected = 1 == e.open;
            var n = t.isManager()
              , i = t.isOwner();
            this.changeBtn.visible = n;
            var a = n && e.lv >= 2;
            this.announce1.touchEnabled = a,
            this.announce1.touchChildren = a,
            this.announce2.touchEnabled = a,
            this.announce2.touchChildren = a,
            this.btn_rename.visible = n;
            var s = Object(o.singleton)(r.a).c;
            this.expProgress.maximum = s.exp,
            this.expProgress.value = e.exp,
            this.level0.text = e.lv,
            this.cBox.touchEnabled = n,
            i ? this.setState("Manage") : n ? this.setState("Manage2") : this.setState("Member"),
            n || o.UI.remove(Ut)
        }
        ,
        e
    }(o.UIComponent)
      , Qt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Zt = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "XianmengJoinTanchuangSkin"),
            e
        }
        return Qt(e, t),
        e.prototype.onReady = function(t) {
            this.list.itemRenderer = ie,
            Object(v.a)(this.list, t.l)
        }
        ,
        e
    }(o.UIComponent)
      , te = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , ee = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , ne = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , ie = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return te(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (Object(r.b)(this.huizhang, t.icon),
            this.memberNum.text = Object(o.tr)("guild@memberNum", {
                has: t.num || t.mNum,
                max: t.maxNum
            }),
            this.noneed.visible = 1 == t.open,
            this.guildName.text = t.name,
            this.xuanyanLabel.text = t.declaration || Object(o.tr)("guild@noXuanyan"),
            Object(o.singleton)(r.a).isFuncOpen() ? this.Rank.text = Object(o.tr)("guild@guildRank", {
                v: t.rank
            }) : this.Rank.text = Object(o.tr)("guild@guildNoRank"),
            this.guildLv && (this.guildLv.text = Object(o.tr)("guild@lv", {
                lv: t.lv
            })),
            this.applyBtn.enabled = 0 == t.apply,
            this.applyBtn.label = 0 == t.apply ? Object(o.tr)("guild@apply") : Object(o.tr)("guild@applying"))
        }
        ,
        e.prototype.onReady = function() {
            this.tap(this.applyBtn, this.doApply, this),
            this.on("apply_change", this.applyChange, this)
        }
        ,
        e.prototype.applyChange = function(t) {
            this.data.id == t && (this.data.apply = 1,
            this.onDataUpdate(this.data))
        }
        ,
        e.prototype.doApply = function() {
            var t = this;
            (this.data.num || this.data.mNum) >= this.data.maxNum ? Object(o.tooltip)(Object(o.tr)("guild@memberFull")) : a.c.join({
                id: this.data.id
            }, (function(e) {
                Object(o.put)("apply_change", t.data.id),
                t.directEnter(e)
            }
            ), this)
        }
        ,
        e.prototype.directEnter = function(t) {
            return ee(this, void 0, void 0, (function() {
                return ne(this, (function(e) {
                    switch (e.label) {
                    case 0:
                        return Object(o.singleton)(r.a).isIn() ? [4, Object(o.confirm)({
                            title: Object(o.tr)("common@tip"),
                            text: Object(o.tr)("guild@enterNow", {
                                name: t.guildName
                            }),
                            showClose: !1
                        })] : [3, 2];
                    case 1:
                        return "yes" == e.sent() ? Object(o.put)("guild.open") : o.UI.clearBox(),
                        [3, 3];
                    case 2:
                        Object(o.tooltip)(Object(o.tr)("guild@applySuc")),
                        o.UI.remove(Zt),
                        e.label = 3;
                    case 3:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.Item);
    Object(xt.a)("GuildItem", ie);
    var oe = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , re = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "XianmengBuildConfirmSkin"),
            e
        }
        return oe(e, t),
        e.prototype.onReady = function(t) {
            this.obj = t,
            this.confirm.text = Object(o.tr)("guild@createConfirm", {
                name: decodeURIComponent(this.obj.name)
            }),
            Object(r.b)(this.huizhang, this.obj.icon),
            this.tap("btnconfirm", this.okClick, this)
        }
        ,
        e.prototype.okClick = function() {
            a.c.create(this.obj)
        }
        ,
        e
    }(o.UIComponent)
      , ae = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , se = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e._flag = 1,
            Object(o.setSkin)(e, "XianmengBuildSkin"),
            e
        }
        return ae(e, t),
        e.prototype.onReady = function() {
            this.tap(this.changeBtn, this.changePic, this),
            this.tap(this.btn, this.doCreate, this),
            this._flag = o.numbers.getRandomInt(1, 9),
            this.Num.text = "50",
            this.refreshView()
        }
        ,
        e.prototype.changePic = function() {
            var t = this;
            Object(_.a)(new Ut).exit((function(e) {
                console.log("flag:" + e.selectIdx),
                t._flag = e.selectIdx,
                Object(r.b)(t.huizhang, t._flag)
            }
            ))
        }
        ,
        e.prototype.doCreate = function() {
            var t = this.guildName.text.trim();
            t = (t = t.replace(/\r\n/g, " ")).replace(/\n/g, " ");
            var e = Object(w.M)(t);
            if (e < 2 || e > 12)
                Object(o.tooltip)(Object(o.tr)("guild@nameLimit"));
            else {
                var n = {
                    name: t = encodeURIComponent(t),
                    open: this.cBox.selected ? 1 : 0,
                    icon: this._flag,
                    encode: 1
                };
                kt.b.hasEnough(kt.c.lingyu, 50) && Object(_.a)(new re, n)
            }
        }
        ,
        e.prototype.refreshView = function() {
            Object(r.b)(this.huizhang, this._flag),
            this.guildName.text = "",
            this.cBox.selected = !0
        }
        ,
        e
    }(o.UIComponent)
      , ce = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , ue = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.arr = [],
            Object(K.b)("guildlist"),
            Object(o.setSkin)(e, "ListJoinXianmengSkin"),
            e
        }
        return ce(e, t),
        e.prototype.onReady = function(t) {
            this.list.itemRenderer = ie,
            Object(v.a)(this.list, t.l),
            this.tap(this.btnSearch, this.doSearch, this),
            this.tap(this.btnBuild, this.doCreate, this),
            this.tap(this.btn_refresh, this.doRefresh, this),
            Object(o.on)(a.b.apply_approve, this.applyApprove, this, this.arr);
            var e = o.cache.get("\bxianmeng_refresh_time");
            e && e > L.a.getNow() && this.btnEnabled(e)
        }
        ,
        e.prototype.onExit = function() {
            Object(o.dispose)(this.arr),
            Object(K.a)(),
            t.prototype.onExit.call(this)
        }
        ,
        e.prototype.doRefresh = function() {
            var t = this;
            a.c.getList((function(e) {
                Object(v.a)(t.list, e.l),
                o.cache.set("\bxianmeng_refresh_time", L.a.getNow() + 10),
                t.btnEnabled(L.a.getNow() + 10)
            }
            ), this)
        }
        ,
        e.prototype.btnEnabled = function(t) {
            var e = this;
            this.lbl_countdown.text = t - L.a.getNow(),
            this.btn_refresh.enabled = !1,
            this.lbl_countdown.visible = !0,
            this.timer = egret.setInterval((function() {
                t - L.a.getNow() >= 0 ? e.lbl_countdown.text = t - L.a.getNow() : (e.lbl_countdown.visible = !1,
                egret.clearInterval(e.timer),
                e.btn_refresh.enabled = !0)
            }
            ), this, 1e3)
        }
        ,
        e.prototype.doSearch = function() {
            this.search.text ? a.c.search({
                name: this.search.text
            }, (function(t) {
                t.l[0] ? Object(_.a)(new Zt, t) : Object(o.tooltip)(Object(o.tr)("guild@idError"))
            }
            ), this) : Object(o.tooltip)(Object(o.tr)("guild@idEmpty"))
        }
        ,
        e.prototype.applyApprove = function() {
            o.UI.clearBox()
        }
        ,
        e.prototype.doCreate = function() {
            Object(_.a)(new se)
        }
        ,
        e
    }(o.UIComponent)
      , he = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , le = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "XianmengZhiweiChange"),
            e
        }
        return he(e, t),
        e.prototype.onReady = function(t) {
            this._data = t,
            this.tap(this.btn1, this.click1, this),
            this.tap(this.btn2, this.click2, this),
            this.tap(this.btn3, this.click3, this),
            this.tap(this.btn4, this.click4, this),
            this.refreshView()
        }
        ,
        e.prototype.refreshView = function() {
            var t = Object(o.singleton)(r.a).memberInfo()
              , e = Object(o.singleton)(r.a).c;
            this.desc0.text = Object(o.tr)("guild@pos1", {
                has: t[2],
                max: e.deputyLeader
            }),
            this.desc1.text = Object(o.tr)("guild@pos2", {
                has: t[3],
                max: e.elite
            }),
            this.desc2.text = Object(o.tr)("guild@pos3", {
                has: t[4],
                max: e.member - 1
            })
        }
        ,
        e.prototype.click1 = function() {
            var t = Object(o.singleton)(r.a).memberInfo()
              , e = Object(o.singleton)(r.a).c;
            t[2] < e.deputyLeader && a.c.changeRole({
                tId: this._data.uId,
                role: 2
            }, this.removeMe, this)
        }
        ,
        e.prototype.click2 = function() {
            var t = Object(o.singleton)(r.a).memberInfo()
              , e = Object(o.singleton)(r.a).c;
            t[3] < e.elite && a.c.changeRole({
                tId: this._data.uId,
                role: 3
            }, this.removeMe, this)
        }
        ,
        e.prototype.click3 = function() {
            a.c.changeRole({
                tId: this._data.uId,
                role: 4
            }, this.removeMe, this)
        }
        ,
        e.prototype.click4 = function() {
            var t = this;
            Object(o.confirm)({
                title: Object(o.tr)("common@tip"),
                text: Object(o.tr)("guild@confirm1")
            }).then((function(e) {
                "yes" == e && a.c.kickUser({
                    tId: t._data.uId
                }, t.removeMe, t)
            }
            ))
        }
        ,
        e.prototype.removeMe = function() {
            o.UI.remove(this)
        }
        ,
        e
    }(o.UIComponent)
      , pe = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , fe = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.arr = [],
            Object(o.setSkin)(e, "ListXianmengMemberSkin"),
            e
        }
        return pe(e, t),
        e.prototype.onReady = function() {
            Ft.state = "normal",
            this.list.itemRenderer = Ft,
            Object(o.on)(a.b.role_change, this.refreshView, this, this.arr),
            this.list.addEventListener(eui.ItemTapEvent.ITEM_TAP, this.itemTap, this),
            this.refreshView()
        }
        ,
        e.prototype.onExit = function() {
            this.list.removeEventListener(eui.ItemTapEvent.ITEM_TAP, this.itemTap, this),
            this.arr = Object(o.dispose)(this.arr),
            t.prototype.onExit.call(this)
        }
        ,
        e.prototype.itemTap = function(t) {
            console.log("点击:" + t.item),
            Object(o.singleton)(r.a).canManage(t.item.uId) && Object(_.a)(new le, t.item)
        }
        ,
        e.prototype.refreshView = function() {
            var t = Object(o.singleton)(r.a).p
              , e = t.mNum
              , n = t.mMaxNum;
            this.memberNum.text = e + "/" + n;
            for (var i = Object(o.singleton)(r.a).userList, a = [], s = [], c = 0; c < i.length; c++)
                1 == i[c].online ? a.push(i[c]) : s.push(i[c]);
            a.sort((function(t, e) {
                return t.role == e.role ? e.fp - t.fp : t.role - e.role
            }
            )),
            s.sort((function(t, e) {
                return t.role == e.role ? e.fp - t.fp : t.role - e.role
            }
            )),
            Object(v.a)(this.list, a.concat(s))
        }
        ,
        e
    }(o.UIComponent)
      , de = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , be = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return de(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (t) {
                Object(I.a)(this.head, t.skin),
                this.nameLabel.text = Object(k.c)(t.uName);
                var e = Object(o.getConfig)("level_json")[t.lv];
                this.jjLabel.text = Object(o.tr)("guild@userJingjie", {
                    name: Object(o.tr)(e.name)
                }),
                this.yearLabel.text = Object(o.tr)("guild@gameTime", {
                    num: t.yt
                })
            }
        }
        ,
        e.prototype.onEnter = function() {
            this.agreeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP, this.accept, this),
            this.refuceBtn.addEventListener(egret.TouchEvent.TOUCH_TAP, this.refuse, this),
            t.prototype.onEnter.call(this)
        }
        ,
        e.prototype.onExit = function() {
            this.agreeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP, this.accept, this),
            this.refuceBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP, this.refuse, this),
            t.prototype.onExit.call(this)
        }
        ,
        e.prototype.accept = function() {
            var t = Object(o.singleton)(r.a).p;
            t.mNum >= t.mMaxNum ? Object(o.tooltip)(Object(o.tr)("guild@userMax")) : a.c.dealUser({
                ac: 1,
                tId: this.data.uId
            })
        }
        ,
        e.prototype.refuse = function() {
            a.c.dealUser({
                ac: 2,
                tId: this.data.uId
            })
        }
        ,
        e
    }(o.Item)
      , ge = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , _e = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.arr = [],
            e._idx = 0,
            Object(o.setSkin)(e, "XianmengShenqingSkin"),
            e
        }
        return ge(e, t),
        e.prototype.onReady = function() {
            this.tap(this.btn_all_disagree, this.refuseAll, this),
            this.tap(this.btn_all_agree, this.acceptAll, this),
            this.list.itemRenderer = be,
            Object(o.on)(a.b.deal_done, this.refreshView, this, this.arr),
            this.refreshView()
        }
        ,
        e.prototype.onExit = function() {
            this._idx > 1 && a.c.getMembers(null, null, !0),
            this.arr = Object(o.dispose)(this.arr),
            t.prototype.onExit.call(this)
        }
        ,
        e.prototype.refuseAll = function() {
            0 != o.cache.get("guild_member.applyList", "l").length && a.c.dealUser({
                ac: 4
            })
        }
        ,
        e.prototype.acceptAll = function() {
            0 != o.cache.get("guild_member.applyList", "l").length && a.c.dealUser({
                ac: 3
            })
        }
        ,
        e.prototype.refreshView = function() {
            this._idx += 1;
            var t = o.cache.get("guild_member.applyList", "l");
            this.Label_Num.text = Object(o.tr)("guild@applyNum", {
                num: t.length
            }),
            Object(v.a)(this.list, t)
        }
        ,
        e
    }(o.UIComponent)
      , me = n(126)
      , ye = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , ve = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return ye(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.lbl_des.text = t.str,
            this.list.itemRenderer = me.a,
            Object(v.a)(this.list, t.awd))
        }
        ,
        e
    }(o.Item)
      , Oe = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "ListQunxianyanJoinRewardSkin"),
            e
        }
        return ye(e, t),
        e.prototype.onReady = function() {
            for (var t = Object(o.singleton)(r.a).c, e = (Object(o.singleton)(r.a).p,
            Object(o.singleton)(r.a).maxMember), n = Math.ceil(e / 3), i = Math.ceil(2 * e / 3), a = Object(o.tr)("guild@dinnerAwd1", {
                num: n
            }), s = Object(o.tr)("guild@dinnerAwd2", {
                num1: n,
                num2: i
            }), c = Object(o.tr)("guild@dinnerAwd3", {
                num: i
            }), u = t.feastReward, h = [], l = [], p = 0; p < u.length; p++) {
                var f = {}
                  , d = {};
                for (var b in u[p])
                    f[b] = u[p][b],
                    d[b] = u[p][b],
                    "num" == b && (f[b] *= 2,
                    d[b] *= 3);
                h.push(f),
                l.push(d)
            }
            var g = [{
                awd: u,
                str: a
            }, {
                awd: h,
                str: s
            }, {
                awd: l,
                str: c
            }];
            this.list.itemRenderer = ve,
            Object(v.a)(this.list, g)
        }
        ,
        e
    }(o.UIComponent)
      , je = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , we = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "XianmengQunxianyanMemberSkin"),
            e
        }
        return je(e, t),
        e.prototype.onReady = function() {
            Ft.state = "feast",
            this.list.itemRenderer = Ft;
            for (var t = o.cache.get("guild_member.feastList", "l"), e = [], n = [], i = Object(o.singleton)(r.a).userList, a = 0; a < i.length; a++) {
                var s = !1;
                for (var c in t)
                    if (t[c].uId == i[a].uId) {
                        s = !0;
                        break
                    }
                s ? (i[a].inFeast = !0,
                e.push(i[a])) : (i[a].inFeast = !1,
                n.push(i[a]))
            }
            e.sort((function(t, e) {
                return t.role == e.role ? e.fp - t.fp : t.role - e.role
            }
            )),
            n.sort((function(t, e) {
                return t.role == e.role ? e.fp - t.fp : t.role - e.role
            }
            ));
            var u = Object(o.singleton)(r.a).p.feast;
            this.Time.text = L.a.timeStamp(u.startTime, "HMS"),
            this.Num.text = e.length + "/" + i.length,
            Object(v.a)(this.list, e.concat(n))
        }
        ,
        e
    }(o.UIComponent)
      , xe = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , ke = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , Ie = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , Pe = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e._isOn = !1,
            e.arr = [],
            Object(K.b)("xmFeast", e),
            Object(o.setSkin)(e, "XianmengPartySkin"),
            e
        }
        return xe(e, t),
        e.prototype.onReady = function() {
            this.addBehavior(new s.a),
            this.tap(this.awdBtn, this.awdPreview, this),
            this.tap(this.btnInfo, this.showInfo, this),
            this.tap(this.openBtn, this.openParty, this),
            this.tap(this.btnJion2, this.joinParty, this),
            this.tap(this.btn_help, this.showHelp, this),
            Object(o.on)(a.b.dinner_change, this.dinnerChange, this, this.arr),
            Object(o.on)(a.b.dinner_over, this.dinnerOver, this, this.arr),
            Object(o.on)(a.b.dinner_begin, this.dinnerBegin, this, this.arr),
            this.refreshView()
        }
        ,
        e.prototype.onExit = function() {
            this.arr = Object(o.dispose)(this.arr),
            this._timeId && (this._timeId.dispose(),
            this._timeId = null),
            t.prototype.onExit.call(this)
        }
        ,
        e.prototype.showHelp = function() {
            Object(_.a)(new Tt, "feastHelp")
        }
        ,
        e.prototype.dinnerOver = function() {
            o.UI.remove(this),
            Object(o.tooltip)(Object(o.tr)("guild@dinnerOver"))
        }
        ,
        e.prototype.dinnerBegin = function() {
            a.c.dinnerList(this.refreshView, this)
        }
        ,
        e.prototype.showInfo = function() {
            1 == Object(o.singleton)(r.a).p.feast.open ? a.c.getMembers((function() {
                Object(_.a)(new we)
            }
            ), this) : Object(o.tooltip)(Object(o.tr)("guild@noDinner"))
        }
        ,
        e.prototype.awdPreview = function() {
            Object(_.a)(new Oe)
        }
        ,
        e.prototype.dinnerChange = function() {
            this.refreshView(!0)
        }
        ,
        e.prototype.showEffect = function() {}
        ,
        e.prototype.refreshView = function(t) {
            void 0 === t && (t = !1);
            var e = Object(o.singleton)(r.a).p;
            Object(r.b)(this.huizhang, e.icon),
            this._timeId && (this._timeId.dispose(),
            this._timeId = null);
            var n = 1 == e.feast.open
              , i = L.a.getNow();
            if (n) {
                this.setState("going");
                var a = o.cache.get("guild_member.feastList", "l")
                  , s = Object(o.singleton)(r.a).userList;
                this.num.text = Object(o.tr)("guild@memberNum", {
                    has: Object.keys(a).length,
                    max: s.length
                }),
                i < e.feast.openTime && (this._tiemLeft = e.feast.openTime - i,
                this._timeId = Object(o.setInterval)(this.onTick, this, 1e3),
                this.onTick()),
                this._isOn = !0;
                for (var c = 1; c <= 7; c++)
                    this["btn" + c].refreshView(a[c], c, t);
                for (c = 8; c <= 9; c++)
                    a[c] ? (this["head" + c].visible = this["head" + c].includeInLayout = !0,
                    Object(I.a)(this["head" + c], a[c].skin)) : this["head" + c].visible = this["head" + c].includeInLayout = !1
            } else
                this.setState("Start"),
                i < e.feast.nextTime ? this.openBtn.enabled = !1 : this.openBtn.visible = !0,
                this._isOn = !1
        }
        ,
        e.prototype.openParty = function() {
            return ke(this, void 0, void 0, (function() {
                return Ie(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return Object(o.singleton)(r.a).isManager() ? this._timeId ? [2] : [4, Object(o.confirm)({
                            title: Object(o.tr)("common@tip"),
                            text: Object(o.tr)("guild@dinner")
                        })] : (Object(o.tooltip)(Object(o.tr)("guild@authority")),
                        [2]);
                    case 1:
                        return "yes" == t.sent() && a.c.openDinner(this.afterOpen, this),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.joinParty = function() {
            var t = Object(o.singleton)(r.a).p
              , e = 1 == t.feast.join
              , n = 1 == t.feast.open;
            e ? Object(o.tooltip)(Object(o.tr)("guild@feastDeny1")) : n && (1 == t.canFeast ? a.c.joinDinner(0, this.afterJoin, this) : Object(o.tooltip)(Object(o.tr)("guild@feastDeny")))
        }
        ,
        e.prototype.afterJoin = function() {
            Object(o.tooltip)(Object(o.tr)("guild@feastSuccess")),
            Object(o.put)(a.b.dinner_change)
        }
        ,
        e.prototype.afterOpen = function() {
            a.c.dinnerList(this.refreshView, this)
        }
        ,
        e.prototype.onTick = function() {
            this.count.text = o.time.leftCountdown(this._tiemLeft, "hh:mm:ss"),
            this._tiemLeft -= 1
        }
        ,
        e.show = function() {
            1 == Object(o.singleton)(r.a).p.feast.open ? a.c.dinnerList((function() {
                Object(_.a)(new e)
            }
            ), this) : Object(_.a)(new e)
        }
        ,
        e
    }(o.UIComponent)
      , Ce = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Se = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return Ce(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.__data = t,
            this.lbl_num.text = t.id,
            t.isFighting ? this.img_boss.source = "icon_chumo_bosshead_off_" + t.c.icon + "_png" : this.img_boss.source = "icon_chumo_bosshead_on_" + t.c.icon + "_png",
            this.on("select_guild_boss", this.select, this),
            this.img_select.visible = o.cache.get("GuildBossSelect") == t.c.id)
        }
        ,
        e.prototype.select = function(t) {
            this.img_select.visible = this.__data.id == t.id
        }
        ,
        e
    }(o.Item)
      , Re = function() {
        function t() {
            this._list = []
        }
        return Object.defineProperty(t.prototype, "bossList", {
            get: function() {
                if (0 == this._list.length) {
                    var t = Object(o.getConfig)("guildBoss_json");
                    if (t)
                        for (var e in t)
                            -1 == e.indexOf("//") && this._list.push(new Te(e))
                }
                return this._list
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.bossName = function(t) {
            for (var e in this._list)
                if (this._list[e].id == t)
                    return Object(o.tr)(this._list[e].name);
            return null
        }
        ,
        t.prototype.getBossById = function(t) {
            for (var e in this._list)
                if (this._list[e].id == t)
                    return this._list[e];
            return null
        }
        ,
        t
    }()
      , Te = function() {
        function t(t) {
            this.id = t,
            this.c = Object(o.getConfig)("guildBoss_json")[t]
        }
        return Object.defineProperty(t.prototype, "confHp", {
            get: function() {
                return 15 * Object(o.getConfig)("monster_json")[this.c.bossId].tipo
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "name", {
            get: function() {
                return Object(o.getConfig)("monster_json")[this.c.bossId].name
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "p", {
            get: function() {
                return o.cache.get("guild_member.getBossList", "l")
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "isFighting", {
            get: function() {
                var t = L.a.getNow();
                return this.p.bossTime <= t || this.c.id > this.p.bossId
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "isKill", {
            get: function() {
                var t = L.a.getNow();
                return !(this.p.bossTime <= t) && !(this.c.id >= this.p.bossId)
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.isOver = function() {
            return 3 == this.p.status
        }
        ,
        t.prototype.isOpen = function() {}
        ,
        t
    }()
      , Le = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Ae = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "XianmengChallengeRecordSkin"),
            e
        }
        return Le(e, t),
        e.prototype.onReady = function(t) {
            this.addBehavior(new s.a),
            this.list.itemRenderer = Me,
            Object(v.a)(this.list, t)
        }
        ,
        e.show = function() {
            Object(o.getSocket)().request({
                route: "gld.ab"
            }).then((function(t) {
                Object(_.a)(new e, t.l)
            }
            )).catch(o.errorHandler)
        }
        ,
        e
    }(o.UIComponent)
      , Me = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return Le(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (t) {
                var e;
                this.Time.text = L.a.timeStamp(t.time, "SECONDS");
                var n = Object(o.singleton)(Re).bossName(t.bossId);
                "lucky" == t.type ? (e = Object(o.tr)("guild@lucklyAtk", {
                    user: t.name,
                    boss: n
                }),
                this.info.textFlow = (new egret.HtmlTextParser).parse(e)) : (e = Object(o.tr)("guild@lastAtk", {
                    user: t.name,
                    boss: n
                }),
                this.info.textFlow = (new egret.HtmlTextParser).parse(e))
            }
        }
        ,
        e
    }(o.Item)
      , Ne = n(186)
      , Be = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Ee = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return Be(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (t.str ? (this.Label_1.visible = !0,
            this.Label_1.text = t.str) : this.Label_1.visible = !1,
            this.reward.setData(t))
        }
        ,
        e
    }(o.Item)
      , De = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "XianmengChumoFightRewardSkin"),
            e
        }
        return Be(e, t),
        e.prototype.onReady = function(t) {
            var e = []
              , n = [];
            t.reward && t.reward[0] && (t.reward[0].str = Object(o.tr)("guild@hurtAwd"),
            n.push(t.reward[0])),
            t.lucky && t.lucky[0] && (t.lucky[0].str = Object(o.tr)("guild@lucky"),
            e.push(Object(o.tr)("guild@lucky")),
            n.push(t.lucky[0])),
            t.kill && t.kill[0] && (t.kill[0].str = Object(o.tr)("guild@kill"),
            e.push(Object(o.tr)("guild@kill")),
            n.push(t.kill[0])),
            0 == e.length ? this.Label_1.text = Object(o.tr)("guild@bossResult0") : 1 == e.length ? this.Label_1.text = Object(o.tr)("guild@bossResult1", {
                name: e[0]
            }) : this.Label_1.text = Object(o.tr)("guild@bossResult2"),
            this.RewardList.itemRenderer = Ee,
            Object(v.a)(this.RewardList, n)
        }
        ,
        e
    }(o.UIComponent)
      , Ge = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Ve = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return Ge(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (t.rank = this.itemIndex + 1,
            Object(r.d)(this, t))
        }
        ,
        e
    }(o.Item)
      , Ue = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , He = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return Ue(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (t) {
                var e = "";
                e = t.rankMin == t.rankMax ? t.rankMin : t.rankMax ? t.rankMin + "-" + t.rankMax : t.rankMin + "+",
                this.lbl_rank.text = Object(o.tr)("guild@bossRankAwd", {
                    v: e
                }),
                Object(v.a)(this.list, t.reward)
            }
        }
        ,
        e
    }(o.Item)
      , Fe = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , ze = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "XianmengChumoRankRewardSkin"),
            e
        }
        return Fe(e, t),
        e.prototype.onReady = function() {
            this.addBehavior(new s.a);
            var t = Object(o.getConfig)("guildBossRank_json");
            this.list.itemRenderer = He;
            var e = [];
            for (var n in t)
                -1 == n.indexOf("//") && e.push(t[n]);
            Object(v.a)(this.list, e)
        }
        ,
        e.show = function() {
            Object(_.a)(new e)
        }
        ,
        e
    }(o.UIComponent)
      , qe = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , We = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "ListXianmengChumoRankSkin"),
            e
        }
        return qe(e, t),
        e.prototype.onReady = function(t) {
            var e = Object(A.a)()
              , n = Object(o.singleton)(r.a).p
              , i = {
                lv: e.lv,
                role: n.role,
                name: e.uNa,
                score: t.self.score,
                rank: t.self.rank,
                skin: e.skin
            };
            Object(r.d)(this.me, i),
            this.list.itemRenderer = Ve,
            Object(v.a)(this.list, t.l),
            this.tap("BtnReward", this.detail, this)
        }
        ,
        e.prototype.detail = function() {
            ze.show()
        }
        ,
        e.show = function() {
            Object(o.getSocket)().request({
                route: "gld.l"
            }).then((function(t) {
                Object(_.a)(new e, t)
            }
            )).catch(o.errorHandler)
        }
        ,
        e
    }(o.UIComponent)
      , Xe = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Ye = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , Je = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , $e = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(K.b)("xmChumo", e),
            Object(o.setSkin)(e, "XianmengChumoSkin"),
            e
        }
        return Xe(e, t),
        e.prototype.onReady = function(t) {
            this.addBehavior(new s.a),
            this.hpBar.labelFunction = this.labelFunction,
            this._data = t,
            this.tap("btn_record", this.record, this),
            this.tap("btn_rank", this.rank, this),
            this.tap("btn_add", this.addTime, this),
            this.tap("btn_fight", this.fight, this),
            this.tap("btn_open", this.open, this),
            this.tap(this.btn_help, this.showHelp, this),
            this.bossList.itemRenderer = Se,
            this._conf = Object(o.singleton)(Re).bossList,
            o.cache.set("GuildBossSelect", this._conf[0].c.id),
            o.cache.set("GuildBossBuyTime", !1),
            this.bossList.addEventListener(eui.ItemTapEvent.ITEM_TAP, this.itemTap, this),
            this.refreshState(),
            this._timeId = Object(o.setInterval)(this.onTick, this, 1e3),
            this.on("refresh_guild_challenge", this.update, this),
            this.switch_1 = this.switch_2 = !0
        }
        ,
        e.prototype.onExit = function() {
            this._timeId = Object(o.dispose)(this._timeId),
            this.bossList.removeEventListener(eui.ItemTapEvent.ITEM_TAP, this.itemTap, this),
            t.prototype.onExit.call(this)
        }
        ,
        e.prototype.showHelp = function() {
            Object(_.a)(new Tt, "bossHelp")
        }
        ,
        e.prototype.labelFunction = function(t, e) {
            return Math.floor(100 * t / e) + "%"
        }
        ,
        e.prototype.showBoss = function(t) {
            this.img_boss.source = "img_chumo_boss_" + this._conf[t].c.icon + "_png",
            this.curName.text = Object(o.tr)(this._conf[t].name),
            this.hpBar.maximum = this._conf[t].confHp,
            1 == this.state ? (this._data.bossId == this._conf[t].c.id ? this.hpBar.value = this._data.bossHp : this._data.bossId > this._conf[t].c.id ? this.hpBar.value = 0 : this.hpBar.value = this._conf[t].confHp,
            Object(v.a)(this.rewardList, Object(o.singleton)(Re).getBossById(this._data.bossId).c.reward),
            this.btn_fight.enabled = this._data.bossId == this._conf[t].c.id) : (this.hpBar.maximum = this._conf[t].confHp,
            this.hpBar.value = this._conf[t].confHp,
            Object(v.a)(this.rewardList, this._conf[t].c.reward))
        }
        ,
        e.prototype.itemTap = function(t) {
            this.showBoss(t.itemIndex),
            o.cache.set("GuildBossSelect", t.item.c.id),
            Object(o.put)("select_guild_boss", t.item)
        }
        ,
        e.prototype.record = function() {
            Ae.show()
        }
        ,
        e.prototype.rank = function() {
            We.show()
        }
        ,
        e.prototype.refreshState = function() {
            var t = L.a.getNow();
            this.resetLeft = 0 == this._data.nextTime || this._data.nextTime - t < 0 ? 0 : this._data.nextTime - t,
            this.challengeLeft = 0 == this._data.bossTime ? 0 : this._data.bossTime - t,
            this.timeLeft = 0 == this._data.cdNextTime ? 0 : this._data.cdNextTime - t,
            this.state = !(t > this._data.bossTime),
            this.timeNode.visible = !(t > this._data.bossTime),
            this.btn_open.visible = !this.state,
            this.btn_fight.visible = this.state,
            this.resetLeft > 0 ? this.btn_open.setState("disabled") : this.btn_open.setState("up"),
            this.btn_open.enabled = !(this.resetLeft > 0),
            this.recoverNode.visible = this._data.power < 3,
            this.lbl_chance.text = this._data.power + "/" + this._data.maxPower,
            Object(v.a)(this.bossList, this._conf);
            var e = o.cache.get("GuildBossSelect");
            if (1 != o.cache.get("GuildBossBuyTime"))
                if (t <= this._data.bossTime) {
                    this.lbl_recover.text = o.time.leftCountdown(this.timeLeft, "hh:mm:ss"),
                    this.lbl_time.text = o.time.leftCountdown(this.challengeLeft, "hh:mm:ss");
                    Object(o.singleton)(Re).getBossById(this._data.bossId);
                    this.showBoss(this._data.bossId - 1),
                    o.cache.set("GuildBossSelect", this._conf[this._data.bossId - 1].id),
                    Object(o.put)("select_guild_boss", this._conf[this._data.bossId - 1])
                } else
                    this.showBoss(e - 1);
            else
                o.cache.set("GuildBossBuyTime", !1)
        }
        ,
        e.prototype.addTime = function() {
            return Ye(this, void 0, void 0, (function() {
                var t = this;
                return Je(this, (function(e) {
                    return this._data.power >= this._data.maxPower ? (Object(o.tooltip)(Object(o.tr)("guild@negotiationTimeMax")),
                    [2]) : -1 == this._data.buyGc ? (Object(o.tooltip)(Object(o.tr)("guild@negotiationBuyMax")),
                    [2]) : (Object(o.confirm)({
                        title: Object(o.tr)("common@tip"),
                        text: Object(o.tr)("guild@negotiationBuyTime", {
                            num: 5 - this._data.buyNum,
                            need: this._data.buyGc
                        })
                    }).then((function(e) {
                        "yes" == e && kt.b.hasEnough(kt.c.lingyu, t._data.buyGc) && Object(o.getSocket)().request({
                            route: "gld.aa"
                        }).then((function(t) {
                            o.cache.set("GuildBossBuyTime", !0),
                            Object(o.put)("refresh_guild_challenge")
                        }
                        )).catch(o.errorHandler)
                    }
                    )),
                    [2])
                }
                ))
            }
            ))
        }
        ,
        e.prototype.open = function() {
            return Ye(this, void 0, void 0, (function() {
                var t = this;
                return Je(this, (function(e) {
                    switch (e.label) {
                    case 0:
                        return Object(o.singleton)(r.a).isManager() ? [4, Object(o.confirm)({
                            title: Object(o.tr)("common@tip"),
                            text: Object(o.tr)("guild@isStart")
                        })] : (Object(o.tooltip)(Object(o.tr)("guild@noOpen")),
                        [2]);
                    case 1:
                        return "yes" == e.sent() && Object(o.getSocket)().request({
                            route: "gld.j"
                        }).then((function(e) {
                            t.update()
                        }
                        )).catch(o.errorHandler),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.fight = function() {
            var t = this._conf[this._data.bossId - 1].c.guildLv;
            if (Object(o.singleton)(r.a).p.lv < t)
                Object(o.tooltip)(Object(o.tr)("guild@lvLimit", {
                    num: t
                }));
            else if (this._data.power < 1)
                this.addTime();
            else {
                var e = Object(A.a)();
                0 == this._data.bossGuild || this._data.bossGuild == e.guildId ? (Object(o.getSocket)().request({
                    route: "gld.k"
                }).then((function(t) {
                    Ne.b.show(t.fightLog, !0, 1e3).exit((function(e) {
                        Object(_.a)(new De, t)
                    }
                    ))
                }
                )).catch(o.errorHandler),
                this.update()) : Object(o.tooltip)(Object(o.tr)("guild@challengeFail"))
            }
        }
        ,
        e.prototype.update = function() {
            var t = this;
            Object(o.getSocket)().request({
                route: "gld.i"
            }).then((function(e) {
                o.cache.set("guild_member.getBossList", e),
                t._data = e.l,
                t.refreshState()
            }
            )).catch(o.errorHandler)
        }
        ,
        e.show = function() {
            Object(l.b)([Object(f.a)("monster_json")]).then((function(t) {
                Object(o.getSocket)().request({
                    route: "gld.i"
                }).then((function(t) {
                    o.cache.set("guild_member.getBossList", t),
                    Object(_.a)(new e, t.l),
                    Object(o.put)("guild_boss_open")
                }
                )).catch(o.errorHandler)
            }
            ))
        }
        ,
        e.prototype.onTick = function() {
            this.lbl_time.text = o.time.leftCountdown(this.challengeLeft, "hh:mm:ss"),
            this.challengeLeft > 0 ? this.challengeLeft -= 1 : 0 == this.challengeLeft && 1 == this.switch_1 && (this.switch_1 = !1,
            this.update()),
            this.lbl_recover.text = o.time.leftCountdown(this.timeLeft, "hh:mm:ss"),
            this.timeLeft > 0 ? this.timeLeft -= 1 : 0 == this.timeLeft && 1 == this.switch_2 && this._data.power < 3 && (this.switch_2 = !1,
            this.update())
        }
        ,
        e
    }(o.UIComponent)
      , Ke = n(121)
      , Qe = n(191)
      , Ze = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , tn = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e._array = [],
            e._curType = "1",
            Object(o.setSkin)(e, "ListXianmengShopSkin"),
            e
        }
        return Ze(e, t),
        e.prototype.onReady = function() {
            var t = this;
            this._array = Object(Qe.c)("guild"),
            this.list.itemRenderer = Qe.a,
            this.on("refresh_guildShop", this.refreshView, this),
            this.disposeArr.push(new Ke.a({
                tab: this.subtab,
                array: [{
                    text: Object(o.tr)("guild@shopTab1"),
                    name: "tab1"
                }, {
                    text: Object(o.tr)("guild@shopTab2"),
                    name: "tab2"
                }, {
                    text: Object(o.tr)("guild@shopTab3"),
                    name: "tab3"
                }],
                onSelect: function(e) {
                    return t._curType = e.replace("tab", ""),
                    t.refreshView(),
                    !0
                }
            }))
        }
        ,
        e.prototype.refreshView = function() {
            var t = this
              , e = this._array.filter((function(e) {
                return e.c.label == t._curType
            }
            ));
            Object(v.a)(this.list, e)
        }
        ,
        e.show = function() {
            Object(l.b)(Object(Qe.d)("guild")).then((function() {
                Object(_.a)(new e)
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
      , en = n(156);
    var nn = n(160)
      , on = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , rn = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return on(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.item.showNum = !1,
            this.item.propId = t.itemId,
            this.lbl_num.text = t.num + "",
            this.lbl_num.textColor = 16777215)
        }
        ,
        e
    }(o.Item)
      , an = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return on(e, t),
        e.prototype.onDataUpdate = function(t, e) {
            if (t) {
                this.item.showNum = !1,
                this.item.propId = t.itemId;
                var n = F.e.getNum(t.itemId);
                this.lbl_num.text = n + "/" + t.num,
                Object(en.a)(this.lbl_num, n >= t.num)
            }
        }
        ,
        e
    }(o.Item)
      , sn = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelAllianceTaskSkin"),
            e
        }
        return on(e, t),
        e.prototype.onReady = function() {
            this.list_1.itemRenderer = an,
            this.list_2.itemRenderer = rn,
            this.tap("btn_start", this.onStart, this),
            this.tap("btn_get", this.onGet, this),
            this.tap("btn_adv", (function() {
                nn.d.show({
                    isIcon: !1,
                    type: "guildTask",
                    state: "alliancetask",
                    confId: 16
                })
            }
            ), this),
            this.disposeArr.push(Object(h.b)("仙盟事务激励视频", this.btn_adv)),
            this.on("refresh_advert_success", this.updateView, this),
            this.updateView()
        }
        ,
        e.prototype.onExit = function() {
            this.cd && this.cd.dispose()
        }
        ,
        e.prototype.updateView = function() {
            var t = this
              , e = Object(o.singleton)(r.a).info
              , n = e.id
              , i = e.num;
            this._conf = Object(o.getConfig)("guildTask_json")[n],
            this._condArr = this.getCondArr(),
            this.lbl_desc.text = this._conf.desc,
            this.lbl_title.text = Object(o.tr)(this._conf.name),
            this.lbl_reward.text = Object(o.tr)("guild@taskAwdText", {
                num1: this._conf.getGongDe,
                num2: this._conf.getShengYu,
                num3: this._conf.guildCoin
            }),
            function(t, e) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n]
                      , o = e[n];
                    o.text = i.text,
                    Object(en.a)(o, i.enough)
                }
            }(this._condArr, [this.lbl_term_1]),
            Object(v.a)(this.list_1, this._conf.cost),
            Object(v.a)(this.list_2, this._conf.award),
            this.lbl_times.text = Object(o.tr)("guild@leftTime", {
                time: i
            }),
            this.cd && this.cd.dispose();
            var a = e.time;
            this.btn_start.visible = this.btn_get.visible = this.progress.visible = !1,
            0 == a ? this.btn_start.visible = !0 : L.a.isOver(a) ? this.btn_get.visible = !0 : (this.progress.visible = !0,
            this.cd = new gt.a({
                component: this.progress,
                max: 7200,
                endTime: a,
                complete: function() {
                    t.updateView()
                }
            })),
            this.refreshAdvert()
        }
        ,
        e.prototype.onGet = function() {
            var t = this;
            Object(p.d)("gld.an").then((function(e) {
                e && (j.a.show(e.awds),
                t.updateView())
            }
            ))
        }
        ,
        e.prototype.onStart = function() {
            var t = this;
            Object(o.singleton)(r.a).info.num <= 0 ? Object(o.tooltip)(Object(o.tr)("main@blankLimit")) : this._conf.cost.some((function(t) {
                return !F.e.hasEnough(t.itemId, t.num)
            }
            )) || Object(p.d)("gld.am").then((function(e) {
                e && t.updateView()
            }
            ))
        }
        ,
        e.prototype.getCondArr = function() {
            var t = this._conf.guildLv
              , e = Object(o.singleton)(r.a).p.lv;
            return [{
                text: Object(o.tr)("guild@lvLock", {
                    num: t
                }),
                enough: e >= t
            }]
        }
        ,
        e.prototype.refreshAdvert = function() {
            var t = Object(ft.d)("shareSwitch");
            if (t && t.ids && t.ids.guildTask && it.b.isOpen("advert")) {
                var e = Object(o.singleton)(r.a).info;
                this.btn_adv.visible = t.ids.guildTask.num > 0 && L.a.getNow() > t.ids.guildTask.time && e.num < 3
            } else
                this.btn_adv.visible = !1
        }
        ,
        e.show = function() {
            Object(l.b)([Object(f.a)("guildTask_json")]).then((function() {
                Object(_.a)(new e)
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
      , cn = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , un = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return cn(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && Object(r.c)(this, t)
        }
        ,
        e
    }(o.Item);
    Object(xt.a)("GuildRankItem", un);
    var hn = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , ln = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "XianmengZhanshiSKin"),
            e
        }
        return hn(e, t),
        e.prototype.onReady = function(t, e) {
            Object(r.b)(this.huizhang, t.icon),
            this.xianmengName.text = t.name,
            this.xianmengRank.text = Object(o.tr)("main@rank_n", {
                n: t.rank
            }),
            this.lbl_lv.text = "" + t.lv,
            this.lbl_name.text = "" + t.president,
            this.announce1.text = e.declaration || Object(o.tr)("guild@noXuanyan"),
            Object(c.f)(e.uSkin, this.role, {
                cloth: c.a.body,
                eye: c.b.open
            })
        }
        ,
        e.show = function(t) {
            Object(p.d)("gld.ap", {
                id: t.id
            }).then((function(n) {
                n && Object(_.a)(new e, t, n)
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
      , pn = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , fn = function(t) {
        function e(e, n) {
            var i = t.call(this) || this;
            return i.rankType = e,
            i.proxyData = n,
            Object(o.setSkin)(i, "XianmengRankSkin"),
            i
        }
        return pn(e, t),
        e.prototype.onReady = function() {
            this.list_rank.itemRenderer = un,
            Object(v.a)(this.list_rank, this.proxyData.l);
            var t = Object(o.singleton)(r.a).p;
            this.proxyData.self.name = t.name,
            this.proxyData.self.mNum = t.mNum,
            this.proxyData.self.mMaxNum = t.mMaxNum,
            this.proxyData.self.icon = t.icon,
            this.proxyData.self.lv = t.lv,
            this.me.setData(this.proxyData.self),
            this.setAwdBtn(),
            this.tap("btn_1", this.onAwd, this),
            this.disposeArr.push(Object(y.c)(this.list_rank, this.onGuildDetail, this))
        }
        ,
        e.prototype.setAwdBtn = function() {
            this.btn_1.enabled = -1 == Object(A.a)("rankWorship").indexOf("family")
        }
        ,
        e.prototype.onGuildDetail = function() {
            this.list_rank.selectedItem && ln.show(this.list_rank.selectedItem)
        }
        ,
        e.prototype.onAwd = function() {
            var t = this;
            Object(A.a)("rankWorship").indexOf("family") > -1 ? Object(o.tooltip)(Object(o.tr)("guild@rankAwded")) : Object(p.d)("r.e", {
                type: "family"
            }).then((function(e) {
                e && (t.setAwdBtn(),
                j.a.show(e.awds))
            }
            ))
        }
        ,
        e.show = function(t) {
            Object(l.b)([e.getData(t)]).then((function(n) {
                Object(_.a)(new e(t,n[0]))
            }
            ))
        }
        ,
        e.getData = function(t) {
            var e = this;
            return this.rankData[t] && !L.a.isOver(this.rankData[t].ext) ? Promise.resolve(this.rankData[t]) : Object(p.d)("r.a", {
                type: t
            }).then((function(n) {
                if (n)
                    return e.rankData[t] = n,
                    n
            }
            ))
        }
        ,
        e.rankData = {},
        e
    }(o.UIComponent)
      , dn = n(148)
      , bn = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , gn = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return bn(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (t) {
                var e = Object(o.getConfig)("guildWarBuff_json")[t.id];
                this.lbl_name.text = Object(o.tr)(e.name),
                this.lbl_limit.visible = 1 == e.leader,
                this.lbl_desc.text = Object(o.tr)(e.desc, {
                    num: Math.floor(100 * e.value) + "%"
                });
                var n = Object(o.singleton)(xi).p;
                1 == e.leader ? (this.lbl_num.text = n.gBuff[e.effect] + "/" + e.totalTimes,
                this.btn_buy.enabled = n.gBuff[e.effect] < e.totalTimes) : (this.lbl_num.text = n.meBuff[e.effect] + "/" + e.totalTimes,
                this.btn_buy.enabled = n.meBuff[e.effect] < e.totalTimes),
                this.btn_buy.label = e.costNum,
                "atk" == e.effect ? this.img_icon.source = "icon_guildBattle_buff_1_png" : this.img_icon.source = "icon_guildBattle_buff_2_png"
            }
        }
        ,
        e.prototype.onReady = function() {
            this.tap("btn_buy", this.doBuy, this)
        }
        ,
        e.prototype.doBuy = function() {
            var t = this;
            if (Object(o.singleton)(xi).canOperate()) {
                var e = Object(o.getConfig)("guildWarBuff_json")[this.data.id]
                  , n = {
                    buff: e.effect,
                    type: 1
                };
                if (1 == e.leader) {
                    if (n.type = 2,
                    !Object(o.singleton)(xi).isPrepare())
                        return void Object(o.tooltip)(Object(o.tr)("guild@battleBuffAuth"));
                    if (!Object(o.singleton)(r.a).isManager())
                        return void Object(o.tooltip)(Object(o.tr)("guild@battleBuffAuth1"))
                } else {
                    if (0 == dn.a.getEnableList().length)
                        return void Object(o.tooltip)(Object(o.tr)("main@noHero"))
                }
                Object(o.confirm)(Object(o.tr)("guild@battleBuffConfirm", {
                    num: e.costNum
                })).then((function(i) {
                    "yes" == i && kt.b.hasEnough(e.costItemId, e.costNum) && a.c.buyBuff(n, (function() {
                        t.onDataUpdate(t.data)
                    }
                    ), t)
                }
                ))
            } else
                Object(o.tooltip)(Object(o.tr)("guild@battleBuffAuth2"))
        }
        ,
        e
    }(o.Item)
      , _n = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelGuildBattleBuffSkin"),
            e
        }
        return bn(e, t),
        e.prototype.onReady = function() {
            var t = Object(o.singleton)(xi).buffList();
            this.list.itemRenderer = gn,
            Object(v.a)(this.list, t)
        }
        ,
        e.show = function() {
            Object(l.b)([Object(f.a)("guildWarBuff_json")]).then((function() {
                Object(_.a)(new e)
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
      , mn = n(142)
      , yn = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , vn = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return yn(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (t.buff && (t.buff.atk > 0 || t.buff.hp > 0) ? (this.setState("buff"),
            this.img_buff1.visible = !1,
            this.img_buff2.visible = !1,
            this.lbl_buff1.visible = !1,
            this.lbl_buff2.visible = !1,
            t.buff.atk > 0 && (this.img_buff1.visible = !0,
            this.lbl_buff1.visible = !0,
            this.lbl_buff1.text = Object(o.singleton)(xi).getBuffValue("atk", t.buff.atk)),
            t.buff.hp > 0 && (this.img_buff2.visible = !0,
            this.lbl_buff2.visible = !0,
            this.lbl_buff2.text = Object(o.singleton)(xi).getBuffValue("hp", t.buff.hp))) : this.setState("noBuff"),
            this.lbl_name.text = t.name,
            this.lbl_pos.text = Object(mn.e)(t.role),
            this.lbl_ex.text = "+" + [30, 20, 10, 0][t.role - 1] + "%",
            this.lbl_cb.text = "" + t.score,
            this.lbl_fp.text = "" + t.heroFp,
            this.lbl_defender.visible = this.lbl_defender.includeInLayout = 1 == t.isDefend)
        }
        ,
        e
    }(o.Item)
      , On = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , jn = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "GuildBattleMyInfoSkin"),
            e
        }
        return On(e, t),
        e.prototype.onReady = function(t) {
            this.addBehavior(new s.a);
            var e = Object(o.singleton)(r.a).p;
            Object(r.b)(this.img_myIcon, e.icon),
            this.list.itemRenderer = vn,
            t.l.sort((function(t, e) {
                return t.heroFp == e.heroFp ? t.role - e.role : e.heroFp - t.heroFp
            }
            )),
            Object(v.a)(this.list, t.l),
            this.tap("btn_buff", this.addBuff, this)
        }
        ,
        e.prototype.addBuff = function() {
            _n.show()
        }
        ,
        e.show = function() {
            a.c.myInfo((function(t) {
                Object(_.a)(new e, t)
            }
            ), this)
        }
        ,
        e
    }(o.UIComponent)
      , wn = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }();
    function xn(t, e) {
        Object(x.a)(t.img_top, t.lbl_top, e.rank),
        e.sId ? t.lbl_name.text = e.name + Object(mn.w)(e.sId) : e.guildId == Object(A.a)("guildId") ? t.lbl_name.text = e.name + Object(o.tr)("guild@guildName", {
            name: Object(mn.a)(Object(o.singleton)(r.a).p.name)
        }) : t.lbl_name.text = e.name + Object(o.tr)("guild@guildName", {
            name: Object(mn.a)(Object(o.singleton)(xi).p1.dGuild.name)
        }),
        t.lbl_num.text = e.score + ""
    }
    var kn, In = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return wn(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (t.rank = this.itemIndex + 1,
            xn(this, t))
        }
        ,
        e
    }(o.Item), Pn = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelGuildBattleRankSkin"),
            e
        }
        return wn(e, t),
        e.prototype.onReady = function(t, e) {
            "all" == e ? (this.lbl_nameType.text = Object(o.tr)("guild@battleRank1"),
            this.lbl_pointType.text = Object(o.tr)("guild@battleRank2")) : (this.lbl_nameType.text = Object(o.tr)("guild@battleRank3"),
            this.lbl_pointType.text = Object(o.tr)("guild@battleRank4")),
            this.list.itemRenderer = In,
            Object(v.a)(this.list, t.l),
            xn(this.self, t.self)
        }
        ,
        e.show = function(t) {
            if (void 0 === t && (t = "all"),
            "me" == t) {
                var n = Object(o.singleton)(xi).p1;
                n.self.name = Object(A.a)("uNa"),
                n.self.guildId = Object(A.a)("guildId"),
                Object(_.a)(new e, n, t)
            } else
                a.c.totalRank((function(n) {
                    n.self.name = Object(o.singleton)(r.a).p.name,
                    n.self.sId = Object(A.a)("sId"),
                    Object(_.a)(new e, n, t)
                }
                ), this)
        }
        ,
        e
    }(o.UIComponent), Cn = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), Sn = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(K.b)("xmBattle", e),
            Object(o.setSkin)(e, "GuildBattlePrepareSkin"),
            e
        }
        return Cn(e, t),
        e.prototype.onReady = function() {
            this.addBehavior(new s.a),
            this.tap("btn_help", this.onHelp, this),
            this.tap("btn_rank", this.onRank, this),
            this.tap("btn_buff", this.onBuff, this),
            this.tap("btn_myGuild", this.onMyGuild, this),
            o.cache.onChange("GuildWar.getInfo", this.refreshView, this, this.disposeArr),
            this.refreshView(),
            this.dataChange()
        }
        ,
        e.prototype.onExit = function() {
            this.doDispose()
        }
        ,
        e.prototype.doDispose = function() {
            this.countDown && (this.countDown.dispose(),
            this.countDown = null),
            this.tick && (this.tick.dispose(),
            this.tick = null)
        }
        ,
        e.prototype.dataChange = function() {
            this.doDispose();
            var t = Object(o.singleton)(xi).p
              , e = "";
            -1 == t.rivalId ? e = Object(o.tr)("guild@battleTip1") : 0 == t.rivalId ? e = Object(o.tr)("guild@battleTip2") : t.nextStatus == kn.wait ? e = t.status == kn.prepare1 || t.status == kn.prepare2 ? Object(o.tr)("guild@battleTime1") : Object(o.tr)("guild@battleTime4") : t.nextStatus == kn.finish ? e = Object(o.tr)("guild@battleTime4") : t.nextStatus == kn.prepare1 || t.nextStatus == kn.prepare2 ? e = Object(o.tr)("guild@battleTime2") : t.nextStatus != kn.fight1 && t.nextStatus != kn.fight2 || (e = Object(o.tr)("guild@battleTime3")),
            this.countDown = new gt.a({
                component: this.lbl_time,
                endTime: t.leftTime,
                trKey: e,
                complete: this.complete.bind(this)
            }),
            t.pLeftTime && (this.tick = Object(o.setTimeout)(this.complete1, this, 1e3 * (t.pLeftTime - L.a.getNow() + 3)))
        }
        ,
        e.prototype.complete = function() {
            a.c.battleInfo(this.dataChange, this, !0)
        }
        ,
        e.prototype.complete1 = function() {
            var t = this;
            a.c.battleInfo((function() {
                o.UI.remove(t),
                Object(o.singleton)(xi).enterScene()
            }
            ), this, !0)
        }
        ,
        e.prototype.refreshView = function() {
            var t = Object(o.singleton)(xi)
              , e = Object(o.singleton)(r.a).p;
            Object(r.b)(this.img_myIcon, e.icon),
            this.lbl_myName1.text = Object(mn.a)(e.name) + Object(mn.w)(Object(A.a)("sId")),
            this.lbl_myLv1.text = e.lv,
            this.lbl_myLv2.text = "" + e.lv,
            this.lbl_myName2.text = Object(mn.a)(e.name),
            this.lbl_myBuff3.text = t.getBuffValue("atk", t.p.gBuff.atk),
            this.lbl_myBuff4.text = t.getBuffValue("hp", t.p.gBuff.hp)
        }
        ,
        e.prototype.onHelp = function() {
            Object(_.a)(new Tt)
        }
        ,
        e.prototype.onRank = function() {
            Pn.show()
        }
        ,
        e.prototype.onBuff = function() {
            Object(o.singleton)(xi).able() && _n.show()
        }
        ,
        e.prototype.onMyGuild = function() {
            if (Object(o.singleton)(xi).able()) {
                var t = Object(o.singleton)(xi).p;
                t.nextStatus != kn.prepare1 && t.nextStatus != kn.prepare2 ? jn.show() : Object(o.tooltip)(Object(o.tr)("guild@battleTip3"))
            }
        }
        ,
        e.show = function() {
            Object(_.a)(new e)
        }
        ,
        e
    }(o.UIComponent), Rn = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), Tn = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return Rn(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (Object(m.e)(this, t),
            this.btn_do.visible = !0,
            this.btn_cure.visible = !1,
            this.lbl_over.visible = !1)
        }
        ,
        e.prototype.onReady = function() {
            this.tap("btn_do", this.onFight, this)
        }
        ,
        e.prototype.onFight = function() {
            Object(o.put)("guild_fight_select", this.data),
            o.UI.remove("GuildBattleHeroChangeView")
        }
        ,
        e
    }(o.Item), Ln = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "XiaoshijieChoosePersonSkin"),
            e
        }
        return Rn(e, t),
        e.prototype.onReady = function(t) {
            this.setName("GuildBattleHeroChangeView"),
            this.list.itemRenderer = Tn;
            var e = Object(o.singleton)(xi).p1
              , n = dn.a.getEnableList();
            (n = 1 == t ? n.filter((function(t) {
                return -1 == e.heroIds.indexOf(t.c.id)
            }
            )) : n.filter((function(t) {
                return -1 == e.gcHeroIds.indexOf(t.c.id)
            }
            ))).sort((function(t, e) {
                return e.power - t.power
            }
            )),
            Object(v.a)(this.list, n)
        }
        ,
        e.show = function(t) {
            Object(_.a)(new e, t)
        }
        ,
        e
    }(o.UIComponent), An = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, Mn = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, Nn = function() {
        function t(t) {
            this._p = t;
            var e = t.id / 100 >> 0
              , n = Object(o.getConfig)("heroDebate_json")[e];
            if (n)
                for (var i = n.detail, r = void 0, a = void 0, s = 0; s < i.length; s++) {
                    r = i[s].buff;
                    for (var c = 0; c < r.length; c++)
                        if (r[c].buffId == t.id) {
                            a = !0,
                            this._c = r[c];
                            break
                        }
                    if (a) {
                        this._cost = {
                            itemId: i[s].costItemId2,
                            num: i[s].costNum
                        };
                        break
                    }
                }
        }
        return Object.defineProperty(t.prototype, "p", {
            get: function() {
                return this._p
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "c", {
            get: function() {
                return this._c
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "cost", {
            get: function() {
                return this._cost
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }(), Bn = function() {
        function t() {}
        return Object.defineProperty(t, "ins", {
            get: function() {
                return Object(o.singleton)(t)
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.checkRes = function() {
            return An(this, void 0, void 0, (function() {
                return Mn(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Object(l.b)([Object(f.a)("hero_json"), Object(f.a)("heroDebate_json"), Object(f.b)("eui_pvps_json")].concat(Object(d.a)("hero_1&hero_2")))];
                    case 1:
                        return [2, t.sent()]
                    }
                }
                ))
            }
            ))
        }
        ,
        Object.defineProperty(t.prototype, "info", {
            get: function() {
                return Object(o.getCache)("GuildWar.battleInfo", "going")
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "buffList", {
            get: function() {
                return this.info.buffs.map((function(t) {
                    return new Nn(t)
                }
                ))
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "buffBought", {
            get: function() {
                for (var t = this.info.buffs, e = 0; e < t.length; e++)
                    if (t[e].buy)
                        return !0;
                return !1
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }(), En = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), Dn = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, Gn = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, Vn = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "LundaoBuySkin"),
            e
        }
        return En(e, t),
        e.prototype.onReady = function() {
            this.list.itemRenderer = Un,
            this.updateView(Bn.ins.info),
            this.on("buy_gb_addition", this.buy, this)
        }
        ,
        e.prototype.updateView = function(t) {
            this.lbl_xianyu.text = Object(A.a)("gc");
            var e = Object(o.singleton)(xi).p1;
            this.lbl_lundaozhu.text = e.yu + "",
            this.img_cash.source = "item_20031_png",
            Object(v.a)(this.list, Bn.ins.buffList),
            this.lbl_atk.text = this.getBuffTotal("atk") + "%",
            this.lbl_def.text = this.getBuffTotal("harmless") + "%",
            this.pb_hp.labelDisplay.visible = !1,
            this.pb_hp.value = Bn.ins.info.hp / Bn.ins.info.maxHp * 100,
            this.lbl_hp.text = Bn.ins.info.hp,
            this.disposeArr.push(Object(y.a)(this.btn_never, eui.UIEvent.CHANGE, this.setOpenBuy, this)),
            "1" != Object(w.d)("PVP_showGuildBattleAddition") ? this.btn_never.selected = !1 : this.btn_never.selected = !0
        }
        ,
        e.prototype.setOpenBuy = function() {
            var t = this.btn_never.selected ? "1" : "2";
            Object(w.H)("PVP_showGuildBattleAddition", t)
        }
        ,
        e.prototype.onExit = function() {
            this.setOpenBuy(),
            t.prototype.onExit.call(this)
        }
        ,
        e.prototype.getBuffTotal = function(t) {
            var e = Bn.ins.info.hasBuffs[t] ? Bn.ins.info.hasBuffs[t] : 0;
            return e = Object(O.mul)(e, 100) >> 0
        }
        ,
        e.prototype.buy = function(t) {
            var e = this;
            Object(p.d)("gldw.j", {
                id: t.p.id
            }).then((function(t) {
                t && (Object(o.put)("update_guildbattlebuff"),
                o.UI.remove(e))
            }
            ))
        }
        ,
        e.show = function(t) {
            return Dn(this, void 0, void 0, (function() {
                var n;
                return Gn(this, (function(i) {
                    return 1 == t && (n = Object(o.getConfig)("heroDebate_json")[t].detail),
                    Object(_.a)(new e, n),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent), Un = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return En(e, t),
        e.prototype.onReady = function() {
            this.tap("btn_buy", this.onBuy, this)
        }
        ,
        e.prototype.onBuy = function() {
            var t = this
              , e = Object(o.singleton)(xi).p1;
            20031 == this.data.cost.itemId ? e.yu < this.data.cost.num ? Object(o.tooltip)(Object(o.tr)("main@itemNotEnough2")) : Object(o.confirm)(Object(o.tr)("guild@buyBuff", {
                attr: Object(o.tr)(this.data.c.name),
                name: kt.b.getName(this.data.cost.itemId),
                num: this.data.cost.num
            })).then((function(e) {
                "yes" == e && Object(o.put)("buy_gb_addition", t.data)
            }
            )) : kt.b.hasEnough(this.data.cost.itemId, this.data.cost.num) && Object(o.confirm)(Object(o.tr)("guild@buyBuff", {
                attr: Object(o.tr)(this.data.c.name),
                name: kt.b.getName(this.data.cost.itemId),
                num: this.data.cost.num
            })).then((function(e) {
                "yes" == e && Object(o.put)("buy_gb_addition", t.data)
            }
            ))
        }
        ,
        e.prototype.onDataUpdate = function(t) {
            if (t) {
                this.lbl_name.text = t.c.name,
                this.lbl_desc.text = Object(o.tr)(t.c.desc, {
                    num: 100 * t.p.pro >> 0
                }),
                this.img_type.source = "icon_lundao_buy_" + t.c.icon + "_png",
                this.icon_prop.source = Object(k.b)(t.cost.itemId),
                this.lbl_num.text = t.cost.num;
                var e = t.p.buy;
                this.icon_bought.visible = e,
                this.btn_buy.visible = !e,
                this.btn_buy.enabled = !Bn.ins.buffBought
            }
        }
        ,
        e
    }(o.Item), Hn = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), Fn = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, zn = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, qn = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelGuildBattleFightResultSkin"),
            e
        }
        return Hn(e, t),
        e.prototype.onReady = function(t) {
            this.__data = t,
            this._fightLog = t.fightLog,
            this.currentState = t.fightLog.w ? "win" : "fail",
            this.lbl_desc.text = Object(o.tr)("guild@resultDesc", {
                num: t.totalScore
            }),
            this.lbl_num.text = "+" + t.score,
            this.lbl_yu.text = "+" + t.yu
        }
        ,
        e.prototype.onExit = function() {
            this.__data.end ? console.log("打完了") : hi.show(!0),
            o.UI.remove(Jn),
            t.prototype.onExit.call(this)
        }
        ,
        e.show = function(t) {
            return Fn(this, void 0, void 0, (function() {
                return zn(this, (function(n) {
                    return Object(_.a)(new e, t),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent), Wn = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), Xn = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, Yn = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, Jn = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "LundaoPVPSkin"),
            e
        }
        return Wn(e, t),
        e.prototype.onReady = function(t) {
            this.__data = t,
            this._fightLog = t.fightLog,
            this.setRole(this._fightLog.f.atk, !0),
            this.setRole(this._fightLog.f.def, !1),
            this.start(),
            this.tap("btn_skip", this.onSkip, this)
        }
        ,
        e.prototype.setRole = function(t, e) {
            var n = dn.a.create(t.hId)
              , i = e ? "1" : "2";
            this["lbl_name" + i].text = n.c.name,
            this["lbl_lv" + i].text = t.lv,
            this["pb_hp" + i].maximum = t.attr.maxHp,
            this["pb_hp" + i].value = t.attr.hp,
            Object(m.d)(this, t.skinId || t.hId, "full", i + "_1"),
            this["talk" + i].visible = !1
        }
        ,
        e.prototype.start = function() {
            return Xn(this, void 0, void 0, (function() {
                var t;
                return Yn(this, (function(e) {
                    switch (e.label) {
                    case 0:
                        return [4, o.functions.delay(500)];
                    case 1:
                        if (e.sent(),
                        this.img_start.visible = !1,
                        this._skip)
                            return [2];
                        t = 1,
                        e.label = 2;
                    case 2:
                        return this._fightLog.s[t] ? this._skip ? [2] : this._fightLog.s[t].a ? (this.atk(this._fightLog.s[t].a, !0),
                        [4, o.functions.delay(1e3)]) : [3, 4] : [3, 7];
                    case 3:
                        e.sent(),
                        e.label = 4;
                    case 4:
                        return this._skip ? [2] : this._fightLog.s[t].d ? (this.atk(this._fightLog.s[t].d, !1),
                        [4, o.functions.delay(1e3)]) : [3, 6];
                    case 5:
                        e.sent(),
                        e.label = 6;
                    case 6:
                        return t++,
                        [3, 2];
                    case 7:
                        return this._skip ? [2] : [4, o.functions.delay(500)];
                    case 8:
                        return e.sent(),
                        this._skip ? [2] : (this._end = !0,
                        qn.show(this.__data),
                        [2])
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.atk = function(t, e) {
            var n = e ? "1" : "2"
              , i = e ? "2" : "1";
            egret.Tween.get(this["pb_hp" + i]).to({
                value: t.ls
            }, 1e3),
            this.playAni(t.zs, e),
            this["talk" + i].visible = !1,
            this.talk(n, t.zs)
        }
        ,
        e.prototype.talk = function(t, e) {
            var n = {
                travel: Object(o.tr)("guild@skill_travel"),
                atk: Object(o.tr)("guild@skill_atk"),
                matk: Object(o.tr)("guild@skill_matk"),
                datk: Object(o.tr)("guild@skill_datk")
            };
            this["lbl_talk" + t].text = n[e],
            this["talk" + t].visible = !0
        }
        ,
        e.prototype.playAni = function(t, e) {
            this._aMv || (this._aMv = o.Movie.create("lundaoatk_ske_json", !0)),
            this._dMv || (this._dMv = o.Movie.create("lundaoatk_ske_json", !0),
            this._dMv.scaleY = -1);
            var n = e ? this._aMv : this._dMv;
            this._dMv.scaleX = -1,
            this.ani.addChild(n),
            n.play({
                travel: "4",
                atk: "1",
                matk: "2",
                datk: "3"
            }[t], 1)
        }
        ,
        e.prototype.onSkip = function() {
            egret.Tween.removeTweens(this.pb_hp1),
            egret.Tween.removeTweens(this.pb_hp2),
            this._aMv && (this._aMv.dispose(),
            this._aMv = null),
            this._dMv && (this._dMv.dispose(),
            this._dMv = null),
            this._end || this._skip || (this._skip = !0,
            qn.show(this.__data))
        }
        ,
        e.prototype.onExit = function() {
            this.onSkip(),
            t.prototype.onExit.call(this)
        }
        ,
        e.show = function(t) {
            return Xn(this, void 0, void 0, (function() {
                return Yn(this, (function(n) {
                    return Object(_.a)(new e, t),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent), $n = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), Kn = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, Qn = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, Zn = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelOneKeyLundaoResultSkin"),
            e
        }
        return $n(e, t),
        e.prototype.onReady = function(t, e) {
            var n = this;
            t.winNum <= 0 && this.setState("fail"),
            this.list2.itemRenderer = PropListItem,
            this.list1.itemRenderer = ti,
            this.list3.itemRenderer = ei,
            this.lbl_verdict.text = Object(o.tr)("main@heroBattle", {
                name: e,
                num: t.winNum
            });
            var i = [{
                score: t.score
            }];
            t.awds && (i = i.concat(t.awds)),
            Object(v.a)(this.list1, i),
            Object(v.a)(this.list2, t.show),
            this.tap("btn_help", (function() {
                Object(w.J)(n.gp_help)
            }
            ), this),
            t.cost ? (this.gp_xiaohao.visible = !0,
            Object(v.a)(this.list3, t.cost)) : this.gp_xiaohao.visible = !1
        }
        ,
        e.prototype.onExit = function() {
            Object(o.put)("update_PVPSMain"),
            o.UI.remove(hi),
            t.prototype.onExit.call(this)
        }
        ,
        e.show = function(t, n) {
            return Kn(this, void 0, void 0, (function() {
                return Qn(this, (function(i) {
                    return Object(_.a)(new e, t, n),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent), ti = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return $n(e, t),
        e.prototype.onReady = function() {
            this.lbl_value.textColor = 16777215
        }
        ,
        e.prototype.onDataUpdate = function(t) {
            if (t)
                if (t.hasOwnProperty("score")) {
                    var e = t.score < 0 ? "main@score_minus" : "main@score_add";
                    this.lbl_value.text = Object(o.tr)(e, {
                        num: t.score
                    })
                } else
                    t.propId && (this.lbl_value.text = Object(o.tr)("main@name_num_add", {
                        name: F.e.getName(t.propId),
                        num: t.num
                    }))
        }
        ,
        e
    }(o.Item), ei = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return $n(e, t),
        e.prototype.onReady = function() {
            this.lbl_value.textColor = 16777215
        }
        ,
        e.prototype.onDataUpdate = function(t) {
            t && t.propId ? this.lbl_value.text = Object(o.tr)("main@name_num_minus", {
                name: F.e.getName(t.propId),
                num: t.num
            }) : this.lbl_value.text = ""
        }
        ,
        e
    }(o.Item), ni = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), ii = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, oi = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, ri = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            return n.COST_PROP_ID = 10543,
            Object(o.setSkin)(n, "PanelOneKeyLundaoSkin"),
            n._heroName = e,
            n
        }
        return ni(e, t),
        e.prototype.onReady = function(t, e) {
            this._did = t,
            this.lbl_title.text = e.title ? e.title : "",
            this.lbl_desc_1.text = e.desc1 ? e.desc1 : "",
            this.lbl_desc_2.text = e.desc2 ? e.desc2 : "",
            this.lbl_desc_3.text = e.desc3 ? e.desc3 : "",
            this.radio_1.label = e.radio1 ? e.radio1 : "",
            this.radio_2.label = e.radio2 ? e.radio2 : "",
            this.radio_3.label = e.radio3 ? e.radio3 : "";
            var n = this.radio_1.group;
            this.tap("btn_ok", this.onOK, this),
            this.disposeArr.push(Object(y.a)(n, egret.Event.CHANGE, this.onRadioGroup, this))
        }
        ,
        e.prototype.onRadioGroup = function(t) {
            console.log(t.target.selectedValue)
        }
        ,
        e.prototype.onOK = function() {
            var t = this
              , e = +this.radio_1.group.selectedValue;
            F.e.hasEnough(this.COST_PROP_ID, 1) && (0 != this._did ? Object(p.d)("gldw.l", {
                id: this._did,
                buyType: e
            }).then((function(e) {
                e && (Zn.show(e, t._heroName),
                o.UI.remove(t))
            }
            )) : (Object(o.tooltip)(Object(o.tr)("main@dataYichang")),
            console.log("<<<===一键论道异常===>>>"),
            o.UI.remove(this)))
        }
        ,
        e.show = function(t, n, i) {
            return ii(this, void 0, void 0, (function() {
                return oi(this, (function(o) {
                    return Object(_.a)(new e(i), t, n),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent), ai = n(272), si = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), ci = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, ui = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, hi = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "LundaoPreapareSkin"),
            e
        }
        return si(e, t),
        e.prototype.onReady = function() {
            (o.is.xyx() || Object(o.getOption)("xyx")) && this.setState("xyx"),
            this.lbl_desc1.visible = !1,
            this.lbl_desc2.visible = !1,
            this.list.itemRenderer = li,
            this.setRole(dn.a.getBycId(Bn.ins.info.sId)),
            this.setSelectEnemy(Bn.ins.info.def.fHids),
            this.updateBuff(),
            this.tap("btn_buy", this.onOpenBuy, this),
            this.btn_auto.visible = it.b.isOpen("autoWeidao"),
            this.tap("btn_auto", this.onOneKey, this),
            this.disposeArr.push(Object(y.c)(this.list, this.onSelectEnemy, this)),
            this.on("update_guildbattlebuff", this.updateBuff, this),
            this.onBuy()
        }
        ,
        e.prototype.onOneKey = function() {
            var t = Object(o.singleton)(xi).p
              , e = t.leftTime - L.a.getNow();
            t.nextStatus == kn.wait && e < 7200 && e > 0 ? Object(o.tooltip)(Object(o.tr)("main@autoLundaoWarn")) : ri.show(Bn.ins.info.def.eId, {
                title: Object(o.tr)("guild@autoTitle"),
                desc1: Object(o.tr)("guild@autoDesc1"),
                desc2: Object(o.tr)("guild@autoDesc2"),
                desc3: Object(o.tr)("guild@autoDesc3"),
                radio1: Object(o.tr)("guild@autoRadio1"),
                radio2: Object(o.tr)("guild@autoRadio2"),
                radio3: Object(o.tr)("guild@autoRadio3")
            }, "")
        }
        ,
        e.prototype.setSelectEnemy = function(t) {
            var e = Bn.ins.info.def;
            this.lbl_name.text = e.eName,
            this.lbl_yourScore.text = e.ldScore,
            this.lbl_num.text = e.heroNum - e.dieNum + "/" + e.heroNum,
            t.forEach((function(t) {
                t.c = Object(o.getConfig)("hero_json")[t.cId]
            }
            )),
            Object(v.a)(this.list, t)
        }
        ,
        e.prototype.setRole = function(t) {
            Object(m.d)(this, t.p.skin, "full", "1"),
            this.lbl_lv.text = t.p.lv,
            this.lbl_xianpu.text = t.c.name,
            this.lbl_zz.text = t.zizhi,
            this.lbl_myScore.text = Bn.ins.info.score
        }
        ,
        e.prototype.getBuffTotal = function(t) {
            var e = Bn.ins.info.hasBuffs[t] ? Bn.ins.info.hasBuffs[t] : 0;
            return e = Object(ai.c)(e, 100) >> 0
        }
        ,
        e.prototype.updateBuff = function() {
            this.lbl_atk.text = this.getBuffTotal("atk") + "%",
            this.lbl_def.text = this.getBuffTotal("harmless") + "%",
            this.pb_hp.labelDisplay.visible = !1,
            this.pb_hp.value = Bn.ins.info.hp / Bn.ins.info.maxHp * 100,
            this.lbl_hp.text = Bn.ins.info.hp
        }
        ,
        e.prototype.onBuy = function() {
            "1" != Object(w.d)("PVP_showGuildBattleAddition") && Vn.show(1)
        }
        ,
        e.prototype.onOpenBuy = function() {
            Vn.show(1)
        }
        ,
        e.prototype.onSelectEnemy = function() {
            var t = this
              , e = this.list.selectedItem;
            if (e) {
                var n = e.p && e.p.cId ? e.p.cId : e.c.id;
                Object(p.d)("gldw.f", {
                    id: n
                }).then((function(e) {
                    e && (Jn.show(e),
                    o.UI.remove(t))
                }
                ))
            }
        }
        ,
        e.show = function(t) {
            return ci(this, void 0, void 0, (function() {
                return ui(this, (function(n) {
                    return t ? Object(_.a)(new e) : Bn.ins.checkRes().then((function() {
                        Object(_.a)(new e)
                    }
                    )),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent), li = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return si(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && t.c && (this.lbl_name.text = Object(o.tr)(t.c.name),
            console.log(t),
            t.skin && Object(m.d)(this, t.skin, "VHalf"),
            this.img_stage.source = t.star ? "icon_xianpu_prop_lv" + t.star + "_png" : "icon_xianpu_prop_lv0_png",
            this.img_bg.source = "item_xianpu_back_" + t.c.quality + "_png",
            this.img_zz.source = "bottom_xianpu_name_" + t.c.quality + "_png")
        }
        ,
        e
    }(o.Item), pi = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), fi = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return pi(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (Object(I.a)(this.img_head, t.skin),
            t.fightNum > 0 ? (this.doneNode.visible = !0,
            this.btn_fight.visible = !1) : (this.doneNode.visible = !1,
            this.btn_fight.visible = !0),
            this.lbl_name.text = t.name,
            this.lbl_pos.text = Object(mn.e)(t.role),
            this.lbl_stage.text = Object(o.getConfig)("level_json")[t.lv].name,
            this.lbl_cb.text = "" + t.score,
            this.lbl_fp.text = "" + t.heroFp)
        }
        ,
        e.prototype.onReady = function() {
            this.tap("btn_fight", this.fight, this)
        }
        ,
        e.prototype.fight = function() {
            Object(o.singleton)(xi).canFight() ? Object(o.singleton)(xi).p1.num <= 0 ? Object(o.tooltip)(Object(o.tr)("guild@numLimit")) : (Object(o.singleton)(xi).enemyInfo(this.data),
            Ln.show(1)) : Object(o.tooltip)(Object(o.tr)("guild@battleBuffAuth3"))
        }
        ,
        e
    }(o.Item), di = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "GuildBattleEnemyInfoSkin"),
            e
        }
        return pi(e, t),
        e.prototype.onReady = function() {
            var t = o.cache.get("GuildWar.getEnemys");
            this.addBehavior(new s.a);
            var e = Object(o.singleton)(xi).p1;
            Object(r.b)(this.img_enemyIcon, e.dGuild.icon),
            this.lbl_chance.text = "" + e.num,
            this.list.itemRenderer = fi,
            t.l.sort((function(t, e) {
                return t.heroFp == e.heroFp ? t.role - e.role : e.heroFp - t.heroFp
            }
            )),
            Object(v.a)(this.list, t.l),
            this.tap("btn_exFight", this.exFight, this),
            this.on("guild_fight_select", this.doFight, this)
        }
        ,
        e.prototype.doFight = function(t) {
            var e = this;
            o.UI.remove(this),
            console.log(t);
            var n = Object(o.singleton)(xi).enemy
              , i = {
                hId: t.c.id
            };
            n ? (console.log("主动打"),
            i.tId = n.uId,
            i.type = 0,
            a.c.battleFight(i, (function(t) {
                hi.show()
            }
            ), this)) : Object(o.confirm)(Object(o.tr)("guild@battleConfirm")).then((function(t) {
                if ("yes" == t) {
                    if (!kt.b.hasEnough(kt.c.lingyu, 10))
                        return;
                    i.tId = 0,
                    i.type = 1,
                    console.log("随机打"),
                    a.c.battleFight(i, (function(t) {
                        hi.show()
                    }
                    ), e)
                }
            }
            ))
        }
        ,
        e.prototype.exFight = function() {
            Object(o.singleton)(xi).canFight() ? (Object(o.singleton)(xi).enemyInfo(null),
            Ln.show(2)) : Object(o.tooltip)(Object(o.tr)("guild@battleBuffAuth3"))
        }
        ,
        e.show = function() {
            var t = Object(o.singleton)(xi).p1;
            t.going && t.going.eId > 0 && Object(o.singleton)(xi).canFight() ? hi.show() : a.c.enemyInfo((function() {
                Object(_.a)(new e)
            }
            ), this)
        }
        ,
        e
    }(o.UIComponent), bi = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), gi = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return bi(e, t),
        e.prototype.onDataUpdate = function(t, e) {
            if (t) {
                t.minRank == t.maxRank ? this.lbl_rank.text = Object(o.tr)("guild@rankTop", {
                    n: t.minRank
                }) : t.maxRank ? this.lbl_rank.text = Object(o.tr)("guild@rankTop2", {
                    n: t.minRank,
                    n2: t.maxRank
                }) : this.lbl_rank.text = Object(o.tr)("guild@rankTop3", {
                    n: t.minRank
                });
                this.list.itemRenderer = me.a,
                Object(v.a)(this.list, t.reward.concat([{
                    propId: 20027,
                    showCollect: !1
                }]))
            }
        }
        ,
        e
    }(o.Item), _i = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelGuildBattleRewardSkin"),
            e
        }
        return bi(e, t),
        e.prototype.onReady = function(t) {
            var e = this;
            this._curRank = 0,
            this._curRank = 1e3,
            this.tab.itemRenderer = Ke.b,
            this.tap("btn_help", this.onHelp, this),
            this.disposeArr.push(new Ke.a({
                tab: this.tab,
                array: [{
                    text: Object(o.tr)("guild@battleAwdTab1"),
                    name: "tab1"
                }, {
                    text: Object(o.tr)("guild@battleAwdTab2"),
                    name: "tab2"
                }, {
                    text: Object(o.tr)("guild@battleAwdTab3"),
                    name: "tab3"
                }],
                onSelect: function(t) {
                    return e._curType = t.replace("tab", ""),
                    e._curType < 3 ? e.setState("reward1") : e.setState("reward2"),
                    e.refreshView(),
                    !0
                }
            }))
        }
        ,
        e.prototype.onHelp = function() {
            Object(_.a)(new Tt, "battleReward")
        }
        ,
        e.prototype.getWinAwd = function() {
            var t = this._curRank
              , e = Object(o.getConfig)("guildWar_json");
            for (var n in e) {
                var i = ~~n;
                if (i > 200 && i < 300 && t >= e[n].minRank && t <= e[n].maxRank)
                    return {
                        guild: e[n].reward,
                        me: e[i + 100].reward
                    }
            }
            return {
                guild: [],
                me: []
            }
        }
        ,
        e.prototype.getLoseAwd = function() {
            var t = {
                guild: [],
                me: []
            }
              , e = this.getWinAwd();
            for (var n in e)
                if (e[n].length > 0)
                    for (var i = 0; i < e[n].length; i++) {
                        var o = e[n][i].itemId
                          , r = e[n][i].num / 5;
                        t[n].push({
                            itemId: o,
                            num: r
                        })
                    }
            return t
        }
        ,
        e.prototype.refreshView = function() {
            var t = Object(o.singleton)(xi).p1
              , e = Object(o.getConfig)("guildWar_json");
            if (1 == this._curType) {
                var n = {
                    propId: 20029,
                    num: 100 * t.dGuild.lv
                }
                  , i = {
                    propId: 20027,
                    num: 50 * t.dGuild.lv
                }
                  , r = this.getWinAwd();
                Object(v.a)(this.list1, [n].concat(r.guild)),
                Object(v.a)(this.list2, e[1].reward.concat([i].concat(r.me))),
                this.img_ex1.visible = r.guild.length > 0,
                this.img_ex2.visible = r.me.length > 0
            } else if (2 == this._curType) {
                n = {
                    propId: 20029,
                    num: 20 * t.dGuild.lv
                },
                i = {
                    propId: 20027,
                    num: 10 * t.dGuild.lv
                },
                r = this.getLoseAwd();
                Object(v.a)(this.list1, [n].concat(r.guild)),
                Object(v.a)(this.list2, e[2].reward.concat([i].concat(r.me))),
                this.img_ex1.visible = r.guild.length > 0,
                this.img_ex2.visible = r.me.length > 0
            } else {
                var a = [];
                for (var s in e)
                    ~~s < 200 && ~~s > 100 && a.push(e[s]);
                this.list.itemRenderer = gi,
                Object(v.a)(this.list, a)
            }
        }
        ,
        e.show = function() {
            var t = this;
            Object(l.b)([Object(f.a)("guildWar_json")]).then((function(n) {
                n && a.c.totalRank((function(t) {
                    Object(_.a)(new e, t.self.rank)
                }
                ), t)
            }
            ))
        }
        ,
        e
    }(o.UIComponent), mi = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), yi = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "GuildBattleResultDetailSkin"),
            e
        }
        return mi(e, t),
        e.prototype.onReady = function(t, e) {
            var n = this;
            this.addBehavior(new s.a),
            this.data1 = t,
            this.data2 = e;
            var i = Object(o.singleton)(xi).p1
              , a = Object(o.singleton)(r.a).p;
            Object(r.b)(this.img_myIcon, a.icon),
            Object(r.b)(this.img_enemyIcon, i.dGuild.icon),
            this.list.itemRenderer = vn,
            this.img_myWin.visible = 1 == i.win,
            this.img_enemyWin.visible = -1 == i.win,
            this.lbl_myScore.text = "" + i.score,
            this.lbl_enemyScore.text = "" + i.dGuild.score,
            this.lbl_myName.text = a.name,
            this.lbl_enemyName.text = i.dGuild.name,
            this.disposeArr.push(new Ke.a({
                tab: this.tab,
                array: [{
                    name: "tab1"
                }, {
                    name: "tab2"
                }],
                onSelect: function(t) {
                    return n.selectChange(),
                    !0
                }
            })),
            this.selectChange()
        }
        ,
        e.prototype.selectChange = function() {
            var t = [];
            t = 0 == this.tab.selectedIndex ? this.data1.l : this.data2.l,
            Object(v.a)(this.list, t)
        }
        ,
        e.show = function() {
            var t = this
              , n = null
              , i = null;
            a.c.myInfo((function(o) {
                n = o,
                a.c.enemyInfo1((function(t) {
                    i = t,
                    Object(_.a)(new e, n, i)
                }
                ), t)
            }
            ), this, !0)
        }
        ,
        e
    }(o.UIComponent), vi = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), Oi = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelGuildBattleResultSkin"),
            e
        }
        return vi(e, t),
        e.prototype.onReady = function() {
            this.setName("GuildBattleResult");
            var t = Object(o.singleton)(xi).p1;
            1 == t.win ? this.setState("win") : this.setState("fail"),
            Object(r.b)(this.img_enemyIcon, t.dGuild.icon),
            this.lbl_enemyName.text = t.dGuild.name,
            t.addMatchScore > 0 ? this.lbl_point.text = "+" + t.addMatchScore : this.lbl_point.text = "" + t.addMatchScore,
            this.tap("btn_detail", this.showDetail, this)
        }
        ,
        e.prototype.showDetail = function() {
            o.UI.remove(this),
            yi.show()
        }
        ,
        e
    }(o.UIComponent), ji = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), wi = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e._beforeWin = -1,
            Object(o.setSkin)(e, "GuildBattleFightSkin"),
            e
        }
        return ji(e, t),
        e.prototype.onReady = function() {
            this.addBehavior(new s.a),
            this.tap("btn_help", this.onHelp, this),
            this.tap("btn_rank", this.onRank, this),
            this.tap("btn_rewardView", this.onReward, this),
            this.tap("btn_myGuild", this.onMyGuild, this),
            this.tap("btn_enemyGuild", this.onEnemyGuild, this),
            this.tap("btn_curRank", this.onCurRank, this),
            o.cache.onChange("GuildWar.getInfo", this.refreshView, this, this.disposeArr),
            o.cache.onChange("GuildWar.battleInfo", this.refreshView, this, this.disposeArr),
            this.refreshView(),
            this.dataChange()
        }
        ,
        e.prototype.onExit = function() {
            this.doDispose()
        }
        ,
        e.prototype.dataChange = function() {
            this.doDispose();
            var t = Object(o.singleton)(xi).p
              , e = ""
              , n = !1;
            t.nextStatus == kn.wait || t.nextStatus == kn.finish ? e = Object(o.tr)("guild@battleTime4") : t.nextStatus == kn.prepare1 || t.nextStatus == kn.prepare2 ? (e = Object(o.tr)("guild@battleTime2"),
            n = !0) : t.nextStatus != kn.fight1 && t.nextStatus != kn.fight2 || (e = Object(o.tr)("guild@battleTime3")),
            Object(o.singleton)(xi).isOver = n,
            n && 0 == Object(o.singleton)(xi).p1.win ? this.lbl_time.text = Object(o.tr)("guild@battleWait") : (this.countDown = new gt.a({
                component: this.lbl_time,
                endTime: t.leftTime,
                trKey: e,
                complete: this.complete.bind(this)
            }),
            t.pLeftTime && (this.tick = Object(o.setTimeout)(this.complete1, this, 1e3 * (t.pLeftTime - L.a.getNow() + 3))),
            n && (o.UI.remove("GuildBattleResult"),
            Object(_.a)(new Oi))),
            Object(o.singleton)(xi).leaveBattle()
        }
        ,
        e.prototype.complete = function() {
            a.c.battleInfo(this.dataChange, this, !0)
        }
        ,
        e.prototype.complete1 = function() {
            var t = this;
            a.c.battleInfo((function() {
                o.UI.remove(t),
                Object(o.singleton)(xi).enterScene()
            }
            ), this, !0)
        }
        ,
        e.prototype.doDispose = function() {
            this.countDown && (this.countDown.dispose(),
            this.countDown = null),
            this.tick && (this.tick.dispose(),
            this.tick = null)
        }
        ,
        e.prototype.refreshView = function() {
            var t = Object(o.singleton)(xi)
              , e = Object(o.singleton)(xi).p1
              , n = Object(o.singleton)(r.a).p;
            Object(r.b)(this.img_myIcon, n.icon),
            this.lbl_myName1.text = Object(mn.a)(n.name) + Object(mn.w)(Object(A.a)("sId")),
            this.lbl_myLv1.text = "" + n.lv,
            this.lbl_myLv2.text = "" + n.lv,
            this.lbl_myName2.text = Object(mn.a)(n.name),
            this.lbl_myBuff3.text = t.getBuffValue("atk", t.p.gBuff.atk),
            this.lbl_myBuff4.text = t.getBuffValue("hp", t.p.gBuff.hp),
            this.lbl_enemyBuff3.text = t.getBuffValue("atk", e.dGuild.buff.atk),
            this.lbl_enemyBuff4.text = t.getBuffValue("hp", e.dGuild.buff.hp),
            this.lbl_myScore.text = "" + e.score,
            this.lbl_enemyScore.text = "" + e.dGuild.score,
            Object(r.b)(this.img_enemyIcon, e.dGuild.icon),
            this.lbl_enemyName1.text = Object(mn.a)(e.dGuild.name) + Object(mn.w)(e.dGuild.sId),
            this.lbl_enemyLv1.text = "" + e.dGuild.lv,
            this.lbl_enemyLv2.text = "" + e.dGuild.lv,
            this.lbl_enemyName2.text = Object(mn.a)(e.dGuild.name),
            this.img_enemyWin.visible = -1 == e.win,
            this.img_myWin.visible = 1 == e.win,
            0 == this._beforeWin && 0 != e.win && this.dataChange(),
            this._beforeWin = e.win,
            e.l.sort((function(t, e) {
                return e.score - t.score
            }
            ));
            for (var i = 1; i <= 3; i++)
                e.l[i - 1] ? (this["lbl_name" + i].text = e.l[i - 1].name,
                this["lbl_score" + i].text = e.l[i - 1].score + "") : (this["lbl_name" + i].text = "",
                this["lbl_score" + i].text = "");
            this.lbl_self.text = Object(A.a)("uNa"),
            this.lbl_selfScore.text = e.self.score + ""
        }
        ,
        e.prototype.onHelp = function() {
            Object(_.a)(new Tt)
        }
        ,
        e.prototype.onRank = function() {
            Pn.show()
        }
        ,
        e.prototype.onReward = function() {
            _i.show()
        }
        ,
        e.prototype.onMyGuild = function() {
            jn.show()
        }
        ,
        e.prototype.onEnemyGuild = function() {
            di.show()
        }
        ,
        e.prototype.onCurRank = function() {
            Pn.show("me")
        }
        ,
        e.show = function() {
            var t = this;
            a.c.battleInfo1((function() {
                a.c.getBattleLog((function() {
                    Object(_.a)(new e)
                }
                ), t)
            }
            ), this)
        }
        ,
        e
    }(o.UIComponent);
    !function(t) {
        t[t.prepare1 = 1] = "prepare1",
        t[t.fight1 = 2] = "fight1",
        t[t.prepare2 = 3] = "prepare2",
        t[t.fight2 = 4] = "fight2",
        t[t.wait = 0] = "wait",
        t[t.finish = 100] = "finish"
    }(kn || (kn = {}));
    var xi = function() {
        function t() {
            this.isOver = !1
        }
        return t.prototype.buffList = function() {
            return [{
                type: 2,
                id: 1
            }, {
                type: 2,
                id: 2
            }, {
                type: 1,
                id: 3
            }, {
                type: 1,
                id: 4
            }]
        }
        ,
        Object.defineProperty(t.prototype, "state", {
            get: function() {
                return 1
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "round", {
            get: function() {
                return 1
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "p", {
            get: function() {
                return o.cache.get("GuildWar.getInfo")
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "p1", {
            get: function() {
                return o.cache.get("GuildWar.battleInfo")
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.canOperate = function() {
            var t = this.p;
            return t.nextStatus != kn.prepare1 && t.nextStatus != kn.prepare2
        }
        ,
        t.prototype.canFight = function() {
            var t = this.p;
            return t.status == kn.fight1 || t.status == kn.fight2
        }
        ,
        t.prototype.isPrepare = function() {
            var t = this.p;
            return t.status == kn.prepare1 || t.status == kn.prepare2
        }
        ,
        t.prototype.getBuffValue = function(t, e) {
            return e + ""
        }
        ,
        t.prototype.enemyInfo = function(t) {
            this.enemy = t
        }
        ,
        t.prototype.able = function(t) {
            void 0 === t && (t = !0);
            var e = this.p;
            return -1 == e.rivalId ? (t && Object(o.tooltip)(Object(o.tr)("guild@battleTip1")),
            !1) : 0 != e.rivalId || (t && Object(o.tooltip)(Object(o.tr)("guild@battleTip2")),
            !1)
        }
        ,
        t.prototype.leaveBattle = function() {
            o.UI.remove(Vn),
            o.UI.remove(Jn),
            o.UI.remove(hi),
            o.UI.remove(qn)
        }
        ,
        t.prototype.enterScene = function() {
            this.able(!1) ? [kn.prepare1, kn.prepare2].indexOf(this.p.status) > -1 ? Object(_.a)(new Sn) : [kn.fight1, kn.fight2].indexOf(this.p.status) > -1 ? wi.show() : 1 == this.p.pStatus ? Object(_.a)(new Sn) : wi.show() : Object(_.a)(new Sn)
        }
        ,
        t
    }()
      , ki = function(t, e, n, i) {
        var o, r = arguments.length, a = r < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
            a = Reflect.decorate(t, e, n, i);
        else
            for (var s = t.length - 1; s >= 0; s--)
                (o = t[s]) && (a = (r < 3 ? o(a) : r > 3 ? o(e, n, a) : o(e, n)) || a);
        return r > 3 && a && Object.defineProperty(e, n, a),
        a
    }
      , Ii = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , Pi = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , Ci = function() {
        function t() {}
        return t.prototype.open = function() {
            var t = this;
            Object(l.b)([Object(f.b)("eui_xianmeng_json")]).then((function() {
                0 == o.cache.get("User.getInfo", "i.guildId") ? a.c.getList((function(t) {
                    Object(_.a)(new ue, t)
                }
                ), t) : a.c.getInfo((function() {
                    o.UI.clearBox(),
                    Object(_.a)(new wt)
                }
                ), t)
            }
            ))
        }
        ,
        t.prototype.isOpen = function() {
            return !!Object(o.singleton)(r.a).isFuncOpen() || (Object(o.tooltip)(Object(o.tr)("main@noOpen")),
            !1)
        }
        ,
        t.prototype.openBattle = function() {
            if (1 == Object(o.singleton)(r.a).p.battleOpen) {
                if (Object(o.singleton)(r.a).p.lv < 5)
                    return void Object(o.tooltip)(Object(o.tr)("guild@battleLock"));
                a.c.battleInfo((function() {
                    Object(o.singleton)(xi).enterScene()
                }
                ), this)
            } else
                Object(o.tooltip)(Object(o.tr)("main@noOpen"))
        }
        ,
        t.prototype.back = function() {
            wt.in && o.UI.clearBox()
        }
        ,
        t.prototype.build = function() {
            a.c.buildList((function() {
                Object(_.a)(new At),
                Object(o.put)("guild_build_open")
            }
            ), this)
        }
        ,
        t.prototype.shop = function() {
            tn.show()
        }
        ,
        t.prototype.tech = function() {
            var t = this;
            Object(l.b)([Object(f.b)("eui_xianmeng_json")]).then((function() {
                0 == o.cache.get("User.getInfo", "i.guildId") ? a.c.getList((function(t) {
                    Object(_.a)(new ue, t)
                }
                ), t) : t.isOpen() && a.c.getInfo((function() {
                    Object(_.a)(new Et)
                }
                ), t)
            }
            ))
        }
        ,
        t.prototype.challenge = function() {
            this.isOpen() && (Object(o.put)("guild_boss_open"),
            $e.show())
        }
        ,
        t.prototype.feast = function() {
            this.isOpen() && (Object(o.put)("guild_feast_open"),
            Pe.show())
        }
        ,
        t.prototype.rank = function() {
            this.isOpen() && (Object(o.put)("guild_rank_open"),
            fn.show("family"))
        }
        ,
        t.prototype.member = function() {
            a.c.getMembers((function() {
                Object(_.a)(new fe)
            }
            ), this)
        }
        ,
        t.prototype.manage = function() {
            a.c.getMembers((function() {
                Object(_.a)(new Kt)
            }
            ), this)
        }
        ,
        t.prototype.quit = function() {
            return Ii(this, void 0, void 0, (function() {
                return Pi(this, (function(t) {
                    return a.c.quit(),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        t.prototype.info = function() {}
        ,
        t.prototype.setInfo = function() {}
        ,
        t.prototype.applyList = function() {
            a.c.applyList((function() {
                Object(_.a)(_e)
            }
            ), this)
        }
        ,
        t.prototype.shiwu = function() {
            Object(o.put)("guild_task_open"),
            sn.show()
        }
        ,
        t.prototype.dissolution = function() {
            return Ii(this, void 0, void 0, (function() {
                return Pi(this, (function(t) {
                    return a.c.dissolution(),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        t.prototype.guildMessage = function(t, e) {
            var n = this
              , i = Object(o.singleton)(r.a).p;
            switch (t) {
            case "upush.ua":
                Object(o.put)(a.b.apply_approve);
                break;
            case "upush.ub":
                wt.in && Object(o.put)("guild.back"),
                a.c.reset(),
                Object(o.put)("guild_kicked");
                break;
            case "upush.uc":
                if (!e.role)
                    return;
                i.role = e.role,
                a.c.getInfo((function() {
                    a.c.getMembers((function() {
                        Object(o.put)(a.b.role_change)
                    }
                    ), n, !0)
                }
                ), this, !0);
                break;
            case "upush.ud":
                a.c.reset(),
                wt.in && Object(o.put)("guild.back");
                break;
            case "upush.ue":
                if (wt.in && i.feast) {
                    for (var s in e)
                        i.feast[s] = e[s];
                    Object(o.put)(a.b.dinner_begin)
                }
                break;
            case "upush.uf":
                wt.in && (i.feast && (i.feast.open = 0),
                Object(o.put)(a.b.dinner_over))
            }
        }
        ,
        t.prototype.fastOpenchallenge = function() {
            var t = this;
            Object(l.b)([Object(f.b)("eui_xianmeng_json")]).then((function() {
                0 == o.cache.get("User.getInfo", "i.guildId") ? Object(o.tooltip)(Object(o.tr)("main@noGuild")) : a.c.getInfo((function() {
                    t.challenge()
                }
                ), t)
            }
            ))
        }
        ,
        t.prototype.fastOpenfeast = function() {
            var t = this;
            Object(l.b)([Object(f.b)("eui_xianmeng_json")]).then((function() {
                0 == o.cache.get("User.getInfo", "i.guildId") ? Object(o.tooltip)(Object(o.tr)("main@noGuild")) : a.c.getInfo((function() {
                    t.feast()
                }
                ), t)
            }
            ))
        }
        ,
        t.prototype.fastOpenbuild = function() {
            var t = this;
            Object(l.b)([Object(f.b)("eui_xianmeng_json")]).then((function() {
                0 == o.cache.get("User.getInfo", "i.guildId") ? Object(o.tooltip)(Object(o.tr)("main@noGuild")) : a.c.getInfo((function() {
                    t.build()
                }
                ), t)
            }
            ))
        }
        ,
        t.prototype.fastOpenbattle = function() {
            var t = this;
            Object(l.b)([Object(f.b)("eui_xianmeng_json")]).then((function() {
                0 == o.cache.get("User.getInfo", "i.guildId") ? Object(o.tooltip)(Object(o.tr)("main@noGuild")) : a.c.getInfo((function() {
                    t.openBattle()
                }
                ), t)
            }
            ))
        }
        ,
        t.prototype.fastOpenShop = function() {
            var t = this;
            Object(l.b)([Object(f.b)("eui_xianmeng_json")]).then((function() {
                0 == o.cache.get("User.getInfo", "i.guildId") ? Object(o.tooltip)(Object(o.tr)("main@noGuild")) : a.c.getInfo((function() {
                    t.shop()
                }
                ), t)
            }
            ))
        }
        ,
        t = ki([Object(o.controller)("guild", !0)], t)
    }()
      , Si = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Ri = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return Si(e, t),
        e.prototype.refreshView = function(t) {
            this.data = t,
            100 == t.v ? (this.setState("open"),
            t.change && (this.openBtn.icon.source = "icon_box_" + t.id + "_close_png")) : 1 == t.v ? (this.setState("able"),
            t.change && (this.ableBtn.icon.source = "icon_box_" + t.id + "_close_able_png")) : 2 == t.v ? (this.setState("open"),
            t.change && (this.openBtn.icon.source = "icon_box_" + t.id + "_close_png")) : (this.setState("awded"),
            t.change && (this.awdedBtn.icon.source = "icon_box_" + t.id + "_open_png"))
        }
        ,
        e
    }(o.Component);
    Object(xt.a)("GuildBuildChest", Ri);
    var Ti = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Li = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return Ti(e, t),
        e.prototype.refreshView = function(t, e, n) {
            this._idx = e,
            t ? (this.setState("seat"),
            this.posLabel.text = Object(mn.e)(t.role),
            this.nameLabel.text = Object(k.c)(t.name),
            Object(c.f)(t.skin, this.role, {
                cloth: c.a.body,
                eye: c.b.open
            })) : this.setState("empty")
        }
        ,
        e.prototype.showMe = function() {}
        ,
        e.prototype.onEnter = function() {
            t.prototype.onEnter.call(this)
        }
        ,
        e.prototype.onExit = function() {
            t.prototype.onExit.call(this)
        }
        ,
        e
    }(o.Component);
    Object(xt.a)("GuildFeastHead", Li)
}
, , , function(t, e, n) {
    "use strict";
    n.r(e),
    n.d(e, "GrowPlanPanel", (function() {
        return w
    }
    ));
    var i, o = n(1), r = n(108), a = n(109), s = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, c = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, u = function() {
        function t() {}
        return t.prototype.checkRes = function() {
            return s(this, void 0, void 0, (function() {
                return c(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Promise.all([Object(a.a)("growth_json"), Object(a.a)("level_json"), Object(a.a)("recharge_json")])];
                    case 1:
                        return [2, t.sent()]
                    }
                }
                ))
            }
            ))
        }
        ,
        t
    }(), h = n(121), l = n(118), p = n(126), f = n(110), d = n(106), b = n(113), g = n(107), _ = n(157), m = n(114), y = n(130), v = n(129), O = n(181), j = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), w = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.arr = [],
            e.selectId = 0,
            Object(o.setSkin)(e, "LanyuetaiSkin"),
            e
        }
        return j(e, t),
        e.prototype.onReady = function() {
            var t = this;
            this.addBehavior(new l.a),
            Object(o.on)("refresh_chengzhang_view", this.refreshView, this, this.arr),
            Object(o.put)("growPlan_show");
            var e = []
              , n = o.cache.get("Growth.getList", "l");
            if (n && Array.isArray(n))
                for (var i in n) {
                    var r = n[i].c
                      , a = Object(b.a)("lv")
                      , s = Object(b.a)("blv");
                    (r.playerLv && a >= r.playerLv || r.fly && Object(b.a)("fly") == r.fly || 14004 == r.id && (a >= 81 || s >= 81)) && y.b.isOpen("growPlan") && e.push({
                        text: Object(o.tr)(n[i].c.name),
                        name: i
                    })
                }
            e.length <= 0 && (Object(o.tooltip)(Object(o.tr)("main@overPlan")),
            o.UI.remove(this)),
            this.onChange(),
            o.cache.onChange("Activity.getList", this.onChange, this, this.arr),
            this.tap("btn_buy", this.buyPlan, this),
            this.growTab.itemRenderer = h.b,
            this.disposeArr.push(new h.a({
                tab: this.growTab,
                array: e,
                onSelect: function(e) {
                    t.selectId = e,
                    t.refreshView()
                }
            }))
        }
        ,
        e.prototype.onChange = function() {
            var t = !1
              , e = o.cache.get("Growth.getList", "l");
            if (e && Array.isArray(e))
                for (var n in e) {
                    var i = Number(n) + 1;
                    if (y.b.isOpen("growPlan"))
                        for (var r in e[n].l) {
                            var a = e[n].c.list[r]
                              , s = e[n].l[r];
                            e[n].num >= a.num && 0 == s.awded && 1 == e[n].buy && (this["mv" + n] || (this["mv" + n] = this.fateMovie(i)),
                            t = !0)
                        }
                    this["ani" + i].visible = t
                }
        }
        ,
        e.prototype.fateMovie = function(t) {
            var e = o.Movie.create("lanyue_ske_json");
            return e.play("1"),
            this["ani" + t].addChild(e),
            e.y = 10,
            e.scaleX = 1.4,
            e.scaleY = 1.1,
            e.rotation = 180,
            e
        }
        ,
        e.prototype.buyPlan = function() {
            Object(_.d)({
                id: this.curData.id
            })
        }
        ,
        e.prototype.onExit = function() {
            this.mv1 && this.mv1.dispose(),
            this.mv2 && this.mv2.dispose(),
            this.mv3 && this.mv3.dispose(),
            this.mv4 && this.mv4.dispose(),
            Object(o.dispose)(this.arr),
            t.prototype.onExit.call(this)
        }
        ,
        e.prototype.refreshView = function() {
            var t = this;
            this.btn_buy.visible = this.icon_bought.visible = Object(O.a)();
            var e = o.cache.get("Growth.getList", "l");
            this.curData = e[this.selectId],
            this.list.itemRenderer = x,
            this.lbl_desc.text = this.curData.c.desc,
            console.log("refreshView_growPlan");
            var n = Object(o.getConfig)("recharge_json")[this.curData.c.id];
            this.btn_buy.label = Object(o.tr)("main@growGiftPrice", {
                num: Object(_.c)(n, "recharge")
            }),
            this.btn_buy.visible = !this.curData.buy,
            this.icon_bought.visible = this.curData.buy;
            var i = this.curData.l;
            for (var a in i) {
                var s = this.curData.c.list[a];
                s.uniqId == i[a].id && (i[a].c = s,
                i[a].num = this.curData.num)
            }
            var c = this.sortList(i);
            Object(r.a)(this.list, c);
            var u = eui.Watcher.watch(this.curData, ["buy"], (function() {
                t.refreshView()
            }
            ), this);
            this.disposeArr.push({
                dispose: function() {
                    u.unwatch()
                }
            })
        }
        ,
        e.prototype.sortList = function(t) {
            var e = []
              , n = [];
            for (var i in t)
                1 == t[i].awded ? n.push(t[i]) : e.push(t[i]);
            return e.sort((function(t, e) {
                return t.id - e.id
            }
            )),
            n.sort((function(t, e) {
                return t.id - e.id
            }
            )),
            e.concat(n)
        }
        ,
        e.show = function() {
            Object(f.b)(Object(o.singleton)(u).checkRes()).then((function(t) {
                Object(d.a)(new e)
            }
            ))
        }
        ,
        e
    }(o.UIComponent), x = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return j(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (t) {
                if (this.tap("btn_receive", this.getAwds, this),
                this.setBtn(),
                14001 == this.data.c.id) {
                    var e = Object(o.getConfig)("level_json")
                      , n = this.data.c.num
                      , i = Object(b.a)("lv")
                      , a = Object(o.tr)(e[n].name)
                      , s = i > n ? n + "/" + n : i + "/" + n;
                    this.lbl_title.text = Object(o.tr)(this.data.c.desc, {
                        level: a + "(" + s + ")"
                    })
                } else {
                    var c = this.data.num;
                    c > this.data.c.num && (c = this.data.c.num),
                    this.lbl_title.text = Object(o.tr)(this.data.c.desc, {
                        num: this.data.c.num
                    }) + "(" + c + "/" + this.data.c.num + ")"
                }
                this.list_reward.itemRenderer = p.a,
                Object(r.a)(this.list_reward, this.data.c.awards)
            }
        }
        ,
        e.prototype.setBtn = function() {
            this.data.awded ? this.setBtnAwds(1, 0, 0) : this.data.num >= this.data.c.num ? this.setBtnAwds(0, 1, 1) : this.setBtnAwds(0, 1, 0)
        }
        ,
        e.prototype.setBtnAwds = function(t, e, n) {
            this.received.visible = t,
            this.btn_receive.visible = e,
            this.btn_receive.enabled = n
        }
        ,
        e.prototype.getAwds = function() {
            var t = o.cache.get("Growth.getList", "l");
            if (t && Array.isArray(t))
                for (var e in t)
                    if (t[e].id == this.data.c.id)
                        if (0 == t[e].buy)
                            Object(o.tooltip)(Object(o.tr)("main@noBuyPlan"));
                        else {
                            if (Object(m.m)(this.data.c.awards))
                                return;
                            var n = this.data.c.id
                              , i = this.data.id;
                            Object(g.d)("gr.b", {
                                id: n,
                                awdId: i
                            }).then((function(t) {
                                v.b.show(t.awds),
                                Object(o.put)("refresh_chengzhang_view")
                            }
                            ))
                        }
        }
        ,
        e
    }(o.Item);
    window.GrowPlanPanel = w,
    window.ChengZhangItem = x
}
, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return r
    }
    )),
    n.d(e, "b", (function() {
        return a
    }
    )),
    n.d(e, "c", (function() {
        return s
    }
    ));
    var i = n(1)
      , o = n(124);
    function r(t) {
        for (var e = [], n = 1; n < arguments.length; n++)
            e[n - 1] = arguments[n];
        if (Object(i.isType)(t)) {
            var o = Object(i.singleton)(t);
            return i.UI.openBox.apply(i.UI, [o].concat(e))
        }
        return i.UI.openBox.apply(i.UI, [t].concat(e))
    }
    function a(t) {
        for (var e = [], n = 1; n < arguments.length; n++)
            e[n - 1] = arguments[n];
        if (Object(i.isType)(t)) {
            var o = Object(i.singleton)(t);
            return i.UI.addTooltip.apply(i.UI, [o].concat(e))
        }
        return i.UI.addTooltip.apply(i.UI, [t].concat(e))
    }
    function s(t) {
        for (var e = [], n = 1; n < arguments.length; n++)
            e[n - 1] = arguments[n];
        if (Object(i.isType)(t)) {
            var o = Object(i.singleton)(t);
            return i.UI.openTopBox.apply(i.UI, [o].concat(e))
        }
        return i.UI.openTopBox.apply(i.UI, [t].concat(e))
    }
    Object(o.a)("ui", (function(t) {
        Object(i.setSkin)(r(new i.UIComponent), t)
    }
    ))
}
, function(t, e, n) {
    "use strict";
    n.d(e, "d", (function() {
        return r
    }
    )),
    n.d(e, "e", (function() {
        return a
    }
    )),
    n.d(e, "b", (function() {
        return s
    }
    )),
    n.d(e, "a", (function() {
        return c
    }
    )),
    n.d(e, "c", (function() {
        return u
    }
    ));
    var i = n(1)
      , o = n(111);
    function r(t, e) {
        return console.log("--socket--" + t),
        Object(i.getSocket)().request({
            route: t,
            p: e
        }).catch((function(t) {
            console.log("request catch===>>>"),
            console.log(t),
            Object(i.errorHandler)(t)
        }
        ))
    }
    function a(t, e) {
        var n, o = 100, r = 1;
        e && (r = e.retryCount || r,
        o = e.retryTime || o,
        n = e.p);
        var a = function(t) {
            if (r > 0)
                return r--,
                (e = o,
                new Promise((function(t) {
                    return egret.setTimeout(t, void 0, e)
                }
                ))).then((function() {
                    return s()
                }
                ));
            var e;
            throw t
        }
          , s = function() {
            return Object(i.getSocket)().request({
                route: t,
                p: n
            }).then((function(t) {
                return t || (console.log("=== request u.b try ===>>>", r, t),
                a())
            }
            )).catch((function(t) {
                return console.log("=== request u.b err ===>>>", r, t),
                a(t)
            }
            ))
        };
        return console.log("=== start request u.b ===>>>", r),
        s()
    }
    function s(t, e, n) {
        return c(t, e, (function(t) {
            return !(!t.ext || !o.a.isOver(t.ext))
        }
        ), n)
    }
    function c(t, e, n, o) {
        return !i.cache.has(e) || null != n && 1 == n(i.cache.get(e)) ? r(t, o).then((function(t) {
            if (t)
                return Object(i.getOption)("debugMode") && console.log("request===>>>" + JSON.stringify(t)),
                i.cache.set(e, t),
                Promise.resolve(t);
            throw {
                err: 400
            }
        }
        )) : Promise.resolve(i.cache.get(e))
    }
    function u(t, e, n, o) {
        return r(t, o).then((function(t) {
            if (t)
                return i.cache.set(e, t),
                Promise.resolve(t);
            throw {
                err: 400
            }
        }
        ))
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return r
    }
    ));
    var i = n(267)
      , o = n(287);
    function r(t, e, n) {
        var r = this;
        if (void 0 === n && (n = {
            resetScrollerHV: !1
        }),
        t && (t instanceof eui.DataGroup || t instanceof o.d || t instanceof i.a)) {
            var a = t.dataProvider;
            if (a || (a = t.dataProvider = new eui.ArrayCollection),
            e && Array.isArray(e) ? a.replaceAll(e.concat()) : e && e instanceof eui.ArrayCollection && a.replaceAll(e.source.concat()),
            n.smart) {
                var s = t.parent;
                if (s && s instanceof eui.Scroller) {
                    s.stopAnimation();
                    var c = s.viewport.scrollV >= t.contentHeight - s.height;
                    egret.callLater((function() {
                        egret.callLater((function() {
                            c && (s.viewport.scrollV = Math.max(0, t.contentHeight - s.height))
                        }
                        ), r)
                    }
                    ), this)
                }
            } else if (n.resetScrollerHV) {
                var u = t.parent;
                u && u instanceof eui.Scroller && egret.callLater((function() {
                    u.stopAnimation(),
                    egret.callLater((function() {
                        n.offset && n.offset.x ? u.viewport.scrollH = n.offset.x : u.viewport.scrollH = 0;
                        var e = t.contentHeight;
                        n.offset && n.offset.y ? u.viewport.scrollV = Math.min(e - u.height, n.offset.y) : u.viewport.scrollV = 0
                    }
                    ), r)
                }
                ), this)
            } else {
                var h = t.parent;
                h && h instanceof eui.Scroller && (h.stopAnimation(),
                egret.callLater((function() {
                    egret.callLater((function() {
                        var e = t.contentHeight - t.height;
                        t.scrollV > e && (t.scrollV = Math.max(0, e))
                    }
                    ), r)
                }
                ), this))
            }
        } else
            0
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return l
    }
    )),
    n.d(e, "b", (function() {
        return f
    }
    ));
    var i = n(1)
      , o = n(107)
      , r = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , a = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    };
    function s(t, e) {
        return r(this, void 0, void 0, (function() {
            return a(this, (function(n) {
                return [2, Object(o.d)("at.conf", {
                    name: t,
                    confName: e
                }).then((function(t) {
                    return t || null
                }
                ))]
            }
            ))
        }
        ))
    }
    function c(t, e) {
        if (t) {
            if (t.list)
                t.list = [],
                t.list.push(e);
            else
                for (var n in t.detail = [],
                e.detail)
                    t.detail.push(e.detail[n]);
            return !0
        }
        return !1
    }
    var u = {};
    function h(t, e, n) {
        return r(this, void 0, void 0, (function() {
            return a(this, (function(o) {
                return [2, new Promise((function(o, h) {
                    return r(this, void 0, void 0, (function() {
                        var r, h;
                        return a(this, (function(a) {
                            switch (a.label) {
                            case 0:
                                return (r = function(t) {
                                    if (!u[t])
                                        try {
                                            for (var e in u[t] = JSON.parse(Object(i.getLocalStorage)().getString("conf_" + t, "{}")),
                                            u[t])
                                                u[t][e].embed = !1
                                        } catch (e) {
                                            u[t] = {}
                                        }
                                    return u[t]
                                }(n))[t.id] && r[t.id].ver == t.index ? (r[t.id].embed || (c(e[t.id], r[t.id].conf),
                                r[t.id].embed = !0),
                                o(),
                                [2]) : [4, s(t.id, n)];
                            case 1:
                                return (h = a.sent()) && (c(e[t.id], h.conf),
                                function(t, e, n) {
                                    u[t][e] = n;
                                    try {
                                        var o = {};
                                        for (var r in u[t])
                                            o[r] = {
                                                ver: u[t][r].ver,
                                                conf: u[t][r].conf
                                            };
                                        Object(i.getLocalStorage)().setString("conf_" + t, JSON.stringify(o))
                                    } catch (t) {}
                                }(n, t.id, {
                                    conf: h.conf,
                                    ver: t.index
                                }),
                                r[t.id].embed = !0),
                                o(),
                                [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                ))]
            }
            ))
        }
        ))
    }
    function l(t) {
        var e = this;
        return new Promise((function(n, o) {
            return r(e, void 0, void 0, (function() {
                var e = this;
                return a(this, (function(s) {
                    return function(t) {
                        if (!RES.getRes(t))
                            return !1;
                        var e = t.lastIndexOf("_");
                        if ("_json" != t.substr(e))
                            return !0;
                        var n = i.cache.get("Daoshua.getInfo")
                          , o = t.substr(0, e);
                        if (n && n[o])
                            for (var r = 0; r < n[o].length; r++) {
                                if (!u[o])
                                    return !1;
                                if (u[o][n[o][r].id] != n[o][r].index)
                                    return !1
                            }
                        return !0
                    }(t) ? (n(),
                    [2]) : (RES.getResAsync(t, (function(s) {
                        return r(e, void 0, void 0, (function() {
                            var e, r, c, u, l;
                            return a(this, (function(a) {
                                switch (a.label) {
                                case 0:
                                    if (!s)
                                        return o(new Error("资源 " + t + " 加载失败，请重试")),
                                        [2];
                                    if (e = t.lastIndexOf("_"),
                                    "_json" != t.substr(e))
                                        return [3, 4];
                                    if (Object(i.getLocalStorage)().removeItem("daoshuaMap"),
                                    r = i.cache.get("Daoshua.getInfo"),
                                    c = t.substr(0, e),
                                    !r || !r[c])
                                        return [3, 4];
                                    u = Object(i.getConfig)(t),
                                    l = 0,
                                    a.label = 1;
                                case 1:
                                    return l < r[c].length ? [4, h(r[c][l], u, c)] : [3, 4];
                                case 2:
                                    a.sent(),
                                    a.label = 3;
                                case 3:
                                    return l++,
                                    [3, 1];
                                case 4:
                                    return n(),
                                    [2]
                                }
                            }
                            ))
                        }
                        ))
                    }
                    ), this),
                    [2])
                }
                ))
            }
            ))
        }
        ))
    }
    var p = ["en_us", "vi_vn", "ko_kr", "ta_ta", "ja_jp"];
    function f(t) {
        var e = Object(i.getLocaleType)();
        return p.indexOf(e) > -1 && (t = t.replace("eui", "eui_2")),
        i.res.loadTheme(t)
    }
    window.checkRes = l
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return u
    }
    )),
    n.d(e, "b", (function() {
        return h
    }
    ));
    var i, o = n(1), r = n(332), a = n(124), s = n(130), c = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), u = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.skinName = r.a,
            e
        }
        return c(e, t),
        e.prototype.onReady = function(t, e) {
            var n = this;
            if (e > 0) {
                this.visible = !1;
                var i = egret.setTimeout((function() {
                    s.b.isOpen("loadingBar") && (n.visible = !0)
                }
                ), this, e);
                this.disposeArr.push({
                    dispose: function() {
                        egret.clearTimeout(i)
                    }
                })
            } else
                s.b.isOpen("loadingBar") || (this.visible = !1);
            this.addBehavior(new o.RotationBehavior("loadingShape",t))
        }
        ,
        e.prototype.hide = function() {
            o.UI.remove(this)
        }
        ,
        e.show = function(t, n) {
            return void 0 === t && (t = 3e3),
            void 0 === n && (n = 0),
            o.UI.addTooltip(e, t, n)
        }
        ,
        e
    }(o.UIComponent);
    function h(t, e, n) {
        void 0 === e && (e = 1e3),
        void 0 === n && (n = 50);
        var i = u.show(e, n);
        return Array.isArray(t) && (t = Promise.all(t)),
        t.then((function(t) {
            return i.hide(),
            t
        }
        )).catch((function(t) {
            throw i.hide(),
            t
        }
        ))
    }
    Object(a.a)("ManualLoadingView", u)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return o
    }
    ));
    var i = n(1)
      , o = function() {
        function t() {}
        return t.setServerTime = function(t) {
            this._initTimestamp = 1e3 * t - egret.getTimer()
        }
        ,
        t.getNow = function(t) {
            return void 0 === t && (t = !0),
            Object(i.getOption)("nowTime") ? Object(i.getOption)("nowTime") : t ? .001 * (this._initTimestamp + egret.getTimer()) >> 0 : this._initTimestamp + egret.getTimer()
        }
        ,
        t.getServerDate = function(t) {
            var e = ((new Date).getTimezoneOffset() + 60 * this.zone) / 60
              , n = new Date(t || this.getNow(!1));
            return n.setHours(n.getHours() + e),
            n
        }
        ,
        t.getServerTime = function(t) {
            return this.getLocaleDate(t.getTime()).getTime()
        }
        ,
        t.getLocaleDate = function(t) {
            var e = 6e4 * ((new Date).getTimezoneOffset() + 60 * this.zone);
            return t = t || this.getNow(!1),
            new Date(t - e)
        }
        ,
        t.getLocaleFormat = function(t, e) {
            return void 0 === e && (e = "mm-dd HH:MM:ss"),
            i.time.format(1e3 * t, e)
        }
        ,
        t.getWeekRange = function(t, e, n, o, r, a, s) {
            var c = this.getServerDate();
            c.setDate(c.getDate() + (t - c.getDay())),
            c.setHours(e, n);
            var u = this.getLocaleDate(c.getTime())
              , h = this.getServerDate()
              , l = this.getLocaleDate();
            o && (h.setDate(h.getDate() + (o - h.getDay())),
            h.setHours(r, a),
            l = this.getLocaleDate(h.getTime()));
            var p = function(t) {
                return t < 10 ? "0" + t : t
            }
              , f = {
                w1: this.getWeek(u.getDay()),
                h1: u.getHours(),
                m1: p(u.getMinutes()),
                w2: this.getWeek(l.getDay()),
                h2: l.getHours(),
                m2: p(u.getMinutes())
            };
            return console.log(f),
            o && s || !o ? o && f.w1 != f.w2 ? Object(i.tr)("main@weekRangeNext2", f) : Object(i.tr)("main@weekRange2", f) : o && f.w1 != f.w2 ? Object(i.tr)("main@weekRangeNext", f) : Object(i.tr)("main@weekRange", f)
        }
        ,
        t.getTime = function(t, e, n) {
            void 0 === n && (n = 1);
            var i = new Date;
            i.setDate(i.getDate() - i.getDay() + n),
            i.setHours(t - (i.getTimezoneOffset() / 60 + this.zone), e);
            var o;
            return {
                date: i.getDate(),
                hour: i.getHours(),
                day: i.getDay(),
                minute: (o = i.getMinutes(),
                o < 10 ? "0" + o : o)
            }
        }
        ,
        t.getActivityTime = function(t, e, n, i) {
            var o = this.getTime(t, e)
              , r = this.getTime(n, i)
              , a = {
                nextDay: !1,
                beginHour: o.hour,
                beginMinute: o.minute,
                endHour: r.hour,
                endMinute: r.minute
            };
            return o.date != r.date && (a.nextDay = !0),
            a
        }
        ,
        t.inTimeRange = function(t, e, n, i) {
            var o = this.getActivityTime(t, e, n, i)
              , r = this.getNow(!1)
              , a = new Date(r);
            if (o.beginMinute = parseInt(o.beginMinute),
            o.endMinute = parseInt(o.endMinute),
            o.nextDay) {
                if (a.getHours() >= o.beginHour && a.getMinutes() >= o.beginMinute)
                    return !0;
                if (a.getHours() == o.endHour && a.getMinutes() < o.endMinute)
                    return !0;
                if (a.getHours() < o.endHour)
                    return !0
            } else if (a.getHours() >= o.beginHour && a.getMinutes() >= o.beginMinute && (a.getHours() < o.endHour || a.getHours() == o.endHour && a.getMinutes() < o.endMinute))
                return !0;
            return !1
        }
        ,
        t.getActivityRange = function(t, e, n, o) {
            var r = this.getActivityTime(t, e, n, o)
              , a = {
                h1: r.beginHour,
                m1: r.beginMinute,
                h2: r.endHour,
                m2: r.endMinute
            };
            return r.nextDay ? Object(i.tr)("main@actRangeNext", a) : Object(i.tr)("main@actRange", a)
        }
        ,
        t.leftSeconds = function(t) {
            var e = t - this.getNow(!0);
            return e < 0 && (e = 0),
            e
        }
        ,
        t.nowDay = function() {
            return this.timeStamp(this.getNow(!0), "DAY")
        }
        ,
        t.getCurDay = function(t) {
            return this.timeStamp(t, "DAY")
        }
        ,
        t.isCurDayFirst = function(t) {
            var e = Object(i.getLocalStorage)().getString("firstMap", "{}")
              , n = JSON.parse(e)
              , o = this.nowDay()
              , r = !1;
            return r = !n[t] || n[t] != o,
            n[t] = o,
            Object(i.getLocalStorage)().setString("firstMap", JSON.stringify(n)),
            r
        }
        ,
        t.isOver = function(t) {
            return this.getNow() >= t
        }
        ,
        t.timeStamp = function(t, e) {
            function n(t) {
                return (1 == String(t).length ? "0" : "") + t
            }
            var o = new Date(1e3 * t)
              , r = o.getFullYear()
              , a = o.getMonth() + 1
              , s = o.getDate()
              , c = o.getHours()
              , u = o.getMinutes()
              , h = o.getSeconds();
            switch (e) {
            case "YEAR":
                return r;
            case "MOUTH":
                return r + "-" + n(a);
            case "DAY":
                return r + "-" + n(a) + "-" + n(s);
            case "HOURS":
                return r + "-" + n(a) + "-" + n(s) + " " + n(c) + Object(i.tr)("main@hour");
            case "CN-HOURS":
                return r + "年" + n(a) + "月" + n(s) + "日" + n(c) + "时";
            case "CN_MD":
                return n(a) + "月" + n(s) + "日";
            case "CN_DHMS":
                return n(s) + Object(i.tr)("main@day") + n(c) + ":" + n(u) + ":" + n(h);
            case "CN-HMS":
                return r + "年" + n(a) + "月" + n(s) + "日" + n(c) + ":" + n(u);
            case "MINUTES":
                return r + "-" + n(a) + "-" + n(s) + " " + n(c) + ":" + n(u);
            case "SECONDS":
                return r + "-" + n(a) + "-" + n(s) + " " + n(c) + ":" + n(u) + ":" + n(h);
            case "HM":
                return n(c) + ":" + n(u);
            case "HMS":
                return n(c) + ":" + n(u) + ":" + n(h);
            case "NUMBER-YMS":
                return r + n(a) + n(s);
            case "MS":
                return n(u) + ":" + n(h);
            case "MDHM":
                return n(a) + "/" + n(s) + " " + n(c) + ":" + n(u);
            case "MDHMS":
                return n(a) + "-" + n(s) + " " + n(c) + ":" + n(u) + ":" + n(h);
            case "NUMBER-HOURS":
                return n(c);
            case "YMD":
                return r + n(a) + n(s)
            }
        }
        ,
        t.timestampFormat = function(e) {
            var n = t.getNow() - e;
            if (n < 60)
                return Object(i.tr)("main@offline1");
            if (n < 3600) {
                var o = ~~(n / 60);
                return Object(i.tr)("main@offline2", {
                    min: o
                })
            }
            if (n < 86400) {
                var r = ~~(n / 3600);
                return Object(i.tr)("main@offline3", {
                    hour: r
                })
            }
            if (n < 2592e3) {
                var a = ~~(n / 86400);
                return Object(i.tr)("main@offline4", {
                    day: a
                })
            }
            return Object(i.tr)("main@offline6", {
                month: ~~(n / 2592e3)
            })
        }
        ,
        t.timeInterval = function(t, e, n) {
            var o = e - t;
            o <= 0 && n && (o = n);
            var r = ""
              , a = function(t, e) {
                if (o >= t) {
                    var n = ~~(o / t);
                    r += Object(i.tr)(e, {
                        time: n
                    }),
                    o -= n * t
                }
            };
            return a(2592e3, "main@time_5"),
            a(604800, "main@time_4"),
            a(86400, "main@time_3"),
            a(3600, "main@time_2"),
            a(60, "main@time_1"),
            r
        }
        ,
        t.isToday = function(t) {
            var e = this.getNow()
              , n = e - (e - 57600) % 86400;
            return t >= n && t <= n + 86400
        }
        ,
        t.isSameMounth = function(t) {
            var e = this.getNow(!0)
              , n = new Date(e)
              , i = new Date(t);
            return n.getMonth() == i.getMonth() && Math.abs(t - e) <= 26784e5
        }
        ,
        t.cdFormat = function(t, e) {
            var n = function(t) {
                return t < 10 ? "0" + t : t
            }
              , i = "";
            switch (e) {
            case "HMS":
                var o = t % 3600 / 60 | 0
                  , r = t % 3600 % 60;
                i = n(t / 3600 | 0) + ":" + n(o) + ":" + n(r);
                break;
            case "DHMS":
                o = t % 3600 / 60 | 0,
                r = t % 3600 % 60;
                i = (t / 86400 | 0) + "-" + n(t % 86400 / 3600 | 0) + ":" + n(o) + ":" + n(r)
            }
            return i
        }
        ,
        t.getWeek = function(t) {
            switch (console.log("day:" + t),
            t) {
            case 1:
                return Object(i.tr)("main@day_1");
            case 2:
                return Object(i.tr)("main@day_2");
            case 3:
                return Object(i.tr)("main@day_3");
            case 4:
                return Object(i.tr)("main@day_4");
            case 5:
                return Object(i.tr)("main@day_5");
            case 6:
                return Object(i.tr)("main@day_6");
            case 0:
                return Object(i.tr)("main@day_0")
            }
        }
        ,
        t.zone = 8,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "k", (function() {
        return u
    }
    )),
    n.d(e, "j", (function() {
        return h
    }
    )),
    n.d(e, "h", (function() {
        return l
    }
    )),
    n.d(e, "o", (function() {
        return p
    }
    )),
    n.d(e, "f", (function() {
        return f
    }
    )),
    n.d(e, "g", (function() {
        return d
    }
    )),
    n.d(e, "i", (function() {
        return b
    }
    )),
    n.d(e, "d", (function() {
        return g
    }
    )),
    n.d(e, "a", (function() {
        return i
    }
    )),
    n.d(e, "e", (function() {
        return _
    }
    )),
    n.d(e, "p", (function() {
        return v
    }
    )),
    n.d(e, "n", (function() {
        return O
    }
    )),
    n.d(e, "b", (function() {
        return m
    }
    )),
    n.d(e, "c", (function() {
        return j
    }
    )),
    n.d(e, "m", (function() {
        return w
    }
    )),
    n.d(e, "l", (function() {
        return x
    }
    ));
    var i, o = n(1), r = n(107), a = n(127), s = n(111), c = n(115);
    function u(t) {
        var e = Object(o.getCache)("Activity.getList").l || []
          , n = Object(o.getConfig)("activityRank_json")
          , i = s.a.getNow(!0);
        return e.some((function(e) {
            return !!(n[e.id] && n[e.id].type == t && i < e.awardEnd)
        }
        ))
    }
    function h(t) {
        var e = Object(o.getCache)("Activity.getList").l || []
          , n = s.a.getNow(!0);
        return e.some((function(e) {
            return !!(e.rankType && e.rankType == t && n < e.awardEnd)
        }
        ))
    }
    function l(t) {
        return (Object(o.getCache)("Activity.getList").l || []).some((function(e) {
            return e.id == t
        }
        ))
    }
    function p(t) {
        return Object(r.d)("at.a", {
            id: t
        }).then((function(t) {
            if (t && t.l) {
                for (var e = Object(o.getCache)("Activity.getList").l || [], n = t.l || [], i = 0; i < n.length; i++)
                    for (var r = 0; r < e.length; r++)
                        e[r].id == t.l[i].id && (e[r] = t.l[i]);
                return t
            }
        }
        ))
    }
    function f(t, e, n) {
        for (var i = Object(o.getConfig)(n || a.c)[t], r = 0; r < i.list.length; r++)
            if (i.list[r].turn == e)
                return i.list[r];
        return null
    }
    function d(t, e, n) {
        var i = f(t, e);
        if (i)
            for (var o = 0; o < i.detail.length; o++)
                if (i.detail[o].id == n)
                    return i.detail[o];
        return null
    }
    function b() {
        var t = Object(c.f)() ? "tian" : "di"
          , e = Object(o.getConfig)("activityTask_json")
          , n = Object(o.getCache)("Activity.getList", "l") || []
          , i = s.a.getNow(!0);
        for (var r in n)
            if (e[n[r].id] && n[r].rankType == t && i < n[r].awardEnd)
                return !0;
        return !1
    }
    function g(t, e) {
        var n = e || (Object(o.getCache)("Activity.getList").l || []);
        if (n)
            for (var i = 0; i < n.length; i++)
                if (n[i].id == t)
                    return n[i];
        return null
    }
    function _(t, e, n, i) {
        var r = g(t, i)
          , a = s.a.getNow();
        return 1 == n ? !!(r && r.start <= a && r.awardEnd > a) || (e && (!r || a < r.start ? Object(o.tooltip)(Object(o.tr)("main@actUnopen")) : r && a > r.awardEnd && Object(o.tooltip)(Object(o.tr)("main@actEnd"))),
        !1) : !!(r && r.start <= a && r.end > a) || (e && (!r || a < r.start ? Object(o.tooltip)(Object(o.tr)("main@actUnopen")) : a > r.end && Object(o.tooltip)(Object(o.tr)("main@actEnd"))),
        !1)
    }
    (function(t) {
        t[t.normal = 0] = "normal",
        t[t.close = 1] = "close"
    }
    )(i || (i = {}));
    var m, y = new egret.HtmlTextParser;
    function v(t, e, n, i, r) {
        var a = g(e, r)
          , c = "dd" + Object(o.tr)("main@day") + " hh:mm:ss";
        return Object(o.setInterval)((function() {
            var e, r = s.a.getNow();
            e = r < a.start ? n ? Object(o.tr)("commact@lightDisStart", {
                time: o.time.leftCountdown(a.start - s.a.getNow(), c)
            }) : i && i.start ? Object(o.tr)(i.start, {
                time: o.time.leftCountdown(a.start - s.a.getNow(), c)
            }) : Object(o.tr)("commact@disStart", {
                time: o.time.leftCountdown(a.start - s.a.getNow(), c)
            }) : r < a.end ? n ? Object(o.tr)("commact@lightDisEnd", {
                time: o.time.leftCountdown(a.end - s.a.getNow(), c)
            }) : i && i.end ? Object(o.tr)(i.end, {
                time: o.time.leftCountdown(a.end - s.a.getNow(), c)
            }) : Object(o.tr)("commact@disEnd", {
                time: o.time.leftCountdown(a.end - s.a.getNow(), c)
            }) : r < a.awardEnd ? n ? Object(o.tr)("commact@lightDisClose", {
                time: o.time.leftCountdown(a.awardEnd - s.a.getNow(), c)
            }) : i && i.awardEnd ? Object(o.tr)(i.awardEnd, {
                time: o.time.leftCountdown(a.awardEnd - s.a.getNow(), c)
            }) : Object(o.tr)("commact@disClose", {
                time: o.time.leftCountdown(a.awardEnd - s.a.getNow(), c)
            }) : "",
            n ? t.textFlow = y.parser(e) : t.text = e
        }
        ), this, 1e3)
    }
    function O() {
        return "gcatfly" == Object(o.getPlatform)().name
    }
    function j(t, e) {
        void 0 === e && (e = !1);
        var n = g(t)
          , i = s.a.getNow();
        return !n || i < n.start ? (e && Object(o.tooltip)(Object(o.tr)("main@actUnopen")),
        m.noOpen) : i > n.end ? (e && Object(o.tooltip)(Object(o.tr)("main@actEnd")),
        m.end) : m.start
    }
    function w(t) {
        var e = g(t);
        if (e) {
            var n = e.end - s.a.getNow();
            if (n < 7200 && n > 0)
                return Object(o.tooltip)(Object(o.tr)("main@autoLundaoWarn")),
                !0
        }
        return !1
    }
    function x(t) {
        for (var e = [], n = s.a.getNow(), i = 0; i < t.length; i++)
            n < t[i].extime && 0 == t[i].awded && e.push(t[i]);
        return e
    }
    !function(t) {
        t[t.noOpen = 1] = "noOpen",
        t[t.start = 2] = "start",
        t[t.end = 3] = "end"
    }(m || (m = {}))
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return o
    }
    ));
    var i = n(1);
    function o(t) {
        return t = t ? "i." + t : "i",
        Object(i.getCache)("User.getInfo", t)
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return o.a
    }
    )),
    n.d(e, "f", (function() {
        return o.c
    }
    )),
    n.d(e, "e", (function() {
        return o.b
    }
    )),
    n.d(e, "c", (function() {
        return d
    }
    )),
    n.d(e, "d", (function() {
        return g
    }
    )),
    n.d(e, "a", (function() {
        return y
    }
    )),
    n.d(e, "l", (function() {
        return v.f
    }
    )),
    n.d(e, "j", (function() {
        return v.d
    }
    )),
    n.d(e, "m", (function() {
        return v.g
    }
    )),
    n.d(e, "h", (function() {
        return v.b
    }
    )),
    n.d(e, "g", (function() {
        return v.a
    }
    )),
    n.d(e, "i", (function() {
        return v.c
    }
    )),
    n.d(e, "k", (function() {
        return v.e
    }
    ));
    var i, o = n(133), r = n(1), a = n(117), s = n(192), c = n(124), u = n(201), h = n(106), l = n(203), p = n(156), f = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), d = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.arr = [],
            e._num = null,
            e.toFix = 0,
            e._showNum = !0,
            e._showFrame = !0,
            e._canPreview = !0,
            e._propId = null,
            e._need = void 0,
            e
        }
        return f(e, t),
        Object.defineProperty(e.prototype, "num", {
            get: function() {
                return this._num
            },
            set: function(t) {
                this._num = t,
                this.refreshView()
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "qualityIcon", {
            get: function() {
                return this._qualityIcon
            },
            set: function(t) {
                this._qualityIcon = t,
                this.refreshView()
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "showNum", {
            get: function() {
                return this._showNum
            },
            set: function(t) {
                this._showNum = t,
                this.refreshView()
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "showFrame", {
            get: function() {
                return this._showFrame
            },
            set: function(t) {
                this._showFrame = t,
                this.refreshView()
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "canPreview", {
            get: function() {
                return this._canPreview
            },
            set: function(t) {
                this._canPreview = t
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "uiData", {
            set: function(t) {
                this.data = t
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "data", {
            get: function() {
                return this._data
            },
            set: function(t) {
                t instanceof o.b || t instanceof u.a || t && t.icon ? (this._data = t,
                this.refreshView()) : t ? (t.hasOwnProperty("num") && (this._num = t.num),
                t.propId ? this.propId = t.propId : t.cId ? this.propId = t.cId : t.itemId && (this.propId = t.itemId),
                this.refreshView()) : this._data = null
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "propId", {
            get: function() {
                return this._propId
            },
            set: function(t) {
                this._propId = t,
                this.data = o.b.get(t)
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.onEnter = function() {
            this.tap(this, this.onTap, this),
            this.refreshView()
        }
        ,
        e.prototype.refreshView = function() {
            var t = this.data;
            if (t) {
                this.frame && (this.frame.visible = t.canDaZao),
                Object(s.a)(t, this);
                var e = t.num;
                if (this.lbl_num && (this.showNum ? (this.lbl_num.visible = !0,
                null != this._num && (e = this._num),
                null != this._need ? (this._originColor || (this._originColor = this.lbl_num.textColor),
                this.lbl_num.text = (e > 1e4 ? Object(a.a)(e) : e + "") + "/" + this._need,
                Object(p.a)(this.lbl_num, e >= this._need)) : (this.lbl_num.text = e > 1e4 ? Object(a.a)(e) : e + "",
                this._originColor && (this.lbl_num.textColor = this._originColor))) : this.lbl_num.visible = !1),
                this.quality) {
                    var n = t.quality;
                    this._qualityIcon ? this.quality.source = "bg_item_" + this._qualityIcon + "_png" : this.quality.source = "bg_item_" + Object(a.i)(n) + "_png"
                }
                this.up && (this.up.visible = 1 == t.highQuality)
            }
        }
        ,
        e.prototype.onExit = function() {}
        ,
        e.prototype.onTap = function() {
            this._canPreview && (r.audio.playEffect("bg_common_click_mp3"),
            !0 !== Object(r.pull)("prop_item_tap", this.data) && Object(h.a)(new l.a, this.data))
        }
        ,
        Object.defineProperty(e.prototype, "need", {
            get: function() {
                return this._need
            },
            set: function(t) {
                this._need = t,
                this.refreshView()
            },
            enumerable: !0,
            configurable: !0
        }),
        e
    }(r.Component);
    Object(c.a)("PropItem", d);
    var b = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , g = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e._showPlus = !0,
            e.cachePath = "",
            e._propId = 0,
            e
        }
        return b(e, t),
        Object.defineProperty(e.prototype, "showPlus", {
            get: function() {
                return this._showPlus
            },
            set: function(t) {
                this._showPlus = t,
                this.refreshView()
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "propId", {
            get: function() {
                return this._propId
            },
            set: function(t) {
                t !== this._propId && (this._propId = t,
                this.refreshView())
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "max", {
            get: function() {
                return this._max
            },
            set: function(t) {
                this._max = t,
                this.refreshView()
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.onReady = function() {
            this.refreshView()
        }
        ,
        e.prototype.refreshView = function() {
            if (this.btn_add && "boolean" == typeof this._showPlus && (this.btn_add.visible = this._showPlus,
            this.tap("btn_add", this.onAdd, this)),
            this.img_icon && this._propId) {
                var t = Object(r.getConfig)("item_json")[this._propId].icon;
                this.img_icon.source = "item_" + t + "_png"
            }
            this.numWatch && (this.numWatch.dispose(),
            this.numWatch = null),
            this.propId && (this.onNumUpdate(),
            this.numWatch = o.b.watchNum(this.propId, this.onNumUpdate, this))
        }
        ,
        e.prototype.onNumUpdate = function() {
            this.lbl_num && (this.max ? this.lbl_num.text = Object(a.a)(o.b.getNum(this._propId)) + "/" + Object(a.a)(this.max) : 100002 == this.propId ? this.lbl_num.text = o.b.getNum(this._propId) : this.lbl_num.text = Object(a.a)(o.b.getNum(this._propId)))
        }
        ,
        e.prototype.onExit = function() {
            t.prototype.onExit.call(this),
            this.numWatch && (this.numWatch.dispose(),
            this.numWatch = null)
        }
        ,
        e.prototype.onAdd = function() {}
        ,
        e
    }(r.Component);
    Object(c.a)("PropLabel", g);
    var _ = n(360)
      , m = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , y = function(t) {
        function e() {
            return t.call(this) || this
        }
        return m(e, t),
        e.prototype.setType = function(t) {
            var e = this;
            this._type = t,
            this.position.source = "icon_equip_" + t + "_png",
            this.runOnSkinLoad((function() {
                var n = u.a.getEquipByDress(t);
                e.updateData(n)
            }
            ))
        }
        ,
        e.prototype.updateData = function(t) {
            this.equipModel = t,
            t ? (this.img.source = t.icon,
            this.frame.visible = t.canDaZao) : (this.img.source = "",
            this.frame.visible = !1)
        }
        ,
        e.prototype.onReady = function() {
            this.tap(this, this.onTap, this),
            this.frame.visible = !1
        }
        ,
        e.prototype.onTap = function() {
            this.equipModel && Object(h.a)(new _.a, this.equipModel)
        }
        ,
        e
    }(r.Component);
    Object(c.a)("EquipItem", y);
    var v = n(196)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "x", (function() {
        return g
    }
    )),
    n.d(e, "l", (function() {
        return _
    }
    )),
    n.d(e, "k", (function() {
        return m
    }
    )),
    n.d(e, "s", (function() {
        return y
    }
    )),
    n.d(e, "N", (function() {
        return v
    }
    )),
    n.d(e, "I", (function() {
        return O
    }
    )),
    n.d(e, "J", (function() {
        return j
    }
    )),
    n.d(e, "O", (function() {
        return w
    }
    )),
    n.d(e, "K", (function() {
        return x
    }
    )),
    n.d(e, "z", (function() {
        return k
    }
    )),
    n.d(e, "L", (function() {
        return I
    }
    )),
    n.d(e, "b", (function() {
        return P
    }
    )),
    n.d(e, "B", (function() {
        return C
    }
    )),
    n.d(e, "A", (function() {
        return S
    }
    )),
    n.d(e, "u", (function() {
        return T
    }
    )),
    n.d(e, "q", (function() {
        return A
    }
    )),
    n.d(e, "C", (function() {
        return M
    }
    )),
    n.d(e, "G", (function() {
        return N
    }
    )),
    n.d(e, "f", (function() {
        return B
    }
    )),
    n.d(e, "D", (function() {
        return E
    }
    )),
    n.d(e, "g", (function() {
        return D
    }
    )),
    n.d(e, "E", (function() {
        return G
    }
    )),
    n.d(e, "h", (function() {
        return V
    }
    )),
    n.d(e, "y", (function() {
        return U
    }
    )),
    n.d(e, "M", (function() {
        return H
    }
    )),
    n.d(e, "c", (function() {
        return F
    }
    )),
    n.d(e, "w", (function() {
        return z
    }
    )),
    n.d(e, "p", (function() {
        return q
    }
    )),
    n.d(e, "j", (function() {
        return W
    }
    )),
    n.d(e, "v", (function() {
        return X
    }
    )),
    n.d(e, "t", (function() {
        return Y
    }
    )),
    n.d(e, "i", (function() {
        return J
    }
    )),
    n.d(e, "r", (function() {
        return $
    }
    )),
    n.d(e, "o", (function() {
        return Q
    }
    )),
    n.d(e, "n", (function() {
        return Z
    }
    )),
    n.d(e, "e", (function() {
        return tt
    }
    )),
    n.d(e, "H", (function() {
        return et
    }
    )),
    n.d(e, "d", (function() {
        return nt
    }
    )),
    n.d(e, "a", (function() {
        return it
    }
    )),
    n.d(e, "m", (function() {
        return ot
    }
    )),
    n.d(e, "F", (function() {
        return rt
    }
    ));
    var i, o, r, a = n(1), s = n(113), c = n(111), u = n(165), h = n(154), l = n(286), p = n(106), f = n(173), d = n(114), b = n(137);
    function g(t, e) {
        var n = this;
        egret.callLater((function() {
            egret.callLater((function() {
                t.call(e)
            }
            ), n)
        }
        ), this)
    }
    function _(t) {
        var e = 0
          , n = "";
        for (var i in t.forEach((function(t) {
            e += t.pro
        }
        )),
        t) {
            n = n + "\n" + d.e.getName(t[i].itemId) + "*" + (t[i].num || 1) + "  " + (t[i].pro / e * 100).toFixed(1) + "% "
        }
        return n
    }
    function m(t, e) {
        var n = 0
          , i = [];
        for (var o in t.forEach((function(t) {
            n += t.pro
        }
        )),
        t)
            i.push({
                propName: d.e.getName(t[o].itemId),
                propNum: t[o].num || 1,
                pro: (t[o].pro / n * 100).toFixed(e)
            });
        return i
    }
    function y() {
        return "modoxyx" == Object(a.getPlatform)().name || "modoIos2" == Object(a.getPlatform)().name || "modoIos" == Object(a.getPlatform)().name || "modo" == Object(a.getPlatform)().name || Object(a.getOption)("xyx")
    }
    function v() {
        return a.is.wx() || Object(b.f)() || "awy" == Object(a.getPlatform)().name
    }
    function O() {
        if (a.is.wx() || Object(b.f)())
            Object(u.b)({
                shareTime: c.a.getNow()
            });
        else if ("awy" == Object(a.getPlatform)().name) {
            window.AWY_SDK.showShare()
        }
    }
    function j(t) {
        egret.Tween.removeTweens(t),
        t.__tipTick__ && egret.clearTimeout(t.__tipTick__),
        t.visible = !0,
        t.alpha = 1;
        var e = egret.setTimeout((function() {
            egret.Tween.get(t).to({
                alpha: 0
            }, 500).call((function() {
                t.visible = !1
            }
            )),
            delete t.__tipTick__
        }
        ), this, 2e3);
        t.__tipTick__ = e
    }
    function w(t) {
        var e = Object(b.d)();
        if (("zh_cn" == e || "zh_hant" == e) && t) {
            var n = t;
            if ("number" == typeof t && (n = Object(a.getConfig)("npc_json")[t]),
            n.soundId) {
                if (o == t)
                    return;
                o = t,
                i && (i.off(),
                i = null),
                i = a.audio.playEffect(n.soundId + "_mp3", 1)
            }
        }
    }
    function x() {
        o = null,
        i && (i.off(),
        i = null)
    }
    function k(t, e) {
        void 0 === e && (e = 2);
        var n = Object(b.d)();
        "zh_cn" != n && "zh_hant" != n || (r = a.audio.playEffect(t.replace("{n}", a.numbers.getRandomInt(1, e))))
    }
    function I() {
        r && (r.off(),
        r = null)
    }
    function P() {
        if (!Object(f.b)()) {
            var t = Object(h.a)().serverInfo.gonggao
              , e = t.ol ? t.ol : []
              , n = JSON.parse(Object(a.getLocalStorage)().getString("noticeSelfVer", "{}"))
              , i = Object(s.a)("sId")
              , o = n[i] ? n[i] : 0
              , r = o;
            for (var c in e)
                e[c].minSid <= i && i <= e[c].maxSid && e[c].ver > o && (o = e[c].ver);
            n[i] = o,
            Object(a.getLocalStorage)().setString("noticeSelfVer", JSON.stringify(n)),
            o > r && Object(p.a)(new l.a(!0))
        }
    }
    function C(t, e) {
        return Math.floor(Math.random() * (t - e + 1) + e)
    }
    function S(t, e, n, i) {
        if (void 0 === i && (i = []),
        Math.abs(e - t) < n)
            return i;
        var o = a.numbers.getRandomInt(t, e);
        return -1 == i.findIndex((function(t) {
            return t == o
        }
        )) && i.push(o),
        i.length >= n ? i : S(t, e, n, i)
    }
    var R = !1;
    function T() {
        return 0 != R || (R = !0,
        egret.setTimeout((function() {
            R = !1
        }
        ), this, 2e3),
        !1)
    }
    var L = {};
    function A(t, e) {
        return void 0 === e && (e = "name"),
        L[e] || (L[e] = !1),
        0 != L[e] || (L[e] = !0,
        egret.setTimeout((function() {
            L[e] = !1
        }
        ), this, t),
        !1)
    }
    function M(t) {
        var e = {
            isFly: t
        };
        Object(a.getLocalStorage)().setString("isFei", JSON.stringify(e)),
        Object(a.put)("refresh_funOpen", "fly")
    }
    function N() {
        var t = Object(a.getCache)("Activity.getList").l || []
          , e = 0;
        for (var n in t)
            if (t[n].awardEnd) {
                var i = t[n].awardEnd;
                (i < e || 0 == e) && (e = i)
            }
        a.cache.set("firstActEndTime", e)
    }
    function B() {
        var t = JSON.parse(Object(a.getLocalStorage)().getString("isFei", "{}"));
        return "{}" == JSON.stringify(t) ? (M(!!(t = Object(s.a)("fly"))),
        !!t) : t.isFly && 1 == Object(s.a)("fly")
    }
    function E(t) {
        Object(a.getLocalStorage)().setString("miniRecord", JSON.stringify(t))
    }
    function D() {
        return JSON.parse(Object(a.getLocalStorage)().getString("miniRecord", "{}"))
    }
    function G(t) {
        Object(a.getLocalStorage)().setString("mainRecord", JSON.stringify(t))
    }
    function V() {
        return JSON.parse(Object(a.getLocalStorage)().getString("mainRecord", "{}"))
    }
    function U(t) {
        var e = JSON.parse(Object(a.getLocalStorage)().getString(t, "{}"))
          , n = [];
        for (var i in e)
            n.push(e[i]);
        return 0 == n.length ? Object(s.a)("uId") + t : t
    }
    function H(t) {
        for (var e = 0, n = 0; n < t.length; n++)
            0 != (65280 & t.charCodeAt(n)) && e++,
            e++;
        return e
    }
    function F(t) {
        switch (t) {
        case "atk":
            return Object(a.tr)("main@gongji");
        case "def":
            return Object(a.tr)("main@fangyu");
        case "hp":
            return Object(a.tr)("main@shengming");
        case "dodge":
        case "miss":
            return Object(a.tr)("main@shanbi");
        case "pierce":
            return Object(a.tr)("main@pierce");
        case "hit":
            return Object(a.tr)("main@hit");
        case "hurt":
            return Object(a.tr)("main@hurt");
        case "harmless":
            return Object(a.tr)("main@harmless");
        default:
            return t
        }
    }
    function z() {
        return Object(s.a)("isNewSv") ? 1 == Object(s.a)("fly") && Object(s.a)("mapId") > 20 : 1 == Object(s.a)("fly")
    }
    function q(t, e) {
        return c.a.getNow() <= W(t, e)
    }
    function W(t, e) {
        return (Object(s.a)("openTime") || 1586697152) + 86400 * (t - 1) + 3600 * e
    }
    function X(t) {
        return !!/^[1][3-9][0-9]{9}$/.test(t)
    }
    function Y(t) {
        return !!/^[\u4e00-\u9fa5]{2,4}$/.test(t)
    }
    function J(t) {
        var e = Object(a.getCache)("User.getInfo", "i.building");
        switch (t) {
        case 1:
            return e.isOpenB;
        case 2:
            return e.isOpenD;
        case 3:
            return e.isOpenQ;
        case 4:
            return e.isOpenY
        }
        return !1
    }
    function $(t) {
        var e, n = !0, i = new Array;
        if (i = t.split(""),
        null == {
            11: "北京",
            12: "天津",
            13: "河北",
            14: "山西",
            15: "内蒙古",
            21: "辽宁",
            22: "吉林",
            23: "黑龙江",
            31: "上海",
            32: "江苏",
            33: "浙江",
            34: "安徽",
            35: "福建",
            36: "江西",
            37: "山东",
            41: "河南",
            42: "湖北",
            43: "湖南",
            44: "广东",
            45: "广西",
            46: "海南",
            50: "重庆",
            51: "四川",
            52: "贵州",
            53: "云南",
            54: "西藏",
            61: "陕西",
            62: "甘肃",
            63: "青海",
            64: "宁夏",
            65: "新疆",
            71: "台湾",
            81: "香港",
            82: "澳门",
            91: "国外"
        }[parseInt(t.substr(0, 2))])
            return !1;
        switch (t.length) {
        case 15:
            n = !!((parseInt(t.substr(6, 2)) + 1900) % 4 == 0 || (parseInt(t.substr(6, 2)) + 1900) % 100 == 0 && (parseInt(t.substr(6, 2)) + 1900) % 4 == 0 ? /^[1-9][0-9]{5}19[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}$/ : /^[1-9][0-9]{5}19[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}$/).test(t);
            break;
        case 18:
            (parseInt(t.substr(6, 4)) % 4 == 0 || parseInt(t.substr(6, 4)) % 100 == 0 && parseInt(t.substr(6, 4)) % 4 == 0 ? /^[1-9][0-9]{5}(19|20)[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}[0-9Xx]$/ : /^[1-9][0-9]{5}(19|20)[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}[0-9Xx]$/).test(t) ? (e = 7 * (parseInt(i[0]) + parseInt(i[10])) + 9 * (parseInt(i[1]) + parseInt(i[11])) + 10 * (parseInt(i[2]) + parseInt(i[12])) + 5 * (parseInt(i[3]) + parseInt(i[13])) + 8 * (parseInt(i[4]) + parseInt(i[14])) + 4 * (parseInt(i[5]) + parseInt(i[15])) + 2 * (parseInt(i[6]) + parseInt(i[16])) + 1 * parseInt(i[7]) + 6 * parseInt(i[8]) + 3 * parseInt(i[9]),
            "F",
            "10X98765432",
            n = "10X98765432".substr(e % 11, 1) == i[17]) : n = !1;
            break;
        default:
            n = !1
        }
        return n
    }
    var K = {};
    function Q(t, e) {
        return void 0 === e && (e = 500),
        !(!K[t] || K[t] < egret.getTimer() - e) || (K[t] = egret.getTimer(),
        !1)
    }
    function Z() {
        var t = Object(s.a)("tqInfo")
          , e = c.a.getNow(!0);
        return t.tq1 - e < 0 ? 0 : t.tq1 - e
    }
    function tt() {
        var t = new Date(1e3 * c.a.getNow())
          , e = String(t.getFullYear())
          , n = String(t.getMonth() + 1)
          , i = String(t.getDate());
        return 1 == n.length && (n = "0" + n),
        1 == i.length && (i = "0" + i),
        e + n + i
    }
    function et(t, e) {
        e.constructor === Object && (e = JSON.stringify(e)),
        Object(a.getLocalStorage)().setString(t, String(e)),
        a.cache.set(t, e)
    }
    function nt(t) {
        var e = a.cache.get(t)
          , n = Object(a.getLocalStorage)().getString(t);
        return n && "{" == n[0] && (n = JSON.parse(n)),
        n || e
    }
    function it() {
        for (var t = Object(a.getCache)("playGuide.getList").l, e = 0; e < t.length; e++)
            if (1 == t[e].unlock)
                return !0;
        return !1
    }
    function ot() {
        return egret.localStorage.getItem("selecctServer")
    }
    function rt(t) {
        egret.localStorage.setItem("selecctServer", t)
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return l
    }
    ));
    var i, o = n(1), r = n(124), a = n(133), s = n(117), c = n(288), u = n(330), h = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), l = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "TipsGetItemSkin"),
            e.touchChildren = e.touchEnabled = !1,
            e
        }
        return h(e, t),
        e.prototype.init = function(t) {
            this.prop = t
        }
        ,
        e.prototype.onReady = function() {
            if (this.prop instanceof a.b)
                this.updateView({
                    name: Object(o.tr)(this.prop.c.name)
                }, this.prop.num);
            else if (this.prop.fashionId) {
                var t = c.a.create(this.prop.fashionId);
                this.updateView({
                    name: Object(o.tr)(t.c.name)
                }, this.prop.num || 1)
            } else if (this.prop) {
                var e = this.prop.cId || this.prop.propId || this.prop.itemId
                  , n = {}
                  , i = Object(o.getConfig)("item_json")[e];
                n = 6 == i.itemType ? {
                    name: Object(o.tr)(Object(o.getConfig)("hero_json")[i.ResultVal1].name)
                } : {
                    name: Object(o.tr)(i.name)
                },
                this.updateView(n, this.prop.num || 1)
            }
            this.anchorOffsetX = this.width >> 1,
            this.anchorOffsetY = this.height >> 1
        }
        ,
        e.prototype.show = function(t, n, i) {
            var r = this;
            this.x = t.x + i.x,
            this.y = t.y + i.y,
            this.alpha = 1,
            n.addChild(this),
            egret.Tween.get(this).wait(800).to({
                alpha: 0
            }, 1100),
            egret.Tween.get(this).to({
                y: this.y - 120
            }, 1900).call((function() {
                r.parent && r.parent.removeChild(r),
                Object(o.pool)(e).recycle(r)
            }
            ))
        }
        ,
        e.prototype.updateView = function(t, e) {
            var n = e + "";
            (e >= 1e4 || e <= -1e4) && (n = Object(s.a)(n)),
            this.lbl_get.visible = this.lbl_get.includeInLayout = e > 0,
            this.num.textColor = e >= 0 ? 7061293 : 13508897;
            var i = e >= 0 ? " x " + n : " " + n;
            this.num.text = Object(o.tr)(t.name) + i
        }
        ,
        e.show = function(t, e, n, i) {
            if (void 0 === n && (n = o.display.stage),
            void 0 === i && (i = {
                x: 0,
                y: 0
            }),
            t) {
                var r, a = null;
                a = e ? e.localToGlobal(e.width >> 1, e.height >> 1) : new egret.Point(o.display.stageW >> 1,o.display.stageH >> 1),
                n != o.display.stage && (a = n.globalToLocal(a.x, a.y, a)),
                r = Array.isArray(t) ? t : [t];
                for (var s = [], c = 0; c < r.length; c++)
                    0 != r[c].num && s.push(r[c]);
                for (c = 0; c < s.length; c++)
                    s[c].heroSkin ? u.a.show(s[c]) : egret.setTimeout(this.pullShow, this, 500 * c, s[c], a, n, i)
            }
        }
        ,
        e.pullShow = function(t, n, i, r) {
            Object(o.pool)(e).get(t).show(n, i, r)
        }
        ,
        e
    }(o.Component);
    Object(r.a)("FlyPropItem", l)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "h", (function() {
        return u
    }
    )),
    n.d(e, "b", (function() {
        return h
    }
    )),
    n.d(e, "i", (function() {
        return l
    }
    )),
    n.d(e, "d", (function() {
        return p
    }
    )),
    n.d(e, "c", (function() {
        return f
    }
    )),
    n.d(e, "o", (function() {
        return d
    }
    )),
    n.d(e, "p", (function() {
        return g
    }
    )),
    n.d(e, "j", (function() {
        return _
    }
    )),
    n.d(e, "k", (function() {
        return m
    }
    )),
    n.d(e, "g", (function() {
        return O
    }
    )),
    n.d(e, "l", (function() {
        return j
    }
    )),
    n.d(e, "n", (function() {
        return w
    }
    )),
    n.d(e, "m", (function() {
        return x
    }
    )),
    n.d(e, "f", (function() {
        return k
    }
    )),
    n.d(e, "a", (function() {
        return I
    }
    )),
    n.d(e, "e", (function() {
        return P
    }
    ));
    var i = n(1)
      , o = n(113)
      , r = n(154)
      , a = n(111)
      , s = n(250)
      , c = n(164);
    function u(t) {
        var e = Object(i.getConfig)("level_json")[t];
        return e ? Object(i.tr)(e.name) : "" + t
    }
    function h(t) {
        var e = Object(i.getConfig)("item_json")[t];
        return e.armType > 0 ? "equip_" + e.icon + "_png" : function(t) {
            return "item_" + t + "_png"
        }(e.icon)
    }
    function l(t) {
        return t >= 1 && t <= 3 ? 2 : t >= 4 && t <= 6 ? 3 : t >= 7 && t <= 9 ? 4 : t >= 10 && t <= 12 ? 5 : 6
    }
    function p(t, e) {
        void 0 === e && (e = "full");
        var n = t;
        return "number" == typeof t && (n = Object(i.getConfig)("npc_json")[t]),
        "role_" + e + "_" + n.icon + "_png"
    }
    function f(t) {
        return void 0 === t && (t = Object(o.a)("uNa")),
        t
    }
    function d(t) {
        t = Number(t);
        var e = Object(i.tr)("main@cnum").split("")
          , n = String(t).length;
        return 1 == n ? e[t] : 2 == n ? 10 == t ? e[t] : t > 10 && t < 20 ? e[10] + e[String(t).charAt(1)] : e[String(t).charAt(0)] + e[10] + e[String(t).charAt(1)].replace(e[0], "") : 3 == n ? t % 100 == 0 ? e[String(t).charAt(0)] + e[11] : "0" == String(t).charAt(1) ? e[String(t).charAt(0)] + e[11] + e[0] + e[String(t).charAt(2)] : t % 10 == 0 ? e[String(t).charAt(0)] + e[11] + e[String(t).charAt(1)] + e[10] : e[String(t).charAt(0)] + e[11] + e[String(t).charAt(1)] + e[10] + e[String(t).charAt(2)] : void 0
    }
    var b, g = 900;
    function _(t) {
        void 0 === t && (t = Object(o.a)("sId"));
        var e = Object(r.a)().serverInfo.getAreaItem(t);
        return e ? e.name || "" : t
    }
    function m(t) {
        return /\w+\d+/.test(t) ? t : "s" + t
    }
    function y(t, e) {
        var n = function() {
            if (!b) {
                var t = Object(i.getLocaleType)();
                b = "en_us" == t || "vi_vn" == t || "ta_ta" == t ? [{
                    num: 1e9,
                    text: "B"
                }, {
                    num: 1e6,
                    text: "M"
                }, {
                    num: 1e3,
                    text: "K"
                }] : "ko_kr" == t ? [{
                    num: 1e12,
                    text: "만억"
                }, {
                    num: 1e8,
                    text: "억"
                }, {
                    num: 1e4,
                    text: "만"
                }] : "ja_jp" == t ? [{
                    num: 1e12,
                    text: "万億"
                }, {
                    num: 1e8,
                    text: "億"
                }, {
                    num: 1e4,
                    text: "万"
                }] : [{
                    num: 1e12,
                    text: "万亿"
                }, {
                    num: 1e8,
                    text: "亿"
                }, {
                    num: 1e4,
                    text: "万"
                }]
            }
            return b
        }()
          , o = t;
        if (o < n[n.length - 1].num)
            return o + "";
        for (var r = "", a = 0; a < n.length; a++) {
            var s = n[a];
            if (t >= s.num) {
                o = t / s.num,
                r = s.text;
                break
            }
        }
        if ("" == r)
            return o + "";
        var c = o + "";
        return (c = c.replace(/\.([^$]+)/gi, (function(t, e) {
            return e.length > 2 ? "." + e.substr(0, 2) : t
        }
        ))) + r
    }
    function v(t, e) {
        var n = Object(o.a)("fashion");
        return n && n[e] && n[e][t] && a.a.isOver(n[e][t]) ? 0 : t
    }
    function O() {
        var t = Object(o.a)("skin");
        if (t && t[12]) {
            var e = t[12];
            if (e > 2) {
                var n = Object(o.a)("fashion");
                return n && n.pectTime ? n.pectTime[e] && a.a.isOver(n.pectTime[e]) ? 0 : e : v(e, "pectTime")
            }
            return e
        }
        return 0
    }
    function j() {
        var t = Object(o.a)("skin");
        if (t && t[14]) {
            var e = t[14];
            if (e)
                return v(e, "titleTime")
        }
        return 0
    }
    function w(t) {
        var e = Object(i.getConfig)("fashion_json");
        for (var n in e)
            if (4 == e[n].type && e[n].icon == t)
                return e[n].titleLv;
        return 0
    }
    function x(t) {
        var e = Object(i.getConfig)("fashion_json");
        for (var n in e)
            if (4 == e[n].type && e[n].icon == t)
                return e[n];
        return null
    }
    function k() {
        var t = Object(s.a)(2);
        return t ? 0 == t.ctype || t.hasOwnProperty("detime") && a.a.isOver(t.detime) ? t.num : Object(o.a)("skin")[c.b.cfacial] : 0
    }
    function I(t, e) {
        return void 0 === e && (e = 2),
        y(t)
    }
    function P(t) {
        return Object(i.tr)("main@quality" + t)
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return a
    }
    ));
    var i, o = n(1), r = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), a = function(t) {
        function e() {
            return t.call(this) || this
        }
        return r(e, t),
        Object.defineProperty(e.prototype, "type", {
            get: function() {
                return "full"
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.enter = function(t) {
            e.fullStack.push(t),
            e.views++;
            var n = this.getSceneView();
            if (n && (n.visible = !1,
            n.onVisible && n.onVisible(!1)),
            e.fullStack.length > 1)
                for (var i = 0; i < e.fullStack.length - 1; i++)
                    e.fullStack[i].visible = !1
        }
        ,
        e.prototype.getSceneView = function() {
            return o.UI.getUIComponent(o.ComponentType.Scene)
        }
        ,
        e.prototype.exit = function(t) {
            e.views--;
            var n = e.fullStack.indexOf(t);
            if (n > -1 && e.fullStack.splice(n, 1),
            e.fullStack.length > 0)
                for (var i = e.fullStack.length - 1; i >= 0; i--) {
                    e.fullStack[i].visible = !0;
                    break
                }
            if (e.views <= 0) {
                var o = this.getSceneView();
                o.visible = !0,
                o.onVisible && o.onVisible(!0)
            }
        }
        ,
        e.views = 0,
        e.fullStack = [],
        e
    }(o.BaseBehavior)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return s
    }
    ));
    var i, o = n(1), r = n(106), a = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), s = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "CommonPanelTextSkin"),
            e
        }
        return a(e, t),
        e.prototype.onReady = function(t) {
            this.lbl_title.text = t.title,
            this.lbl_content.text = t.content,
            this.lbl_content.textFlow = (new egret.HtmlTextParser).parser(t.content)
        }
        ,
        e.show = function(t) {
            Object(r.a)(new e, t)
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return a
    }
    ));
    var i = n(111)
      , o = n(1)
      , r = function() {
        return (r = Object.assign || function(t) {
            for (var e, n = 1, i = arguments.length; n < i; n++)
                for (var o in e = arguments[n])
                    Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
            return t
        }
        ).apply(this, arguments)
    }
      , a = function() {
        function t(t) {
            var e = this;
            this.opts = t,
            this.isBar(t.component) && (t.component.labelFunction = function(t) {
                return e.getText(t)
            }
            ),
            this.start()
        }
        return t.prototype.start = function(t) {
            void 0 === t && (t = {}),
            this.opts = r({}, this.opts, t),
            this.dispose(),
            this.coutndown(),
            this.tickId = egret.setInterval(this.coutndown, this, 1e3)
        }
        ,
        t.prototype.getText = function(t) {
            return this.opts.trKey ? "function" == typeof this.opts.trKey ? this.opts.trKey(t) : Object(o.tr)(this.opts.trKey, {
                time: o.time.leftCountdown(t, this.opts.format ? this.opts.format : t > 86400 ? "dd" + Object(o.tr)("main@day") + " hh:mm:ss" : "hh:mm:ss")
            }) : o.time.leftCountdown(t, this.opts.format ? this.opts.format : t > 86400 ? "dd" + Object(o.tr)("main@day") + " hh:mm:ss" : "hh:mm:ss")
        }
        ,
        t.prototype.getTextFlow = function(t) {
            return this.opts.textFlowKey ? "function" == typeof this.opts.textFlowKey ? this.opts.textFlowKey(t) : Object(o.tr)(this.opts.textFlowKey, {
                time: o.time.leftCountdown(t, this.opts.format ? this.opts.format : t > 86400 ? "dd" + Object(o.tr)("main@day") + " hh:mm:ss" : "hh:mm:ss")
            }) : o.time.leftCountdown(t, this.opts.format ? this.opts.format : t > 86400 ? "dd" + Object(o.tr)("main@day") + " hh:mm:ss" : "hh:mm:ss")
        }
        ,
        t.prototype.isBar = function(t) {
            return t instanceof eui.ProgressBar
        }
        ,
        t.prototype.isLabel = function(t) {
            return t instanceof eui.Label
        }
        ,
        t.prototype.coutndown = function() {
            var t = i.a.getNow(!0)
              , e = Math.max(0, this.opts.endTime - t);
            this.opts.step && this.opts.step(),
            this.opts.component && (this.isBar(this.opts.component) ? (this.opts.component.maximum = "function" == typeof this.opts.max ? this.opts.max() : this.opts.max,
            this.opts.isThe ? this.opts.component.value = this.opts.component.maximum - e : this.opts.component.value = e) : this.opts.textFlowKey ? this.opts.component.textFlow = (new egret.HtmlTextParser).parse(this.getTextFlow(e)) : this.opts.component.text = this.getText(e)),
            e <= 0 && this.opts.complete && (this.dispose(),
            this.opts.complete(),
            this.opts.complete = null)
        }
        ,
        t.prototype.dispose = function() {
            egret.clearInterval(this.tickId)
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return u
    }
    )),
    n.d(e, "a", (function() {
        return h
    }
    ));
    var i, o = n(1), r = n(108), a = n(115), s = n(123), c = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), u = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return c(e, t),
        e.prototype.onDataUpdate = function(t, e) {
            this.rp && (this.rp.dispose(),
            this.rp = null),
            t && (t.icon && (this.iconDisplay && (this.iconDisplay.source = t.icon),
            this.img_up && (this.img_up.source = t.icon)),
            t.iconDown && (this.iconDown && (this.iconDown.source = t.iconDown),
            this.img_down && (this.img_down.source = t.iconDown)),
            t.skewX && (this.iconDown && (this.iconDown.skewX = t.skewX),
            this.img_down && (this.img_down.skewX = t.skewX),
            this.img_up && (this.img_up.skewX = t.skewX)),
            t.skewY && (this.iconDown && (this.iconDown.skewY = t.skewY),
            this.img_down && (this.img_down.skewY = t.skewY),
            this.img_up && (this.img_up.skewY = t.skewY)),
            this.labelDisplay && (this.labelDisplay.text = t.text),
            t.red && (this.rp = Object(s.b)(t.red, this)),
            t.compName && (this.name = t.compName),
            t.scaleX && this.img_up && this.img_down && (this.img_up.scaleX = this.img_down.scaleX = t.scaleX))
        }
        ,
        e.prototype.onExit = function() {
            this.rp && (this.rp.dispose(),
            this.rp = null)
        }
        ,
        e
    }(o.Item), h = function() {
        function t(t) {
            this.opts = t,
            this._instMap = {},
            this.arr = [],
            this.container = t.container,
            t.onSelect && this.onSelect(t.onSelect, t.context),
            this.bind(t.tab, t.array, t.defaultSelectName)
        }
        return t.prototype.bind = function(t, e, n) {
            var i = this;
            this._array = e,
            this._tab = t,
            Object(r.a)(t, e),
            t.addEventListener(eui.UIEvent.CHANGE, this.onChange, this),
            this.arr.push({
                dispose: function() {
                    t.removeEventListener(eui.UIEvent.CHANGE, i.onChange, i)
                }
            });
            var o = this.getIndex(n);
            -1 == o && (o = 0),
            this._tab.selectedIndex = o,
            this._lastIdx = o,
            this.select(this._array[o].name)
        }
        ,
        t.prototype.selectByName = function(t, e) {
            for (var n = -1, i = 0; i < this._array.length; i++)
                if (this._array[i].name == t) {
                    n = i;
                    break
                }
            n > -1 && (this._tab.selectedIndex = n,
            this.onChange(e))
        }
        ,
        t.prototype.getIndex = function(t) {
            for (var e = 0; e < this._array.length; e++)
                if (this._array[e].name == t)
                    return e;
            return -1
        }
        ,
        t.prototype.getData = function(t) {
            var e = this.getIndex(t);
            return -1 == e && (e = 0),
            this._array[e]
        }
        ,
        t.prototype.select = function(t, e) {
            var n, i = this;
            if (this._fn && !1 === this._fn.call(this._context, t))
                return void Object(a.x)((function() {
                    i._tab.selectedIndex = i._lastIdx
                }
                ), this);
            this._lastIdx = this._tab.selectedIndex;
            var o = this.getData(t);
            if (o && o.type && !this._instMap[o.name]) {
                var r = null;
                r = o.args ? new ((n = o.type).bind.apply(n, [void 0].concat(o.args))) : e ? new o.type(e) : new o.type;
                var s = this._instMap[t] = r;
                isNaN(this.opts.height) || (s.height = this.opts.height || this.container.height),
                this.container.addChild(s)
            }
            for (var c in this._instMap) {
                var u = c == t;
                u && !this._instMap[c].visible ? this._instMap[c].onActive && this._instMap[c].onActive(e) : !u && this._instMap[c].visible && this._instMap[c].onDeactive && this._instMap[c].onDeactive(),
                this._instMap[c].visible = u
            }
        }
        ,
        t.prototype.onSelect = function(t, e) {
            this._fn = t,
            this._context = e
        }
        ,
        t.prototype.onChange = function(t) {
            var e = this._tab.dataProvider.getItemAt(this._tab.selectedIndex);
            this.select(e.name, t)
        }
        ,
        t.prototype.dispose = function() {
            this.arr && (this.arr = Object(o.dispose)(this.arr))
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "c", (function() {
        return a
    }
    )),
    n.d(e, "a", (function() {
        return s
    }
    )),
    n.d(e, "d", (function() {
        return c
    }
    )),
    n.d(e, "e", (function() {
        return u
    }
    )),
    n.d(e, "b", (function() {
        return h
    }
    )),
    n.d(e, "f", (function() {
        return l
    }
    )),
    n.d(e, "h", (function() {
        return p
    }
    )),
    n.d(e, "g", (function() {
        return f
    }
    ));
    var i = n(1)
      , o = n(115)
      , r = n(111);
    function a(t, e, n) {
        return t.addEventListener(eui.ItemTapEvent.ITEM_TAP, e, n),
        {
            dispose: function() {
                t.removeEventListener(eui.ItemTapEvent.ITEM_TAP, e, n)
            }
        }
    }
    function s(t, e, n, i) {
        return t.addEventListener(e, n, i),
        {
            dispose: function() {
                t.removeEventListener(e, n, i)
            }
        }
    }
    function c(t, e) {
        function n() {
            (e || this).filters = [],
            this.stage && this.stage.removeEventListener(egret.TouchEvent.TOUCH_END, n, this)
        }
        function o() {
            (e || this).filters = [Object(i.getLightFilter)()],
            this.stage.addEventListener(egret.TouchEvent.TOUCH_END, n, this, void 0, 1e4)
        }
        return t.addEventListener(egret.TouchEvent.TOUCH_BEGIN, o, t),
        {
            dispose: function() {
                t.removeEventListener(egret.TouchEvent.TOUCH_BEGIN, o, t)
            }
        }
    }
    function u(t, e, n, i) {
        function r() {
            e.visible = t.viewport.scrollH > 0,
            t.viewport.contentWidth && (n.visible = t.viewport.scrollH < t.viewport.contentWidth - t.viewport.width)
        }
        function a() {
            if (t.stopAnimation(),
            t.viewport.scrollH <= 0)
                t.viewport.scrollH = 0;
            else {
                var e = Math.max(0, i.scrollW ? t.viewport.scrollH - i.scrollW : (t.viewport.scrollH / t.viewport.width >> 0) * t.viewport.width - t.viewport.width);
                egret.Tween.get(t.viewport, {
                    onChange: i.onChange
                }).to({
                    scrollH: e
                }, i.duration).call(r)
            }
        }
        function s() {
            t.stopAnimation();
            var e = t.viewport.contentWidth - t.viewport.width;
            if (t.viewport.scrollH >= e)
                t.viewport.scrollH = e;
            else {
                var n = Math.min(e, i.scrollW ? t.viewport.scrollH + i.scrollW : (t.viewport.scrollH / t.viewport.width >> 0) * t.viewport.width + t.viewport.width);
                egret.Tween.get(t.viewport, {
                    onChange: i.onChange
                }).to({
                    scrollH: n
                }, i.duration).call(r)
            }
        }
        function c() {
            r()
        }
        if (void 0 === i && (i = {
            duration: 500,
            reply: !0
        }),
        i.duration || (i.duration = 500),
        null == i.reply && (i.reply = !0),
        Object(o.x)(r),
        i.reply && (e.addEventListener(egret.TouchEvent.TOUCH_TAP, a, t),
        n.addEventListener(egret.TouchEvent.TOUCH_TAP, s, t)),
        i.remind) {
            var u = void 0
              , h = void 0;
            isNaN(e.left) ? (u = e.x,
            egret.Tween.get(e, {
                loop: !0
            }).to({
                x: u + 10
            }, 500).to({
                x: u
            }, 500)) : (u = e.left,
            egret.Tween.get(e, {
                loop: !0
            }).to({
                left: u + 10
            }, 500).to({
                left: u
            }, 500)),
            isNaN(n.right) ? (h = n.x,
            egret.Tween.get(n, {
                loop: !0
            }).to({
                x: h - 10
            }, 500).to({
                x: h
            }, 500)) : (h = n.right,
            egret.Tween.get(n, {
                loop: !0
            }).to({
                right: h + 10
            }, 500).to({
                right: h
            }, 500))
        }
        return t.addEventListener(egret.TouchEvent.CHANGE, c, t),
        {
            dispose: function() {
                egret.Tween.removeTweens(t.viewport),
                i.remind && (egret.Tween.removeTweens(e),
                egret.Tween.removeTweens(n)),
                i.reply && (e.removeEventListener(egret.TouchEvent.TOUCH_TAP, a, t),
                n.removeEventListener(egret.TouchEvent.TOUCH_TAP, s, t)),
                t.removeEventListener(egret.TouchEvent.CHANGE, c, t)
            }
        }
    }
    function h(t, e, n) {
        var i = egret.setInterval(t, n, e);
        return {
            dispose: function() {
                egret.clearInterval(i)
            }
        }
    }
    function l(t, e, n) {
        var i = egret.setTimeout(t, n, e);
        return {
            dispose: function() {
                egret.clearTimeout(i)
            }
        }
    }
    function p(t, e, n, i) {
        var o = eui.Watcher.watch(t, e, n, i);
        return {
            dispose: function() {
                o.unwatch()
            }
        }
    }
    function f(t, e, n) {
        function i() {
            for (var e = 0, n = r.a.getNow(), i = 0; i < t.length; i++)
                if (n < t[i]) {
                    e = t[i] - n,
                    t.splice(0, i + 1);
                    break
                }
            return 1e3 * e
        }
        var o = 0;
        t.sort();
        var a = i();
        return a && (o = egret.setTimeout((function t() {
            o && egret.clearTimeout(o),
            e.apply(n);
            var r = i();
            r && (o = egret.setTimeout(t, n, r))
        }
        ), n, a)),
        {
            dispose: function() {
                egret.clearTimeout(o)
            }
        }
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return a
    }
    )),
    n.d(e, "b", (function() {
        return s
    }
    ));
    var i, o = n(1), r = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), a = function(t) {
        function e(e, n, i) {
            var r = t.call(this) || this;
            return r.funName = e,
            r.fn = n,
            r.cleanFn = i,
            r._subarr = [],
            r.redpoint = o.RedPointManager.getRule(r.funName),
            r.redpoint ? (r.redpoint.addCallback(r.onUpdate, r),
            n(r.redpoint.visible)) : r.fn(!1),
            r
        }
        return r(e, t),
        e.prototype.updateFn = function(t) {
            return this._subarr.push(t(this.onUpdate.bind(this))),
            this
        }
        ,
        e.prototype.onUpdate = function() {
            this.fn(this.redpoint.visible)
        }
        ,
        e.prototype.dispose = function() {
            this.redpoint && (this.redpoint.removeCallback(this.onUpdate, this),
            this.redpoint = null),
            this._subarr = Object(o.dispose)(this._subarr),
            this.cleanFn && (this.cleanFn(),
            this.cleanFn = null)
        }
        ,
        e
    }(egret.EventDispatcher);
    function s(t, e) {
        return new a(t,(function(t) {
            egret.Tween.removeTweens(e),
            e.alpha = 1,
            t && egret.Tween.get(e, {
                loop: !0
            }).to({
                alpha: .35
            }, 500).to({
                alpha: 1
            }, 500)
        }
        ),(function() {
            egret.Tween.removeTweens(e)
        }
        ))
    }
}
, function(t, e, n) {
    "use strict";
    function i(t, e) {
        window[t] = e
    }
    n.d(e, "a", (function() {
        return i
    }
    ))
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return u
    }
    )),
    n.d(e, "b", (function() {
        return l
    }
    ));
    var i = n(111)
      , o = n(1)
      , r = n(110)
      , a = n(107)
      , s = n(109)
      , c = {};
    function u(t) {
        var e = t.split("&");
        return (e = (e = e.map((function(t) {
            return t.replace(/\_\d/, "")
        }
        ))).filter((function(t, n) {
            return e.indexOf(t) === n
        }
        ))).map((function(t) {
            return Object(o.getLocale)().init(t)
        }
        ))
    }
    var h = {};
    function l(t) {
        var e, n = [t.source];
        if (t.locale && (n = n.concat(u(t.locale))),
        t.getInfo) {
            var o = t.getInfo;
            n.push(Object(a.a)(o.route, o.cache, (function(t) {
                return o.invalid && "function" == typeof o.invalid ? o.invalid(t) : !(!o.invalid || !i.a.isOver(h[o.route]))
            }
            )).then((function(t) {
                return o.invalid && "number" == typeof o.invalid && (h[o.route] = i.a.getNow() + o.invalid),
                t
            }
            )))
        }
        return t.resGroup && n.push(RES.loadGroup(t.resGroup)),
        t.theme && n.push(Object(s.b)("eui_" + t.theme + "_json")),
        c[t.name] || (e = r.a.show(1e3, 100)),
        Promise.all(n).then((function(n) {
            return c[t.name] || (c[t.name] = !0,
            e.hide()),
            Promise.resolve(n[0])
        }
        )).catch((function(t) {
            throw e.hide(),
            t
        }
        ))
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return d
    }
    ));
    var i, o = n(124), r = n(1), a = n(133), s = n(192), c = n(201), u = n(106), h = n(203), l = n(156), p = n(117), f = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), d = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.arr = [],
            e._num = null,
            e._showCollect = !0,
            e.otherDes = "",
            e
        }
        return f(e, t),
        Object.defineProperty(e.prototype, "num", {
            get: function() {
                return this._num
            },
            set: function(t) {
                this._num = t
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "showCollect", {
            get: function() {
                return this._showCollect
            },
            set: function(t) {
                this._showCollect = t
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "data", {
            get: function() {
                return this.__data
            },
            set: function(t) {
                if (this.propType = "prop",
                t instanceof a.b)
                    this.__data = t,
                    this.onDataUpdate(this.__data);
                else if (t instanceof c.a)
                    this.__data = t,
                    this.onDataUpdate(this.__data);
                else if (t && t.icon)
                    this.__data = t,
                    this.onDataUpdate(this.__data);
                else if (t) {
                    t.hasOwnProperty("num") && (this.num = t.num),
                    t.hasOwnProperty("showCollect") && (this.showCollect = t.showCollect),
                    t.need ? this._need = t.need : this._need = 0,
                    this.otherDes = t.des;
                    var e = t.propId || t.cId || t.saleId || t.itemId;
                    t.saleId && (this.num = t.num),
                    e ? (this.__data = this.getProp(e),
                    this.onDataUpdate(this.__data)) : t.heroId && (this.propType = "hero",
                    this.__data = this.getHero(t.heroId),
                    this.onDataUpdate(this.__data))
                } else
                    this.__data = null,
                    this.onDataUpdate(null)
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.getProp = function(t) {
            var e = Object(r.getConfig)("item_json")[t];
            return e.armType > 0 ? {
                quality: e.quality,
                icon: Object(p.b)(t),
                itemId: t,
                num: a.b.getNum(t),
                canDaZao: e.IsDaZao
            } : a.b.get(t)
        }
        ,
        e.prototype.getHero = function(t) {
            var e = Object(r.getConfig)("hero_json")[t];
            return {
                quality: e.quality,
                icon: Object(p.d)(e, "head"),
                num: 1
            }
        }
        ,
        e.prototype.onEnter = function() {
            this.tap(this, this.onTap, this)
        }
        ,
        e.prototype.onDataUpdate = function(t) {
            if (null != t) {
                if (this.frame && (this.frame.visible = t.canDaZao),
                Object(s.a)(this.data, this),
                this.up && (this.up.visible = 1 == this.data.highQuality),
                this.lbl_name && (this.lbl_name.text = this.data instanceof a.b ? this.data.c.name : ""),
                this.quality) {
                    var e = this.data.quality;
                    this.quality.source = "bg_item_" + Object(p.i)(e) + "_png"
                }
                this.updateNum()
            }
        }
        ,
        e.prototype.updateNum = function() {
            var t = this.data.num;
            this.lbl_num.visible = !0,
            this.showCollect ? (null != this._num && (t = this._num),
            this._need ? (Object(l.a)(this.lbl_num, t >= this._need),
            this.lbl_num.text = Object(p.a)(t, 1) + "/" + Object(p.a)(this._need, 1)) : this.lbl_num.text = Object(p.a)(t, 1) + "") : this.lbl_num.visible = !1
        }
        ,
        e.prototype.onTap = function() {
            "prop" == this.propType && this.data && (r.audio.playEffect("bg_common_click_mp3"),
            !0 !== Object(r.pull)("prop_item_tap", this.data) && Object(u.a)(new h.a, this.data))
        }
        ,
        e
    }(r.Item);
    Object(o.a)("PropListItem", d)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "c", (function() {
        return s
    }
    )),
    n.d(e, "d", (function() {
        return c
    }
    )),
    n.d(e, "e", (function() {
        return u
    }
    )),
    n.d(e, "b", (function() {
        return i
    }
    )),
    n.d(e, "a", (function() {
        return o
    }
    )),
    n.d(e, "g", (function() {
        return h
    }
    )),
    n.d(e, "f", (function() {
        return l
    }
    ));
    var i, o, r = n(1), a = n(112), s = "festivalActivity_nd_json", c = 10394;
    function u(t, e, n) {
        var i = Object(r.getConfig)(n || s)[t].list;
        e || (e = Object(a.d)(t).cId || 1);
        for (var o = 0; o < i.length; o++) {
            var c = i[o];
            if (c.turn == e)
                return c;
            if (o == i.length - 1 && i[0])
                return i[0]
        }
        return null
    }
    function h(t) {
        var e = t == o.self ? "fsRank" : "fsCrossRank";
        return e = t == o.swordFlyRank ? "swordFlyRank:" + Object(a.d)("swordFly").sl.zone : e
    }
    function l(t, e) {
        var n;
        if ((n = "string" == typeof t ? Object(a.d)(t) : t) && n.l)
            for (var i = 0; i < n.l.length; i++)
                if (n.l[i].id == e)
                    return n.l[i];
        return null
    }
    !function(t) {
        t[t.finish = 1] = "finish",
        t[t.normal = 2] = "normal",
        t[t.received = 3] = "received"
    }(i || (i = {})),
    function(t) {
        t[t.self = 0] = "self",
        t[t.cross = 1] = "cross",
        t[t.swordFlyRank = 2] = "swordFlyRank"
    }(o || (o = {}))
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return p
    }
    )),
    n.d(e, "e", (function() {
        return f
    }
    )),
    n.d(e, "d", (function() {
        return d
    }
    )),
    n.d(e, "f", (function() {
        return b
    }
    )),
    n.d(e, "g", (function() {
        return g
    }
    )),
    n.d(e, "b", (function() {
        return _
    }
    )),
    n.d(e, "c", (function() {
        return m
    }
    ));
    var i = n(148)
      , o = n(117)
      , r = n(1)
      , a = n(107)
      , s = n(387)
      , c = n(158)
      , u = n(219)
      , h = n(134)
      , l = {
        1: 32963,
        2: 12320963,
        3: 16153101
    };
    function p(t, e) {
        return Math.floor(e.p[t] * (Math.pow(e.p.lv, 2) + e.p.lv + 10) / 20 + 5)
    }
    function f(t, e, n, i) {
        if (void 0 === n && (n = "VHalf"),
        void 0 === i && (i = !0),
        t.lbl_name && (t.lbl_name.text = e.c.name,
        t.lbl_name.strokeColor = l[e.c.quality],
        t.lbl_name.stroke = i ? 1 : 0),
        t.lbl_name2 && (t.lbl_name2.text = e.c.name),
        t.img_xianpu)
            if (e.p && e.p.skin) {
                var a = Object(r.getConfig)("heroSkin_json")[e.p.skin]
                  , s = a.class > 0 && a.class < 3 || Object(c.i)();
                s && (t.img_xianpu.source = s ? "role_" + n + "_" + a.res + "_png" : Object(o.d)(e.c, n))
            } else
                t.img_xianpu.source = Object(o.d)(e.c, n);
        if (t.img_heroBg && (t.img_heroBg.source = "item_xianpu_back_" + e.c.quality + "_png"),
        t.lbl_talent && (t.lbl_talent.text = e.power),
        t.lbl_zizhi && (t.lbl_zizhi.text = Object(r.tr)("hero@zizhi", {
            num: e.zizhi
        }),
        t.lbl_zizhi.strokeColor = l[e.c.quality]),
        t.lbl_zzAll && (t.lbl_zzAll.text = e.zizhi),
        t.img_frame && (t.img_frame.source = "frame_tree_" + e.c.group + "_png"),
        t.lbl_shili && (t.lbl_shili.text = Object(r.tr)("hero@group" + e.c.group)),
        t.lbl_zzTotal && (t.lbl_zzTotal.text = e.zizhi),
        e.p && t.lbl_lv && (t.lbl_lv.text = e.p.lv,
        t.lbl_lv.text instanceof egret.TextField && (i && (t.lbl_lv.textColor = 2042933),
        t.lbl_lv.strokeColor = l[e.c.quality],
        t.lbl_lv.stroke = i ? 2 : 0)),
        t.img_zizhitype && (t.img_zizhitype.source = "bottom_xianpu_name_" + e.c.quality + "_png"),
        t.bg_zizhitype && (t.bg_zizhitype.source = "item_xianpu_back_" + e.c.quality + "_png"),
        t.lbl_sx1 && (t.lbl_sx1.text = e.atkAttr + ""),
        t.lbl_zz1 && (t.lbl_zz1.text = e.atk + ""),
        t.lbl_sx2 && (t.lbl_sx2.text = e.matkAttr + ""),
        t.lbl_zz2 && (t.lbl_zz2.text = e.matk + ""),
        t.lbl_sx3 && (t.lbl_sx3.text = e.datkAttr + ""),
        t.lbl_zz3 && (t.lbl_zz3.text = e.datk + ""),
        t.lbl_sx4 && (t.lbl_sx4.text = e.travelAttr + ""),
        t.lbl_zz4 && (t.lbl_zz4.text = e.travel + ""),
        t.lbl_sxAll && (t.lbl_sx1 && t.lbl_sx2 && t.lbl_sx3 && t.lbl_sx4 ? t.lbl_sxAll.text = Number(t.lbl_sx1.text) + Number(t.lbl_sx2.text) + Number(t.lbl_sx3.text) + Number(t.lbl_sx4.text) + "" : t.lbl_sxAll.text = e.atkAttr + e.matkAttr + e.datkAttr + e.travelAttr + ""),
        e.c.type) {
            var u = e.c.type.split(",");
            1 == u.length ? (b(t, 2, 0),
            b(t, 1, u[0])) : (b(t, 2, u[1]),
            b(t, 1, u[0]))
        }
        e.p && e.p.skin && d(t, e.p.skin, n)
    }
    function d(t, e, n, a) {
        void 0 === n && (n = "VHalf"),
        void 0 === a && (a = "");
        var h = function(t) {
            return t instanceof r.Component || t instanceof r.UIComponent || t instanceof u.a ? t : t.parent ? h(t.parent) : null
        }
          , l = Object(r.getConfig)("heroSkin_json")[e]
          , p = i.a.getBycId(l.heroId);
        p = p ? p.c : i.a.create(l.heroId).c;
        var f = l.class >= 3 && t["anime_skin" + a] && !Object(c.i)()
          , d = l.class > 0 && l.class < 3 || Object(c.i)() ? "role_" + n + "_" + l.res + "_png" : Object(o.d)(p, n)
          , b = function(t) {
            var e = !!l.flip;
            "1" != a[0] && "2" != a[0] || ("1" == a[0] ? t.skewY = e ? -180 : 0 : t.skewY = e ? 0 : -180)
        };
        t["role" + a] && t["role" + a].img_head && (t["role" + a].img_head.source = "role_head_" + l.res + "_png"),
        t["img_head" + a] && (t["img_head" + a].source = "role_head_" + l.res + "_png"),
        t["img_lv" + a] && (t["img_lv" + a].source = l.class ? "hero_skinlv_" + l.class + "_png" : ""),
        t["img_title" + a] && (t["img_title" + a].source = l.title ? "title_skin_" + l.title + "_png" : ""),
        t["lbl_skinName" + a] && (t["lbl_skinName" + a].text = Object(r.tr)(l.name)),
        t["lbl_heroName" + a] && (t["lbl_heroName" + a].text = Object(r.tr)(p.name)),
        t["lbl_name" + a] && (t["lbl_name" + a].text = Object(r.tr)(l.name)),
        t["img_xianpu" + a] && (f ? t["img_xianpu" + a].source = "" : (t["img_xianpu" + a].source = d,
        b(t["img_xianpu" + a]))),
        t["img_role" + a] && (f ? t["img_role" + a].source = "" : (t["img_role" + a].source = d,
        b(t["img_role" + a]))),
        t["img_hero" + a] && (f ? t["img_hero" + a].source = "" : (t["img_hero" + a].source = d,
        b(t["img_hero" + a]))),
        t.img_skin_bg && (t.img_skin_bg.source = "bg_dialogue_" + (l.bg || 3) + "_png");
        var g = "hero_skin_full_" + l.res + "_ske_json";
        if (t["__skin_mv" + a] && t["__skin_name" + a] != g && (t["__skin_mv" + a].dispose(),
        delete t["__skin_mv" + a],
        delete t["__skin_name" + a]),
        t["img_mask" + a] && (t["img_mask" + a].visible = f),
        f && !t["__skin_mv" + a]) {
            var _ = r.Movie.create(g);
            if (_.play("1"),
            t.skinName || t.$skin) {
                var m = t.skinName || egret.getQualifiedClassName(t.$skin);
                "string" != typeof m && (m = m.__class__ || m.name);
                var y = 1
                  , v = 0
                  , O = 0;
                s[m] ? (v = s[m]["x_" + e] || s[m].x,
                O = s[m]["y_" + e] || s[m].y,
                y = s[m]["scale_" + e] || s[m].scale) : s[n] && (v = s[n]["x_" + e] || s[n].x,
                O = s[n]["y_" + e] || s[n].y,
                y = s[n]["scale_" + e] || s[n].scale),
                _.scaleX = _.scaleY = y,
                _.x = v,
                _.y = O,
                b(_)
            }
            t["img_mask" + a] && (t["img_mask" + a].visible = !0,
            _.mask = t["img_mask" + a]),
            t["anime_skin" + a].addChildAt(_),
            t["__skin_mv" + a] = _,
            t["__skin_name" + a] = g;
            var j = h(t);
            j && j.disposeArr.push(_)
        }
        t["__skin_mv" + a] && (t["__skin_mv" + a].touchEnabled = t["__skin_mv" + a].touchChildren = !1)
    }
    function b(t, e, n) {
        n ? (t["img_zizhi" + e] && (t["img_zizhi" + e].visible = !0,
        t["img_zizhi" + e].includeInLayout = !0,
        t["img_zizhi" + e].source = "icon_xianpu_zizhi_" + n + "_png"),
        t["bg_zizhi" + e] && (t["bg_zizhi" + e].visible = !0),
        t["lbl_zizhi" + e] && (t["lbl_zizhi" + e].visible = !0,
        t["lbl_zizhi" + e].text = Object(r.tr)("hero@zz" + n))) : (t["img_zizhi" + e] && (t["img_zizhi" + e].visible = !1,
        t["img_zizhi" + e].includeInLayout = !1),
        t["bg_zizhi" + e] && (t["bg_zizhi" + e].visible = !1),
        t["lbl_zizhi" + e] && (t["lbl_zizhi" + e].visible = !1))
    }
    function g(t, e, n, i) {
        return 43 == Object(r.getConfig)("item_json")[t].resultID ? Object(a.d)("x.c", {
            cId: e,
            propId: t,
            num: n
        }) : 10150 == t || 10590 == t ? Object(a.d)("x.e", {
            cId: e,
            propId: t,
            num: n
        }) : 58 == Object(r.getConfig)("item_json")[t].resultID ? Object(a.d)("x.o", {
            cId: e,
            tId: i,
            propId: t,
            num: n
        }) : Object(a.d)("x.g", {
            cId: e,
            propId: t,
            num: n
        })
    }
    function _(t) {
        var e = []
          , n = Object(r.getConfig)("heroSkin_json")
          , o = i.a.getBycId(t).p
          , a = function(i) {
            var r = o.skinData.some((function(t) {
                return t.id == n[i].id
            }
            ));
            n[i].heroId != t || n[i].hide && !r || e.push({
                c: n[i],
                isHas: r
            })
        };
        for (var s in n)
            a(s);
        return e
    }
    function m(t) {
        var e = i.a.getListByTeam(t);
        if (e && e.length > 0)
            if (1 == t)
                switch (e.length) {
                case 1:
                    Object(h.a)("get_1 tiangongshili");
                    break;
                case 2:
                    Object(h.a)("get_2 tiangongshili");
                    break;
                case 3:
                    Object(h.a)("get_3 tiangongshili");
                    break;
                case 4:
                    Object(h.a)("get_4 tiangongshili")
                }
            else if (2 == t)
                switch (e.length) {
                case 1:
                    Object(h.a)("get_1 shanggunvshen");
                    break;
                case 2:
                    Object(h.a)("get_2 shanggunvshen");
                    break;
                case 3:
                    Object(h.a)("get_3 shanggunvshen");
                    break;
                case 4:
                    Object(h.a)("get_4 shanggunvshen")
                }
            else if (3 == t)
                switch (e.length) {
                case 1:
                    Object(h.a)("get_1 xiyoushili");
                    break;
                case 2:
                    Object(h.a)("get_2 xiyoushili");
                    break;
                case 3:
                    Object(h.a)("get_3 xiyoushili");
                    break;
                case 4:
                    Object(h.a)("get_4 xiyoushili")
                }
            else if (4 == t)
                switch (e.length) {
                case 1:
                    Object(h.a)("get_1 difushili");
                    break;
                case 2:
                    Object(h.a)("get_2 difushili");
                    break;
                case 3:
                    Object(h.a)("get_3 difushili");
                    break;
                case 4:
                    Object(h.a)("get_4 difushili")
                }
            else if (5 == t)
                switch (e.length) {
                case 1:
                    Object(h.a)("get_1 yaomoshili");
                    break;
                case 2:
                    Object(h.a)("get_2 yaomoshili");
                    break;
                case 3:
                    Object(h.a)("get_3 yaomoshili");
                    break;
                case 4:
                    Object(h.a)("get_4 yaomoshili")
                }
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return h
    }
    )),
    n.d(e, "a", (function() {
        return l
    }
    ));
    var i, o = n(1), r = n(108), a = n(106), s = n(116), c = n(124), u = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), h = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "CommonGetRewardSkin"),
            e
        }
        return u(e, t),
        e.prototype.onReady = function(t, e, n, i) {
            if (this._awds = t,
            t.length > 4) {
                var o = new eui.TileLayout;
                this.list.layout = o,
                o.requestedColumnCount = 4
            } else
                this.list.layout = new eui.HorizontalLayout;
            this.lbl_title.text = e,
            i && (this.lbl_desc.text = i,
            this.lbl_desc.visible = !0),
            this._showTip = n,
            Object(r.a)(this.list, t),
            this.tap("yesBtn", this.onYes, this),
            this.tap("rect", this.onYes, this)
        }
        ,
        e.prototype.onYes = function() {
            this._showTip && s.a.show(this._awds, this.yesBtn),
            o.UI.remove(this)
        }
        ,
        e.show = function(t, n, i, r) {
            return void 0 === n && (n = Object(o.tr)("main@getAward")),
            void 0 === i && (i = !0),
            void 0 === r && (r = ""),
            Object(a.a)(new e, t, n, i, r)
        }
        ,
        e
    }(o.UIComponent);
    Object(c.a)("RewardPanel", h);
    var l = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "CommonGetReward2Skin"),
            e
        }
        return u(e, t),
        e.prototype.onReady = function(t, e) {
            var n = o.Movie.create("victory_1_ske_json", !0);
            if (this.animeNode.addChild(n),
            n.play("1"),
            t.awds.length > 4) {
                var i = new eui.TileLayout;
                this.list.layout = i,
                i.requestedColumnCount = 4
            } else
                this.list.layout = new eui.HorizontalLayout;
            e ? /\<font/.test(e) ? this.lbl_result.textFlow = (new egret.HtmlTextParser).parser(e) : this.lbl_result.text = e : this.lbl_result.text = t.gift && t.gift.length ? Object(o.tr)("main@fsGetDesc") : "",
            Object(r.a)(this.list, t.awds)
        }
        ,
        e.show = function(t, n) {
            return Object(a.a)(new e, t, n)
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return i
    }
    )),
    n.d(e, "d", (function() {
        return y
    }
    )),
    n.d(e, "c", (function() {
        return v
    }
    )),
    n.d(e, "b", (function() {
        return T
    }
    ));
    var i, o = n(1), r = n(112), a = n(113), s = n(173), c = n(115), u = n(111), h = n(107), l = n(154), p = n(137), f = n(181), d = n(250), b = n(158), g = n(289), _ = n(331);
    !function(t) {
        t[t.autoPvps = 1] = "autoPvps",
        t[t.mutation = 2] = "mutation",
        t[t.onKeyXsj = 4] = "onKeyXsj",
        t[t.daoshua = 8] = "daoshua",
        t[t.zone = 16] = "zone",
        t[t.delOldGodPvp = 32] = "delOldGodPvp",
        t[t.autoWeidao = 64] = "autoWeidao",
        t[t.taoyuan = 128] = "taoyuan",
        t[t.fabao = 256] = "fabao",
        t[t.xingtian = 512] = "xingtian",
        t[t.heroSkinShop = 1024] = "heroSkinShop",
        t[t.farm = 2048] = "farm",
        t[t.friend = 4096] = "friend",
        t[t.yiji = 8192] = "yiji",
        t[t.hollowYiji = 16384] = "hollowYiji",
        t[t.sandTable = 32768] = "sandTable",
        t[t.honorAchieve = 65536] = "honorAchieve",
        t[t.jingcheng = 131072] = "jingcheng"
    }(i || (i = {}));
    var m = function() {
        function t(t, e) {
            void 0 === e && (e = []),
            this.item = t,
            this.listeners = e
        }
        return t.prototype.isConfFuncOpts = function(t) {
            return t.isOpen && t.data && t.watchProperty
        }
        ,
        t.prototype.isFunFuncOpts = function(t) {
            return "function" == typeof t
        }
        ,
        t.prototype.isProxyFuncOpts = function(t) {
            return t.isOpen && t.proxy
        }
        ,
        t.prototype.isBroadFuncOpts = function(t) {
            return t.isOpen && t.broad
        }
        ,
        t.prototype.isActFuncOpts = function(t) {
            return t.isOpen && t.activeIds
        }
        ,
        t.prototype.watch = function(t) {
            var e = this
              , n = this.item
              , i = []
              , a = function() {
                t(e.isOpen())
            };
            if (this.isActFuncOpts(n)) {
                for (var s = u.a.getNow(!0), c = 0, h = 0; h < n.activeIds.length; h++) {
                    this.listeners.push(n.activeIds[h]);
                    var l = Object(r.d)(n.activeIds[h]);
                    l && l.awardEnd > c && (c = l.awardEnd)
                }
                if (c > 0 && c - s > 0 && egret.setTimeout(a, this, 1e3 * (c - s + 1)),
                n.broad && i.push(Object(o.on)(n.broad, (function() {
                    a()
                }
                ))),
                n.watchProperty) {
                    var p = n.data()
                      , f = function() {
                        t && t(n.isOpen(p))
                    }
                      , d = [].concat(n.watchProperty).map((function(t) {
                        return eui.Watcher.watch(p, [t], f, e)
                    }
                    ));
                    i.push({
                        dispose: function() {
                            d.forEach((function(t) {
                                return t.unwatch()
                            }
                            ))
                        }
                    })
                }
            } else if (this.isConfFuncOpts(n)) {
                var b = n.data();
                if (b) {
                    var g = function() {
                        t && t(n.isOpen(b))
                    };
                    a = g;
                    var _ = [].concat(n.watchProperty).map((function(t) {
                        return eui.Watcher.watch(b, [t], g, e)
                    }
                    ));
                    i.push({
                        dispose: function() {
                            _.forEach((function(t) {
                                return t.unwatch()
                            }
                            ))
                        }
                    })
                }
            } else if (this.isProxyFuncOpts(n)) {
                a = function() {
                    t && t(n.isOpen(Object(o.getCache)(n.proxy)))
                }
                ;
                var m = o.cache.onChange(n.proxy, (function() {
                    egret.callLater((function() {
                        a()
                    }
                    ), e)
                }
                ), this);
                i.push(m)
            } else
                this.isBroadFuncOpts(n) && i.push(Object(o.on)(n.broad, (function() {
                    a()
                }
                )));
            return i.push(Object(o.on)("refresh_funOpen", (function(t) {
                (e.type == t || e.listeners.indexOf(t) > -1) && a()
            }
            ))),
            {
                dispose: function() {
                    Object(o.dispose)(i)
                }
            }
        }
        ,
        t.prototype.isOpen = function() {
            var t = this.item;
            if (this.isActFuncOpts(t)) {
                var e = !1
                  , n = u.a.getNow(!0);
                return t.activeIds.forEach((function(t) {
                    var i = Object(r.d)(t);
                    i && n < i.awardEnd && (e = !0)
                }
                )),
                t.isOpen(e)
            }
            if (this.isConfFuncOpts(t)) {
                var i = t.data();
                return null != i && t.isOpen(i)
            }
            return this.isProxyFuncOpts(t) ? t.isOpen(Object(o.getCache)(t.proxy)) : this.isFunFuncOpts(t) ? t() : this.isBroadFuncOpts(t) ? t.isOpen(t.broad) : void 0
        }
        ,
        t
    }();
    function y() {
        if ("true" == Object(o.getOption)("hiddenPlatform"))
            return !0;
        if ("0" === Object(o.getOption)("showPay"))
            return !0;
        var t = function() {
            return window.wx.getSystemInfoSync().platform
        };
        if ("modoxyx" == Object(o.getPlatform)().name && "android" != t()) {
            var e = Object(o.getPlatform)().getConstant("isShowPay");
            return console.log("isShowPay===>>>" + e),
            0 == e
        }
        return o.is.xyx() && "android" != t() && "devtools" != t()
    }
    function v(t) {
        var e = Object(a.a)("fun");
        return e && (e & t) > 0
    }
    function O() {
        return !Object(s.a)() && !y()
    }
    function j() {
        return !Object(s.a)()
    }
    function w() {
        for (var t = [], e = 0; e < arguments.length; e++)
            t[e] = arguments[e];
        return function() {
            if (Object(s.a)())
                return !1;
            var e = k();
            return t.some((function(t) {
                return t == e
            }
            ))
        }
    }
    function x(t, e) {
        return new m({
            proxy: "Activity.getList",
            isOpen: function() {
                if (Object(s.a)())
                    return !1;
                var n = Object(r.d)(t);
                return !y() || e(n)
            }
        })
    }
    var k = function() {
        return Object(o.getOption)("pname") ? Object(o.getOption)("pname") : Object(o.getPlatform)().name
    }
      , I = w("xiaoyouxi")
      , P = w("modoxyx")
      , C = w("awy")
      , S = function() {
        function t() {
            this.openMap = {
                cards: new m((function() {
                    if (1 == Object(o.getOption)("nocard"))
                        return !1;
                    if (Object(s.a)())
                        return !1;
                    var t = Object(c.f)();
                    if ("c" == Object(o.getOption)("pstn"))
                        return !1;
                    if (o.is.xyx()) {
                        if (Object(s.a)())
                            return !1;
                        var e = Object(a.a)("tqInfo");
                        return Object(c.n)() > 0 && 0 == e.tq1DayAwd || e.tq2 > 0 && 0 == e.tq2Awd && !t || !y()
                    }
                    return R() && "b" != Object(o.getOption)("pstn") ? O() : !t
                }
                ),["fly"]),
                recharge: new m((function() {
                    return !!Object(f.a)() && ("0" !== Object(o.getOption)("showPay") && (!o.is.xyx() && !R() || "b" == Object(o.getOption)("pstn") || O()))
                }
                )),
                growGift: new m((function() {
                    return !Object(s.a)() && (!!O() && !!Object(r.d)("newGrowGift"))
                }
                )),
                recorder: new m((function() {
                    return Object(o.getPlatform)().getConstant("gameRecorder") || Object(o.getOption)("isTestErr")
                }
                )),
                swordFly: new m({
                    activeIds: ["swordFly"],
                    isOpen: function(t) {
                        return t && Object(a.a)("lv") > 30
                    },
                    broad: "user_lv_change"
                }),
                teamSwordFly: new m({
                    activeIds: ["teamSwordFly"],
                    isOpen: function(t) {
                        return t && Object(a.a)("lv") > 30
                    },
                    broad: "user_lv_change"
                }),
                festival: new m({
                    activeIds: ["fsDraw"],
                    isOpen: function(t) {
                        return t && Object(a.a)("lv") > 30
                    },
                    broad: "user_lv_change"
                }),
                festivalGift: new m({
                    activeIds: ["fsGift"],
                    isOpen: function(t) {
                        return t
                    }
                }),
                growGiftInRecharge: new m((function() {
                    return "c" != Object(o.getOption)("pstn") && (!o.is.xyx() && "b" != Object(o.getOption)("pstn") && Object(s.a)())
                }
                )),
                inviteCode: new m(j),
                totalRecharge: x("totalRecharge", (function(t) {
                    return t.l.some((function(e) {
                        return 0 == e.awded && t.num >= (n = e.id,
                        Object(o.getConfig)("activity_json").totalRecharge.list.filter((function(t) {
                            return t.uniqId == n
                        }
                        ))[0]).num;
                        var n
                    }
                    ))
                }
                )),
                growPlan: new m((function() {
                    if ("c" == Object(o.getOption)("pstn"))
                        return !1;
                    if (o.is.xyx()) {
                        if (Object(s.a)())
                            return !1;
                        if (y()) {
                            o.cache.has("Growth.getList") || Object(h.d)("gr.a").then((function(t) {
                                t && o.cache.set("Growth.getList", t)
                            }
                            ));
                            var t = o.cache.get("Growth.getList", "l");
                            if (t && Array.isArray(t))
                                for (var e in t) {
                                    var n = t[e].l;
                                    for (var i in n)
                                        if (t[e].num >= t[e].c.list[i].num && 0 == n[i].awded && 1 == t[e].buy)
                                            return !0
                                }
                            return !1
                        }
                        return !y()
                    }
                    return !R() || "b" == Object(o.getOption)("pstn") || O()
                }
                )),
                verify: new m({
                    isOpen: function(t) {
                        return C() && 0 == t.realAuth
                    },
                    data: function() {
                        return Object(a.a)()
                    },
                    watchProperty: "realAuth"
                }),
                collect: new m((function() {
                    return !1
                }
                )),
                share: new m((function() {
                    return C() || I() || P() || "bearjoy" == k() || Object(o.getPlatform)().getConstant("has_share")
                }
                )),
                sipuGift: new m((function() {
                    return Object(b.f)() && Object(r.e)("sipuGift")
                }
                )),
                sipuRechargeGift: new m((function() {
                    return Object(b.f)() && Object(r.e)("sipuRechargeGift")
                }
                )),
                public: new m((function() {
                    return Object(b.f)() && (!Object(r.e)("sipuGift") || !Object(r.e)("sipuRechargeGift"))
                }
                )),
                lingyuShop: new m((function() {
                    return !R() || "b" == Object(o.getOption)("pstn") || O()
                }
                )),
                followAward: new m((function() {
                    return !R() || O()
                }
                )),
                dayGift: new m((function() {
                    if (Object(s.a)())
                        return !1;
                    if (R() || !O())
                        return !1;
                    var t = Object(r.d)("dayGift");
                    return !Object(r.d)("dailyGift") && t && !Object(c.f)() && t.l.some((function(t) {
                        return 0 == t.awded
                    }
                    )) && T.isOpen("recharge")
                }
                ),["fly"]),
                dailyGift: new m((function() {
                    if (R() || !O())
                        return !1;
                    var t = Object(r.d)("dailyGift");
                    return t && !Object(c.f)() && t.l.some((function(t) {
                        return 0 == t.awded
                    }
                    )) && T.isOpen("recharge")
                }
                ),["fly"]),
                flyGift1: new m({
                    isOpen: function(t) {
                        return !Object(s.a)() && (!(R() || !O()) && (t && t.extime > 0 && Object(c.f)() && t.l.some((function(t) {
                            return 0 == t.awded
                        }
                        )) && T.isOpen("recharge")))
                    },
                    data: function() {
                        return Object(r.d)("flyGift1")
                    },
                    watchProperty: "extime"
                },["fly"]),
                heroGift: new m({
                    isOpen: function() {
                        if (R() || !O())
                            return !1;
                        var t = Object(r.d)("heroGift");
                        return Object(c.f)() && Object(f.a)() && t && t.l && t.l.length > 0 && T.isOpen("recharge")
                    },
                    data: function() {
                        return Object(a.a)()
                    },
                    watchProperty: "fly"
                },["fly"]),
                activity: new m({
                    isOpen: function() {
                        return !Object(c.f)()
                    },
                    data: function() {
                        return Object(a.a)()
                    },
                    watchProperty: "fly"
                },["fly"]),
                logo: new m((function() {
                    return "modoIos2" != k() || O()
                }
                )),
                bg: new m((function() {
                    return "modoIos2" != k() || O()
                }
                )),
                kefu: new m((function() {
                    if (console.log("客服getShen:" + !Object(s.a)()),
                    "gcatenIos" == k() || "gcatenAnd" == k() || "gcathkAndroid1" == k() || "gcathkIos1" == k())
                        return !1;
                    if ("tanwan" == k() || "tanwanAnd1" == k() || "tanwanIos1" == k()) {
                        var t = Object(l.a)().serverInfo.kefuMoney;
                        return Object(a.a)("vipExp") >= t && !Object(s.a)()
                    }
                    return !Object(s.a)()
                }
                )),
                notice: new m((function() {
                    return !Object(s.a)()
                }
                )),
                gonggao: new m((function() {
                    return !Object(s.a)()
                }
                )),
                loadingBar: new m((function() {
                    return !!o.is.xyx() || !Object(s.a)()
                }
                )),
                buff: new m((function() {
                    var t = Object(d.a)();
                    return Object(o.put)("refresh_avatar"),
                    t && t.length > 0
                }
                ),["fly", "xianbuff"]),
                tianTing: new m((function() {
                    return !Object(s.a)() && Object(c.f)()
                }
                ),["fly"]),
                fb: new m((function() {
                    if (Object(s.a)())
                        return !1;
                    var t = Object(p.d)();
                    return "ko_kr" != t && "ja_jp" != t && !("bearjoy" != k() && !Object(p.i)())
                }
                )),
                baha: new m((function() {
                    if (Object(s.a)())
                        return !1;
                    if ("bearjoy" == k())
                        return !0;
                    if (Object(p.i)()) {
                        var t = Object(p.d)();
                        return "zh_hant" == t || "zh_cn" == t
                    }
                    return !1
                }
                )),
                xianshi: new m((function() {
                    return !Object(s.a)()
                }
                )),
                accountBind: new m((function() {
                    return "gcathkAndroid1" == k() || "gcatenAnd" == k() || "gcatenIos" == k() || "bearjoy" == k() || "gcathkIos1" == k() && !Object(s.a)()
                }
                )),
                feisheng: new m({
                    isOpen: function() {
                        return 1 == Object(a.a)("fly") || Object(a.a)("lv") > 70
                    },
                    data: function() {
                        return Object(a.a)()
                    },
                    watchProperty: ["fly", "lv"]
                },["lv"]),
                turn: new m((function() {
                    var t = Object(r.d)("luckyWheel");
                    return t && !u.a.isOver(t.end)
                }
                )),
                reTask: new m((function() {
                    var t = Object(r.d)("fsTotalRecharge")
                      , e = t && !u.a.isOver(t.end);
                    if ((o.is.xyx() || R()) && "b" != Object(o.getOption)("pstn"))
                        return e && O();
                    if (Object(p.i)()) {
                        var n = Object(r.d)("fsTotalRecharge");
                        return n && !u.a.isOver(n.end)
                    }
                    return e
                }
                )),
                cross: new m((function() {
                    if (Object(p.g)())
                        return !1;
                    if (Object(p.f)()) {
                        var t = Object(p.d)();
                        return ("zh_cn" == t || "zh_hant" == t) && (Object(c.f)() && Object(r.k)(4))
                    }
                    return Object(c.f)() && Object(r.k)(4)
                }
                ),["fly"]),
                crossRank: new m((function() {
                    return (Object(r.k)(4) || Object(r.k)(10) || Object(r.k)(11) || Object(r.k)(12)) && Object(c.f)()
                }
                ),["fly"]),
                dice: new m({
                    activeIds: ["fcDiceShop"],
                    isOpen: function(t) {
                        return t && Object(a.a)("lv") > 30
                    },
                    broad: "user_lv_change"
                }),
                diceGift: new m({
                    activeIds: ["fcGift"],
                    isOpen: function(t) {
                        return t && O()
                    }
                }),
                actboss: new m({
                    activeIds: ["monsterAttack"],
                    isOpen: function(t) {
                        return t
                    }
                }),
                crossBoss: new m({
                    activeIds: ["monsterAttack2"],
                    isOpen: function(t) {
                        return t
                    }
                }),
                xianbang: new m((function() {
                    var t = Object(c.f)() ? 1 : 2;
                    return (!T.isOpen("serverRank") || 2 != t) && Object(r.k)(t)
                }
                ),["fly"]),
                xianmengRank: new m({
                    activeIds: ["guildAttrRank", "guildTreeRank", "guildDebateRank", "guildExpRank"],
                    isOpen: function(t) {
                        return t
                    }
                },["fly"]),
                newOpenRank: new m((function() {
                    return Object(r.j)("newDi")
                }
                ),["fly"]),
                serverRank: new m({
                    activeIds: ["spiritRootRank", "newGuildExpRank", "qualRank", "fudiRank"],
                    isOpen: function(t) {
                        return t && Object(a.a)("isNewSv") && !Object(c.f)()
                    }
                }),
                limitTask: new m((function() {
                    return Object(r.i)()
                }
                )),
                qishilu: new m((function() {
                    return Object(a.a)("isNewSv") && Object(c.p)(41, 0) || Object(r.n)() && Object(c.p)(19, 0)
                }
                ),["fly"]),
                repairGate: new m({
                    activeIds: ["repairGate"],
                    isOpen: function(t) {
                        return t && Object(a.a)("lv") > 10
                    },
                    broad: "user_lv_change"
                }),
                divine: new m({
                    activeIds: ["divine"],
                    isOpen: function(t) {
                        return t && Object(a.a)("lv") > 10
                    },
                    broad: "user_lv_change"
                }),
                divineTree: new m({
                    activeIds: ["divineTree"],
                    isOpen: function(t) {
                        return t && Object(a.a)("lv") > 10
                    },
                    broad: "user_lv_change"
                }),
                mining: new m({
                    activeIds: ["mining"],
                    isOpen: function(t) {
                        return t && Object(a.a)("lv") > 10
                    },
                    broad: "user_lv_change"
                }),
                suppressMonster: new m({
                    activeIds: ["suppressMonster"],
                    isOpen: function(t) {
                        return t && Object(a.a)("lv") > 10
                    },
                    broad: "user_lv_change"
                }),
                treasureHunt: new m({
                    activeIds: ["treasureHunt"],
                    isOpen: function(t) {
                        return t && Object(a.a)("lv") > 10
                    },
                    broad: "user_lv_change"
                }),
                make: new m({
                    activeIds: ["sfBoss"],
                    isOpen: function(t) {
                        return t && Object(a.a)("lv") > 10
                    },
                    broad: "user_lv_change"
                }),
                amulet: new m({
                    activeIds: ["sfAmulet"],
                    isOpen: function(t) {
                        return t && Object(a.a)("lv") > 10
                    },
                    broad: "user_lv_change"
                }),
                inviteFriend: new m((function() {
                    return !Object(s.a)() && ("sipu" == k() || "sipuRt" == k() || ("gcathkAndroid1" == k() || "gcathkIos1" == k() || "gcathk" == k() || "gcatenAnd" == k() || "gcatenIos" == k()))
                }
                )),
                language: new m((function() {
                    return !Object(s.a)() && !(!Object(p.i)() && "bearjoy" != k())
                }
                )),
                server: new m((function() {
                    return "dev" == Object(o.getOption)("gv") || ("gcatenIos" == k() || "gcathkIos1" == k() ? location.href.indexOf("global.html") > 0 : "bearjoy" == k())
                }
                )),
                discord: new m((function() {
                    return !!Object(p.i)() && "en_us" == Object(p.d)()
                }
                )),
                fs0202: new m({
                    activeIds: ["ltDumpling"],
                    isOpen: function(t) {
                        return t && Object(a.a)("lv") > 10
                    },
                    broad: "user_lv_change"
                }),
                lover: new m((function() {
                    return !1
                }
                )),
                spring: new m({
                    activeIds: ["mkDiceMap"],
                    isOpen: function(t) {
                        return t && Object(a.a)("lv") > 10
                    },
                    broad: "user_lv_change"
                }),
                spring2021: new m({
                    activeIds: ["nyJigsaw"],
                    isOpen: function(t) {
                        return t && Object(a.a)("lv") > 10
                    },
                    broad: "user_lv_change"
                }),
                juedi: new m({
                    activeIds: ["guildDebateRank2"],
                    isOpen: function(t) {
                        return t
                    }
                }),
                fudai: new m({
                    activeIds: ["lfHongbao"],
                    isOpen: function(t) {
                        return t && Object(a.a)("lv") > 10
                    },
                    broad: "user_lv_change"
                }),
                qingming: new m({
                    activeIds: ["vdBoss"],
                    isOpen: function(t) {
                        return t && Object(a.a)("lv") > 10
                    },
                    broad: "user_lv_change"
                }),
                site: new m((function() {
                    if ("gcatenAnd" == k() || "gcatenIos" == k() || "gcathkAndroid1" == k() || "gcathkIos1" == k()) {
                        var t = Object(p.d)();
                        return "zh_cn" == t || "zh_hant" == t
                    }
                    return !0
                }
                )),
                accountSwitch: new m((function() {
                    return !!Object(s.a)() || (Object(p.i)() ? 1728 != Object(o.getOption)("gcatId") : "bearjoy" == k())
                }
                )),
                advert: new m((function() {
                    return !0
                }
                )),
                autopvps: new m((function() {
                    return v(i.autoPvps)
                }
                )),
                autoWeidao: new m((function() {
                    return v(i.autoWeidao)
                }
                )),
                mutation: new m((function() {
                    return Object(a.a)("ylMapId") >= 21 && v(i.mutation)
                }
                )),
                onKeyXsj: new m((function() {
                    return v(i.onKeyXsj)
                }
                )),
                daoshua: new m((function() {
                    return v(i.daoshua)
                }
                )),
                zone: new m((function() {
                    return v(i.daoshua)
                }
                )),
                wanchun: new m({
                    broad: "user_lv_change",
                    isOpen: function() {
                        return !1
                    }
                }),
                flyboat: new m((function() {
                    var t = Object(r.d)("spTotalRecharge")
                      , e = t && !u.a.isOver(t.end);
                    return (o.is.xyx() || R()) && "b" != Object(o.getOption)("pstn") ? e && O() : e
                }
                )),
                hollow: new m({
                    activeIds: ["voidPlay"],
                    isOpen: function(t) {
                        return t && Object(a.a)("fly")
                    },
                    data: function() {
                        return Object(a.a)()
                    },
                    watchProperty: "fly"
                },["fly"]),
                confess: new m({
                    activeIds: ["loveMap"],
                    isOpen: function(t) {
                        return t && Object(a.a)("lv") > 10
                    },
                    broad: "user_lv_change"
                }),
                kaifu: new m({
                    activeIds: ["openLogin", "openLogin2"],
                    isOpen: function(t) {
                        return t
                    }
                }),
                taoyuan: new m((function() {
                    if (!v(i.taoyuan))
                        return !1;
                    var t = ["wonderlandFood", "wonderlandWood", "wonderlandIron", "wonderlandSc", "wonderlandGc"];
                    for (var e in t)
                        if (Object(r.d)(t[e]))
                            return !0
                }
                )),
                fabao: new m((function() {
                    return v(i.fabao)
                }
                )),
                skyTask: new m({
                    broad: "refresh_funOpen",
                    isOpen: function() {
                        return 1 == Object(a.a)("fly") && Object(c.f)()
                    }
                }),
                holiday: new m({
                    activeIds: ["holiday"],
                    isOpen: function(t) {
                        return t && Object(a.a)("lv") > 10
                    },
                    broad: "user_lv_change"
                }),
                holiday2: new m({
                    activeIds: ["holiday2"],
                    isOpen: function(t) {
                        return t && Object(a.a)("lv") > 10
                    },
                    broad: "user_lv_change"
                }),
                holiday3: new m({
                    activeIds: ["holiday3"],
                    isOpen: function(t) {
                        return t && Object(a.a)("lv") > 10
                    },
                    broad: "user_lv_change"
                }),
                feast: new m((function() {
                    var t = o.cache.get("Feast.getInfo", "i")
                      , e = t && t.endTime && !u.a.isOver(t.endTime)
                      , n = Object(a.a)("lv") > 31;
                    return e && n
                }
                ),["feast"]),
                imgShare: new m((function() {
                    return Object(r.n)()
                }
                )),
                FBshare: new m((function() {
                    return !Object(s.a)() && (!Object(p.h)() && ("bearjoy" == k() || Object(p.i)() || Object(r.n)()))
                }
                )),
                sipuShiming: new m((function() {
                    return Object(r.d)("tunameReward") && "sipuRt" == Object(o.getPlatform)().name || Object(o.getOption)("test")
                }
                )),
                seduction: new m((function() {
                    return !!Object(r.d)("fashionTotalRecharge")
                }
                )),
                annual: new m({
                    activeIds: ["yearBoss", "yearDraw"],
                    isOpen: function(t) {
                        return t
                    },
                    broad: "refresh_funOpen"
                }),
                gcTotalRecharge: new m({
                    activeIds: ["gcTotalRecharge"],
                    isOpen: function(t) {
                        return !!Object(f.a)() && (!!v(i.taoyuan) && (!!t && Object(g.a)()))
                    },
                    broad: "refresh_funOpen"
                }),
                acttask: new m({
                    activeIds: ["openActiveTask"],
                    isOpen: function(t) {
                        return t
                    }
                }),
                island: new m({
                    activeIds: ["island"],
                    isOpen: function(t) {
                        return t
                    }
                }),
                island2: new m({
                    activeIds: ["island2"],
                    isOpen: function(t) {
                        return t
                    }
                }),
                sevenStarPower: new m((function() {
                    return !!Object(r.d)("sevenStarPower")
                }
                )),
                guildPay: new m({
                    activeIds: ["guildRecharge"],
                    isOpen: function(t) {
                        return t
                    }
                }),
                cafe: new m((function() {
                    return "ko_kr" == Object(p.d)()
                }
                )),
                lobi: new m((function() {
                    return "ja_jp" == Object(p.d)()
                }
                )),
                advert2: new m((function() {
                    return -1 != [50005029172, 50001022959, 50001034809, 110001052545, 110001061142, 50001049452, 110001093973, 50001048759, 110001054225, 50091066882].indexOf(Object(a.a)("uId"))
                }
                )),
                anyPay: new m((function() {
                    var t = o.cache.get("anyPay_isOpen");
                    return "bearjoy" == Object(o.getPlatform)().name || t && 1 == t
                }
                )),
                return: new m((function() {
                    var t = Object(r.d)("recallSystem");
                    if (!t || !t.recall)
                        return !1;
                    for (var e = 0; e < t.recall.login.length; e++)
                        if (0 == t.recall.login[e].isAwd)
                            return !0;
                    for (var n = 0; n < t.recall.task.activeTask.length; n++)
                        if (0 == t.recall.task.activeTask[n].isAwd)
                            return !0;
                    for (var i = 0; i < t.recall.task.dailyTask.length; i++)
                        if (0 == t.recall.task.dailyTask[i].isAwd)
                            return !0;
                    return !1
                }
                )),
                recall: new m((function() {
                    var t = Object(r.d)("recallSystem");
                    if (t && t.active)
                        for (var e = 0; e < t.active.l.length; e++)
                            if (0 == t.active.l[e].isAwd)
                                return !0;
                    return !1
                }
                )),
                mountain: new m({
                    activeIds: ["mountain"],
                    isOpen: function(t) {
                        return t && Object(a.a)("lv") > 10
                    },
                    broad: "user_lv_change"
                }),
                hollow5: new m({
                    activeIds: ["sandTable"],
                    isOpen: function(t) {
                        return t
                    }
                }),
                treasure: new m({
                    activeIds: ["linglongTreasure"],
                    isOpen: function(t) {
                        return t && Object(a.a)("lv") >= 31
                    },
                    broad: "user_lv_change"
                }),
                xingtian: new m((function() {
                    return Object(a.a)("fly") && v(i.xingtian)
                }
                ),["fly"]),
                heroSkinShop: new m((function() {
                    return Object(a.a)("fly") && v(i.heroSkinShop)
                }
                ),["fly"]),
                heroPK: new m({
                    activeIds: ["heroPk"],
                    isOpen: function(t) {
                        return t && Object(a.a)("fly")
                    }
                },["fly"]),
                farm: new m((function() {
                    return v(i.farm) && Object(a.a)("lv") >= 31
                }
                )),
                friend: new m((function() {
                    return v(i.friend)
                }
                )),
                fs1001: new m({
                    activeIds: ["treasury"],
                    isOpen: function(t) {
                        return t && Object(a.a)("lv") >= 11
                    },
                    broad: "user_lv_change"
                }),
                vipKefu: new m((function() {
                    return (4774 == Object(o.getOption)("gcatId") || 4658 == Object(o.getOption)("gcatId")) && Object(a.a)("vipExp") >= 6
                }
                )),
                thanksgiving: new m({
                    activeIds: ["tgMap"],
                    isOpen: function(t) {
                        return t && Object(a.a)("lv") >= 11
                    },
                    broad: "user_lv_change"
                }),
                limitGift: new m({
                    activeIds: ["limitGift1", "limitGift2"],
                    isOpen: function(t) {
                        return t && Object(a.a)("fly") && Object(f.a)() && T.isOpen("recharge")
                    }
                },["fly"]),
                giftDraw: new m({
                    activeIds: ["giftDraw"],
                    isOpen: function(t) {
                        return t && Object(o.singleton)(_.a).regRed(),
                        t && Object(a.a)("lv") >= 11
                    },
                    broad: "user_lv_change"
                }),
                annuaMaze: new m({
                    activeIds: ["mazeMap"],
                    isOpen: function(t) {
                        return t && Object(a.a)("lv") >= 11
                    }
                }),
                firstRec3: new m({
                    activeIds: ["firstChargeGift"],
                    isOpen: function(t) {
                        var e = Object(r.d)("firstChargeGift");
                        if (e) {
                            var n = u.a.getNow(!0);
                            if (0 == e.curr) {
                                if (n > e.buyDeadline)
                                    return !1
                            } else if (e.curr > 3)
                                return !1
                        }
                        return t && T.isOpen("recharge")
                    }
                }),
                xianShouGift: new m({
                    activeIds: ["hoDraw"],
                    isOpen: function(t) {
                        return t && Object(a.a)("lv") >= 31
                    }
                }),
                failGift: new m({
                    activeIds: ["failGift"],
                    isOpen: function(t) {
                        return Object(a.a)("lv") >= 31 && T.isOpen("recharge")
                    }
                }),
                christmas: new m({
                    activeIds: ["chSanta"],
                    isOpen: function(t) {
                        return t && Object(a.a)("lv") >= 11
                    },
                    broad: "user_lv_change"
                }),
                laba: new m({
                    activeIds: ["lbMap"],
                    isOpen: function(t) {
                        return t && Object(a.a)("lv") >= 11
                    },
                    broad: "user_lv_change"
                }),
                mainPetGift: new m({
                    isOpen: function() {
                        return Object(a.a)("mainPet") && Object(a.a)("mainPet").id <= 0 && Object(a.a)("mainPet").up < 1 && !Object(c.f)()
                    },
                    data: function() {
                        return Object(a.a)("mainPet")
                    },
                    watchProperty: ["id", "lv", "up"]
                },["fly"]),
                lanternFestival: new m({
                    activeIds: ["yxDumpling"],
                    isOpen: function(t) {
                        return t && Object(a.a)("lv") >= 11
                    },
                    broad: "user_lv_change"
                }),
                mainPet: new m({
                    isOpen: function() {
                        return Object(a.a)("mainPet") && Object(a.a)("mainPet").id > 0 && Object(a.a)("mainPet").up < 1 && !Object(c.f)()
                    },
                    data: function() {
                        return Object(a.a)("mainPet")
                    },
                    watchProperty: ["id", "lv", "up"]
                },["fly"]),
                newServerGift: new m({
                    activeIds: ["newServerGift"],
                    isOpen: function(t) {
                        var e = Object(r.d)("newServerGift");
                        return t && !e.status
                    }
                }),
                nySign: new m({
                    activeIds: ["nySign"],
                    isOpen: function(t) {
                        return t && Object(a.a)("lv") >= 11
                    }
                }),
                nyHongBao: new m({
                    activeIds: ["nyHongBao"],
                    isOpen: function(t) {
                        return t
                    }
                }),
                prediction: new m({
                    broad: "prediction_function_change",
                    isOpen: function() {
                        var t = Object(o.getLocalStorage)().getString("prediction_time");
                        if (t)
                            return !(u.a.getNow() >= t);
                        var e = Object(o.getCache)("playGuide.getList");
                        if (e && e.l.length > 0)
                            for (var n = 0, i = 0; i < e.l.length; i++)
                                if (2 == e.l[i].recive) {
                                    if ((n += 1) == e.l.length)
                                        return !1;
                                    if (i == e.l.length - 1 && n > 0)
                                        return !0
                                } else {
                                    if (0 != e.l[i].unlock)
                                        return !0;
                                    if (i == e.l.length - 1 && n > 0)
                                        return !0
                                }
                        return !1
                    }
                }),
                welfare: new m({
                    activeIds: ["valentineBless"],
                    isOpen: function(t) {
                        return t && Object(a.a)("lv") >= 11
                    },
                    broad: "user_lv_change"
                }),
                merge: new m({
                    activeIds: ["merge"],
                    isOpen: function(t) {
                        return t
                    }
                }),
                bindEmail: new m((function() {
                    return !1
                }
                )),
                bindDownLoad: new m((function() {
                    return !1
                }
                )),
                oversea_christmas: new m((function() {
                    return "bearjoy" == Object(o.getPlatform)().name || !!(Object(p.i)() && u.a.getNow() <= 1608652799)
                }
                ))
            }
        }
        return t.prototype.isOpen = function(t) {
            return !!this.openMap[t] && this.openMap[t].isOpen()
        }
        ,
        t.prototype.watch = function(t, e) {
            var n = function(t) {
                "function" == typeof e ? e(t) : e && (e.visible = e.includeInLayout = t)
            };
            this.openMap[t].type = t;
            var i = this.openMap[t].watch(n);
            return n(this.isOpen(t)),
            i
        }
        ,
        t.prototype.has = function(t) {
            return o.objects.has(this.openMap, t)
        }
        ,
        t
    }()
      , R = function() {
        return "modoIos2" == k() || "a" == Object(o.getOption)("pstn")
    }
      , T = new S;
    window.funOpen = T
}
, function(t, e, n) {
    "use strict";
    n.d(e, "e", (function() {
        return y
    }
    )),
    n.d(e, "a", (function() {
        return i
    }
    )),
    n.d(e, "b", (function() {
        return o
    }
    )),
    n.d(e, "d", (function() {
        return r
    }
    )),
    n.d(e, "c", (function() {
        return s
    }
    )),
    n.d(e, "f", (function() {
        return x
    }
    ));
    var i, o, r, a, s, c, u, h = n(164), l = n(1), p = n(122), f = n(113), d = n(117), b = n(382), g = n(154), _ = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, m = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    };
    function y(t, e, n, i, o, s) {
        n == h.b.clothing ? n = n + "-" + o.cloth : n == h.b.eye ? n = n + "-" + o.eye : o.mode != r.avatar || n != h.b.hair && n != h.b.clothHair || (n = n + "-" + (s == a.front ? 1 : 2));
        var c = "avatar";
        o.mode == r.preview && (c += "_preview"),
        t && (t += "_");
        var u = c + "_" + e + "_" + n + "_" + i + "_png"
          , l = "" + t + u;
        return RES.getRes(l) || RES.getResourceInfo(l) ? l : u
    }
    !function(t) {
        t[t.none = 0] = "none",
        t[t.neck = 1] = "neck",
        t[t.body = 2] = "body"
    }(i || (i = {})),
    function(t) {
        t[t.open = 1] = "open",
        t[t.closed = 2] = "closed"
    }(o || (o = {})),
    function(t) {
        t[t.avatar = 1] = "avatar",
        t[t.preview = 2] = "preview"
    }(r || (r = {})),
    function(t) {
        t[t.front = 1] = "front",
        t[t.back = 2] = "back"
    }(a || (a = {})),
    function(t) {
        t[t.fazhen = 1] = "fazhen",
        t[t.title = 2] = "title"
    }(s || (s = {})),
    function(t) {
        t[t.yello = 1] = "yello",
        t[t.black = 2] = "black"
    }(c || (c = {})),
    function(t) {
        t[t.pig = 1] = "pig"
    }(u || (u = {}));
    var v = [102]
      , O = [1013];
    function j(t) {
        return !(O.indexOf(parseInt(t)) > -1) && (t >= 1e3 || v.indexOf(parseInt(t)) > -1)
    }
    function w(t, e, n) {
        return _(this, void 0, void 0, (function() {
            return m(this, (function(i) {
                switch (i.label) {
                case 0:
                    if (!t)
                        return [3, 8];
                    if (!n)
                        return [3, 7];
                    if (RES.getRes(e))
                        return [3, 5];
                    t.source = e,
                    i.label = 1;
                case 1:
                    return i.trys.push([1, 3, , 4]),
                    [4, RES.getResAsync(e)];
                case 2:
                    return i.sent(),
                    [3, 4];
                case 3:
                    return i.sent(),
                    [3, 4];
                case 4:
                    return [3, 6];
                case 5:
                    t.source = e,
                    i.label = 6;
                case 6:
                    return [3, 8];
                case 7:
                    t.source = e,
                    i.label = 8;
                case 8:
                    return [2]
                }
            }
            ))
        }
        ))
    }
    function x(t, e, n) {
        if (n.mode = r.avatar,
        t && !(t.length < 8)) {
            var o = t[h.b.gender];
            215 == t[8] ? (n.race = c.black,
            t[2] = 9) : (n.race = c.yello,
            9 == t[2] && (t[2] = 1)),
            t.length > h.b.uid && e.setUid && "function" == typeof e.setUid && e.setUid(t[h.b.uid]);
            var u = n.cFacial;
            void 0 === u && (u = t[h.b.uid] == Object(f.a)("uId") ? Object(d.f)() : t[10] || 0),
            u > 0 && n.diyMode && (u = 0);
            var b = n.hide || 0;
            n.cloth == i.body && (b & s.fazhen) != s.fazhen ? function(t, e) {
                var n = e[h.b.fazhen];
                e[13] == Object(f.a)("uId") && (n = Object(d.g)());
                var i = "";
                if (n && (i = "fazhen_" + (n - 2) + "_ske_json",
                1 == n ? i = "dazuo_2_ske_json" : 2 == n ? i = "rsdazuo_ske_json" : 101 == n && (i = "yueshi_ske_json")),
                t.__fazhen_mv && t.__fazhen_fname != i && (t.__fazhen_mv.dispose(),
                delete t.__fazhen_mv,
                delete t.__fazhen_fname),
                n && !t.__fazhen_mv) {
                    var o = l.Movie.create(i);
                    o.play("1"),
                    o.scaleX = o.scaleY = 2.7,
                    o.x = 600,
                    o.y = 360,
                    t.addChildAt(o, 0),
                    t.__fazhen_mv = o,
                    t.__fazhen_fname = i
                }
                t.__fazhen_mv && (t.__fazhen_mv.touchEnabled = t.__fazhen_mv.touchChildren = !1)
            }(e, t) : e.__fazhen_mv && (e.__fazhen_mv.dispose(),
            delete e.__fazhen_mv),
            n.cloth == i.body && (b & s.title) != s.title ? function(t, e) {
                var n = e[h.b.title];
                if (e[13] == Object(f.a)("uId") && (n = Object(d.l)()),
                t.img_title && (n ? (t.img_title.source = "icon_player_title_" + n + "_png",
                t.img_title.visible = !0) : t.img_title.visible = !1),
                t.__tilte_mv && (t.__tilte_mv.dispose(),
                delete t.__tilte_mv),
                t.gp_ani && n && !t.__tilte_mv) {
                    var i = Object(l.getConfig)("fashion_json");
                    for (var o in i)
                        if (i[o].icon == n && (i[o].titleLv >= 6 || 2182 == i[o].id)) {
                            var r = l.Movie.create("titleani" + n + "_ske_json");
                            r.play("1"),
                            t.gp_ani.addChildAt(r, 0),
                            t.__tilte_mv = r,
                            t.img_title && (t.img_title.visible = !1);
                            break
                        }
                }
                t.__tilte_mv && (t.__tilte_mv.touchEnabled = t.__tilte_mv.touchChildren = !1)
            }(e, t) : (e.img_title && (e.img_title.visible = !1),
            e.__tilte_mv && (e.__tilte_mv.visible = !1)),
            e.__listen || (e.__listen = Object(p.a)(e, egret.Event.REMOVED_FROM_STAGE, (function() {
                e.__fazhen_mv && e.__fazhen_mv.dispose(),
                e.__cloth_mv__ && e.__cloth_mv__.dispose(),
                e.__listen.dispose(),
                delete e.__listen
            }
            ))),
            n.cloth == i.neck && e.gp && e.maskImg && (e.gp.mask = e.maskImg);
            var _ = ""
              , m = t[h.b.head];
            if (m >= 1e3)
                _ = "img_head_" + m + "_" + o + "_png";
            else if (m)
                _ = "img_head_" + m + "_png";
            else if (u > 0) {
                _ = "img_facialMakeup_" + u % 1e3 + "_" + o + "_png"
            }
            var v = []
              , O = !n.diyMode
              , x = "";
            n.inAvatarScene || (x = "ingame");
            for (var C = h.b.hair; C <= h.b.beard; C++) {
                var S = t[C];
                if (C == h.b.hair) {
                    var R = e["img_" + C + "_front"]
                      , T = e["img_" + C + "_back"];
                    R.visible = T.visible = !0;
                    var L = C;
                    n.inAvatarScene || t[8] >= 2 && (0 == (t[h.b.hideHair] & h.a.hideClothHair) || 215 == t[8]) && (L = 100,
                    S = t[8]),
                    v.push(w(R, y(x, o, L, S, n, a.front), O)),
                    v.push(w(T, y(x, o, L, S, n, a.back), O)),
                    !j(m) && _ && (R.visible = T.visible = !1)
                } else {
                    var A = e["img_" + C];
                    if (8 == C && n.cloth == i.body) {
                        var M = "clothes_" + o + "_" + S + "_ske_json"
                          , N = RES.getResourceInfo(M);
                        if (!Object(g.e)() && N) {
                            if (M != e.__cloth_name__) {
                                k(e);
                                var B = o + "_" + S;
                                e.__curMvLoad = (e.__curMvLoad || 0) + 1,
                                v.push(P(M, B, e, A, e.__curMvLoad))
                            }
                        } else
                            k(e),
                            v.push(w(A, y(x, o, C, S, n), !0)),
                            A.visible = !0
                    } else
                        A && (A.visible = !0,
                        C == h.b.clothing && n.cloth == i.none || 2 == o && C == h.b.beard ? A.source = "" : v.push(w(A, y(x, o, C, S, n), O)));
                    j(m) || (2 == C && _ && A ? v.push(w(A, _, O)) : 8 != C && _ && A && (A.visible = !1)),
                    n.race == c.black && C != h.b.gender && C != h.b.face && C != h.b.clothing && C != h.b.fazhen && C != h.b.title && (A.visible = !1)
                }
            }
            j(m) && e.img_20 ? (e.img_20.visible = !0,
            v.push(w(e.img_20, _, O))) : e.img_20 && (e.img_20.visible = !1,
            e.img_20.source = ""),
            I(e, !0),
            e.__curLoad = (e.__curLoad || 0) + 1;
            var E = e.__curLoad;
            if (Promise.all(v).then((function() {
                E == e.__curLoad && I(e, !1)
            }
            )),
            e.img_frame)
                if (t.length >= h.b.title) {
                    var D = t[h.b.title];
                    t[h.b.uid] == Object(f.a)("uId") && (D = Object(d.l)());
                    var G = Object(d.n)(D);
                    e.img_frame.source = G < 5 ? "" : 5 == G ? "img_head_frame_1_png" : G <= 9 ? "img_head_frame_" + (G - 4) + "_png" : "img_head_frame_6_png"
                } else
                    e.img_frame.source = ""
        }
    }
    var k = function(t) {
        t.__cloth_mv__ && (t.__cloth_mv__.dispose(),
        delete t.__cloth_name__,
        delete t.__cloth_mv__)
    };
    function I(t, e) {
        t.gp && (t.gp.visible = !e),
        t.gp_others && (t.gp_others.visible = !e),
        t.img_empty && (t.img_empty.visible = e)
    }
    function P(t, e, n, i, o) {
        return _(this, void 0, void 0, (function() {
            var r;
            return m(this, (function(a) {
                switch (a.label) {
                case 0:
                    return i.visible = !1,
                    [4, l.Movie.preload(t)];
                case 1:
                    return a.sent(),
                    o != n.__curMvLoad ? [2] : ((r = l.Movie.create(t)).scaleX = r.scaleY = 2,
                    r.play("1"),
                    k(n),
                    i.visible = !1,
                    n.gp.addChild(r),
                    n.__cloth_mv__ = r,
                    n.__cloth_name__ = t,
                    b[e] && (r.x = b[e].x,
                    r.y = b[e].y),
                    [2])
                }
            }
            ))
        }
        ))
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return o
    }
    ));
    var i = n(1)
      , o = i.getConfig
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return r
    }
    )),
    n.d(e, "c", (function() {
        return a
    }
    )),
    n.d(e, "b", (function() {
        return D
    }
    ));
    var i, o, r, a, s = n(1), c = n(117), u = n(124), h = n(146), l = n(109), p = n(113), f = n(187), d = n(106), b = n(227), g = n(130), _ = n(121), m = n(110), y = n(108), v = n(268), O = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), j = function(t) {
        function e() {
            return t.call(this) || this
        }
        return O(e, t),
        e.prototype.onEnter = function() {
            this.tap(this.btn_go, this.onTap, this)
        }
        ,
        e.prototype.onDataUpdate = function(t) {
            if (null != t) {
                this.__data = t;
                var e = Object(s.getConfig)("getWay_json")[t];
                this.lbl_title.text = Object(s.tr)(e.name),
                this.lbl_detail.text = e.describe
            }
        }
        ,
        e.prototype.onTap = function() {
            console.log("123"),
            Object(s.singleton)(v.a).getWay(Number(this.__data)),
            Object(s.put)("close_propgetway_panel")
        }
        ,
        e
    }(s.Item), w = n(125), x = n(115), k = n(118), I = n(181), P = n(160), C = n(123), S = n(165), R = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), T = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, L = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, A = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.watchId = {
                20010: 40,
                20011: 37,
                20012: 39,
                20013: 38,
                20016: 42,
                20017: 41
            },
            e.getWayArr = [],
            Object(s.setSkin)(e, "CommonGetWaySkin"),
            e
        }
        return R(e, t),
        e.prototype.onReady = function(t) {
            var n = this;
            this.addBehavior(new k.a),
            Object(x.x)((function() {
                n.propModel = t,
                n.getWayArr = t.getWay.split(";"),
                n.tab.itemRenderer = M,
                n.list.itemRenderer = j;
                var i = [{
                    text: Object(s.tr)("main@getWayTab1"),
                    name: "1"
                }, {
                    text: Object(s.tr)("main@getWayTab2"),
                    name: "2"
                }];
                Object(I.a)() && i.push({
                    text: Object(s.tr)("main@getWayTab3"),
                    name: "3"
                }),
                n.disposeArr.push(new _.a({
                    tab: n.tab,
                    array: i,
                    onSelect: function(t) {
                        "1" == t ? n.refreshView(2) : "2" == t ? n.refreshView(1) : n.refreshView(3)
                    }
                })),
                n.lbl_itemName.text = Object(s.tr)(t.name),
                n.lbl_itemDesc.text = Object(s.tr)(t.desc),
                n.item.propId = t.id,
                e.isOpen = !0,
                n.watchId[t.id] && (n.tap("btn_adv", (function() {
                    P.d.show({
                        isIcon: !0,
                        type: "resource",
                        state: "common",
                        confId: n.watchId[n.propModel.id]
                    })
                }
                ), n),
                n.on("refresh_advert_success", n.refreshView, n),
                n.disposeArr.push(Object(C.b)("材料不足激励视频", n.btn_adv)))
            }
            ))
        }
        ,
        e.prototype.refreshView = function(t) {
            for (var e = [], n = 0; n < this.getWayArr.length; n++)
                if (this.getWayArr[n][0] == t) {
                    var i = Object(s.getConfig)("getWay_json")[this.getWayArr[n]];
                    if (1 == i.faction && 0 == s.cache.get("User.getInfo", "i.guildId"))
                        continue;
                    if (i.lv > Object(p.a)("uLv"))
                        continue;
                    if (1 == i.state && 0 == Object(p.a)("fly"))
                        continue;
                    e.push(this.getWayArr[n])
                }
            Object(y.a)(this.list, e),
            this.lbl_ts.visible = 0 == e.length,
            this.refreshAdvert()
        }
        ,
        e.prototype.refreshAdvert = function() {
            this.btn_adv.visible = Object(S.a)(this.watchId[this.propModel.id], "resource"),
            Object(s.put)("refresh_advert_red", "resource")
        }
        ,
        e.prototype.onExit = function() {
            e.isOpen = !1
        }
        ,
        e.show = function(t) {
            return void 0 === t && (t = null),
            T(this, void 0, void 0, (function() {
                return L(this, (function(n) {
                    switch (n.label) {
                    case 0:
                        return [4, Object(m.b)([Object(w.a)("gw")])];
                    case 1:
                        return n.sent(),
                        [4, Object(m.b)([Object(l.a)("getWay_json")])];
                    case 2:
                        return n.sent(),
                        [2, Object(d.a)(new e, t)]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.isOpen = !1,
        e
    }(s.UIComponent), M = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return R(e, t),
        e.prototype.onDataUpdate = function(e, n) {
            t.prototype.onDataUpdate.call(this, e, n),
            e && (this.labelDisplay.text = e.text)
        }
        ,
        e
    }(_.b), N = n(112), B = n(168), E = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }();
    !function(t) {
        t[t.fertilizer = 14] = "fertilizer",
        t[t.seed = 15] = "seed",
        t[t.likevGift = 16] = "likevGift"
    }(r || (r = {})),
    function(t) {
        t[t.lingmu = 20001] = "lingmu",
        t[t.chenmu = 20002] = "chenmu",
        t[t.hantie = 20003] = "hantie",
        t[t.bingpo = 20004] = "bingpo",
        t[t.lingshi = 20010] = "lingshi",
        t[t.gongxian = 20015] = "gongxian",
        t[t.liyu = 20007] = "liyu",
        t[t.haoyu = 20008] = "haoyu",
        t[t.lingyu = 20009] = "lingyu",
        t[t.weiwang = 20014] = "weiwang",
        t[t.mucai = 20011] = "mucai",
        t[t.yuntie = 20013] = "yuntie",
        t[t.shiwu = 20012] = "shiwu",
        t[t.mojing = 20006] = "mojing",
        t[t.gongde = 20016] = "gongde",
        t[t.xianshi = 20017] = "xianshi",
        t[t.exp = 20018] = "exp",
        t[t.wdExp = 20020] = "wdExp",
        t[t.heroExp = 20022] = "heroExp",
        t[t.recb = 20021] = "recb",
        t[t.lingQi = 20024] = "lingQi",
        t[t.lingJun = 20025] = "lingJun",
        t[t.fcb = 20027] = "fcb",
        t[t.ldcb = 20028] = "ldcb",
        t[t.hyisha = 20030] = "hyisha",
        t[t.jpExp = 20036] = "jpExp",
        t[t.lpcb = 20037] = "lpcb",
        t[t.kfb = 20039] = "kfb",
        t[t.zsb = 20040] = "zsb",
        t[t.swordFlyCash = 20041] = "swordFlyCash",
        t[t.wlcb = 20042] = "wlcb",
        t[t.fcMoney = 20043] = "fcMoney",
        t[t.fcdc = 10431] = "fcdc",
        t[t.fclydc = 10432] = "fclydc",
        t[t.arenacb = 20044] = "arenacb",
        t[t.macb = 20045] = "macb",
        t[t.macb2 = 20055] = "macb2",
        t[t.suppressMonsterSc = 20047] = "suppressMonsterSc",
        t[t.divineSc = 20048] = "divineSc",
        t[t.miningSc = 20049] = "miningSc",
        t[t.treasureHuntSc = 20050] = "treasureHuntSc",
        t[t.divineTreeSc = 20051] = "divineTreeSc",
        t[t.repairGateSc = 20052] = "repairGateSc",
        t[t.specidc = 20067] = "specidc",
        t[t.lightdc = 10495] = "lightdc",
        t[t.feast = 16035] = "feast",
        t[t.dxExp = 16044] = "dxExp",
        t[t.stCry = 15128] = "stCry",
        t[t.stCore = 15129] = "stCore",
        t[t.xingTianSc = 15120] = "xingTianSc",
        t[t.ltdc = 10512] = "ltdc",
        t[t.ltdc1 = 10511] = "ltdc1",
        t[t.ltdc2 = 10506] = "ltdc2",
        t[t.ltdc3 = 10507] = "ltdc3",
        t[t.ltdc4 = 10508] = "ltdc4",
        t[t.ltdc5 = 10509] = "ltdc5",
        t[t.ltdc6 = 10510] = "ltdc6",
        t[t.vdMoney = 10518] = "vdMoney",
        t[t.qmMoney = 10501] = "qmMoney",
        t[t.vightdc = 10502] = "vightdc",
        t[t.jdldcb = 20054] = "jdldcb",
        t[t.qmdc = 10522] = "qmdc",
        t[t.qmlydc = 10523] = "qmlydc",
        t[t.cqtea = 10529] = "cqtea",
        t[t.wltea = 10530] = "wltea",
        t[t.sxtea = 10531] = "sxtea",
        t[t.qhtea = 10532] = "qhtea",
        t[t.ljtea = 10533] = "ljtea",
        t[t.bhtea = 10534] = "bhtea",
        t[t.wlke = 10535] = "wlke",
        t[t.sxke = 10536] = "sxke",
        t[t.qhke = 10537] = "qhke",
        t[t.ljke = 10538] = "ljke",
        t[t.bhke = 10539] = "bhke",
        t[t.teadc = 10540] = "teadc",
        t[t.loveDc = 10555] = "loveDc",
        t[t.crystal = 16003] = "crystal",
        t[t.essence = 16004] = "essence",
        t[t.pure = 16005] = "pure",
        t[t.holiSc = 20056] = "holiSc",
        t[t.holiSc2 = 15005] = "holiSc2",
        t[t.holiSc3 = 15010] = "holiSc3",
        t[t.tscb = 10572] = "tscb",
        t[t.crldcb = 20053] = "crldcb",
        t[t.ggq = 20062] = "ggq",
        t[t.jmml = 10794] = "jmml"
    }(a || (a = {}));
    var D = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e._num = null,
            e
        }
        return E(e, t),
        e.chcekSpecialPropId = function(t) {
            var e = {}
              , n = Object.keys(t)
              , i = /^us_\d+$/;
            n.forEach((function(t) {
                i.test(t) && (e[Number(t.slice(2))] = t)
            }
            ))
        }
        ,
        e.chcekActivityPropId = function(t) {
            var e = /^dc_\d+$/
              , n = this.activityPropId = {};
            Object.keys(t).forEach((function(i) {
                var o = t[i];
                Object.keys(o).forEach((function(o) {
                    if (e.test(o)) {
                        var r = {};
                        r.id = o,
                        r.activityId = t[i].id,
                        n[Number(o.slice(3))] = r
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.onInitProxy = function() {
            if (this._watchers)
                for (; this._watchers.length; )
                    this._watchers.shift().unwatch();
            this.p && (this._watchers = Object(s.dependProperty)(this, {
                p: {
                    num: ["num", "numText"]
                }
            }))
        }
        ,
        e.prototype.onInitConfig = function() {
            var t = this;
            if (this.c && e.specialPropId[this.c.id]) {
                this._watchers = [];
                var n = s.cache.get("User.getInfo", "i");
                this._watchers.push(eui.Watcher.watch(n, [e.specialPropId[this.c.id]], (function() {
                    Object(s.propertyChange)(t, "num", "numText")
                }
                ), this))
            }
            if (this.c && e.activityPropId[this.c.id]) {
                this._watchers = [];
                var i = e.activityPropId[this.c.id]
                  , o = Object(N.d)(i.activityId);
                o && this._watchers.push(eui.Watcher.watch(o, [i.id], (function() {
                    Object(s.propertyChange)(t, "num", "numText")
                }
                ), this))
            }
        }
        ,
        e.prototype.dispose = function() {
            for (t.prototype.dispose.call(this); this._watchers.length; )
                this._watchers.shift().unwatch()
        }
        ,
        e.prototype.init = function(t) {
            this.p = t,
            this.c = Object(s.getConfig)("item_json")[t.cId]
        }
        ,
        Object.defineProperty(e.prototype, "desc", {
            get: function() {
                return this.c.desc
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "icon", {
            get: function() {
                return Object(c.b)(this.c.id)
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "quality", {
            get: function() {
                return this.c.quality
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "numText", {
            get: function() {
                return Object(c.a)(this.num)
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "num", {
            get: function() {
                if (null != this._num)
                    return this._num;
                if (e.specialPropId[this.c.id])
                    return s.cache.get("User.getInfo", "i." + e.specialPropId[this.c.id]);
                if (e.activityPropId[this.c.id]) {
                    var t = e.activityPropId[this.c.id];
                    return Object(N.d)(t.activityId)[t.id]
                }
                return s.objects.getValue(this, "p.num", 0)
            },
            set: function(t) {
                this._num = t
            },
            enumerable: !0,
            configurable: !0
        }),
        e.spPropId = function(t) {
            if (e.specialPropId[t])
                return e.specialPropId[t]
        }
        ,
        e.get = function(t) {
            return s.DataCenter.get(e, "id", t)
        }
        ,
        e.convert = function(t) {
            var n = new e;
            return n.init(t),
            n
        }
        ,
        e.getList = function() {
            return s.DataCenter.getList(e)
        }
        ,
        e.getNum = function(t) {
            return Object(s.getConfig)("item_json")[t].armType > 0 ? Object(s.getCache)("Arm.getList").l.filter((function(e) {
                return e.cId == t && 0 == e.dress
            }
            )).length : this.get(t).num
        }
        ,
        e.watchNum = function(t, n, i) {
            "number" == typeof t && (t = e.get(t));
            var o = eui.Watcher.watch(t, ["num"], n, i);
            return {
                dispose: function() {
                    o.unwatch()
                }
            }
        }
        ,
        e.getName = function(t) {
            return Object(s.tr)(Object(s.getConfig)("item_json")[t].name)
        }
        ,
        e.getListByResultID = function(t) {
            return this.getList().filter((function(e) {
                return e.c.resultID == t
            }
            ))
        }
        ,
        e.getListByType = function(t) {
            return this.getList().filter((function(e) {
                return e.c.itemType == t
            }
            ))
        }
        ,
        e.hasEnough = function(t, n, i) {
            if (void 0 === i && (i = !0),
            e.getNum(t) >= n)
                return !0;
            if (i) {
                var o = Object(s.getConfig)("item_json")[t]
                  , r = function() {
                    Object(s.tooltip)(Object(s.tr)("main@itemNotEnough", {
                        name: Object(s.tr)(o.name)
                    })),
                    o.getWay && 0 == A.isOpen && !B.a.isGuiding && A.show(o)
                };
                if (20009 == t) {
                    if (!Object(I.a)())
                        return void Object(s.tooltip)(Object(s.tr)("main@itemNotEnough", {
                            name: Object(s.tr)(o.name)
                        }));
                    g.b.isOpen("recharge") ? Object(s.confirm)(Object(s.tr)("main@gcEnough")).then((function(t) {
                        "yes" == t && h.b.show(h.c.recharge)
                    }
                    )) : r()
                } else {
                    if (2 == o.resultID || 1011 == o.id)
                        return Promise.all([Object(l.a)("shop_json"), Object(l.a)("shopItem_json")]).then((function(e) {
                            var n = Object(s.getConfig)("shopItem_json");
                            for (var i in n)
                                if (n[i].itemId == t) {
                                    n = n[i];
                                    break
                                }
                            var o = n.shopType
                              , a = n.layer
                              , c = Object(s.getConfig)("shop_json")
                              , u = function() {
                                var e = c[i];
                                if (e.shopType == o && e.layer == a) {
                                    var n = Object(s.singleton)(f.a);
                                    return n.getShopData(o).then((function(i) {
                                        if (Object(p.a)("lv") >= e.levelLimit || n.rmbEnough(o, e.layer)) {
                                            var a = Object(s.singleton)(f.a).getShopModel(o, t);
                                            a && Object(d.a)(new b.a, a).exit((function(t) {
                                                t.succeed && (Object(s.put)("refresh_bag_expand"),
                                                Object(s.put)("refresh_bag"))
                                            }
                                            ))
                                        } else
                                            r()
                                    }
                                    )),
                                    "break"
                                }
                            };
                            for (var i in c) {
                                if ("break" === u())
                                    break
                            }
                        }
                        )),
                        !1;
                    r()
                }
            }
            return !1
        }
        ,
        e.info = new s.ModelInfo("Bag.getList","cId","cId as id",["type", "useType"],"l",(function(t) {
            return Object(s.getConfig)("item_json")[t]
        }
        )),
        e.activityPropId = {},
        e.specialPropId = ((o = {})[a.lingshi] = "sc",
        o[a.lingyu] = "gc",
        o[a.weiwang] = "ptc",
        o[a.mucai] = "wdc",
        o[a.yuntie] = "irc",
        o[a.specidc] = "specidc",
        o[a.shiwu] = "fdc",
        o[a.lingmu] = "lwdc",
        o[a.gongxian] = "gcb",
        o[a.chenmu] = "cwdc",
        o[a.hantie] = "hirc",
        o[a.bingpo] = "icsoc",
        o[a.gongde] = "mcb",
        o[a.mojing] = "mgcc",
        o[a.liyu] = "wtjdc",
        o[a.haoyu] = "bkjdc",
        o[a.heroExp] = "heroExp",
        o[a.xianshi] = "gsc",
        o[a.recb] = "recb",
        o[a.lingQi] = "lingQi",
        o[a.lingJun] = "lingJun",
        o[a.exp] = "exp",
        o[a.fcb] = "fcb",
        o[a.ldcb] = "ldcb",
        o[a.hyisha] = "hyisha",
        o[a.jpExp] = "jpExp",
        o[a.lpcb] = "lpcb",
        o[a.kfb] = "kfb",
        o[a.zsb] = "zsb",
        o[a.wlcb] = "wlcb",
        o[a.swordFlyCash] = "swordFlyCash",
        o[a.arenacb] = "arenacb",
        o[a.macb] = "macb",
        o[a.macb2] = "macb2",
        o[a.suppressMonsterSc] = "suppressMonsterSc",
        o[a.divineSc] = "divineSc",
        o[a.miningSc] = "miningSc",
        o[a.feast] = "feast",
        o[a.treasureHuntSc] = "treasureHuntSc",
        o[a.divineTreeSc] = "divineTreeSc",
        o[a.repairGateSc] = "repairGateSc",
        o[a.ltdc] = "ltdc",
        o[a.ltdc1] = "ltdc1",
        o[a.ltdc2] = "ltdc2",
        o[a.ltdc3] = "ltdc3",
        o[a.ltdc4] = "ltdc4",
        o[a.ltdc5] = "ltdc5",
        o[a.ltdc6] = "ltdc6",
        o[a.lightdc] = "lightdc",
        o[a.vightdc] = "vightdc",
        o[a.vdMoney] = "vdMoney",
        o[a.jdldcb] = "jdldcb",
        o[a.qmdc] = "qmdc",
        o[a.qmlydc] = "qmlydc",
        o[a.qmMoney] = "qmMoney",
        o[a.cqtea] = "cqtea",
        o[a.wltea] = "wltea",
        o[a.sxtea] = "sxtea",
        o[a.qhtea] = "qhtea",
        o[a.ljtea] = "ljtea",
        o[a.bhtea] = "bhtea",
        o[a.wlke] = "wlke",
        o[a.sxke] = "sxke",
        o[a.qhke] = "qhke",
        o[a.ljke] = "ljke",
        o[a.bhke] = "bhke",
        o[a.teadc] = "teadc",
        o[a.loveDc] = "lovaDc",
        o[a.crystal] = "crystal",
        o[a.essence] = "essence",
        o[a.pure] = "pure",
        o[a.holiSc] = "holiSc",
        o[a.holiSc2] = "holiSc2",
        o[a.holiSc3] = "holiSc3",
        o[a.tscb] = "tscb",
        o[a.crldcb] = "crldcb",
        o[a.dxExp] = "pavilion",
        o[a.stCry] = "stCry",
        o[a.stCore] = "stCore",
        o[a.xingTianSc] = "xingTianSc",
        o),
        e
    }(s.BaseModel);
    Object(u.a)("PropModel", D),
    s.DataCenter.injectionModel(D)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return r
    }
    ));
    var i = n(1)
      , o = new (function() {
        function t() {}
        return t.prototype.stat = function(t, e) {
            if (console.log("stat:" + t),
            t) {
                var n = Object(i.getPlatform)().getConstant("colletSpot");
                "storm_a_pass" == t ? n && n(e) : n && n(t)
            }
        }
        ,
        t
    }());
    function r(t, e) {
        o.stat(t, e)
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return R
    }
    ));
    var i = n(1)
      , o = n(125)
      , r = n(0)
      , a = n(106)
      , s = n(113)
      , c = n(111)
      , u = n(107)
      , h = n(115)
      , l = n(110)
      , p = n(109)
      , f = n(130)
      , d = n(339)
      , b = n(380)
      , g = n(285)
      , _ = n(271)
      , m = n(377)
      , y = n(149)
      , v = n(143)
      , O = n(138)
      , j = n(341)
      , w = n(117)
      , x = function() {
        function t() {}
        return t.openChumo = function() {
            0 != Object(s.a)("guildId") ? Object(s.a)("lv") < 31 ? Object(i.tooltip)(Object(i.tr)("main@guildLvLimit")) : Object(o.b)({
                source: Object(r.L)(),
                name: "guild",
                locale: "guild&gd",
                resGroup: "guild"
            }).then((function(t) {
                t && Object(l.b)([Object(p.b)("eui_xianmeng_json")]).then((function() {
                    Object(i.put)("guild.challenge")
                }
                ))
            }
            )) : Object(i.tooltip)(Object(i.tr)("main@noGuild"))
        }
        ,
        t.openJiayan = function() {
            var t = this;
            0 != Object(s.a)("guildId") ? Object(o.b)({
                source: Object(r.L)(),
                name: "guild",
                locale: "guild&gd",
                resGroup: "guild"
            }).then((function(e) {
                e && Object(i.singleton)(e.GuildController).isOpen() && Object(l.b)([Object(p.b)("eui_xianmeng_json")]).then((function() {
                    e.GuildProxy.getInfo((function() {
                        Object(i.put)("guild_feast_open"),
                        e.GuildFeastView.show()
                    }
                    ), t)
                }
                ))
            }
            )) : Object(i.tooltip)(Object(i.tr)("main@noGuild"))
        }
        ,
        t.openGuildBuild = function() {
            var t = this;
            0 != Object(s.a)("guildId") ? Object(o.b)({
                source: Object(r.L)(),
                name: "guild",
                locale: "guild&gd",
                resGroup: "guild",
                theme: "xianmeng"
            }).then((function(e) {
                e && e.GuildProxy.getInfo((function() {
                    Object(i.singleton)(e.GuildController).isOpen() && Object(i.singleton)(e.GuildController).build()
                }
                ), t)
            }
            )) : Object(i.tooltip)(Object(i.tr)("main@noGuild"))
        }
        ,
        t.openGuildTech = function() {
            0 != Object(s.a)("guildId") ? Object(o.b)({
                source: Object(r.L)(),
                name: "guild",
                locale: "guild&gd",
                resGroup: "guild",
                theme: "xianmeng"
            }).then((function(t) {
                t && Object(i.singleton)(t.GuildController).isOpen() && Object(i.singleton)(t.GuildController).tech()
            }
            )) : Object(i.tooltip)(Object(i.tr)("main@noGuild"))
        }
        ,
        t.openWeidao = function() {
            0 != Object(s.a)("guildId") ? Object(o.b)({
                source: Object(r.L)(),
                name: "guild",
                locale: "guild&gd",
                resGroup: "guild",
                theme: "xianmeng"
            }).then((function(t) {
                t && Object(i.singleton)(t.GuildController).isOpen() && Object(i.singleton)(t.GuildController).openBattle()
            }
            )) : Object(i.tooltip)(Object(i.tr)("main@noGuild"))
        }
        ,
        t.openGuildShop = function() {
            Object(s.a)("lv") < 31 ? Object(i.tooltip)(Object(i.tr)("main@guildLvLimit")) : 0 != Object(s.a)("guildId") ? Object(o.b)({
                source: Object(r.L)(),
                name: "guild",
                locale: "guild&gd",
                resGroup: "guild"
            }).then((function(t) {
                t && Object(l.b)([Object(p.b)("eui_xianmeng_json")]).then((function() {
                    Object(i.singleton)(t.GuildController).shop()
                }
                ))
            }
            )) : Object(i.tooltip)(Object(i.tr)("main@noGuild"))
        }
        ,
        t
    }()
      , k = n(4)
      , I = n(7)
      , P = function() {
        return (P = Object.assign || function(t) {
            for (var e, n = 1, i = arguments.length; n < i; n++)
                for (var o in e = arguments[n])
                    Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
            return t
        }
        ).apply(this, arguments)
    }
      , C = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , S = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , R = function() {
        function t() {}
        return t.openHero = function() {
            return Object(o.b)({
                source: Object(r.N)(),
                locale: "hero_1&hero_2",
                resGroup: "heroC",
                name: "hero"
            }).then((function(t) {
                return t.HeroPanel.show(),
                new Promise((function(e) {
                    Object(h.x)((function() {
                        e(t)
                    }
                    ))
                }
                ))
            }
            ))
        }
        ,
        t.openMenpai = function() {
            return C(this, void 0, void 0, (function() {
                var t;
                return S(this, (function(e) {
                    switch (e.label) {
                    case 0:
                        return console.log(1),
                        [4, Object(o.b)({
                            source: Object(r.ob)(),
                            getInfo: {
                                route: "se.a",
                                cache: "Sect.getInfo"
                            },
                            locale: "sect_1&sect_2",
                            name: "menpai"
                        })];
                    case 1:
                        return [4, (t = e.sent()).MenPaiMainPanel.show()];
                    case 2:
                        return e.sent(),
                        [2, t]
                    }
                }
                ))
            }
            ))
        }
        ,
        t.openAvatarScene = function() {
            var t = {
                female: [2, 1, 1, 1, 1, 1, 1, 1, 1],
                male: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
                grade: 1
            }
              , e = Object(s.a)("skin").concat();
            return 1 == e[0] ? (t.grade = 1,
            t.male = e) : (t.grade = 2,
            t.female = e),
            e[11] = 0,
            Object(o.b)({
                source: Object(r.j)(),
                name: "create",
                locale: "create"
            }).then((function(e) {
                return Object(l.b)(Object(p.a)("fashion_json")).then((function() {
                    return new Promise((function(n) {
                        Object(a.a)(new e.AvatarScene(P({
                            initialize: !1,
                            changeMode: !0
                        }, t))).exit((function(t) {
                            n(t.succeed)
                        }
                        ))
                    }
                    ))
                }
                ))
            }
            ))
        }
        ,
        t.openYouli = function(t) {
            return void 0 === t && (t = 0),
            Object(o.b)({
                source: Object(r.Yb)(),
                locale: "youli",
                resGroup: "youli",
                name: "youli",
                getInfo: {
                    route: "y.a",
                    cache: "Youli.getInfo"
                }
            }).then((function(e) {
                return e.YunyouView.show(t)
            }
            ))
        }
        ,
        t.openJiuyou = function() {
            if (Object(h.w)())
                return Object(o.b)({
                    source: Object(r.Yb)(),
                    locale: "youli",
                    resGroup: "youli",
                    name: "youli",
                    theme: "yunyou",
                    getInfo: {
                        route: "y.a",
                        cache: "Youli.getInfo"
                    }
                }).then((function(t) {
                    Object(a.a)(new t.MoyuView)
                }
                ));
            Object(i.tooltip)(Object(i.tr)("main@noOpen_noRaid"))
        }
        ,
        t.openJiuyouShop = function() {
            if (Object(h.w)())
                return Object(o.b)({
                    source: Object(r.Yb)(),
                    locale: "youli",
                    name: "youli",
                    theme: "yunyou"
                }).then((function(t) {
                    return t.ExchangeView.show(1)
                }
                ));
            Object(i.tooltip)(Object(i.tr)("main@noOpen_noRaid"))
        }
        ,
        t.openMystery = function() {
            Object(s.a)("lv") < 31 ? Object(i.tooltip)(Object(i.tr)("main@mysteryNoEnough")) : Object(o.b)({
                source: Object(r.rb)(),
                name: "mystery",
                locale: "mystery",
                getInfo: {
                    route: "fd.a",
                    cache: "Fudi.getInfo",
                    invalid: function(t) {
                        return c.a.isOver(t.i.refreshTime)
                    }
                }
            }).then((function(t) {
                t.MysteryMainPanel.show()
            }
            ))
        }
        ,
        t.openTree = function() {
            Object(l.b)([Object(p.b)("eui_tree_json")]).then((function(t) {
                Object(o.b)({
                    source: Object(r.Pb)(),
                    name: "tree",
                    locale: "tree_1&tree_2",
                    getInfo: {
                        route: "wo.a",
                        cache: "Wood.getInfo",
                        invalid: function(t) {
                            return Object(u.d)("wo.u").then((function(t) {}
                            )),
                            !1
                        }
                    }
                }).then((function(t) {
                    Object(a.a)(new t.TreeTabView)
                }
                ))
            }
            ))
        }
        ,
        t.checkBianShen = function(t) {
            Object(l.b)([Object(p.b)("eui_tree_json"), Object(p.a)("treeSkin_json")]).then((function(e) {
                Object(o.b)({
                    source: Object(r.Pb)(),
                    name: "tree",
                    locale: "tree_1&tree_2",
                    getInfo: {
                        route: "wo.a",
                        cache: "Wood.getInfo"
                    }
                }).then((function(e) {
                    e.TreeBianShenPanel.checkBianShen(t)
                }
                ))
            }
            ))
        }
        ,
        t.openDigong = function() {
            Object(s.a)("lv") < 61 ? Object(i.tooltip)(Object(i.tr)("main@digongLock", {
                name: Object(i.tr)(Object(i.getConfig)("level_json")[61].name)
            })) : Object(o.b)({
                source: Object(r.p)(),
                locale: "digong",
                resGroup: "digong",
                name: "digong",
                getInfo: {
                    route: "dg.a",
                    cache: "Digong.getInfo"
                }
            }).then((function(t) {
                Object(a.a)(new t.DigongListView)
            }
            ))
        }
        ,
        t.openSwordFly = function() {
            f.b.isOpen("swordFly") && Object(o.b)({
                source: Object(r.Ib)(),
                name: "mid",
                locale: "mid_1&mid_2"
            }).then((function(t) {
                t.MotorMainView.show()
            }
            ))
        }
        ,
        t.openTeamSwordFly = function() {
            f.b.isOpen("teamSwordFly") && Object(o.b)({
                source: Object(r.Kb)(),
                name: "mid",
                locale: "mid_1&mid_2&teamsword"
            }).then((function(t) {
                t.TeamSwordMainView.show()
            }
            ))
        }
        ,
        t.openFestival = function() {
            Object(o.b)({
                source: Object(r.x)(),
                name: "mid",
                locale: "mid_1&mid_2"
            }).then((function(t) {
                t.MidAutumnFestivalPanel.show()
            }
            ))
        }
        ,
        t.xsjOpen = function() {
            return !0
        }
        ,
        t.openGuild = function() {
            Object(s.a)("lv") < 31 ? Object(i.tooltip)(Object(i.tr)("main@guildLvLimit")) : Object(o.b)({
                source: Object(r.L)(),
                name: "guild",
                locale: "guild&gd",
                resGroup: "guild",
                theme: "xianmeng"
            }).then((function(t) {
                t && Object(i.put)("guild.open")
            }
            ))
        }
        ,
        t.openExplore = function() {
            var t = this;
            Object(s.a)("isNewSv") ? Promise.all([Object(u.a)("sw.a", "SmallWorld.getInfo")]).then((function(e) {
                Object(i.getCache)("SmallWorld.getInfo").passesId < 180 ? Object(i.tooltip)(Object(i.tr)("main@noOpen_youli")) : t.openXianduYouli()
            }
            )) : this.openXianduYouli()
        }
        ,
        t.openXianduYouli = function() {
            Object(o.b)({
                source: Object(r.r)(),
                name: "ex",
                getInfo: {
                    route: "tf.a",
                    cache: "Trial.getInfo"
                },
                locale: "ex_1&ex_2"
            }).then((function(t) {
                t.ExploreMainPanel.show()
            }
            ))
        }
        ,
        t.openRaidDisplay = function() {
            Object(o.b)({
                source: Object(r.Cb)(),
                name: "raid",
                locale: "raid"
            }).then((function(t) {
                t.RaidPanel.show().then((function(t) {
                    m.a.show()
                }
                ))
            }
            ))
        }
        ,
        t.openRaid = function() {
            return Object(s.a)("lv") < 4 ? (Object(i.tooltip)(Object(i.tr)("main@noOpenMap")),
            Promise.resolve(null)) : Object(o.b)({
                source: Object(r.Cb)(),
                name: "raid",
                locale: "raid"
            }).then((function(t) {
                return t.RaidPanel.show(),
                new Promise((function(e) {
                    Object(h.x)((function() {
                        e(t)
                    }
                    ))
                }
                ))
            }
            ))
        }
        ,
        t.openLing = function(t) {
            var e = Object(s.a)("lv")
              , n = Object(s.a)("blv");
            1 == Object(s.a)("fly") ? e < 81 && n < 81 ? Object(i.tooltip)(Object(i.tr)("main@lingTip")) : Object(l.b)([Object(p.b)("eui_ling_json")]).then((function() {
                Object(o.b)({
                    source: Object(r.hb)(),
                    name: "ling",
                    locale: "ling&lingti",
                    resGroup: "ling"
                }).then((function(e) {
                    e && (null == i.UI.getUIComponent(e.JulingView) ? Object(a.a)(new e.JulingView, t) : Object(i.tooltip)(Object(i.tr)("ling@onLing")))
                }
                ))
            }
            )) : Object(i.tooltip)(Object(i.tr)("main@juling_fly"))
        }
        ,
        t.openGodPVP = function() {
            Object(o.b)({
                source: Object(r.H)(),
                name: "godpvp",
                locale: "godpvp",
                resGroup: "crossWar",
                getInfo: {
                    route: "ql.a",
                    cache: "Qiling.getInfo"
                }
            }).then((function(t) {
                t && t.GodPVPMainView.show()
            }
            ))
        }
        ,
        t.openActBoss = function() {
            Object(o.b)({
                source: Object(r.a)(),
                locale: "actboss",
                name: "actboss"
            }).then((function(t) {
                t.ActBossMainView.show()
            }
            ))
        }
        ,
        t.openXiongshouShop = function() {
            Object(o.b)({
                source: Object(r.Wb)(),
                locale: "main",
                name: "xiongshou"
            }).then((function(t) {
                t.XiongshouShopPanel.show()
            }
            ))
        }
        ,
        t.openXiongshou = function() {
            Object(o.b)({
                source: Object(r.Wb)(),
                locale: "main",
                name: "xiongshou"
            }).then((function(t) {
                null == i.UI.getUIComponent(t.XiongshouPanel) ? t.XiongshouPanel.show() : Object(i.tooltip)(Object(i.tr)("main@onXiongshou"))
            }
            ))
        }
        ,
        t.openChuqiao = function() {
            Object(o.b)({
                source: Object(r.h)(),
                locale: "main",
                name: "chuqiao"
            }).then((function(t) {
                t.ChuqiaoPanel.show()
            }
            ))
        }
        ,
        t.openFish = function() {
            Object(s.a)("lv") < 31 ? Object(i.tooltip)(Object(i.tr)("main@diaoyuTip")) : Promise.all([Object(u.a)("f.a", "Fish.getInfo"), Object(o.b)({
                source: Object(r.A)(),
                locale: "fish",
                resGroup: "fish",
                name: "fish"
            })]).then((function(t) {
                Object(i.getCache)("Fish.getInfo").id > 0 ? Object(a.a)(new t[1].FishingPanel) : Object(a.a)(new t[1].FishPanel)
            }
            ))
        }
        ,
        t.openFishShop = function() {
            Object(s.a)("lv") < 31 ? Object(i.tooltip)(Object(i.tr)("main@diaoyuTip")) : Promise.all([Object(u.a)("f.a", "Fish.getInfo"), Object(o.b)({
                source: Object(r.A)(),
                locale: "fish",
                resGroup: "fish",
                name: "fish"
            })]).then((function(t) {
                Object(a.a)(new d.a)
            }
            ))
        }
        ,
        t.openCrossBoss = function() {
            Object(o.b)({
                source: Object(r.k)(),
                locale: "crossBoss",
                name: "crossBoss"
            }).then((function(t) {
                t.CrossBossMainView.show()
            }
            ))
        }
        ,
        t.openBounty = function(t, e) {
            return void 0 === e && (e = "bounty"),
            function() {
                Object(o.b)({
                    source: Object(r.f)(),
                    name: "bounty",
                    locale: "bounty"
                }).then((function(n) {
                    n && n.BountyMainView.show(t, e)
                }
                ))
            }
        }
        ,
        t.openBountyLottery = function() {
            Object(l.b)([Object(p.a)("festivalActivity_json"), Object(p.a)("festivalActivity_sf_json")]).then((function(t) {
                Object(o.b)({
                    source: Object(r.f)(),
                    name: "xianShouGift",
                    locale: "bounty",
                    theme: "petGift"
                }).then((function(t) {
                    t.BountyLotteryView.show()
                }
                ))
            }
            ))
        }
        ,
        t.openMake = function() {
            Object(o.b)({
                source: Object(r.nb)(),
                name: "make",
                locale: "make"
            }).then((function(t) {
                t && t.MakeView.show()
            }
            ))
        }
        ,
        t.openJuedi = function() {
            Object(o.b)({
                source: Object(r.Z)(),
                name: "juedi",
                locale: "juedi"
            }).then((function(t) {
                t && t.JuediMainView.show()
            }
            ))
        }
        ,
        t.openXunfang = function() {
            Object(o.b)({
                source: Object(r.Xb)(),
                name: "sl",
                locale: "tree_1&tree_2&xunfang&sl"
            }).then((function(t) {
                t && t.XunfangMainView.show()
            }
            ))
        }
        ,
        t.openMakeAmulet = function() {
            Object(o.b)({
                source: Object(r.nb)(),
                name: "make",
                locale: "make"
            }).then((function(t) {
                t && t.AmuletPanel.show()
            }
            ))
        }
        ,
        t.openFs0202 = function() {
            Object(o.b)({
                source: Object(r.D)(),
                name: "fs0202",
                locale: "fs0202"
            }).then((function(t) {
                t && t.Fs0202View.show()
            }
            ))
        }
        ,
        t.lover = function() {
            Object(o.b)({
                source: Object(r.kb)(),
                name: "lover",
                locale: "lover"
            }).then((function(t) {
                t && t.LoverMainView.show()
            }
            ))
        }
        ,
        t.dice = function() {
            Object(o.b)({
                source: Object(r.o)(),
                locale: "dice",
                name: "dice"
            }).then((function(t) {
                t.DiceMainView.show()
            }
            ))
        }
        ,
        t.zongMen = function() {
            return Object(o.b)({
                source: Object(r.Qb)(),
                locale: "union",
                name: "union"
            }).then((function(t) {
                return t.UnionMainView.show(),
                new Promise((function(e) {
                    Object(h.x)((function() {
                        e(t)
                    }
                    ))
                }
                ))
            }
            ))
        }
        ,
        t.openChumo = function() {
            x.openChumo()
        }
        ,
        t.openQingming = function() {
            Object(o.b)({
                source: Object(r.Ab)(),
                name: "qingming",
                locale: "qingming"
            }).then((function(t) {
                t && t.QingmingMainView.show()
            }
            ))
        }
        ,
        t.openJiayan = function() {
            x.openJiayan()
        }
        ,
        t.openGuildBuild = function() {
            x.openGuildBuild()
        }
        ,
        t.openGuildTech = function() {
            x.openGuildTech()
        }
        ,
        t.openGuildTask = function() {
            var t = this;
            0 != Object(s.a)("guildId") ? Object(o.b)({
                source: Object(r.L)(),
                name: "guild",
                locale: "guild&gd",
                resGroup: "guild",
                theme: "xianmeng"
            }).then((function(e) {
                e && y.c.getInfo((function() {
                    Object(i.singleton)(I.GuildController).isOpen() && Object(i.singleton)(I.GuildController).shiwu()
                }
                ), t)
            }
            )) : Object(i.tooltip)(Object(i.tr)("main@noGuild"))
        }
        ,
        t.openWeidao = function() {
            x.openWeidao()
        }
        ,
        t.openYouliChuqiao = function(t) {
            void 0 === t && (t = 0),
            Object(o.b)({
                source: Object(r.Yb)(),
                locale: "youli",
                resGroup: "youli",
                name: "youli",
                theme: "yunyou",
                getInfo: {
                    route: "y.a",
                    cache: "Youli.getInfo"
                }
            }).then((function(t) {
                b.a.show()
            }
            ))
        }
        ,
        t.openLingqi = function() {
            Object(o.b)({
                source: Object(r.Yb)(),
                locale: "youli",
                resGroup: "youli",
                name: "youli",
                getInfo: {
                    route: "y.a",
                    cache: "Youli.getInfo"
                }
            }).then((function(t) {
                g.a.show()
            }
            ))
        }
        ,
        t.openMenpaiLilian = function() {
            return C(this, void 0, void 0, (function() {
                return S(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Promise.all([Object(p.a)("pupil_json"), Object(p.a)("sectShengYu_json"), Object(p.a)("pupilLevel_json")])];
                    case 1:
                        return t.sent(),
                        [2, Object(o.b)({
                            source: Object(r.ob)(),
                            locale: "sect_1&sect_2",
                            name: "menpai",
                            theme: "menpai",
                            getInfo: {
                                route: "se.a",
                                cache: "Sect.getInfo"
                            }
                        }).then((function(t) {
                            var e = Object(i.getCache)("Sect.getInfo");
                            e && 0 != e.point ? t.MenPaiForbiddenAreaPanel.show() : t.MenPaiMainPanel.show()
                        }
                        ))]
                    }
                }
                ))
            }
            ))
        }
        ,
        t.openMenpaDating = function() {
            return Object(o.b)({
                source: Object(r.ob)(),
                locale: "sect_1&sect_2",
                name: "menpai",
                theme: "menpai",
                getInfo: {
                    route: "se.a",
                    cache: "Sect.getInfo"
                }
            }).then((function(t) {
                var e = Object(i.getCache)("Sect.getInfo");
                e && 0 != e.point ? t.MenPaiHallPanel.show() : t.MenPaiMainPanel.show()
            }
            ))
        }
        ,
        t.openRemains = function() {
            Object(o.b)({
                source: Object(r.y)(),
                locale: "finance",
                resGroup: "finance",
                name: "finance"
            }).then((function(t) {
                Object(i.put)("finance.open")
            }
            ))
        }
        ,
        t.openSuoYaota = function() {
            return Object(o.b)({
                source: Object(r.Yb)(),
                locale: "youli",
                resGroup: "youli",
                name: "youli",
                getInfo: {
                    route: "y.a",
                    cache: "Youli.getInfo"
                }
            }).then((function(t) {
                t.SuoyaoView.show()
            }
            ))
        }
        ,
        t.openMenpaiJishi = function() {
            return Object(o.b)({
                source: Object(r.ob)(),
                locale: "sect_1&sect_2",
                name: "menpai",
                getInfo: {
                    route: "se.a",
                    cache: "Sect.getInfo"
                }
            }).then((function(t) {
                var e = Object(i.getCache)("Sect.getInfo");
                e && 0 != e.point ? t.MenPaiShopPanel.show(_.a.jishi) : t.MenPaiMainPanel.show()
            }
            ))
        }
        ,
        t.openGuildShop = function() {
            x.openGuildShop()
        }
        ,
        t.openGodPVPShop = function() {
            Object(o.b)({
                source: Object(r.H)(),
                name: "godpvp",
                locale: "godpvp",
                resGroup: "crossWar",
                getInfo: {
                    route: "ql.a",
                    cache: "Qiling.getInfo"
                }
            }).then((function(t) {
                t && t.GodPVPShopView.show()
            }
            ))
        }
        ,
        t.openRemainsShop = function() {
            Object(o.b)({
                source: Object(r.y)(),
                locale: "finance",
                resGroup: "finance",
                name: "finance"
            }).then((function(t) {
                t.FinanceShopView.show()
            }
            ))
        }
        ,
        t.openYanwu = function() {
            Object(s.a)("lv") < 31 ? Object(i.tooltip)(Object(i.tr)("main@digongLock", {
                name: Object(i.tr)(Object(i.getConfig)("level_json")[31].name)
            })) : Object(o.b)({
                source: Object(r.ob)(),
                locale: "sect_1&sect_2",
                name: "menpai",
                getInfo: {
                    route: "se.a",
                    cache: "Sect.getInfo"
                }
            }).then((function(t) {
                Object(o.b)({
                    source: Object(r.d)(),
                    locale: "arena",
                    name: "arena"
                }).then((function(t) {
                    t.ArenaMainPanel.show()
                }
                ))
            }
            ))
        }
        ,
        t.openYanwuDuihuan = function() {
            Object(s.a)("lv") < 31 ? Object(i.tooltip)(Object(i.tr)("main@digongLock", {
                name: Object(i.tr)(Object(i.getConfig)("level_json")[31].name)
            })) : Object(o.b)({
                source: Object(r.d)(),
                locale: "arena",
                name: "arena"
            }).then((function(t) {
                v.b.show(O.d.func, "arena", [{
                    text: Object(i.tr)("arena@shopTab1"),
                    name: "3",
                    desc: Object(i.tr)("arena@shopDesc1")
                }, {
                    text: Object(i.tr)("arena@shopTab2"),
                    name: "1",
                    desc: Object(i.tr)("arena@shopDesc1")
                }, {
                    text: Object(i.tr)("arena@shopTab3"),
                    name: "2",
                    desc: Object(i.tr)("arena@shopDesc2")
                }], {
                    modelCls: t.ArenaShopModel
                })
            }
            ))
        }
        ,
        t.zongMenDuihuan = function() {
            Object(o.b)({
                source: Object(r.Qb)(),
                locale: "union",
                name: "union"
            }).then((function(t) {
                t.UnionShopView.quickShow()
            }
            ))
        }
        ,
        t.openFengshentai = function() {
            Object(o.b)({
                source: Object(r.Mb)(),
                locale: "tiant",
                name: "tiant"
            }).then((function(t) {
                t.TianTingView.fengshenShow()
            }
            ))
        }
        ,
        t.openLingxiaodian = function() {
            Object(o.b)({
                source: Object(r.Mb)(),
                locale: "tiant",
                name: "tiant"
            }).then((function(t) {
                t.TianTingView.lingxiaodianShow()
            }
            ))
        }
        ,
        t.openLundao = function() {
            Object(o.b)({
                source: Object(r.xb)(),
                locale: "pvps",
                name: "pvps"
            }).then((function(t) {
                t.PVPSMainView.show()
            }
            ))
        }
        ,
        t.spring = function() {
            Object(o.b)({
                source: Object(r.Gb)(),
                name: "spring",
                locale: "spring"
            }).then((function(t) {
                t && t.SpringMapView.show()
            }
            ))
        }
        ,
        t.fudai = function() {
            Object(o.b)({
                source: Object(r.F)(),
                name: "fudai",
                locale: "fudai"
            }).then((function(t) {
                t && t.FudaiMainView.show()
            }
            ))
        }
        ,
        t.wanchun = function() {
            Object(o.b)({
                source: Object(r.Sb)(),
                name: "wanchun",
                locale: "wanchun"
            }).then((function(t) {
                t && t.WanchunMainView.show()
            }
            ))
        }
        ,
        t.openHome = function() {
            return Object(i.getCache)("Root.getList").l.poolv < 10 ? (Object(i.tooltip)(Object(i.tr)("main@noOpenHome")),
            Promise.resolve(null)) : Object(o.b)({
                source: Object(r.T)(),
                locale: "nest",
                name: "home"
            }).then((function(t) {
                return Promise.resolve(t.HomeMainView.show())
            }
            ))
        }
        ,
        t.openLingshan = function() {
            return Object(i.getCache)("Root.getList").l.poolv < 10 ? (Object(i.tooltip)(Object(i.tr)("main@noOpenHome")),
            Promise.resolve(null)) : Object(o.b)({
                source: Object(r.jb)(),
                locale: "nest",
                name: "home",
                theme: "home"
            }).then((function(t) {
                t.HomeLingshanView.show()
            }
            ))
        }
        ,
        t.openDaolv = function(t) {
            return Object(i.getCache)("Root.getList").l.poolv < 10 ? (Object(i.tooltip)(Object(i.tr)("main@noOpenHome")),
            Promise.resolve(null)) : Object(o.b)({
                source: Object(r.n)(),
                locale: "nest",
                name: "home",
                theme: "home"
            }).then((function(e) {
                return e.HomeDaolvPanel.show(t)
            }
            ))
        }
        ,
        t.openJiusi = function() {
            return Object(i.getCache)("Root.getList").l.poolv < 10 ? (Object(i.tooltip)(Object(i.tr)("main@noOpenHome")),
            Promise.resolve(null)) : Object(o.b)({
                source: Object(r.Y)(),
                locale: "nest",
                name: "home",
                theme: "home"
            }).then((function(t) {
                t.HomeJiusiPanel.show()
            }
            ))
        }
        ,
        t.openQishi = function() {
            return Object(i.getCache)("Root.getList").l.poolv < 10 ? (Object(i.tooltip)(Object(i.tr)("main@noOpenHome")),
            Promise.resolve(null)) : Object(o.b)({
                source: Object(r.Bb)(),
                locale: "nest",
                name: "home",
                theme: "home"
            }).then((function(t) {
                return new Promise((function(e) {
                    Object(h.x)((function() {
                        t.HomeQishiPanel.show(),
                        e(t)
                    }
                    ))
                }
                ))
            }
            ))
        }
        ,
        t.openWenfang = function() {
            return Object(i.getCache)("Root.getList").l.poolv < 10 ? (Object(i.tooltip)(Object(i.tr)("main@noOpenHome")),
            Promise.resolve(null)) : Object(o.b)({
                source: Object(r.Ub)(),
                locale: "nest",
                name: "home"
            }).then((function(t) {
                return new Promise((function(e) {
                    Object(h.x)((function() {
                        t.HomeWenfangPanel.show(),
                        e(t)
                    }
                    ))
                }
                ))
            }
            ))
        }
        ,
        t.openDanlu = function() {
            return Object(i.getCache)("Root.getList").l.poolv < 10 ? (Object(i.tooltip)(Object(i.tr)("main@noOpenHome")),
            Promise.resolve(null)) : Object(o.b)({
                source: Object(r.m)(),
                locale: "nest",
                name: "home",
                theme: "home"
            }).then((function(t) {
                return new Promise((function(e) {
                    Object(h.x)((function() {
                        t.HomeDanluPanel.show(),
                        e(t)
                    }
                    ))
                }
                ))
            }
            ))
        }
        ,
        t.openGuanjia = function() {
            return Object(i.getCache)("Root.getList").l.poolv < 10 ? (Object(i.tooltip)(Object(i.tr)("main@noOpenHome")),
            Promise.resolve(null)) : Object(o.b)({
                source: Object(r.K)(),
                locale: "nest",
                name: "home",
                theme: "home"
            }).then((function(t) {
                t.HomeGuanjiaPanel.show()
            }
            ))
        }
        ,
        t.openGoldweek = function() {
            return Object(o.b)({
                source: Object(r.I)(),
                locale: "goldweek",
                name: "goldweek"
            }).then((function(t) {
                t.GoldweekMainView.show()
            }
            ))
        }
        ,
        t.openFlyBoat = function() {
            return Object(o.b)({
                source: Object(r.B)(),
                locale: "flyboat",
                name: "flyboat"
            }).then((function(t) {
                t.FlyBoatMainView.show()
            }
            ))
        }
        ,
        t.openHuanyige = function() {
            Object(o.b)({
                source: Object(r.V)(),
                locale: "huanyige",
                name: "huanyige"
            }).then((function(t) {
                t.LotterySkinView.show()
            }
            ))
        }
        ,
        t.openFabao = function(t) {
            void 0 === t && (t = 0),
            f.b.isOpen("fabao") ? 1 == Object(s.a)("fly") ? Object(l.b)([Object(p.a)("weapon_json"), Object(p.a)("weaponRefine_json"), Object(p.a)("weaponRefineAttr_json"), Object(p.a)("weaponRefineMaster_json"), Object(p.a)("weaponZhen_json"), Object(p.a)("weaponZhenAdd_json"), Object(p.a)("weaponHufa_json"), Object(p.a)("heroSkin_json")]).then((function(e) {
                Object(o.b)({
                    source: Object(r.s)(),
                    locale: "fabao",
                    name: "fabao"
                }).then((function(e) {
                    Object(a.a)(new e.FabaoTabView, t)
                }
                ))
            }
            )) : Object(i.tooltip)(Object(i.tr)("main@fb3")) : Object(i.tooltip)(Object(i.tr)("common@lock"))
        }
        ,
        t.openHolOccupy = function() {
            Object(o.b)({
                source: Object(r.R)(),
                locale: "finance",
                resGroup: "finance",
                name: "holOccupy"
            }).then((function(t) {
                t.HolOccupyMainView.show()
            }
            ))
        }
        ,
        t.openHolBoss = function() {
            Object(o.b)({
                source: Object(r.P)(),
                locale: "actboss",
                name: "holboss"
            }).then((function(t) {
                t.HolBossMainView.show()
            }
            ))
        }
        ,
        t.openHolGodPVP = function() {
            Object(o.b)({
                source: Object(r.Q)(),
                name: "holGodpvp",
                locale: "godpvp",
                resGroup: "crossWar",
                getInfo: {
                    route: "ql.a",
                    cache: "Qiling.getInfo"
                }
            }).then((function(t) {
                t && t.HolGodPVPMainView.show()
            }
            ))
        }
        ,
        t.openVoidBoss = function(t) {
            void 0 === t && (t = !1),
            Object(o.b)({
                source: Object(r.Rb)(),
                name: "voidboss",
                locale: "voidboss"
            }).then((function(e) {
                e && e.VoidBossMainView.show(t)
            }
            ))
        }
        ,
        t.openConfess = function() {
            Object(o.b)({
                source: Object(r.i)(),
                locale: "confess",
                name: "confess"
            }).then((function(t) {
                t.ConfessMainView.show()
            }
            ))
        }
        ,
        t.openKaifu = function() {
            Object(o.b)({
                source: Object(r.bb)(),
                locale: "kaifu",
                name: "kaifu"
            }).then((function(t) {
                t.KaifuView.show()
            }
            ))
        }
        ,
        t.openTaoyuan = function() {
            Object(o.b)({
                source: Object(r.Jb)(),
                locale: "taoyuan",
                name: "taoyuan"
            }).then((function(t) {
                t.TaoyuanView.show()
            }
            ))
        }
        ,
        t.openSkyTask = function() {
            Object(o.b)({
                source: Object(r.Fb)(),
                name: "skytask"
            }).then((function(t) {
                t.SkyTaskView.show()
            }
            ))
        }
        ,
        t.onXunShou = function() {
            return C(this, void 0, void 0, (function() {
                return S(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Object(u.a)("p.a", "Pet.getInfo")];
                    case 1:
                        return t.sent().petNum ? (Object(o.b)({
                            source: Object(r.e)(),
                            locale: "sect_1&sect_2",
                            name: "beast"
                        }).then((function(t) {
                            t.BeastListView.show()
                        }
                        )),
                        [2]) : (Object(i.tooltip)(Object(i.tr)("main@beastNoOpen")),
                        [2])
                    }
                }
                ))
            }
            ))
        }
        ,
        t.openShopGift = function(t) {
            Object(o.b)({
                source: Object(r.G)(),
                name: "shopgift"
            }).then((function(e) {
                e.ShopGiftPanel.show(t)
            }
            ))
        }
        ,
        t.openFeast = function() {
            Object(s.a)("lv") < 31 ? Object(i.tooltip)(Object(i.tr)("main@feastlvTip")) : Object(o.b)({
                source: Object(r.v)(),
                name: "feast",
                locale: "feast"
            }).then((function(t) {
                t.FeastMainPanel.show()
            }
            ))
        }
        ,
        t.openParade = function(t, e) {
            void 0 === t && (t = !0),
            Object(o.b)({
                source: Object(r.yb)(),
                name: "parade"
            }).then((function(n) {
                t ? n.ParadeMainPanel.show(e) : n.ParadeHoldPanel.show()
            }
            ))
        }
        ,
        t.openTotalRecharge = function() {
            Object(o.b)({
                source: Object(r.Nb)(),
                name: "totalrecharge"
            }).then((function(t) {
                t.TotalRechargeMainPanel.show()
            }
            ))
        }
        ,
        t.openAnnual = function() {
            Object(o.b)({
                source: Object(r.c)(),
                locale: "annual",
                name: "annual"
            }).then((function(t) {
                t.AnnualMainView.show()
            }
            ))
        }
        ,
        t.openActTask = function() {
            Object(o.b)({
                source: Object(r.b)(),
                locale: "acttask",
                name: "acttask"
            }).then((function(t) {
                t.ActTaskMainPanel.show()
            }
            ))
        }
        ,
        t.openIsLand = function() {
            Object(o.b)({
                source: Object(r.W)(),
                locale: "island",
                name: "island",
                theme: "island"
            }).then((function(t) {
                t.IsLandMainPanel.show()
            }
            ))
        }
        ,
        t.openDxge = function() {
            Object(s.a)("lv") < 31 ? Object(i.tooltip)(Object(i.tr)("main@dxgeLvLimit")) : Object(o.b)({
                source: Object(r.q)(),
                locale: "dxge",
                name: "dxge",
                theme: "dxge"
            }).then((function(t) {
                t.DxgeMainPanel.show()
            }
            ))
        }
        ,
        t.openActBossShop = function() {
            Object(o.b)({
                source: Object(r.a)(),
                locale: "actboss",
                name: "actboss"
            }).then((function(t) {
                v.b.show(O.d.act, "maShop", [{
                    text: Object(i.tr)("actboss@shopTab1"),
                    name: "1"
                }, {
                    text: Object(i.tr)("actboss@shopTab2"),
                    name: "2"
                }], {
                    desc: Object(i.tr)("main@actShopNoResetNum")
                })
            }
            ))
        }
        ,
        t.openCrossBossShop = function() {
            Object(o.b)({
                source: Object(r.k)(),
                locale: "crossBoss",
                name: "crossBoss"
            }).then((function(t) {
                v.b.show(O.d.act, "maShop2", [{
                    text: Object(i.tr)("crossBoss@shopTab1"),
                    name: "1"
                }, {
                    text: Object(i.tr)("crossBoss@shopTab2"),
                    name: "2"
                }], {
                    desc: Object(i.tr)("main@actShopNoResetNum"),
                    modelCls: j.a
                })
            }
            ))
        }
        ,
        t.openKeeper = function() {
            Object(o.b)({
                source: Object(r.cb)(),
                locale: "keeper",
                name: "keeper"
            }).then((function(t) {
                t.KeeperView.show()
            }
            ))
        }
        ,
        t.openRechargeTask = function() {
            Object(o.b)({
                source: Object(r.Db)(),
                name: "rechargeAct"
            }).then((function(t) {
                t.RechargeTaskPanel.show({
                    conf: "festivalActivity_json",
                    tab: t.RechargeActData.ins.getTabList(),
                    helpText: Object(i.tr)("main@recTaskRule"),
                    helpTitle: Object(i.tr)("main@recTaskTitle"),
                    isrefresh: !1
                })
            }
            ))
        }
        ,
        t.onMountain = function() {
            Object(o.b)({
                source: Object(r.qb)(),
                locale: "mountain",
                name: "mountain"
            }).then((function(t) {
                t.MountainPanel.show()
            }
            ))
        }
        ,
        t.openHollow5 = function() {
            0 != Object(s.a)("guildId") ? y.c.getInfo((function() {
                Object(o.b)({
                    source: Object(r.S)(),
                    locale: "hollow5",
                    name: "hollow5",
                    theme: "void5"
                }).then((function(t) {
                    t.Hollow5MainPanel.show()
                }
                ))
            }
            ), this) : Object(i.tooltip)(Object(i.tr)("main@noGuild"))
        }
        ,
        t.onTreasure = function() {
            Object(o.b)({
                source: Object(r.Ob)(),
                locale: "treasure",
                name: "treasure"
            }).then((function(t) {
                t.TreasurePanel.show()
            }
            ))
        }
        ,
        t.openLinglongge = function() {
            Object(o.b)({
                source: Object(r.ib)(),
                name: "linglongge",
                locale: "linglongge"
            }).then((function(t) {
                t.LinglonggeView.show()
            }
            ))
        }
        ,
        t.openXingTian = function() {
            if (!f.b.isOpen("xingtian"))
                return Object(i.tooltip)(Object(i.tr)("main@noOpen"));
            Object(o.b)({
                source: Object(r.Vb)(),
                locale: "xingt",
                name: "xingt"
            }).then((function(t) {
                t.XingTianMainView.show()
            }
            ))
        }
        ,
        t.openHeroPK = function() {
            Object(o.b)({
                source: Object(r.O)(),
                locale: "heropk",
                name: "heropk"
            }).then((function(t) {
                t.HeroPKMainView.show()
            }
            ))
        }
        ,
        t.openFarm = function(t) {
            return Object(s.a)("lv") < 31 ? Object(i.tooltip)(Object(i.tr)("main@openNeedLv2", {
                lv: Object(w.h)(31)
            })) : f.b.isOpen("farm") ? void Object(o.b)({
                source: Object(r.u)(),
                locale: "farm",
                name: "farm"
            }).then((function(e) {
                e.FarmMainView.show(t)
            }
            )) : Object(i.tooltip)(Object(i.tr)("main@noOpen"))
        }
        ,
        t.openFriend = function() {
            if (!f.b.isOpen("friend"))
                return Object(i.tooltip)(Object(i.tr)("main@noOpen"));
            Object(o.b)({
                source: Object(r.C)(),
                locale: "gam",
                name: "friend"
            }).then((function(t) {
                t.FriendView.show()
            }
            ))
        }
        ,
        t.openFs1001 = function() {
            Object(o.b)({
                source: Object(r.E)(),
                locale: "fs1001",
                name: "fs1001",
                theme: "fs1001"
            }).then((function(t) {
                t.Fs1001MainView.show()
            }
            ))
        }
        ,
        t.openHandBook = function() {
            Object(o.b)({
                source: Object(r.M)(),
                locale: "chart",
                name: "handbook"
            }).then((function(t) {
                t.HandBookMainView.show()
            }
            ))
        }
        ,
        t.openThanksgiving = function() {
            Object(o.b)({
                source: Object(r.Lb)(),
                locale: "thanksgiving",
                name: "thanksgiving",
                theme: "thanksgiving"
            }).then((function(t) {
                t.ThanksgivingData.show()
            }
            ))
        }
        ,
        t.openLimitGift = function() {
            Object(o.b)({
                source: Object(r.gb)(),
                locale: "limitGift",
                name: "limitGift",
                theme: "limitGift"
            }).then((function(t) {
                t.LimitGiftPanel.show()
            }
            ))
        }
        ,
        t.openChristmas = function() {
            Object(o.b)({
                source: Object(r.g)(),
                locale: "christmas",
                name: "christmas",
                theme: "newChristmas"
            }).then((function(t) {
                t.ChristmasMainView.show()
            }
            ))
        }
        ,
        t.openMainPet = function(t, e) {
            void 0 === t && (t = !1);
            var n = Object(s.a)("mainPet");
            Object(o.b)({
                source: Object(r.mb)(),
                locale: "mainPetL",
                name: "mainPet",
                theme: "mainPet"
            }).then((function(i) {
                t ? e ? i.MainPetFlyPanel.show(e) : i.MainPetFlyPanel.show(n.id) : 0 == n.id ? i.MainPetPlotPanel.show() : i.MainPetMainPanel.show()
            }
            ))
        }
        ,
        t.openOverseaReturn = function(t) {
            void 0 === t && (t = 1),
            Object(o.b)({
                source: Object(r.wb)(),
                name: "return"
            }).then((function(e) {
                2 == t ? e.RecallPanel.show() : e.OverseaReturnPanel.show()
            }
            ))
        }
        ,
        t.openFeisheng = function(t, e) {
            Object(o.b)({
                source: Object(r.w)(),
                name: "feisheng"
            }).then((function(n) {
                switch (t) {
                case 1:
                    n.FeishengPanel.show();
                    break;
                case 2:
                    n.FeishengMapPanel.show(e);
                    break;
                case 3:
                    n.FeishengQuestionPanel.show();
                    break;
                default:
                    n.FeishengPanel.show()
                }
            }
            ))
        }
        ,
        t.openFirstRec3 = function() {
            Object(o.b)({
                source: Object(r.z)(),
                locale: "commact",
                name: "firstRec3"
            }).then((function(t) {
                t.FirstRec3MainView.show()
            }
            ))
        }
        ,
        t.openSpring2021 = function() {
            Object(o.b)({
                source: Object(r.Hb)(),
                locale: "spring2021",
                name: "spring2021",
                theme: "spring2021"
            }).then((function(t) {
                t.Spring2021MainView.show()
            }
            ))
        }
        ,
        t.openFailureGift = function(t) {
            void 0 === t && (t = !1),
            Object(o.b)({
                source: Object(r.t)(),
                name: "failureGift",
                locale: "mid_1&mid_2"
            }).then((function(e) {
                e.FailureGiftMainView.show(t)
            }
            ))
        }
        ,
        t.openJingCheng = function() {
            Object(f.c)(f.a.jingcheng) ? k.HeroModel.getEnableList().length <= 0 ? Object(i.tooltip)(Object(i.tr)("main@lingqiLock")) : Object(o.b)({
                source: Object(r.X)(),
                name: "jingcheng",
                locale: "jingcheng",
                theme: "jingcheng"
            }).then((function(t) {
                t.JingChengMainPanel.show()
            }
            )) : Object(i.tooltip)(Object(i.tr)("main@closeJingcheng"))
        }
        ,
        t.openLaba = function() {
            Object(o.b)({
                source: Object(r.db)(),
                locale: "commact",
                name: "laba",
                theme: "laba"
            }).then((function(t) {
                t.LaBaMainView.show()
            }
            ))
        }
        ,
        t.openBlackMarket = function() {
            Object(o.b)({
                source: Object(r.Eb)(),
                name: "shop"
            }).then((function(t) {
                t.NewBlackMarketPrePanel.show()
            }
            ))
        }
        ,
        t.openNewBlackMarket = function() {
            Object(o.b)({
                source: Object(r.Eb)(),
                name: "shop"
            }).then((function(t) {
                t.NewBlackMarketMainPanel.show()
            }
            ))
        }
        ,
        t.openHandBookInfo = function(t) {
            Object(o.b)({
                source: Object(r.M)(),
                locale: "chart",
                name: "handbook"
            }).then((function(e) {
                e.HandBookInfoPanel.showPet(t)
            }
            ))
        }
        ,
        t.openNewServerGift = function() {
            Object(o.b)({
                source: Object(r.tb)(),
                name: "newServerGift"
            }).then((function(t) {
                t.NewServerGiftPanel.show()
            }
            ))
        }
        ,
        t.openLanternFestival = function() {
            Object(o.b)({
                source: Object(r.eb)(),
                locale: "commact",
                name: "lanternFestival"
            }).then((function(t) {
                t.LanternFestivalMainView.show()
            }
            ))
        }
        ,
        t.openPrediction = function() {
            Object(o.b)({
                source: Object(r.zb)(),
                name: "prediction",
                locale: "prediction"
            }).then((function(t) {
                t.PredictionPanel.show()
            }
            ))
        }
        ,
        t.openHonorList = function() {
            Object(o.b)({
                source: Object(r.U)(),
                name: "honorList"
            }).then((function(t) {
                t.NewHonorListView.show()
            }
            ))
        }
        ,
        t.openWelfare = function() {
            Object(o.b)({
                source: Object(r.Tb)(),
                name: "welfare",
                locale: "welf",
                theme: "welf"
            }).then((function(t) {
                t.WelfareView.show()
            }
            ))
        }
        ,
        t.openMerge = function() {
            Object(o.b)({
                source: Object(r.pb)(),
                locale: "merge",
                name: "merge",
                theme: "merge"
            }).then((function(t) {
                t.MergeMainView.show()
            }
            ))
        }
        ,
        t.openNewRank = function(t) {
            Object(o.b)({
                source: Object(r.sb)(),
                name: "newRank"
            }).then((function(e) {
                e.NewRankChoosePanel.show(t)
            }
            ))
        }
        ,
        t.openNewRankGift = function(t) {
            Object(o.b)({
                source: Object(r.sb)(),
                name: "newRank"
            }).then((function(e) {
                e.NewRankGiftPanel.show(t)
            }
            ))
        }
        ,
        t.openNewGuildRank = function(t, e, n) {
            Object(o.b)({
                source: Object(r.sb)(),
                name: "newRank"
            }).then((function(i) {
                i.NewGuildRankPanel.show(t, e, n)
            }
            ))
        }
        ,
        t.openNySign = function() {
            return C(this, void 0, void 0, (function() {
                return S(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Object(o.b)({
                            source: Object(r.vb)(),
                            locale: "nySign",
                            name: "nySign",
                            theme: "nySign"
                        })];
                    case 1:
                        return [4, t.sent().NySignMainView.show()];
                    case 2:
                        return t.sent(),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        t.openNyHongBao = function() {
            Object(o.b)({
                source: Object(r.ub)(),
                locale: "nyHongBao",
                name: "nyHongBao",
                theme: "nyHongBao"
            }).then((function(t) {
                t.NyHongBaoMainView.show()
            }
            ))
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "c", (function() {
        return x
    }
    )),
    n.d(e, "b", (function() {
        return k
    }
    )),
    n.d(e, "a", (function() {
        return I
    }
    ));
    var i, o = n(1), r = n(108), a = n(191), s = n(126), c = n(157), u = n(188), h = n(107), l = n(116), p = n(109), f = n(110), d = n(111), b = n(106), g = n(193), _ = n(121), m = n(130), y = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), v = function(t) {
        function e(e, n) {
            var i = t.call(this) || this;
            return i.tabArr = n,
            i._skinName = e,
            Object(o.setSkin)(i, e),
            i
        }
        return y(e, t),
        e.prototype.onReady = function(t, e) {
            var n = this;
            if (t && (this.lbl_title && (this.lbl_title.text = t),
            this.btn_back && (this.btn_back.label = t)),
            this.lbl_desc && (this.lbl_desc.text = e || ""),
            this.tab.itemRenderer = _.b,
            !m.b.isOpen("recharge"))
                for (var i = this.tabArr.length - 1; i >= 0; i--)
                    this.tabArr[i].isRecharge && this.tabArr.splice(i, 1);
            this.disposeArr.push(new _.a({
                tab: this.tab,
                array: this.tabArr,
                onSelect: function(t) {
                    return n.updateList(t),
                    !0
                }
            })),
            this.on("update_" + this._skinName, this.updateList, this)
        }
        ,
        e.prototype.updateList = function(t) {
            var e = this;
            t && "string" != typeof t || (t = this.tab.selectedItem),
            t && (Object(o.setSkin)(this.list, t.itemSkinName, (function() {
                e.list.itemRenderer = t.itemRenderer,
                Object(r.a)(e.list, t.getList(t.name), {
                    resetScrollerHV: !1
                }),
                e.lbl_desc && t.hasOwnProperty("desc") ? e.lbl_desc.text = t.desc : e.lbl_desc && (e.lbl_desc.text = "")
            }
            )),
            t.putType && Object(o.put)(t.putType))
        }
        ,
        e
    }(o.UIComponent), O = n(112), j = n(129), w = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), x = function(t) {
        function e(e, n) {
            return t.call(this, e, n) || this
        }
        return w(e, t),
        e.prototype.onReady = function(e, n, i) {
            if (t.prototype.onReady.call(this, e, n),
            this.on("refresh_getGift", this.updateList, this),
            i)
                for (var o = void 0, r = 0; r < i.length; r++)
                    (o = this[i[r].compId]) && (o.propId = i[r].propId,
                    o.visible = !0)
        }
        ,
        e.show = function(t, n, i, r, a) {
            void 0 === n && (n = "CommonFestivalGetItemSkin"),
            Object(f.b)([Object(p.a)("recharge_json")]).then((function(s) {
                o.UI.openBox(new e(n,t), i, r, a)
            }
            ))
        }
        ,
        e
    }(v), k = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return w(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (this._tid && (egret.clearTimeout(this._tid),
            this._tid = 0),
            t && t.p) {
                this.w && (this.w.unwatch(),
                this.w = null),
                this.list.itemRenderer = s.a,
                Object(r.a)(this.list, t.c.awards);
                var e = t.p;
                this.lbl_price.text = Object(o.tr)("main@price", {
                    num: Object(c.c)(t.c, "showMoney", !1)
                }),
                this.lbl_limit.text = Object(o.tr)("main@laveBuyTimes", {
                    num: e.num,
                    max: t.c.dayLimit
                }),
                this.lbl_content.text = t.c.desc;
                var n = Object(o.getConfig)("recharge_json")[t.c.rechargeId];
                this.btn_buy.label = Object(o.tr)("main@growGiftPrice", {
                    num: Object(c.c)(n, "recharge")
                }),
                this.w = eui.Watcher.watch(e, ["num"], this.updateAwded, this);
                var i = t.weal
                  , a = d.a.getNow();
                i && t.endTime && t.endTime > a && (this._tid = egret.setTimeout(this.onDataUpdate, this, 1e3 * (t.endTime - a), this.data)),
                this.btn_ex.visible = i,
                i && !this._mv ? (this._mv = o.Movie.create("festival_shop_2_ske_json"),
                this._mv.x = this.width / 2,
                this._mv.y = this.height / 2,
                this.addChildAt(this._mv, 0),
                this._mv.play("1")) : !i && this._mv && (this._mv.dispose(),
                this._mv = null),
                this.updateAwded(i)
            } else
                t && t.c && (this.list.itemRenderer = s.a,
                Object(r.a)(this.list, t.c.awards),
                this.lbl_price.text = Object(o.tr)("main@price", {
                    num: Object(c.c)(t.c, "showMoney")
                }),
                this.lbl_content.text = t.c.desc,
                this.lbl_limit.text = "",
                this.btn_ex.visible = !1,
                this.btn_buy.visible = !1,
                this.gp_soldOut.visible = !0,
                this.lbl_soldOut.text = Object(o.tr)("main@soldOut"))
        }
        ,
        e.prototype.onExit = function() {
            this._tid && (egret.clearTimeout(this._tid),
            this._tid = 0),
            this.w && (this.w.unwatch(),
            this.w = null),
            this._mv && (this._mv.dispose(),
            this._mv = null)
        }
        ,
        e.prototype.updateAwded = function(t) {
            var e = this.data.actData
              , n = this.data.p;
            t ? (this.gp_soldOut.visible = !1,
            this.btn_buy.visible = !0) : d.a.isOver(e.start) ? (this.gp_soldOut.visible = n.num <= 0,
            this.lbl_soldOut.text = Object(o.tr)("main@soldOut2"),
            this.btn_buy.visible = n.num > 0) : (this.gp_soldOut.visible = !0,
            this.lbl_soldOut.text = Object(o.tr)("mid@noOpen"),
            this.btn_buy.visible = !1)
        }
        ,
        e.prototype.onReady = function() {
            this.tap("btn_buy", this.onBuy, this),
            this.tap("btn_ex", this.onEx, this),
            this.on("refresh_funOpen", this.updateAct, this)
        }
        ,
        e.prototype.updateAct = function(t) {
            (t == this.data.actId || this.data.exActId && t == this.data.exActId) && this.onDataUpdate(this.data)
        }
        ,
        e.prototype.onBuy = function() {
            Object(O.e)(this.data.actId, !0) && Object(u.a)("make-" + this.data.c.rechargeId, 30) && Object(c.d)(this.data.c.rechargeId)
        }
        ,
        e.prototype.onEx = function() {
            var t = this.data.ex;
            t && Object(b.a)(new g.a, t.confDetail, t.time)
        }
        ,
        e
    }(o.Item), I = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return w(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (Object(a.f)(this, this.getShopData()),
            Object(a.e)(this, {
                limit: t.c.dayLimit || t.c.totalLimit,
                buyLimit: t.p.limit - t.p.num
            }))
        }
        ,
        e.prototype.getShopData = function() {
            return {
                itemId: this.data.c.itemId,
                num: this.data.c.num,
                cost: this.data.c.cost
            }
        }
        ,
        e.prototype.onReady = function() {
            this.tap("btn_exchange", this.onExchange, this)
        }
        ,
        e.prototype.onExchange = function() {
            var t = this;
            d.a.isOver(this.data.actData.start) ? Object(a.b)(this.getShopData()) && Object(h.d)("at.w", {
                id: this.data.c.id,
                activityName: this.data.actId
            }).then((function(e) {
                e && (l.a.show(e.awds),
                Object(o.put)("refresh_getGift"),
                t.showMv(e))
            }
            )) : Object(o.tooltip)(Object(o.tr)("mid@noExchange"))
        }
        ,
        e.prototype.showMv = function(t) {
            if (this.getShopData().cost.length >= 6 && this.animNode) {
                var e = o.Movie.create("bounty_common_1_ske_json");
                this.animNode.addChild(e),
                e.play("1", 1),
                e.once(o.MovieEvent.COMPLETE, (function() {
                    j.a.show(t)
                }
                ), this)
            }
        }
        ,
        e
    }(o.Item)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "j", (function() {
        return l
    }
    )),
    n.d(e, "f", (function() {
        return p
    }
    )),
    n.d(e, "g", (function() {
        return f
    }
    )),
    n.d(e, "i", (function() {
        return d
    }
    )),
    n.d(e, "c", (function() {
        return b
    }
    )),
    n.d(e, "a", (function() {
        return g
    }
    )),
    n.d(e, "b", (function() {
        return _
    }
    )),
    n.d(e, "d", (function() {
        return m
    }
    )),
    n.d(e, "e", (function() {
        return y
    }
    )),
    n.d(e, "h", (function() {
        return v
    }
    ));
    var i = n(134)
      , o = n(113)
      , r = n(1)
      , a = n(180)
      , s = n(112)
      , c = n(107)
      , u = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , h = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    };
    function l(t) {
        if (1 == t.type && t.num >= 128)
            switch (t.num) {
            case 128:
                Object(i.a)("spirit_jade128");
                break;
            case 168:
                Object(i.a)("spirit_jade168");
                break;
            case 328:
                Object(i.a)("spirit_jade328");
                break;
            case 648:
                Object(i.a)("spirit_jade648")
            }
        else if (3 == t.type)
            switch (t.id) {
            case 10003:
                Object(i.a)("buy_weekly_card")
            }
        else if (6 == t.type)
            Object(i.a)("buy_level pack");
        else if (9 == t.type)
            Object(i.a)("buy_daily pack");
        else if (13 == t.type)
            switch (t.id) {
            case 13001:
                Object(i.a)("buy_festival pack 1");
                break;
            case 13002:
                Object(i.a)("buy_festival pack 2");
                break;
            case 13003:
                Object(i.a)("buy_festival pack 3");
                break;
            case 13004:
                Object(i.a)("buy_festival pack 4");
                break;
            case 13005:
                Object(i.a)("buy_festival pack 5");
                break;
            case 13006:
                Object(i.a)("buy_festival pack 6")
            }
        else if (14 == t.type)
            switch (t.id) {
            case 14001:
                Object(i.a)("buy_jingjieqian");
                break;
            case 14002:
                Object(i.a)("buy_xianpuqian");
                break;
            case 14003:
                Object(i.a)("buy_xianshouqian");
                break;
            case 14004:
                Object(i.a)("buy_lingtiqian")
            }
        else if (15 == t.type)
            switch (t.id) {
            case 15001:
                Object(i.a)("buy_xianlitehui pack");
                break;
            case 15002:
                Object(i.a)("buy_xianlichaozhi pack");
                break;
            case 15003:
                Object(i.a)("buy_xianlihaohua pack")
            }
        else if (16 == t.type)
            switch (t.id) {
            case 15004:
                Object(i.a)("buy_lingchongtehui pack");
                break;
            case 15005:
                Object(i.a)("buy_lingchongchaozhi pack");
                break;
            case 15006:
                Object(i.a)("buy_lingchonghaohua pack")
            }
        else if (17 == t.type)
            switch (t.id) {
            case 15007:
                Object(i.a)("buy_lundaotehui pack");
                break;
            case 15008:
                Object(i.a)("buy_lundaochaozhi pack");
                break;
            case 15009:
                Object(i.a)("buy_lundaohaohua pack")
            }
        else if (18 == t.type)
            switch (t.id) {
            case 15010:
                Object(i.a)("buy_xianmengtehui pack");
                break;
            case 15011:
                Object(i.a)("buy_xianmengchaozhi pack");
                break;
            case 15012:
                Object(i.a)("buy_xianmenghaohua pack")
            }
        else
            103 == t.type && Object(i.a)("Click-other amount and pay")
    }
    function p() {
        return "gcathkAndroid1" == Object(r.getPlatform)().name || "gcathkIos1" == Object(r.getPlatform)().name
    }
    function f() {
        return "gcatenAnd" == Object(r.getPlatform)().name || "gcatenIos" == Object(r.getPlatform)().name
    }
    function d() {
        return "gcathkAndroid1" == Object(r.getPlatform)().name || "gcathkIos1" == Object(r.getPlatform)().name || "gcatenAnd" == Object(r.getPlatform)().name || "gcatenIos" == Object(r.getPlatform)().name
    }
    function b() {
        return u(this, void 0, void 0, (function() {
            var t, e, n;
            return h(this, (function(i) {
                switch (i.label) {
                case 0:
                    return t = 0,
                    [4, Object(r.singleton)(a.a).getData()];
                case 1:
                    return i.sent(),
                    Object(r.singleton)(a.a).data.mnSt && t++,
                    (e = Object(s.d)("shareSwitch")) && e.ids.fateOth.num > 0 && (t += e.ids.fateOth.num),
                    1 != Object(o.a)("fly") ? [3, 4] : (e && e.ids.yunXianChi.num > 0 && (t += e.ids.yunXianChi.num),
                    (n = Object(r.getCache)("XianPuWatch.getList")) ? [3, 3] : [4, Object(c.c)("at.sa", "XianPuWatch.getList")]);
                case 2:
                    i.sent(),
                    n = Object(r.getCache)("XianPuWatch.getList"),
                    i.label = 3;
                case 3:
                    n && n.status < 3 && (t += 3 - n.status),
                    i.label = 4;
                case 4:
                    return Object(o.a)("lv") >= 31 && e && e.ids.fish.num > 0 && 0 == Object(o.a)("tqInfo").tq3 && (t += e.ids.fish.num),
                    e && e.ids.blackMarket.num > 0 && (t += e.ids.blackMarket.num),
                    console.log("激励剩余次数:" + t),
                    egret.ExternalInterface.call("doAdShowInfo", JSON.stringify(t)),
                    [2]
                }
            }
            ))
        }
        ))
    }
    function g(t) {
        switch (t) {
        case "zh_hant":
            return "fan";
        case "en_us":
            return "en";
        case "vi_vn":
            return "vn";
        case "ja_jp":
            return "jp";
        case "ko_kr":
            return "kr";
        case "zh_cn":
            return "cn";
        case "ta_ta":
            return "ta";
        default:
            return "en"
        }
    }
    function _(t) {
        var e = m();
        return "en_us" == e || "vi_vn" == e || "ta_ta" == e ? String(t).replace(/\B(?=(\d{3})+\b)/g, ",") : t
    }
    function m() {
        return egret.localStorage.getItem("selectLocate")
    }
    function y(t) {
        switch (t) {
        case "USD":
            return 1;
        case "JPY":
            return 2;
        case "KRW":
            return 3;
        case "TWD":
            return 4;
        case "HKD":
            return 5;
        case "CNY":
            return 6;
        case "VND":
            return 7;
        case "THB":
            return 8;
        case "MOP":
            return 9;
        default:
            return 1
        }
    }
    function v() {
        return r.cache.get("get_ios_version") >= 6 || 1 == Object(r.getOption)("newVersionxmj")
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "d", (function() {
        return i
    }
    )),
    n.d(e, "a", (function() {
        return p
    }
    )),
    n.d(e, "b", (function() {
        return f
    }
    )),
    n.d(e, "c", (function() {
        return b
    }
    ));
    var i, o = n(112), r = n(1), a = n(109), s = n(111), c = n(107), u = n(114), h = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, l = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    };
    !function(t) {
        t[t.act = 1] = "act",
        t[t.func = 2] = "func"
    }(i || (i = {}));
    var p = function() {
        this.hideTab = !1
    }
      , f = function() {
        function t(t, e, n, i) {
            void 0 === n && (n = 1),
            this.shopType = n,
            this.shopName = i,
            this.c = t,
            this.p = e
        }
        return Object.defineProperty(t.prototype, "itemModel", {
            get: function() {
                return this._itemModel || (this._itemModel = u.e.get(this.c.itemId)),
                this._itemModel
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "requestRoute", {
            get: function() {
                return this.shopType == i.act ? "at.w" : this.shopType == i.func ? "s.b" : void 0
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "requestParams", {
            get: function() {
                return this.shopType == i.act ? {
                    id: this.p.id,
                    activityName: this.c.activityName
                } : this.shopType == i.func ? {
                    id: this.p.id,
                    shopType: this.shopName,
                    num: 1
                } : void 0
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "costs", {
            get: function() {
                return this._costs && !this.p.price || (this._costs = [],
                this.c.costItemId ? this._costs.push({
                    itemId: this.c.costItemId,
                    need: this.p.price ? this.p.price : this.c.costNum
                }) : this.c.cost && (this._costs = this.c.cost.map((function(t) {
                    return {
                        itemId: t.itemId || t.propId,
                        need: t.num
                    }
                }
                )))),
                this._costs
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "canExchange", {
            get: function() {
                return !0
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "canBuy", {
            get: function() {
                return !this.max || this.cur < this.max
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "cur", {
            get: function() {
                if (this.shopType == i.act)
                    return this.p.num;
                if (this.shopType == i.func) {
                    if (this.c.dayLimit)
                        return this.c.dayLimit - this.p.limit;
                    if (this.c.limit)
                        return this.c.limit - this.p.limit
                }
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "max", {
            get: function() {
                return this.c.dayLimit || this.c.totalLimit || this.c.limit
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "limit", {
            get: function() {
                return !1
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "limitBg", {
            get: function() {
                return "bottom_learned_png"
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "limitDesc", {
            get: function() {
                return ""
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "buyAuth", {
            get: function() {
                return !0
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , d = function() {
        function t(t, e) {
            this._type = t,
            this._tabArr = e
        }
        return Object.defineProperty(t.prototype, "type", {
            get: function() {
                return this._type
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "tabArr", {
            get: function() {
                return this._tabArr
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "list", {
            get: function() {
                return this._list
            },
            set: function(t) {
                this._list = t,
                this._listDic = null
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.getList = function(t) {
            if (!t)
                return this.list;
            if (this._listDic || (this._listDic = {}),
            !this._listDic[t])
                for (var e = 0; e < this._list.length; e++)
                    this._list[e].c.label == t && (this._listDic[this._list[e].c.label] || (this._listDic[this._list[e].c.label] = []),
                    this._listDic[this._list[e].c.label].push(this._list[e]));
            return this._listDic[t]
        }
        ,
        t
    }()
      , b = function() {
        function t() {}
        return Object.defineProperty(t, "ins", {
            get: function() {
                return this._ins || (this._ins = Object(r.singleton)(t)),
                this._ins
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.checkRes = function(t, e) {
            return h(this, void 0, void 0, (function() {
                return l(this, (function(n) {
                    switch (n.label) {
                    case 0:
                        return t != i.act ? [3, 2] : [4, Promise.all([Object(a.a)("fsShop_json")])];
                    case 1:
                        return [2, n.sent()];
                    case 2:
                        return t != i.func ? [3, 4] : [4, Promise.all([Object(a.a)(e + "Shop_json"), Object(c.a)("s.a", e + "Shop.getList", (function(t) {
                            return !(!t.time || !s.a.isOver(t.time))
                        }
                        ), {
                            shopType: e
                        })])];
                    case 3:
                        return [2, n.sent()];
                    case 4:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        t.prototype.getShopData = function(t, e, n, o) {
            return t == i.act ? this.getFsShop(e, n, o) : t == i.func ? this.getFuncShop(e, n, o) : null
        }
        ,
        t.prototype.getFsShop = function(t, e, n) {
            var i = new d(t,e)
              , a = Object(o.d)(t);
            if (a) {
                var s = []
                  , c = Object(r.getConfig)("fsShop_json")[t];
                if (a && a.l) {
                    n = n || f;
                    for (var u = 0; u < a.l.length; u++)
                        for (var h = 0; h < c.detail.length; h++)
                            c.detail[h].id == a.l[u].id && s.push(new n(c.detail[h],a.l[u]))
                }
                i.list = s
            }
            return i
        }
        ,
        t.prototype.getFuncShop = function(t, e, n) {
            var o, a, s = [], c = Object(r.getConfig)(t + "Shop_json"), u = new d(t,e), h = Object(r.getCache)(t + "Shop.getList", "list") || [];
            for (var l in n = n || f,
            c)
                o = c[l],
                a = h.find((function(t) {
                    if (t.id == o.id)
                        return t
                }
                )),
                s.push(new n(c[l],a,i.func,t));
            return u.list = s,
            u
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return a
    }
    )),
    n.d(e, "a", (function() {
        return s
    }
    ));
    var i = n(1)
      , o = n(127)
      , r = n(112)
      , a = function() {
        function t(t, e, n) {
            this.p = t,
            this.super_p = e,
            this.super_c = n;
            for (var i = 0; i < n.detail.length; i++)
                if (n.detail[i].id == t.id) {
                    this.c = n.detail[i];
                    break
                }
        }
        return Object.defineProperty(t.prototype, "num", {
            get: function() {
                return this.p && this.p.hasOwnProperty("num") ? this.p.num : this.super_p.num
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "canReceive", {
            get: function() {
                return !this.p.awded && this.num >= this.c.num
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "receiveStatus", {
            get: function() {
                return this.canReceive ? 1 : this.num < this.c.num ? 2 : 3
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "desc", {
            get: function() {
                return this._desc ? Object(i.tr)(this._desc, {
                    need: this.c.num,
                    cur: this.num
                }) : this.c.desc ? Object(i.tr)(this.c.desc, {
                    need: this.c.num,
                    cur: this.num
                }) : ""
            },
            set: function(t) {
                this._desc = t
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "progressDesc", {
            get: function() {
                return "(" + this.num + "/" + this.c.num + ")"
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "requestRoute", {
            get: function() {
                return this._requestRoute
            },
            set: function(t) {
                this._requestRoute = t
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "requestParams", {
            get: function() {
                return {
                    id: this.p.id,
                    type: this.super_c.activityName
                }
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "putType", {
            get: function() {
                return this._putType
            },
            set: function(t) {
                this._putType = t
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , s = function() {
        function t() {}
        return Object.defineProperty(t, "ins", {
            get: function() {
                return Object(i.singleton)(t)
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.getActTaskList = function(t, e, n, i, s, c) {
            if (void 0 === n && (n = "festivalActivity_ch_json"),
            void 0 === c && (c = !1),
            this._taskDic || (this._taskDic = {}),
            !this._taskDic[t] || c) {
                this._taskDic[t] = [];
                var u = Object(r.d)(t)
                  , h = Object(o.e)(t, u.cId, n)
                  , l = void 0;
                if (u && u.l)
                    for (var p = 0; p < u.l.length; p++) {
                        if ((l = new a(u.l[p],u,h)).requestRoute = e,
                        i && (l.desc = i),
                        s)
                            for (var f in s)
                                l[f] = s[f];
                        this._taskDic[t].push(l)
                    }
            }
            return this._taskDic[t].sort((function(t, e) {
                return t.receiveStatus != e.receiveStatus ? t.receiveStatus - e.receiveStatus : t.c.id - e.c.id
            }
            )),
            this._taskDic[t]
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return o
    }
    ));
    var i = n(131);
    function o(t, e, n) {
        t.gp.mask = t.maskImg,
        t.gp.cacheAsBitmap = !0,
        Object(i.f)(e, t, {
            cloth: i.a.neck,
            eye: i.b.open,
            cFacial: n
        })
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return f
    }
    )),
    n.d(e, "a", (function() {
        return d
    }
    ));
    var i, o = n(1), r = n(106), a = n(107), s = n(116), c = n(108), u = n(121), h = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), l = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, p = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, f = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelCommonQuestSkin"),
            e
        }
        return h(e, t),
        e.prototype.onReady = function(t, e, n, i) {
            var o = this;
            this._getListFn = e,
            this.lbl_title.text = t,
            this.tab.itemRenderer = u.b,
            this.list.itemRenderer = d,
            this.lbl_desc.text = i || "",
            n && n.length > 0 ? this.disposeArr.push(new u.a({
                tab: this.tab,
                array: n,
                onSelect: function(t) {
                    return o.updateList(t),
                    !0
                }
            })) : Object(c.a)(this.list, e(), {
                resetScrollerHV: !0
            }),
            this.on("update_taskReward", this.updateList, this)
        }
        ,
        e.prototype.updateList = function(t) {
            var e = t || (this.tab.selectedItem ? this.tab.selectedItem.name : "");
            Object(c.a)(this.list, e ? this._getListFn(e) : this._getListFn(), {
                resetScrollerHV: !0
            })
        }
        ,
        e.show = function(t, n, i, o) {
            return l(this, void 0, void 0, (function() {
                return p(this, (function(a) {
                    return Object(r.a)(new e, t, n, i, o),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent), d = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return h(e, t),
        e.prototype.onReady = function() {
            this.tap("btn_receive", this.onReceive, this)
        }
        ,
        e.prototype.onReceive = function() {
            var t = this.data;
            Object(a.d)(t.requestRoute, t.requestParams).then((function(e) {
                e && (s.a.show(e.awds),
                Object(o.put)("update_taskReward"),
                t.putType && Object(o.put)(t.putType))
            }
            ))
        }
        ,
        e.prototype.onDataUpdate = function(t) {
            t && t.c && (this.currentState = t.canReceive ? "get" : 2 == t.receiveStatus ? "get2" : "get3",
            this.lbl_desc.text = t.desc,
            this.lbl_value.text = t.progressDesc,
            this.lbl_value.textColor = t.num >= t.c.num ? 567164 : 12779520,
            Object(c.a)(this.list, t.c.awards))
        }
        ,
        e
    }(o.Item)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "s", (function() {
        return o
    }
    )),
    n.d(e, "r", (function() {
        return r
    }
    )),
    n.d(e, "q", (function() {
        return a
    }
    )),
    n.d(e, "p", (function() {
        return s
    }
    )),
    n.d(e, "k", (function() {
        return c
    }
    )),
    n.d(e, "o", (function() {
        return u
    }
    )),
    n.d(e, "u", (function() {
        return h
    }
    )),
    n.d(e, "v", (function() {
        return l
    }
    )),
    n.d(e, "j", (function() {
        return p
    }
    )),
    n.d(e, "g", (function() {
        return f
    }
    )),
    n.d(e, "l", (function() {
        return d
    }
    )),
    n.d(e, "m", (function() {
        return b
    }
    )),
    n.d(e, "t", (function() {
        return g
    }
    )),
    n.d(e, "b", (function() {
        return _
    }
    )),
    n.d(e, "f", (function() {
        return m
    }
    )),
    n.d(e, "d", (function() {
        return y
    }
    )),
    n.d(e, "c", (function() {
        return v
    }
    )),
    n.d(e, "e", (function() {
        return O
    }
    )),
    n.d(e, "n", (function() {
        return j
    }
    )),
    n.d(e, "w", (function() {
        return w
    }
    )),
    n.d(e, "i", (function() {
        return x
    }
    )),
    n.d(e, "h", (function() {
        return k
    }
    )),
    n.d(e, "a", (function() {
        return I
    }
    ));
    var i = n(1);
    function o(t) {
        return {
            1: Object(i.tr)("main@skillType_1"),
            2: Object(i.tr)("main@skillType_2"),
            3: Object(i.tr)("main@skillType_3"),
            4: Object(i.tr)("main@skillType_4"),
            5: Object(i.tr)("main@skillType_5"),
            6: Object(i.tr)("main@skillType_6"),
            7: Object(i.tr)("main@skillType_7"),
            8: Object(i.tr)("main@skillType_8"),
            9: Object(i.tr)("main@skillType_9")
        }[t]
    }
    function r(t) {
        return {
            1: Object(i.tr)("main@kfLv_1"),
            2: Object(i.tr)("main@kfLv_2"),
            3: Object(i.tr)("main@kfLv_3"),
            4: Object(i.tr)("main@kfLv_4"),
            5: Object(i.tr)("main@kfLv_5"),
            6: Object(i.tr)("main@kfLv_6"),
            7: Object(i.tr)("main@kfLv_7"),
            8: Object(i.tr)("main@kfLv_8"),
            9: Object(i.tr)("main@kfLv_9"),
            10: Object(i.tr)("main@kfLv_10")
        }[t]
    }
    function a(t) {
        return {
            1: Object(i.tr)("main@skillElements_1"),
            2: Object(i.tr)("main@skillElements_2"),
            3: Object(i.tr)("main@skillElements_3"),
            4: Object(i.tr)("main@skillElements_4"),
            5: Object(i.tr)("main@skillElements_5")
        }[t]
    }
    function s(t, e) {
        return {
            0: Object(i.tr)("main@skillAttr_0", {
                num: e
            }),
            1: Object(i.tr)("main@skillAttr_1", {
                num: e
            }),
            2: Object(i.tr)("main@skillAttr_2", {
                num: e
            }),
            3: Object(i.tr)("main@skillAttr_3", {
                num: e
            }),
            4: Object(i.tr)("main@skillAttr_4", {
                num: e
            }),
            5: Object(i.tr)("main@skillAttr_5", {
                num: e
            }),
            6: Object(i.tr)("main@skillAttr_6", {
                num: e
            })
        }[t]
    }
    function c(t) {
        return {
            gongji: Object(i.tr)("main@gongji"),
            fangyu: Object(i.tr)("main@fangyu"),
            shengming: Object(i.tr)("main@shengming"),
            shanbi: Object(i.tr)("main@shanbi"),
            xiulian: Object(i.tr)("main@xiulian"),
            linglihuoqu: Object(i.tr)("main@linglihuoqu"),
            baoji: Object(i.tr)("main@baoji")
        }[t]
    }
    function u(t, e) {
        return {
            1: Object(i.tr)("nest@log_shuangxiu_1", e),
            2: Object(i.tr)("nest@log_shuangxiu_2", e),
            3: Object(i.tr)("nest@log_shuangxiu_3", e),
            4: Object(i.tr)("nest@log_shuangxiu_4", e),
            5: Object(i.tr)("nest@log_shuangxiu_5", e),
            6: Object(i.tr)("nest@log_shuangxiu_6", e),
            7: Object(i.tr)("nest@log_shuangxiu_7", e),
            8: Object(i.tr)("nest@log_shuangxiu_8", e),
            9: Object(i.tr)("nest@log_shuangxiu_9", e),
            10: Object(i.tr)("nest@log_shuangxiu_10", e),
            11: Object(i.tr)("nest@log_shuangxiu_11", e),
            12: Object(i.tr)("nest@log_shuangxiu_12", e),
            13: Object(i.tr)("nest@log_shuangxiu_13", e),
            14: Object(i.tr)("nest@log_shuangxiu_14", e),
            15: Object(i.tr)("nest@log_shuangxiu_15", e),
            16: Object(i.tr)("nest@log_shuangxiu_16", e),
            17: Object(i.tr)("nest@log_shuangxiu_17", e),
            18: Object(i.tr)("nest@log_shuangxiu_18", e),
            19: Object(i.tr)("nest@log_shuangxiu_19", e),
            20: Object(i.tr)("nest@log_shuangxiu_20", e),
            21: Object(i.tr)("nest@log_shuangxiu_21", e),
            22: Object(i.tr)("nest@log_shuangxiu_22", e)
        }[t]
    }
    function h(t) {
        return {
            1: Object(i.tr)("union@star1"),
            2: Object(i.tr)("union@star2"),
            3: Object(i.tr)("union@star3"),
            4: Object(i.tr)("union@star4"),
            5: Object(i.tr)("union@star5"),
            6: Object(i.tr)("union@star6"),
            7: Object(i.tr)("union@star7"),
            8: Object(i.tr)("union@star8"),
            9: Object(i.tr)("union@star9")
        }[t]
    }
    function l(t) {
        return {
            0: Object(i.tr)("main@titleLv_0"),
            1: Object(i.tr)("main@titleLv_1"),
            2: Object(i.tr)("main@titleLv_2"),
            3: Object(i.tr)("main@titleLv_3"),
            4: Object(i.tr)("main@titleLv_4"),
            5: Object(i.tr)("main@titleLv_5")
        }[t]
    }
    function p(t) {
        return {
            1: Object(i.tr)("main@material1"),
            2: Object(i.tr)("main@material2"),
            3: Object(i.tr)("main@material3"),
            4: Object(i.tr)("main@material4")
        }[t]
    }
    function f(t) {
        return {
            1: Object(i.tr)("main@homeBuild1"),
            2: Object(i.tr)("main@homeBuild2"),
            3: Object(i.tr)("main@homeBuild3")
        }[t]
    }
    function d(t) {
        return {
            1: Object(i.tr)("nest@resBuildType_1"),
            2: Object(i.tr)("nest@resBuildType_2"),
            3: Object(i.tr)("nest@resBuildType_3"),
            4: Object(i.tr)("nest@resBuildType_4"),
            5: Object(i.tr)("nest@resBuildType_5"),
            6: Object(i.tr)("nest@resBuildType_6"),
            7: Object(i.tr)("nest@resBuildType_7"),
            8: Object(i.tr)("nest@resBuildType_8")
        }[t]
    }
    function b(t, e) {
        return {
            1: Object(i.tr)("main@collectLv_1", {
                num: e
            }),
            2: Object(i.tr)("main@collectLv_2", {
                num: e
            }),
            3: Object(i.tr)("main@collectLv_3", {
                num: e
            }),
            4: Object(i.tr)("main@collectLv_4", {
                num: e
            }),
            5: Object(i.tr)("main@collectLv_5", {
                num: e
            }),
            6: Object(i.tr)("main@collectLv_6", {
                num: e
            }),
            7: Object(i.tr)("main@collectLv_7", {
                num: e
            }),
            8: Object(i.tr)("main@collectLv_8", {
                num: e
            })
        }[t]
    }
    function g(t) {
        return {
            1: Object(i.tr)("main@tushi1"),
            2: Object(i.tr)("main@tushi2"),
            3: Object(i.tr)("main@tushi3"),
            4: Object(i.tr)("main@tushi4"),
            5: Object(i.tr)("main@tushi5"),
            6: Object(i.tr)("main@tushi6"),
            7: Object(i.tr)("main@tushi7"),
            8: Object(i.tr)("main@tushi8"),
            9: Object(i.tr)("main@tushi9")
        }[t]
    }
    function _(t) {
        return {
            1: Object(i.tr)("main@danfang1"),
            2: Object(i.tr)("main@danfang2"),
            3: Object(i.tr)("main@danfang3"),
            4: Object(i.tr)("main@danfang4"),
            5: Object(i.tr)("main@danfang5"),
            6: Object(i.tr)("main@danfang6"),
            7: Object(i.tr)("main@danfang7"),
            8: Object(i.tr)("main@danfang8"),
            9: Object(i.tr)("main@danfang9")
        }[t]
    }
    function m(t) {
        return {
            1: Object(i.tr)("youli@swMonster1"),
            2: Object(i.tr)("youli@swMonster2"),
            3: Object(i.tr)("youli@swMonster3"),
            4: Object(i.tr)("youli@swMonster4"),
            5: Object(i.tr)("youli@swMonster5")
        }[t]
    }
    function y(t) {
        return {
            1: Object(i.tr)("finance@lv1"),
            2: Object(i.tr)("finance@lv2"),
            3: Object(i.tr)("finance@lv3"),
            4: Object(i.tr)("finance@lv4"),
            5: Object(i.tr)("finance@lv5"),
            6: Object(i.tr)("finance@lv6"),
            7: Object(i.tr)("finance@lv7")
        }[t]
    }
    function v(t) {
        return {
            1: Object(i.tr)("finance@log1"),
            2: Object(i.tr)("finance@log2"),
            3: Object(i.tr)("finance@log3")
        }[t]
    }
    function O(t) {
        return {
            1: Object(i.tr)("main@role1"),
            2: Object(i.tr)("main@role2"),
            3: Object(i.tr)("main@role3"),
            4: Object(i.tr)("main@role4")
        }[t]
    }
    function j(t) {
        return {
            1: Object(i.tr)("youli@shenyou3"),
            2: Object(i.tr)("youli@shenyou4"),
            3: Object(i.tr)("youli@shenyou5")
        }[t]
    }
    function w(t) {
        return Object(i.tr)("main@userServerName", {
            num: t
        })
    }
    function x(t) {
        return {
            5: Object(i.tr)("ling@color5"),
            4: Object(i.tr)("ling@color4"),
            3: Object(i.tr)("ling@color3"),
            2: Object(i.tr)("ling@color2")
        }[t]
    }
    function k(t) {
        return {
            1: Object(i.tr)("hero@teamDes1"),
            2: Object(i.tr)("hero@teamDes2")
        }[t]
    }
    function I(t, e) {
        void 0 === e && (e = 10);
        for (var n = function(t) {
            for (var e = 0, n = t.length, i = -1, o = 0; o < n; o++)
                e += (i = t.charCodeAt(o)) >= 0 && i <= 128 ? 1 : 2;
            return e
        }; n(t) > e; )
            !0,
            t = t.slice(0, t.length - 1);
        return t
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return j
    }
    )),
    n.d(e, "a", (function() {
        return w
    }
    ));
    var i, o = n(1), r = n(106), a = n(108), s = n(110), c = n(121), u = n(126), h = n(138), l = n(114), p = n(116), f = n(107), d = n(135), b = n(118), g = n(112), _ = n(111), m = n(4), y = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), v = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, O = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, j = function(t) {
        function e(e, n) {
            var i = t.call(this) || this;
            i.shopData = e,
            i.option = n;
            var r = "CommonShopSkin";
            return n || (i.option = n = new h.a),
            n.isPanel && (r = "CommonPanelShopSkin"),
            n.skinName && (r = n.skinName),
            Object(o.setSkin)(i, r),
            n.state && i.setState(n.state),
            i
        }
        return y(e, t),
        e.prototype.onReady = function() {
            var t = this;
            this.addBehavior(new b.a),
            this.list.itemRenderer = this.option.itemRenderer ? this.option.itemRenderer : w,
            this.lbl_desc && (this.lbl_desc.text = this.option.desc || ""),
            this.shopData.tabArr && this.shopData.tabArr.length > 0 ? (this.tab.visible = !this.option.hideTab,
            this.disposeArr.push(new c.a({
                tab: this.tab,
                array: this.shopData.tabArr,
                defaultSelectName: this.option.defaultTab ? this.option.defaultTab : this.shopData.tabArr[0].name,
                onSelect: function(e) {
                    var n = t.tab.selectedItem;
                    return n.itemClass ? (t.list.itemRenderer = n.itemClass,
                    Object(a.a)(t.list, n.itemData)) : (t.list.itemRenderer = t.option.itemRenderer ? t.option.itemRenderer : w,
                    t.updateList(e)),
                    t.option.isPanel && t.shopTip && (t.shopTip.visible = t.option.isGetWay && "1" == e),
                    !0
                }
            }))) : (this.tab.visible = !1,
            this.list.itemRenderer = w,
            this.updateList()),
            this.on("refresh_" + this.shopData.type + "Shop", this.updateList, this),
            this.on("update_exchangeShop", this.updateList, this),
            this.option.isPanel && (this.tap("btn_shop", this.goShop, this),
            this.tap("btn_gift", this.goGift, this),
            this.shopTip.visible = this.option.isGetWay,
            this.btn_gift.visible = this.btn_gift.includeInLayout = this.option.getWayIsOpen)
        }
        ,
        e.prototype.goShop = function() {
            d.a.openShopGift()
        }
        ,
        e.prototype.goGift = function() {
            this.option.getWayFun()
        }
        ,
        e.prototype.updateList = function(t) {
            var e = this
              , n = this.tab.selectedItem
              , i = t || (n ? n.name : "")
              , r = this.shopData.getList(i);
            n && n.itemSkinName ? (this.list.dataProvider = null,
            this.list.itemRenderer = n.itemRenderer ? n.itemRenderer : this.option.itemRenderer ? this.option.itemRenderer : w,
            Object(o.setSkin)(this.list, n.itemSkinName, (function() {
                Object(a.a)(e.list, r)
            }
            ))) : Object(a.a)(this.list, r),
            n && n.desc && (this.lbl_desc.text = n.desc)
        }
        ,
        e.show = function(t, n, i, o) {
            return v(this, void 0, void 0, (function() {
                var a;
                return O(this, (function(c) {
                    switch (c.label) {
                    case 0:
                        return [4, Object(s.b)([h.c.ins.checkRes(t, n)])];
                    case 1:
                        return c.sent(),
                        (a = h.c.ins.getShopData(t, n, i, o ? o.modelCls : null)) ? [2, Object(r.a)(new e(a,o))] : [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent), w = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return y(e, t),
        e.prototype.onReady = function() {
            this.lbl_itemName && (this.lbl_itemName.visible = !1),
            this.lbl_itemDetail && (this.lbl_itemDetail.visible = !1),
            this.list && (this.list.itemRenderer = u.a),
            this.tap("btn_exchange", this.onExchange, this),
            this.btn_multiBuy && this.tap("btn_multiBuy", this.onMultiBuy, this)
        }
        ,
        e.prototype.onMultiBuy = function() {
            var t = this;
            if (this.data.costs.length > 1)
                this.onExchange();
            else if (this.exchangeCheck()) {
                var e = l.e.get(this.data.costs[0].itemId)
                  , n = 0;
                this.data.max && (n = this.data.cur ? this.data.max - this.data.cur : this.data.max),
                m.InputAmountPanel.show({
                    itemId: this.data.costs[0].itemId,
                    max: n
                }).exit((function(n) {
                    if (null != n.num) {
                        if (0 == n.num)
                            return Object(o.tooltip)(Object(o.tr)("main@inputValidNum"));
                        var i = n.num * t.data.costs[0].need;
                        if (!l.e.hasEnough(t.data.costs[0].itemId, i))
                            return !1;
                        Object(o.confirm)(Object(o.tr)("main@exchangeConfirm", {
                            num1: i,
                            item1: Object(o.tr)(e.c.name),
                            num2: n.num,
                            item2: l.e.getName(t.data.c.itemId)
                        })).then((function(e) {
                            if ("yes" == e) {
                                var i = t.data
                                  , o = i.requestParams;
                                o.num = n.num,
                                t.requestExchange(i.requestRoute, o)
                            }
                        }
                        ))
                    }
                }
                ))
            }
        }
        ,
        e.prototype.exchangeCheck = function() {
            var t = this.data;
            if (!t.buyAuth)
                return !1;
            if (t.shopType == h.d.act && t.c.activityName) {
                var e = Object(g.d)(t.c.activityName);
                if (e && e.start >= _.a.getNow())
                    return Object(o.tooltip)(Object(o.tr)("main@noStart")),
                    !1;
                if (e && e.awardEnd && e.awardEnd < _.a.getNow())
                    return Object(o.tooltip)(Object(o.tr)("main@actEnd")),
                    !1
            }
            for (var n = 0; n < t.costs.length; n++)
                if (!l.e.hasEnough(t.costs[n].itemId, t.costs[n].need))
                    return !1;
            return !0
        }
        ,
        e.prototype.requestExchange = function(t, e) {
            Object(f.d)(t, e).then((function(t) {
                t && (p.a.show(t.awds),
                Object(o.put)("update_exchangeShop"),
                Object(o.put)("update_diceMap"),
                Object(o.put)("refresh_bossEventInfo"),
                Object(o.put)("refresh_getGift"))
            }
            ))
        }
        ,
        e.prototype.onExchange = function() {
            if (this.exchangeCheck()) {
                var t = this.data;
                this.requestExchange(t.requestRoute, t.requestParams)
            }
        }
        ,
        e.prototype.onDataUpdate = function(t) {
            if (t && t.p) {
                if (this.item.data = {
                    itemId: t.c.itemId,
                    num: t.c.num
                },
                this.list && Object(a.a)(this.list, t.costs),
                this.gp_exchange.visible = t.canExchange,
                t.canExchange && (this.btn_exchange.enabled = t.canBuy,
                this.lbl_num.text = t.max ? t.cur + "/" + t.max : ""),
                this.gp_limit && (this.gp_limit.visible = t.limit,
                t.limit && (this.lbl_limit.text = t.limitDesc,
                this.img_limit.source = t.limitBg)),
                this.btn_multiBuy) {
                    var e = t.c.multi && 1 == t.c.multi && 1 == this.data.costs.length;
                    this.btn_multiBuy.visible = this.btn_multiBuy.includeInLayout = e
                }
                if (!this.list) {
                    var n = l.e.get(t.costs[0].itemId);
                    this.lbl_name.text = Object(o.tr)(t.itemModel.c.name),
                    this.lbl_desc.text = Object(o.tr)(t.itemModel.c.desc),
                    this.img_price.source = n.icon,
                    this.lbl_price.text = t.costs[0].need
                }
            } else
                this.gp_exchange.visible = !1,
                this.gp_limit && (this.gp_limit.visible = !1)
        }
        ,
        e
    }(o.Item)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return a
    }
    )),
    n.d(e, "b", (function() {
        return s
    }
    )),
    n.d(e, "d", (function() {
        return c
    }
    )),
    n.d(e, "c", (function() {
        return u
    }
    ));
    var i = n(1)
      , o = n(142)
      , r = n(140)
      , a = function() {
        function t() {}
        return Object.defineProperty(t.prototype, "p", {
            get: function() {
                return i.cache.get("guild_member.home")
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "info", {
            get: function() {
                return this.p.task || {
                    num: 0,
                    id: 1,
                    time: 0
                }
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "wealth", {
            get: function() {
                return this.p.wealth
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.isFuncOpen = function() {
            return !0
        }
        ,
        t.prototype.wealthEnough = function(t) {
            return this.p.wealth >= t
        }
        ,
        Object.defineProperty(t.prototype, "c", {
            get: function() {
                var t = this.p.lv < 1 ? 1 : this.p.lv;
                return Object(i.getConfig)("guild_json")[t]
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "nextC", {
            get: function() {
                var t = this.p.lv
                  , e = Object(i.getConfig)("guild_json");
                return e[t + 1] ? e[t + 1] : e[t]
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "userList", {
            get: function() {
                return i.cache.get("guild_member.getMembers", "l") || []
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.memberInfo = function() {
            for (var t = {
                1: 0,
                2: 0,
                3: 0,
                4: 0
            }, e = this.userList, n = 0; n < e.length; n++) {
                var i = e[n].role;
                t[i] || (t[i] = 0),
                t[i] += 1
            }
            return t
        }
        ,
        t.prototype.getUser = function(t) {
            for (var e = this.userList, n = 0; n < e.length; n++)
                if (e[n].uId == t)
                    return e[n];
            return {}
        }
        ,
        t.prototype.guildId = function() {
            return i.cache.get("User.getInfo", "i.guildId")
        }
        ,
        t.prototype.isIn = function() {
            return this.guildId() > 0
        }
        ,
        Object.defineProperty(t.prototype, "maxMember", {
            get: function() {
                return this.c.member
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.posChange = function() {
            i.UI.clearBox()
        }
        ,
        t.prototype.canManage = function(t) {
            var e = i.cache.get("User.getInfo", "i.uId");
            return e != t && 1 == this.getUser(e).role
        }
        ,
        t.prototype.myRole = function() {
            return this.p.role
        }
        ,
        t.prototype.isManager = function(t) {
            return void 0 === t && (t = i.cache.get("User.getInfo", "i.uId")),
            t == i.cache.get("User.getInfo", "i.uId") ? this.myRole() < 3 : this.getUser(t).role < 3
        }
        ,
        t.prototype.isOwner = function(t) {
            return void 0 === t && (t = i.cache.get("User.getInfo", "i.uId")),
            t == i.cache.get("User.getInfo", "i.uId") ? 1 == this.myRole() : 1 == this.getUser(t).role
        }
        ,
        t.prototype.addTimeNeed = function() {
            return 50 * Math.pow(2, 0)
        }
        ,
        t.prototype.bossTimeFix = function() {}
        ,
        t
    }();
    function s(t, e) {
        void 0 === e && (e = 1),
        t.source = "icon_huizhang_" + e + "_png"
    }
    function c(t, e) {
        0 == e.rank ? (t.lbl_rank.visible = !0,
        t.img_rank.visible = !1,
        t.lbl_rank.text = Object(i.tr)("main@rankNo")) : e.rank <= 3 ? (t.lbl_rank.visible = !1,
        t.img_rank.visible = !0,
        t.img_rank.source = "rank_" + e.rank + "_png") : (t.lbl_rank.visible = !0,
        t.img_rank.visible = !1,
        t.lbl_rank.text = e.rank),
        t.lbl_name.text = e.name,
        t.lbl_point.text = e.score,
        t.lbl_pos.text = Object(o.e)(e.role),
        Object(r.a)(t.head, e.skin);
        var n = Object(i.getConfig)("level_json")[e.lv];
        t.lbl_lv.text = Object(i.tr)("guild@userJingjie", {
            name: Object(i.tr)(n.name)
        })
    }
    function u(t, e) {
        0 == e.rank ? (t.lbl_rank.visible = !0,
        t.img_rank.visible = !1,
        t.lbl_rank.text = Object(i.tr)("main@rankNo")) : e.rank <= 3 ? (t.lbl_rank.visible = !1,
        t.img_rank.visible = !0,
        t.img_rank.source = "rank_" + e.rank + "_png") : (t.lbl_rank.visible = !0,
        t.img_rank.visible = !1,
        t.lbl_rank.text = e.rank),
        s(t.huizhang, e.icon),
        t.guildName.text = e.name,
        t.memberNum.text = Object(i.tr)("guild@memberNum", {
            has: e.mNum,
            max: e.mMaxNum
        }),
        t.fp_Label.text = e.lv + ""
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return s
    }
    )),
    n.d(e, "a", (function() {
        return c
    }
    ));
    var i = n(154)
      , o = eui.Image.prototype.parseSource
      , r = []
      , a = {};
    function s(t, e) {
        r.push(t),
        e && e.exit((function(t) {
            c()
        }
        ))
    }
    function c() {
        if (r.length > 0) {
            var t = r.pop()
              , e = a[t];
            if (e)
                for (; e.length; ) {
                    var n = e.pop();
                    RES.destroyRes(n)
                }
            delete a[t]
        }
    }
    eui.Image.prototype.parseSource = function() {
        var t = this._source;
        if ((t = Object(i.c)(t)) && !function(t) {
            return t.indexOf("_head_") > -1 || t.indexOf("avatar_") > -1 || 0 == t.indexOf("item_") || t.indexOf("icon_player_title_") > -1
        }(t) && r.length > 0 && !RES.getRes(t)) {
            var e = r[r.length - 1];
            a[e] = a[e] || [],
            function(t) {
                for (var e in a) {
                    var n = a[e];
                    if (Array.isArray(n) && n.indexOf(t) > -1)
                        return !0
                }
                return !1
            }(t) || a[e].push(t)
        }
        o.call(this)
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "c", (function() {
        return j
    }
    )),
    n.d(e, "a", (function() {
        return et
    }
    )),
    n.d(e, "b", (function() {
        return nt
    }
    ));
    var i, o = n(1), r = n(108), a = n(187), s = n(106), c = n(117), u = n(227), h = n(114), l = n(109), p = n(107), f = n(4), d = n(116), b = n(113), g = n(111), _ = null, m = function() {
        return null == _ && (_ = JSON.parse(Object(o.getLocalStorage)().getString("shopEventLog", '{"logs": [], "time": ""}')),
        i = g.a.nowDay(),
        _.time != i && (_.logs = [],
        _.time = i)),
        _.logs
    };
    function y(t, e) {
        m().push([t, e]),
        _ && Object(o.getLocalStorage)().setString("shopEventLog", JSON.stringify(_)),
        Object(o.put)("refresh_shop_event")
    }
    function v() {
        return m().map((function(t) {
            var e = Object(o.getConfig)("npc_json")[t[0]].name
              , n = Object(o.getConfig)("talk_json")[t[1]].talk;
            return "<font color=#ce2121>" + Object(o.tr)(e) + "</font>：" + Object(o.tr)(n)
        }
        ))
    }
    var O, j, w = n(313), x = (O = function(t, e) {
        return (O = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        O(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), k = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return x(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.labelDisplay.text = t.text)
        }
        ,
        e.prototype.onReady = function() {
            var t = this;
            this.tap(this, (function() {
                Object(o.put)("tap_shop_event", t.data.type)
            }
            ), this)
        }
        ,
        e
    }(o.Item), I = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "CommonTalkingSkin"),
            e
        }
        return x(e, t),
        e.prototype.onReady = function(t, e, n) {
            var i = this;
            this._d = n,
            this._shopType = t,
            this._idx = e,
            this.list_option.itemRenderer = k,
            Object(r.a)(this.list_option, [{
                type: "kill",
                text: "main@eventKill"
            }, {
                type: "help",
                text: "main@eventHelp"
            }]);
            var a = Object(o.getConfig)("npc_json")[n.npc[e].npcId];
            this.lbl_name.text = a.name,
            this.lbl_desc_1.text = a.desc1,
            this.lbl_desc_2.text = a.desc2,
            this.lbl_desc_3.text = a.desc,
            this.img_npc.source = Object(c.d)(a, "NewHalf"),
            a.titleType > 0 ? this.lbl_identity.text = Object(o.tr)("main@npcLv" + a.titleType) : this.lbl_identity.text = "",
            this.list_record.itemRenderer = w.a,
            Object(r.a)(this.list_record, v(), {
                smart: !0
            }),
            this.on("refresh_shop_event", (function() {
                Object(r.a)(i.list_record, v(), {
                    smart: !0
                })
            }
            )),
            this.on("tap_shop_event", this.onTapShopEvent, this)
        }
        ,
        e.prototype.onTapShopEvent = function(t) {
            var e = this
              , n = ""
              , i = 0;
            if ("kill" == t) {
                if (n = "s.h",
                i = this._d.npc[this._idx].npcId,
                Object(b.a)("evil") < this._d.evilVal)
                    return void Object(o.tooltip)(Object(o.tr)("main@evilTip"))
            } else if (n = "s.g",
            i = this._d.npc[this._idx].helpNpcId,
            Object(b.a)("good") < this._d.goodVal)
                return void Object(o.tooltip)(Object(o.tr)("main@goodTip"));
            Object(p.d)(n, {
                npc: i,
                shopType: j[this._shopType],
                layer: Object(o.singleton)(a.a).getFloor(this._shopType)
            }).then((function(n) {
                if (n) {
                    var i = e._d.npc[e._idx].npcId;
                    f.FightPanel.show(n.fightLog, !0, 1e3).exit((function(e) {
                        "kill" == t ? e.isWin ? y(i, o.numbers.getRandomInt(1101, 1118)) : y(i, o.numbers.getRandomInt(1201, 1218)) : e.isWin ? y(i, o.numbers.getRandomInt(1301, 1318)) : y(i, o.numbers.getRandomInt(1401, 1418)),
                        d.a.show(n.awds || [])
                    }
                    ))
                }
            }
            ))
        }
        ,
        e
    }(o.UIComponent), P = n(118), C = n(119), S = n(115), R = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), T = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, L = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, A = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "ShopEventSkin"),
            e
        }
        return R(e, t),
        e.prototype.onReady = function(t) {
            var e = this;
            this.addBehavior(new P.a),
            this.shopType = t;
            var n = Object(o.singleton)(a.a).getFloor(t)
              , i = Object(o.tr)("main@shop" + t, {
                floor: Object(o.tr)("main@floor" + n)
            });
            this.lbl_floor.text = i;
            var s = Object(o.getConfig)("shop_json")
              , c = null;
            for (var u in s) {
                var h = s[u];
                if (h.shopType == t && h.layer == n) {
                    c = h;
                    break
                }
            }
            this.list.itemRenderer = w.a,
            Object(r.a)(this.list, v(), {
                smart: !0
            }),
            this.on("refresh_shop_event", (function() {
                Object(r.a)(e.list, v(), {
                    smart: !0
                })
            }
            )),
            this.tap("btn_tip", this.onTip, this);
            for (var l = 1; l <= 3; l++)
                this.updateRoleBtn(this["btn_role_" + l], l, c.npc[l - 1]),
                this.tap("btn_role_" + l, this.tapRole(l - 1, c), this)
        }
        ,
        e.prototype.onTip = function() {
            C.a.show({
                title: Object(o.tr)("main@shopType" + this.shopType),
                content: Object(o.tr)("main@shopDesc" + this.shopType)
            })
        }
        ,
        e.prototype.tapRole = function(t, e) {
            var n = this;
            return function() {
                Object(S.O)(e.npc[t].npcId),
                Object(s.a)(new I, n.shopType, t, e)
            }
        }
        ,
        e.prototype.onExit = function() {
            Object(S.K)()
        }
        ,
        e.prototype.updateRoleBtn = function(t, e, n) {
            var i = n.npcId;
            t.gp_school.visible = !1;
            var r = Object(o.getConfig)("npc_json")[i];
            t.lbl_name.text = r.name,
            t.img_role.source = Object(c.d)(r)
        }
        ,
        e.show = function(t) {
            return T(this, void 0, void 0, (function() {
                return L(this, (function(n) {
                    switch (n.label) {
                    case 0:
                        return [4, Promise.all([Object(l.a)("shop_json"), Object(l.a)("talk_json"), Object(l.a)("npc_json")])];
                    case 1:
                        return n.sent(),
                        Object(s.a)(new e, t),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent), M = (n(124),
    n(130)), N = n(157), B = n(123), E = n(210), D = n(134), G = n(112), V = n(193), U = n(127), H = n(160), F = n(110), z = n(137), q = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), W = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, X = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, Y = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "AnyPaySkin"),
            e
        }
        return q(e, t),
        e.prototype.onReady = function(t) {
            var e = this;
            this.conf = Object(o.getConfig)("anyPay_json")[t],
            this.RATE = Object(o.getConfig)("recharge_json")[1112].recharge_usd,
            this.btn1.label = this.conf.symbol + " " + this.LocaleString(this.conf.common1),
            this.btn2.label = this.conf.symbol + " " + this.LocaleString(this.conf.common2),
            this.btn3.label = this.conf.symbol + " " + this.LocaleString(this.conf.common3),
            this.tap("btn1", (function() {
                e.inputNum(e.conf.common1)
            }
            )),
            this.tap("btn2", (function() {
                e.inputNum(e.conf.common2)
            }
            )),
            this.tap("btn3", (function() {
                e.inputNum(e.conf.common3)
            }
            )),
            this.tap("pay", this.goPay, this),
            this.input.restrict = "0-9",
            this.input.addEventListener(egret.Event.CHANGE, this.changeNum, this),
            this.limit.text = Object(o.tr)("main@payLimit", {
                min: this.LocaleString(this.conf.min),
                max: this.LocaleString(this.conf.max)
            }),
            this.currency.text = this.conf.symbol
        }
        ,
        e.prototype.inputNum = function(t) {
            this.input.text = t,
            this.changeNum()
        }
        ,
        e.prototype.changeNum = function() {
            var t = Number(this.input.text.replace(/,/g, ""));
            t && null != t || (t = 0);
            var e = Math.floor(t * this.conf.rate / this.RATE);
            this.num.text = e
        }
        ,
        e.prototype.goPay = function() {
            var t = Number(this.input.text);
            t > this.conf.max ? Object(o.tooltip)(Object(o.tr)("main@anyPayMax", {
                num: this.conf.max
            })) : t < this.conf.min ? Object(o.tooltip)(Object(o.tr)("main@anyPayMin", {
                num: this.conf.min
            })) : (Object(N.d)({
                id: 1112,
                money: t * this.conf.rate
            }).then((function() {
                console.log("paySuccess")
            }
            )),
            o.UI.remove(this))
        }
        ,
        e.prototype.LocaleString = function(t) {
            return String(t).replace(/\B(?=(\d{3})+\b)/g, ",")
        }
        ,
        e.show = function() {
            return W(this, void 0, void 0, (function() {
                var t;
                return X(this, (function(n) {
                    switch (n.label) {
                    case 0:
                        return [4, Object(F.b)([Object(l.a)("anyPay_json")])];
                    case 1:
                        return n.sent(),
                        Object(D.a)("Click-other amount"),
                        t = Object(z.e)(o.cache.get("gcat_pay_currency")),
                        Object(s.a)(new e, t),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent), J = n(158), $ = n(181), K = n(282), Q = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), Z = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, tt = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    };
    !function(t) {
        t[t.lingbao = 1] = "lingbao",
        t[t.cangjing = 2] = "cangjing",
        t[t.xianyu = 3] = "xianyu",
        t[t.weiwang = 4] = "weiwang",
        t[t.recharge = 5] = "recharge",
        t[t.union = 6] = "union",
        t[t.xianzhi = 7] = "xianzhi",
        t[t.jingshu = 8] = "jingshu",
        t[t.qizhen = 9] = "qizhen",
        t[t.lingyu = 10] = "lingyu",
        t[t.recharge1 = 11] = "recharge1",
        t[t.travel = 12] = "travel",
        t[t.skin = 13] = "skin"
    }(j || (j = {}));
    var et = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e._tDic = {
                t1: 0,
                t2: 0,
                t3: 0
            },
            e._mvs = {
                mv1: null,
                mv2: null,
                mv3: null
            },
            e
        }
        return Q(e, t),
        e.prototype.onDataUpdate = function(t) {
            this.clearAni(),
            this.goods_1.visible = !1,
            this.goods_2.visible = !1,
            this.goods_3.visible = !1,
            t && (this.updateBtn(this.goods_1, t.first, "mv1", this.btn_ex1, "t1"),
            this.updateBtn(this.goods_2, t.second, "mv2", this.btn_ex2, "t2"),
            this.updateBtn(this.goods_3, t.third, "mv3", this.btn_ex3, "t3"))
        }
        ,
        e.prototype.onReady = function() {
            this.tap("goods_1", this.onTap(1), this),
            this.tap("goods_2", this.onTap(2), this),
            this.tap("goods_3", this.onTap(3), this),
            this.tap("btn_ex1", this.onEx.bind(this, 1), this),
            this.tap("btn_ex2", this.onEx.bind(this, 2), this),
            this.tap("btn_ex3", this.onEx.bind(this, 3), this),
            (Object(G.d)("fsTimeGift") || Object(G.d)("fsSingleRecharge") || Object(G.d)("fcTimeGift")) && this.disposeArr.push(o.cache.onChange("Activity.getList", this.updateGift, this)),
            this.btn_ex1.visible = !1,
            this.btn_ex2.visible = !1,
            this.btn_ex3.visible = !1
        }
        ,
        e.prototype.updateGift = function() {
            this.onDataUpdate(this.data)
        }
        ,
        e.prototype.onTap = function(t) {
            var e = this;
            return function() {
                var n = e.getDataByIndex(t);
                n instanceof a.b ? n.status == a.c.soldOut ? Object(o.tooltip)(Object(o.tr)("main@soldOutTip")) : n.status == a.c.haveLearn ? Object(o.tooltip)(Object(o.tr)("main@haveLearnTip")) : Object(s.a)(new u.a, n) : (Object(D.a)("initiated_checkout"),
                1112 == n.id ? Y.show() : Object(N.d)(n.id))
            }
        }
        ,
        e.prototype.onEx = function(t) {
            return Z(this, void 0, void 0, (function() {
                var e, n, i, o, r, a, c, u;
                return tt(this, (function(h) {
                    switch (h.label) {
                    case 0:
                        return (e = this.getDataByIndex(t)) ? [4, Object(l.a)(U.c)] : [3, 2];
                    case 1:
                        if (h.sent(),
                        n = void 0,
                        i = void 0,
                        (o = Object(G.d)("fsTimeGift")) || (o = Object(G.d)("fcTimeGift")) && (i = Object(G.f)("fcTimeGift", 1, "festivalActivity_ch_json")),
                        o || (o = Object(G.d)("fsSingleRecharge")) && (i = Object(G.f)("fsSingleRecharge", 1, "festivalActivity_json")),
                        o || (i = Object(G.f)("fsTimeGift", 1)),
                        !o || !o.l)
                            return [2];
                        if (r = o.l,
                        a = void 0,
                        !i)
                            return [2];
                        if (r && r.length)
                            for (c = 0; c < r.length; c++)
                                if (n = r[c].time ? r[c].time : o.end,
                                r[c].rechargeId == e.id && n > g.a.getNow()) {
                                    for (u = 0; u < i.detail.length; u++)
                                        i.detail[u].uniqId == r[c].id && (a = i.detail[u]);
                                    break
                                }
                        n && a && Object(s.a)(new V.a, a, n, 1),
                        h.label = 2;
                    case 2:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.getDataByIndex = function(t) {
            return 1 == t ? this.data.first : 2 == t ? this.data.second : this.data.third
        }
        ,
        e.prototype.updateBtn = function(t, e, n, i, r) {
            e && (t.visible = !0,
            t.gp_soldout.visible = !1,
            e instanceof a.b ? (t.lbl_price.text = e.price,
            t.lbl_goods.text = e.c.name,
            t.img_goods.source = e.icon,
            t.img_money.source = Object(c.b)(e.shopPropId),
            this.setMoneyVisible(t.img_money, !0),
            e.status != a.c.none && (t.gp_soldout.visible = !0,
            t.img_bottom2.visible = e.status != a.c.soldOut,
            e.status == a.c.have ? t.lbl_status.text = Object(o.tr)("main@propHave") : t.lbl_status.text = e.status == a.c.soldOut ? Object(o.tr)("main@soldOut") : Object(o.tr)("main@haveLearn"))) : (this.setMoneyVisible(t.img_money, !1),
            Object(z.i)() ? t.lbl_goods.text = Object(o.tr)(e.name_cur) : t.lbl_goods.text = Object(N.b)(e, "name"),
            1112 == e.id ? t.lbl_price.text = "" : t.lbl_price.text = Object(N.c)(e, "recharge"),
            t.img_goods.source = "item_1001_png"),
            1 != e.type || e.c ? i.visible = !1 : this.fsAni(t, e, n, i, r))
        }
        ,
        e.prototype.setMoneyVisible = function(t, e) {
            t.visible = t.includeInLayout = e
        }
        ,
        e.prototype.fsAni = function(t, e, n, i, r) {
            var a, s = Object(G.d)("fsTimeGift");
            s || (s = Object(G.d)("fcTimeGift")),
            s || (s = Object(G.d)("fsSingleRecharge"));
            var c = s ? s.l : null
              , u = g.a.getNow();
            if (c && c.length)
                for (var h = void 0, l = 0; l < c.length; l++)
                    if (h = c[l].time ? c[l].time : s.end,
                    c[l].rechargeId == e.id && h > u) {
                        a = !0,
                        this._tDic[r] = egret.setTimeout(this.onDataUpdate, this, 1e3 * (h - u), this.data);
                        break
                    }
            i.visible = a,
            a && !this._mvs[n] ? (this._mvs[n] = o.Movie.create("festival_shop_1_ske_json"),
            this._mvs[n].x = t.width / 2,
            this._mvs[n].y = 50,
            t.addChild(this._mvs[n]),
            this._mvs[n].play("1")) : !a && this._mvs[n] && (this._mvs[n].dispose(),
            this._mvs[n] = null)
        }
        ,
        e.prototype.clearAni = function() {
            for (var t in this._tDic)
                this._tDic[t] > 0 && (egret.clearTimeout(this._tDic[t]),
                this._tDic[t] = 0);
            for (var e in this._mvs)
                this._mvs[e] && (this._mvs[e].dispose(),
                this._mvs[e] = null)
        }
        ,
        e.prototype.onExit = function() {
            this.clearAni(),
            t.prototype.onExit.call(this)
        }
        ,
        e
    }(o.Item)
      , nt = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "ShopSkin"),
            e
        }
        return Q(e, t),
        e.prototype.onReady = function(t) {
            var e = this;
            !Object($.a)() && [j.recharge, j.lingyu].includes(t) && o.UI.remove(this),
            this.addBehavior(new P.a);
            var n = this.shop1.group;
            n.addEventListener(egret.Event.CHANGE, this.onChange, this),
            Object(S.x)((function() {
                e["shop" + t].selected = !0
            }
            )),
            this.disposeArr.push({
                dispose: function() {
                    n.removeEventListener(egret.Event.CHANGE, e.onChange, e)
                }
            }),
            this.selectView(t),
            this.tap("btn_down", this.onDown, this),
            this.tap("btn_up", this.onUp, this),
            this.tap("btn_event", this.onEvent, this),
            this.tap("btn_blackMarket", this.onBlankMarket, this),
            this.tap("btn_adv", (function() {
                H.d.show({
                    isIcon: !0,
                    type: "blackMarket",
                    state: "blackMarket",
                    confId: 9
                })
            }
            ), this),
            this.tap("btn_adv1", this.openAdvert, this),
            this.cash1.propId = h.f.lingshi,
            this.on("refresh_shop_list", this.refreshList, this),
            this.on("remove_shop_ui", (function() {
                o.UI.remove(e)
            }
            ), this),
            this.on("refresh_advert_success", this.advertSucc, this),
            this.shop5.visible = this.shop5.includeInLayout = M.b.isOpen("recharge"),
            this.shop3.visible = this.shop3.includeInLayout = M.b.isOpen("lingyuShop"),
            this.disposeArr.push(new B.a("黑市",(function(t) {
                egret.Tween.removeTweens(e.btn_blackMarket),
                e.btn_blackMarket.alpha = 1,
                t && egret.Tween.get(e.btn_blackMarket, {
                    loop: !0
                }).to({
                    alpha: .35
                }, 500).to({
                    alpha: 1
                }, 500)
            }
            ))),
            this.disposeArr.push(Object(B.b)("节日充值", this.shop5)),
            this.disposeArr.push(Object(B.b)("黑市激励视频", this.btn_adv)),
            o.cache.onChange("Activity.getList", this.refreshAdvert, this, this.disposeArr),
            this.refreshAdvert()
        }
        ,
        e.prototype.onEvent = function() {
            A.show(this._curType)
        }
        ,
        e.prototype.onBlankMarket = function() {
            K.b.show()
        }
        ,
        e.prototype.onDown = function() {
            Object(o.singleton)(a.a).changeFloor(this._curType, -1),
            this.selectView()
        }
        ,
        e.prototype.onUp = function() {
            Object(o.singleton)(a.a).changeFloor(this._curType, 1),
            this.selectView()
        }
        ,
        e.prototype.onChange = function() {
            for (var t = 1; t <= 5; t++)
                if (this["shop" + t] == this.shop1.group.selection) {
                    this.selectView(t);
                    break
                }
        }
        ,
        e.prototype.selectView = function(t) {
            var e = this;
            if (void 0 === t && (t = this._curType),
            this.buylingyu.visible = !1,
            this._curType = t,
            this.cash2.visible = !0,
            t == j.weiwang ? this.cash2.propId = h.f.weiwang : (this.cash2.propId = h.f.lingyu,
            "false" == Object(o.getOption)("gamecoin") && (this.cash2.visible = !1)),
            this.list.itemRenderer = et,
            this.refreshAdvert2(),
            this.refreshAdvert2(),
            t != j.recharge) {
                this.gp_floor.visible = !0,
                this.img_activity.visible = !1,
                this.btn_event.visible = t == j.lingbao || t == j.cangjing,
                this.lbl_time.visible = t != j.weiwang;
                var n = g.a.getTime(12, 0)
                  , i = g.a.getTime(24, 0);
                this.lbl_time.text = Object(o.tr)("main@shopTimeTip", {
                    h1: n.hour,
                    m1: n.minute,
                    h2: i.hour,
                    m2: i.minute
                });
                var r = Object(o.singleton)(a.a);
                r.getShopData(t).then((function(n) {
                    var i = Object(o.getCache)(j[t] + "Shop.getList").time;
                    e._autoRefresh && e._autoRefresh.dispose(),
                    e._autoRefresh = E.b.listen(i, (function() {
                        Object(o.tooltip)(Object(o.tr)("main@shopRefresh")),
                        o.UI.remove(u.a),
                        e.selectView(t)
                    }
                    ), e),
                    e._list = n,
                    e.lbl_floor.text = Object(o.tr)("main@shop" + t, {
                        floor: Object(o.tr)("main@floor" + r.getFloor(t))
                    }),
                    e.refreshList(),
                    e.refreshFloor(t)
                }
                ))
            } else {
                this.gp_floor.visible = !1,
                this.btn_down.visible = !1,
                this.btn_up.visible = !1,
                this.btn_event.visible = !1,
                this.lbl_time.visible = !1,
                this.lbl_levelLimit.visible = !1,
                Object(J.d)() && (this.buylingyu.visible = !0,
                this.buylingyu.text = Object(o.tr)("main@getShopExp")),
                Object(o.singleton)(a.a).getShopData(t).then((function(t) {
                    e._list = t,
                    e.refreshList()
                }
                )),
                Object(o.put)("gift_seen");
                var s = Object(G.d)("fsSingleRecharge");
                if (s) {
                    var c = g.a.getNow();
                    s.l && s.l.length && c >= s.start && c <= s.end && (this.img_activity.visible = !0)
                }
            }
        }
        ,
        e.prototype.onExit = function() {
            this._autoRefresh && (this._autoRefresh.dispose(),
            this._autoRefresh = null)
        }
        ,
        e.prototype.refreshList = function() {
            var t = [].concat(this._list)
              , e = this.list.height - 180 * t.length
              , n = 1;
            e > 180 && (n = 1 + e / 180 >> 0);
            for (var i = 0; i < n; i++)
                t.push({
                    first: null,
                    second: null,
                    third: null
                });
            Object(r.a)(this.list, t)
        }
        ,
        e.prototype.refreshFloor = function(t) {
            var e = Object(o.singleton)(a.a)
              , n = e.getFloor(t);
            this.btn_down.visible = n > 1;
            var i = e.rmbEnough(t, n + 1)
              , r = e.hasLimit(t, n + 1);
            e.isMaxFloor(t) ? (this.lbl_levelLimit.visible = !1,
            this.btn_up.visible = !1) : r || i ? (this.lbl_levelLimit.visible = !1,
            this.btn_up.visible = !0) : (this.lbl_levelLimit.visible = !0,
            this.lbl_levelLimit.text = Object(o.tr)("main@shopNextTip", {
                lv: Object(c.h)(e.getFloorLimit(t, n + 1)),
                floor: n + 1
            }),
            this.btn_up.visible = !1)
        }
        ,
        e.prototype.refreshAdvert = function() {
            var t = Object(G.d)("shareSwitch");
            M.b.isOpen("advert") && t && t.ids.blackMarket.num > 0 && g.a.getNow() - t.ids.blackMarket.time >= 0 ? this.btn_adv.visible = !0 : this.btn_adv.visible = !1,
            this.refreshAdvert2()
        }
        ,
        e.prototype.refreshAdvert2 = function() {
            var t = Object(G.d)("shareSwitch")
              , e = !1;
            this._curType == j.lingbao ? e = M.b.isOpen("advert") && t && t.ids.lingbao.num > 0 && g.a.getNow() - t.ids.lingbao.time >= 0 : this._curType == j.cangjing ? e = M.b.isOpen("advert") && t && t.ids.cangjing.num > 0 && g.a.getNow() - t.ids.cangjing.time >= 0 : this._curType == j.xianyu ? e = M.b.isOpen("advert") && t && t.ids.xianyu.num > 0 && g.a.getNow() - t.ids.xianyu.time >= 0 : this._curType == j.weiwang ? e = M.b.isOpen("advert") && t && t.ids.weiwang.num > 0 && g.a.getNow() - t.ids.weiwang.time >= 0 : this._curType == j.recharge && (e = M.b.isOpen("advert") && t && t.ids.shopRecharge.num > 0 && g.a.getNow() - t.ids.shopRecharge.time >= 0),
            this.btn_adv1.visible = e
        }
        ,
        e.prototype.openAdvert = function() {
            switch (this._curType) {
            case j.lingbao:
                H.d.show({
                    isIcon: !1,
                    type: "lingbao",
                    state: "shoprefresh",
                    confId: 20,
                    text: Object(o.tr)("main@advertRefresh", {
                        name: Object(o.tr)("main@shopType" + this._curType)
                    })
                });
                break;
            case j.cangjing:
                H.d.show({
                    isIcon: !1,
                    type: "cangjing",
                    state: "shoprefresh",
                    confId: 21,
                    text: Object(o.tr)("main@advertRefresh", {
                        name: Object(o.tr)("main@shopType" + this._curType)
                    })
                });
                break;
            case j.xianyu:
                H.d.show({
                    isIcon: !1,
                    type: "xianyu",
                    state: "shoprefresh",
                    confId: 22,
                    text: Object(o.tr)("main@advertRefresh", {
                        name: Object(o.tr)("main@shopType" + this._curType)
                    })
                });
                break;
            case j.weiwang:
                H.d.show({
                    isIcon: !1,
                    type: "weiwang",
                    state: "shoprefresh",
                    confId: 23,
                    text: Object(o.tr)("main@advertRefresh", {
                        name: Object(o.tr)("main@shopType" + this._curType)
                    })
                });
                break;
            case j.recharge:
                H.d.show({
                    isIcon: !0,
                    type: "shopRecharge",
                    state: "lingyu",
                    confId: 24
                })
            }
        }
        ,
        e.prototype.advertSucc = function(t) {
            var e = this;
            "shopRecharge" == t || "blackMarket" == t || "blackMarketTwo" == t ? this.refreshAdvert() : (Object(o.tooltip)(Object(o.tr)("main@refreshSucc")),
            Object(o.singleton)(a.a).getShopData(this._curType, !0).then((function(t) {
                e._list = t,
                e.refreshList()
            }
            )))
        }
        ,
        e.show = function(t) {
            return Z(this, void 0, void 0, (function() {
                return tt(this, (function(n) {
                    return o.UI.getUIComponentAll(o.ComponentType.Box).filter((function(t) {
                        t.skinName && "string" == typeof t.skinName && (t.skinName.indexOf("ShopSkin") > -1 || t.skinName.indexOf("CommonGetWaySkin") > -1) && o.UI.remove(t)
                    }
                    )),
                    [2, Object(o.singleton)(a.a).checkRes(t).then((function() {
                        return Promise.resolve(Object(s.a)(new e, t))
                    }
                    ))]
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return p
    }
    )),
    n.d(e, "c", (function() {
        return f
    }
    )),
    n.d(e, "a", (function() {
        return d
    }
    ));
    var i, o = n(109), r = n(1), a = n(107), s = n(4), c = n(113), u = n(111), h = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, l = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    };
    !function(t) {
        t[t.role_base = 1] = "role_base",
        t[t.hero_base = 2] = "hero_base",
        t[t.beast_role_prec = 3] = "beast_role_prec",
        t[t.beast_hero_prec = 4] = "beast_hero_prec",
        t[t.role_prec = 5] = "role_prec",
        t[t.hero_prec = 6] = "hero_prec"
    }(i || (i = {}));
    var p = function() {
        function t(t) {
            this.p = t,
            this.c = Object(r.getConfig)("pet_json")[t.cId],
            this.c_stage = Object(r.getConfig)("petStage_json")[this.c.star]
        }
        return Object.defineProperty(t.prototype, "cd", {
            get: function() {
                return this.p.rideCd && this.p.rideCd > u.a.getNow()
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "rideName", {
            get: function() {
                return this.p.ride ? Object(c.a)("uNa") : this.p.heroRide ? Object(r.tr)(Object(r.getConfig)("hero_json")[this.p.heroRide].name) : Object(r.tr)("main@none")
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "stage", {
            get: function() {
                return this.p.stage || 0
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.getAttrBase = function(t, e) {
            var n = t + e * (this.p.lv - 1);
            return this.stage > 0 && (n = Object(s.mul)(n, Object(s.add)(1, this.curStageConf.perMainArrt))),
            n >>= 0
        }
        ,
        Object.defineProperty(t.prototype, "zhenqi", {
            get: function() {
                return this.getAttrBase(this.c.zhenqi, this.c.addZhenQi)
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "shenfa", {
            get: function() {
                return this.getAttrBase(this.c.shenfa, this.c.addShenFa)
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "tipo", {
            get: function() {
                return this.getAttrBase(this.c.tipo, this.c.addTiPo)
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "gengu", {
            get: function() {
                return this.getAttrBase(this.c.gengu, this.c.addGenGu)
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.getAllAttr = function() {
            var t = this.p.heroRide
              , e = this.attrAddition
              , n = this.zhenqi
              , i = this.shenfa
              , o = this.tipo
              , a = this.gengu
              , c = this.heroAtk
              , u = this.heroAtk
              , h = this.heroMAtk
              , l = this.heroTravel;
            if (t) {
                var p = Object(r.getConfig)("hero_json")[t]
                  , f = void 0;
                if (this.c.heroId && this.c.heroId.length)
                    f = this.c.heroId.split(",").indexOf(String(t)) >= 0;
                else
                    this.c.group ? f = p.group == this.c.group : this.c.team && (f = p.team == this.c.team);
                f && (e.beast_hero = Object(s.add)(e.beast_hero, this.c.ratio))
            }
            return {
                zhenqi: n,
                shenfa: i,
                tipo: o,
                gengu: a,
                zhenqi_add: (Object(s.mul)(n, e.beast_role) >> 0) + (e.zhenqi ? e.zhenqi : 0),
                shenfa_add: (Object(s.mul)(i, e.beast_role) >> 0) + (e.shenfa ? e.shenfa : 0),
                tipo_add: (Object(s.mul)(o, e.beast_role) >> 0) + (e.tipo ? e.tipo : 0),
                gengu_add: (Object(s.mul)(a, e.beast_role) >> 0) + (e.gengu ? e.gengu : 0),
                atk: c,
                datk: u,
                matk: h,
                travel: l,
                atk_add: (Object(s.mul)(c, e.beast_hero) >> 0) + (e.atkAttr ? e.atkAttr : 0),
                datk_add: (Object(s.mul)(u, e.beast_hero) >> 0) + (e.datkAttr ? e.datkAttr : 0),
                matk_add: (Object(s.mul)(h, e.beast_hero) >> 0) + (e.matkAttr ? e.matkAttr : 0),
                travel_add: (Object(s.mul)(l, e.beast_hero) >> 0) + (e.travelAttr ? e.travelAttr : 0),
                hero_add: e.hero,
                role_add: e.role
            }
        }
        ,
        t.prototype.getHeroAttr = function(t) {
            for (var e = 0, n = 0; n < 4; n++)
                if (this.c.heroAttr[n].type == t) {
                    e = this.c.heroAttr[n].value + (this.p.lv - 1) * this.c.heroAttr[n].grow,
                    this.stage > 0 && (e = Object(s.mul)(e, Object(s.add)(1, this.curStageConf.perHeroAttr)));
                    break
                }
            return e >> 0
        }
        ,
        Object.defineProperty(t.prototype, "heroAtk", {
            get: function() {
                return this.getHeroAttr("atkAttr")
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "heroDAtk", {
            get: function() {
                return this.getHeroAttr("datkAttr")
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "heroMAtk", {
            get: function() {
                return this.getHeroAttr("matkAttr")
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "heroTravel", {
            get: function() {
                return this.getHeroAttr("travelAttr")
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "skills", {
            get: function() {
                if (!this._skills) {
                    if (this._skills = [],
                    this.p.skills && Array.isArray(this.p.skills))
                        for (var t = 0; t < this.p.skills.length; t++)
                            this._skills.push(new f(this.p.skills[t]));
                    if (this.p.heroSkills && Array.isArray(this.p.heroSkills))
                        for (t = 0; t < this.p.heroSkills.length; t++)
                            this.p.heroSkills[t].id && this._skills.push(new f(this.p.heroSkills[t]))
                }
                return this._skills
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "curStageConf", {
            get: function() {
                return this.c_stage.detail[this.stage - 1]
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "nextStageConf", {
            get: function() {
                return this.c_stage.detail[Math.min(15, this.stage + 1) - 1]
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "score", {
            get: function() {
                this._score = this.gengu + this.shenfa + this.tipo + this.zhenqi + this.heroAtk + this.heroDAtk + this.heroMAtk + this.heroTravel,
                this.skills;
                for (var t = 0; t < this._skills.length; t++)
                    this._score += 1e3 + 10 * this._skills[t].quality.num;
                return this._score
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "attrAddition", {
            get: function() {
                var t;
                t = {
                    role: {},
                    hero: {
                        atkAttr: 0,
                        matkAttr: 0,
                        datkAttr: 0,
                        travelAttr: 0,
                        heroAttr: 0,
                        battle: 0
                    },
                    beast_role: 0,
                    beast_hero: 0
                };
                for (var e = this.skills, n = 0; n < e.length; n++)
                    switch (e[n].c.type) {
                    case i.role_prec:
                        t.role[e[n].c.effect] || (t.role[e[n].c.effect] = 0),
                        t.role[e[n].c.effect] = Object(s.add)(t.role[e[n].c.effect], e[n].p.num);
                        break;
                    case i.hero_prec:
                        t.hero[e[n].c.effect] || (t.hero[e[n].c.effect] = 0),
                        t.hero[e[n].c.effect] = Object(s.add)(t.hero[e[n].c.effect], e[n].p.num);
                        break;
                    case i.beast_role_prec:
                        t.beast_role = Object(s.add)(t.beast_role, e[n].p.num);
                        break;
                    case i.beast_hero_prec:
                        t.beast_hero = Object(s.add)(t.beast_hero, e[n].p.num);
                        break;
                    case i.role_base:
                    case i.hero_base:
                        t[e[n].c.effect] || (t[e[n].c.effect] = 0),
                        t[e[n].c.effect] += e[n].p.num
                    }
                var o = Object(s.mul)(this.p.loyalty / 10 >> 0, .1);
                t.beast_hero = Object(s.add)(t.beast_hero, o);
                var a = Object(r.getCache)("Pet.getInfo").pets.length;
                return t.beast_role = Object(s.add)(t.beast_role, Math.min(1.5, Object(s.mul)(a, .1))),
                t
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , f = function() {
        function t(t) {
            this._p = t,
            this.c = Object(r.getConfig)("petSkill_json")[t.id]
        }
        return Object.defineProperty(t.prototype, "p", {
            get: function() {
                return this._p
            },
            set: function(t) {
                this._p = t
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "full", {
            get: function() {
                return this._p && this._p.num >= this.c.value + Object(s.mul)(100, this.c.ratio)
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "effectPower", {
            get: function() {
                return 6 == this.c.type && "battle" == this.c.effect
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "quality", {
            get: function() {
                var t = {
                    grade: "",
                    num: 0,
                    id: 0
                };
                t.num = this._p && Object(s.div)(Object(s.sub)(this._p.num, this.c.value), this.c.ratio) || 0;
                var e = Object(r.getConfig)("petWash_json");
                for (var n in e)
                    if (t.num >= e[n].min && t.num <= e[n].max) {
                        t.grade = e[n].grade,
                        t.id = e[n].id;
                        break
                    }
                return t
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , d = function() {
        function t() {}
        return Object.defineProperty(t.prototype, "info", {
            get: function() {
                return this._info = Object(r.getCache)("Pet.getInfo"),
                this._info
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.checkRes = function() {
            return h(this, void 0, void 0, (function() {
                return l(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Promise.all([Object(o.a)("pet_json"), Object(o.a)("petFun_json"), Object(o.a)("petSkill_json"), Object(o.a)("petLevel_json"), Object(o.a)("petStage_json"), Object(o.a)("petWash_json"), Object(a.a)("p.a", "Pet.getInfo")])];
                    case 1:
                        return [2, t.sent()]
                    }
                }
                ))
            }
            ))
        }
        ,
        t.prototype.getList = function(t) {
            var e;
            if (!this._list || this._list.length != this.info.pets.length) {
                this._list = [];
                for (var n = this.info.pets, i = 0; i < n.length; i++)
                    this._list.push(new p(n[i]))
            }
            return (e = 1 == t ? this._list.filter((function(t) {
                if (t.p.ride || t.p.heroRide)
                    return !0
            }
            )) : 2 == t ? this._list.filter((function(t) {
                if (!t.p.ride && !t.p.heroRide)
                    return !0
            }
            )) : this._list).sort((function(t, e) {
                return e.p.ride ? 1 : t.p.ride ? -1 : t.cd ? 1 : e.cd ? -1 : e.p.lv != t.p.lv ? e.p.lv - t.p.lv : e.p.cId - t.p.cId
            }
            )),
            e
        }
        ,
        t.prototype.restList = function() {
            this._list = null
        }
        ,
        t.prototype.getBeast = function(t) {
            for (var e = null, n = this.getList(), i = 0; i < n.length; i++)
                if (n[i].p.aId == t) {
                    e = n[i];
                    break
                }
            return e
        }
        ,
        t.prototype.edible = function(t, e) {
            if (!e.skill)
                return !0;
            var n = Object(r.getConfig)("pet_json")[t];
            n.learnSkill;
            for (var i = 0, o = e.skill; i < o.length; i++)
                for (var a = o[i], s = 0, c = n.learnSkill; s < c.length; s++) {
                    if (c[s].learnSkill == a.skillId)
                        return !0
                }
            return !1
        }
        ,
        t.prototype.getCurBeast = function() {
            for (var t = 0, e = this.getList(); t < e.length; t++) {
                var n = e[t];
                if (n.p.ride)
                    return n
            }
            return null
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return f
    }
    )),
    n.d(e, "a", (function() {
        return d
    }
    ));
    var i, o = n(1), r = n(117), a = n(113), s = n(128), c = n(133), u = n(4), h = function() {
        function t(t, e) {
            this.hero = t,
            this.skillId = e,
            this._addLv = !1,
            this.c = Object(o.getConfig)("heroSkill_json")[this.skillId]
        }
        return Object.defineProperty(t.prototype, "lv", {
            get: function() {
                return this.hero.p ? this._addLv ? 0 == this.c.upType ? 1 + ~~(this.hero.p.es1 || 0) : 1 + ~~this.hero.p.skills[this.skillId] : 0 == this.c.upType ? this.hero.p.es1 || 0 : this.hero.p.skills[this.skillId] || 0 : 0 == this.c.upType || this._addLv ? 1 : 0
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.hasNeed = function() {
            var t = this.lv
              , e = t + 1;
            return this.isMaxLv() && (e = t),
            {
                has: t,
                need: e
            }
        }
        ,
        t.prototype.canLvUp = function() {
            return null != Object(o.getConfig)("heroSkillUp_json")[this.c.upType]
        }
        ,
        t.prototype.isAutoSkill = function() {
            return 0 == this.c.upType
        }
        ,
        t.prototype.isFront = function() {
            return this.c.effect.indexOf("per_") > -1
        }
        ,
        t.prototype.isMaxLv = function() {
            return this.lv >= this.c.maxLv
        }
        ,
        t.prototype.costInfo = function() {
            var t = 1001
              , e = 1
              , n = Object(o.getConfig)("heroSkillUp_json")[this.c.upType].cost
              , i = this.lv;
            return n[i] ? (e = n[i].num,
            t = n[i].cId) : (e = n[i - 1].num,
            t = n[i - 1].cId),
            {
                has: c.b.getNum(t),
                need: e,
                itemId: t
            }
        }
        ,
        t.prototype.getValue = function() {
            var t = Object(u.mul)(this.c.grow, this.lv);
            return -1 == this.c.effect.indexOf("per_") ? t : Math.floor(100 * t)
        }
        ,
        Object.defineProperty(t.prototype, "des", {
            get: function() {
                var t = Object(o.tr)(this.c.desc, {
                    num: this.getValue()
                });
                return Object(o.tr)("main@heroSkill1", {
                    des: t
                })
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "des1", {
            get: function() {
                this._addLv = !0;
                var t = Object(o.tr)(this.c.desc, {
                    num: this.getValue()
                });
                return this._addLv = !1,
                Object(o.tr)("main@heroSkill2", {
                    des: t
                })
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.refreshIcon = function(t) {
            t.quality,
            t.icon && (t.icon.source = "icon_xianpu_skill_" + this.c.icon + "_png")
        }
        ,
        t
    }(), l = n(147), p = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    );
    function f(t) {
        return Object(o.getOption)("test") && (console.log("lv===>>>" + t.lv),
        console.log("atk===>>>" + t.atk),
        console.log("datk===>>>" + t.datk),
        console.log("matk===>>>" + t.matk),
        console.log("travel===>>>" + t.travel),
        console.log("matkAttr===>>>" + t.matkAttr),
        console.log("datkAttr===>>>" + t.datkAttr),
        console.log("atkAttr===>>>" + t.atkAttr),
        console.log("atkAttr===>>>" + t.atkAttr)),
        t.lv * (15 * t.atk + 15 * t.datk + 15 * t.matk + 5 * t.travel) + (t.matkAttr + t.datkAttr + t.atkAttr) / 10 + 50
    }
    var d = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e._skills = [],
            e
        }
        return p(e, t),
        e.getList = function() {
            return o.DataCenter.getList(e)
        }
        ,
        e.getEnableList = function() {
            var t = e.getList();
            return t = t.filter((function(t) {
                return 0 == t.p.lock
            }
            ))
        }
        ,
        e.getListByGroup = function(t) {
            for (var n = [], i = e.getEnableList(), o = 0; o < i.length; o++)
                i[o].c.group == t && n.push(i[o]);
            return n
        }
        ,
        e.getListByTeam = function(t) {
            for (var n = [], i = e.getEnableList(), o = 0; o < i.length; o++)
                i[o].c.team == t && n.push(i[o]);
            return n
        }
        ,
        e.getHeroValue = function(t) {
            for (var n = e.getEnableList(), i = 0, o = 0; o < n.length; o++)
                i += n[o].getAttr(t) || 0;
            return i
        }
        ,
        e.travelValue = function() {
            return e.getHeroValue("travelAttr")
        }
        ,
        e.getBycId = function(t) {
            return o.DataCenter.get(e, "cId", t)
        }
        ,
        e.getCurSkin = function(t) {
            return o.DataCenter.get(e, "cId", t).p.skin
        }
        ,
        e.getAllPower = function() {
            for (var t = 0, e = this.getEnableList(), n = 0; n < e.length; n++)
                t += e[n].power;
            return t
        }
        ,
        e.getAllZizhi = function() {
            for (var t = 0, e = this.getEnableList(), n = 0; n < e.length; n++)
                t += e[n].zizhi;
            return t
        }
        ,
        e.prototype.isLimit = function() {
            return 0 != this.c.team
        }
        ,
        e.prototype.getSkills = function() {
            if (0 == this._skills.length)
                for (var t = 0; t < this.c.teamSkill.length; t++)
                    this._skills.push(new h(this,this.c.teamSkill[t].skillId));
            return this._skills
        }
        ,
        Object.defineProperty(e.prototype, "icon", {
            get: function() {
                return Object(r.d)(this.c, "head")
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "lv", {
            get: function() {
                return this.p ? this.p.lv : 1
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "num", {
            get: function() {
                return this.p ? 1 : 0
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "zizhi", {
            get: function() {
                var t = this.c;
                return this.p && (t = this.p),
                t.travel + t.atk + t.matk + t.datk
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "skinConf", {
            get: function() {
                return this.p ? Object(o.getConfig)("heroSkin_json")[this.p.skin] : null
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype._getWoodAttr = function(t) {
            var e = Object(a.a)("woodHero") || {};
            return e[this.c.group] && e[this.c.group][t] || 0
        }
        ,
        e.prototype.getWoodPerAttr = function(t) {
            var e = Object(a.a)("woodHero") || {};
            if (e[this.c.group]) {
                var n = e[this.c.group]["per_" + t] || 0;
                if (n > 0)
                    return Math.floor(Object(s.a)(t.replace("Attr", ""), this) * (n / 1e4))
            }
            return 0
        }
        ,
        Object.defineProperty(e.prototype, "atk", {
            get: function() {
                return this.p ? this.p.atk : this.c.atk
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "datk", {
            get: function() {
                return this.p ? this.p.datk : this.c.datk
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "power", {
            get: function() {
                var t = f(this);
                if (Object(o.getOption)("test") && console.log("ret===>>>" + t),
                this.beast)
                    for (var e = this.beast.skills || [], n = 0; n < e.length; n++)
                        e[n].effectPower && (t *= (e[n].p.num || 0) + 1);
                return Object(o.getOption)("test") && (console.log("ret+beast===>>>" + t),
                console.log("floor_ret+beast===>>>" + Math.floor(t))),
                Math.floor(t)
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "matk", {
            get: function() {
                return this.p ? this.p.matk : this.c.matk
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "travel", {
            get: function() {
                return this.p ? this.p.travel : this.c.travel
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "atkAttr", {
            get: function() {
                return this.getAttr("atkAttr")
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "matkAttr", {
            get: function() {
                return this.getAttr("matkAttr")
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "datkAttr", {
            get: function() {
                return this.getAttr("datkAttr")
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "travelAttr", {
            get: function() {
                return this.getAttr("travelAttr")
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.getAttr = function(t) {
            return this.p[t] + this.getWoodAttr(t) + this.getSkillAttr(t)
        }
        ,
        e.prototype.getSkillAttr = function(t, e) {
            void 0 === e && (e = !1);
            var n = Math.floor(this._getSkillAttr(t));
            if (e && (n += this.getSkillPerAttr(t)),
            this.beast) {
                var i = this.beast.getAllAttr();
                n += Object(u.mul)(i.hero_add[t] + i.hero_add.heroAttr, Object(s.a)(t.replace("Attr", ""), this)) >> 0
            }
            return 44 == this.c.id && "atkAttr" == t && console.log("skill add ", n),
            n
        }
        ,
        e.prototype._getSkillAttr = function(t) {
            for (var e = this, n = 0, i = this.getSkills(), o = function(o) {
                if (i[o].isFront()) {
                    var r = i[o].c.effect
                      , a = function() {
                        var r = 100 * i[o].getValue();
                        r > 0 && (n += Object(s.a)(t.replace("Attr", ""), e) * (r / 1e4))
                    };
                    if (r.includes("|")) {
                        var c = r.split("|");
                        for (var u in c)
                            c[u] == "per_" + t && a()
                    } else
                        r != "per_" + t && "per_heroAttr" != r || a()
                }
            }, r = 0; r < i.length; r++)
                o(r);
            return n
        }
        ,
        e.prototype.getSkillPerAttr = function(t) {
            for (var e = 0, n = this.getSkills(), i = 0; i < n.length; i++)
                if (!n[i].isFront()) {
                    var o;
                    if (n[i].c.effect == t)
                        (o = n[i].getValue()) > 0 && (e += o);
                    if ("heroAttr" == n[i].c.effect)
                        (o = n[i].getValue()) > 0 && (e += o)
                }
            return e
        }
        ,
        e.prototype.getWoodAttr = function(t) {
            return this._getWoodAttr(t) + this.getWoodPerAttr(t)
        }
        ,
        e.prototype.getSkinValue = function(t) {
            return Math.floor(t * (Math.pow(this.p.lv, 2) + this.p.lv + 10) / 20 + 5)
        }
        ,
        e.prototype.getSkinAttr = function(t) {
            var e = t.substring(0, t.length - 4)
              , n = this.p.skinZz[e] || 0;
            return 0 == n ? 0 : this.getSkinValue(n)
        }
        ,
        Object.defineProperty(e.prototype, "beast", {
            get: function() {
                return o.cache.get("Pet.getInfo") ? (this.p.pet ? this._beast && this.p.pet == this._beast.p.aId || (this._beast = Object(o.singleton)(l.a).getBeast(this.p.pet)) : this._beast = null,
                this._beast) : null
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.restBeast = function() {
            this._beast = null
        }
        ,
        e.getHaveNotList = function() {
            for (var t = Object(o.getCache)("Hero.getList").l || [], n = [], i = 0; i < t.length; i++)
                n.push(t[i].cId + "");
            var r = Object(o.getConfig)("hero_json")
              , a = [];
            for (var s in r)
                -1 == n.indexOf(s) && a.push(e.create(s));
            return a
        }
        ,
        e.get = function(t) {
            return o.DataCenter.get(e, "id", t)
        }
        ,
        e.create = function(t) {
            if (!e._map[t]) {
                var n = new e;
                n.c = Object(o.getConfig)("hero_json", t),
                n.p = null,
                e._map[t] = n
            }
            return e._map[t].p = null,
            e._map[t]
        }
        ,
        e.info = new o.ModelInfo("Hero.getList","cId","cId as id",[],"l",(function(t) {
            return Object(o.getConfig)("hero_json")[t]
        }
        ),null,!0),
        e._map = {},
        e
    }(o.BaseModel);
    o.DataCenter.injectionModel(d)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "c", (function() {
        return c
    }
    )),
    n.d(e, "b", (function() {
        return u
    }
    )),
    n.d(e, "a", (function() {
        return h
    }
    ));
    var i = n(1)
      , o = n(107)
      , r = n(129)
      , a = n(142)
      , s = n(116)
      , c = function() {
        function t() {}
        return t.checkProxy = function(e, n, i) {
            return t._map[e.route] + 60 > Date.now() / 1e3 && (n && n.call(i),
            !0)
        }
        ,
        t.reset = function() {
            t._map = {}
        }
        ,
        t.saveProxy = function(e) {
            t._map[e] = Date.now() / 1e3
        }
        ,
        t.create = function(t) {
            Object(o.d)("gld.a", t).then((function(t) {
                t && Object(i.put)("guild.open")
            }
            ))
        }
        ,
        t.search = function(t, e, n) {
            Object(o.d)("gld.b", t).then((function(t) {
                t && e.call(n, t)
            }
            ))
        }
        ,
        t.join = function(t, e, n) {
            Object(o.d)("gld.q", t).then((function(t) {
                t && e.call(n, t)
            }
            ))
        }
        ,
        t.dissolution = function() {
            Object(o.d)("gld.t").then((function(e) {
                e && (i.UI.clearBox(),
                Object(i.put)("guild.back"),
                t.reset())
            }
            ))
        }
        ,
        t.getInfo = function(e, n, r) {
            void 0 === r && (r = !1),
            !r && t.checkProxy({
                route: "gld.e"
            }, e, n) || Object(o.d)("gld.e").then((function(o) {
                o && (i.cache.set("guild_member.home", o),
                t.saveProxy("gld.e"),
                e && e.call(n))
            }
            ))
        }
        ,
        t.getMembers = function(e, n, r) {
            void 0 === r && (r = !1),
            !r && t.checkProxy({
                route: "gld.f"
            }, e, n) || Object(o.d)("gld.f").then((function(o) {
                o && (i.cache.set("guild_member.getMembers", {
                    l: o.l
                }),
                t.saveProxy("gld.f"),
                e && e.call(n))
            }
            ))
        }
        ,
        t.buildList = function(e, n) {
            1 != (i.cache.get("Red.getInfo", "union") || {}).guild_box && t.checkProxy({
                route: "gld.g"
            }, e, n) || Object(o.d)("gld.g").then((function(o) {
                o && (i.cache.set("guild_member.getBuildList", o),
                t.saveProxy("gld.g"),
                e && e.call(n))
            }
            ))
        }
        ,
        t.build = function(t) {
            Object(o.d)("gld.h", t).then((function(t) {
                t && (s.a.show(t.awds),
                Object(i.put)(u.build_done))
            }
            ))
        }
        ,
        t.buildBox = function(t) {
            Object(o.d)("gld.aj", t).then((function(t) {
                t && (Object(i.put)(u.build_done),
                r.b.show(t.reward))
            }
            ))
        }
        ,
        t.skillUp = function(t, e, n) {
            Object(o.d)("gld.ao", t).then((function(t) {
                t && e && e.call(n)
            }
            ))
        }
        ,
        t.getBoss = function(t, e) {
            Object(o.d)("gld.i").then((function(n) {
                n && (i.cache.set("guild_member.getBossList", n),
                t && t.call(e))
            }
            ))
        }
        ,
        t.openBoss = function(t, e, n) {
            Object(o.d)("gld.j", t).then((function(t) {
                t && e && e.call(n)
            }
            ))
        }
        ,
        t.fightBoss = function(t, e, n) {
            Object(o.d)("gld.k", t).then((function(t) {
                t && e && e.call(n, t)
            }
            ))
        }
        ,
        t.bossRank = function(t, e, n) {
            Object(o.d)("gld.l", t).then((function(t) {
                t && e && e.call(n, t)
            }
            ))
        }
        ,
        t.embattle = function(e, n) {
            t.checkProxy({
                route: "gld.x"
            }, e, n) || Object(o.d)("gld.x").then((function(o) {
                o && (i.cache.set("guild_member.getHeroInfo", {
                    l: o.l
                }),
                t.saveProxy("gld.x"),
                e && e.call(n))
            }
            ))
        }
        ,
        t.applyList = function(e, n) {
            t.checkProxy({
                route: "gld.r"
            }, e, n) || Object(o.d)("gld.r").then((function(o) {
                o && (i.cache.set("guild_member.applyList", {
                    l: o.l
                }),
                t.saveProxy("gld.r"),
                e && e.call(n))
            }
            ))
        }
        ,
        t.dealUser = function(t) {
            Object(o.d)("gld.o", t).then((function(t) {
                if (t) {
                    if (0 == i.cache.get("guild_member.applyList", "l").length)
                        (i.cache.get("Red.getInfo", "union") || {}).guild_apply = 0,
                        Object(i.put)("guild_apply_change");
                    Object(i.put)(u.deal_done)
                }
            }
            ))
        }
        ,
        t.kickUser = function(t, e, n) {
            Object(o.d)("gld.p", t).then((function(t) {
                t && (e && e.call(n),
                Object(i.put)(u.role_change))
            }
            ))
        }
        ,
        t.quit = function() {
            Object(o.d)("gld.m").then((function(e) {
                e && (i.UI.clearBox(),
                Object(i.put)("guild.back"),
                t.reset())
            }
            ))
        }
        ,
        t.changeRole = function(t, e, n) {
            Object(o.d)("gld.u", t).then((function(t) {
                t && e && e.call(n)
            }
            ))
        }
        ,
        t.changeOwner = function(t) {
            Object(o.d)("gld.s", t).then((function(t) {
                t && (Object(i.put)(u.role_change),
                Object(i.put)(u.close_transferView),
                Object(i.put)(u.close_manageView))
            }
            ))
        }
        ,
        t.guildChangeName = function(t, e, n) {
            void 0 === e && (e = null),
            void 0 === n && (n = null),
            Object(o.d)("gld.aq", t).then((function(t) {
                t && (e && e.call(n),
                Object(i.put)(u.set_change))
            }
            ))
        }
        ,
        t.guildSet = function(t, e, n) {
            void 0 === e && (e = null),
            void 0 === n && (n = null),
            Object(o.d)("gld.n", t).then((function(t) {
                t && (e && e.call(n),
                Object(i.put)(u.set_change))
            }
            ))
        }
        ,
        t.guildTreasure = function(e, n) {
            void 0 === e && (e = null),
            void 0 === n && (n = null),
            t.checkProxy({
                route: "gld.aa"
            }, e, n) || Object(o.d)("gld.aa").then((function(o) {
                o && (i.cache.set("guild_member.guanList", o),
                t.saveProxy("gld.aa"),
                e && e.call(n))
            }
            ))
        }
        ,
        t.donation = function(t, e, n) {
            void 0 === e && (e = null),
            void 0 === n && (n = null),
            Object(o.d)("gld.ac", t).then((function(t) {
                t && e && e.call(n, t)
            }
            ))
        }
        ,
        t.treasureUp = function(t, e, n) {
            void 0 === e && (e = null),
            void 0 === n && (n = null),
            Object(o.d)("gld.ab", t).then((function(t) {
                t && e && e.call(n)
            }
            ))
        }
        ,
        t.getList = function(t, e) {
            Object(o.d)("gld.al").then((function(n) {
                n && t && t.call(e, n)
            }
            ))
        }
        ,
        t.getRank = function(t, e) {
            Object(o.d)("gld.y").then((function(n) {
                n && t && t.call(e, n)
            }
            ))
        }
        ,
        t.guildDetail = function(t, e, n) {
            Object(o.d)("gld.z", t).then((function(t) {
                t && e && e.call(n, t)
            }
            ))
        }
        ,
        t.dinnerList = function(e, n) {
            Object(o.d)("gld.ad").then((function(o) {
                o && (i.cache.set("guild_member.feastList", {
                    l: o.l
                }),
                t.getMembers(e, n))
            }
            ))
        }
        ,
        t.openDinner = function(t, e) {
            Object(o.d)("gld.ae").then((function(n) {
                n && t && t.call(e, n)
            }
            ))
        }
        ,
        t.joinDinner = function(t, e, n) {
            Object(o.d)("gld.af", {
                index: t
            }).then((function(t) {
                t && e && e.call(n, t)
            }
            ))
        }
        ,
        t.getLog = function(e, n) {
            t.checkProxy({
                route: "gld.ag"
            }, e, n) || Object(o.d)("gld.ag").then((function(o) {
                o && (i.cache.set("guild_member.logs", {
                    l: o.l
                }),
                t.saveProxy("gld.ag"),
                e && e.call(n))
            }
            ))
        }
        ,
        t.changeName = function(t, e, n) {
            Object(o.d)("gld.ai", {
                name: t
            }).then((function(t) {
                t && e && e.call(n, t)
            }
            ))
        }
        ,
        t.battleInfo = function(e, n, r) {
            void 0 === r && (r = !1),
            !r && t.checkProxy({
                route: "gldw.a"
            }, e, n) || Object(o.d)("gldw.a").then((function(o) {
                o && (i.cache.set("GuildWar.getInfo", o),
                t.saveProxy("gldw.a"),
                e && e.call(n))
            }
            ))
        }
        ,
        t.myInfo = function(t, e, n) {
            if (void 0 === n && (n = !1),
            n) {
                var r = i.cache.get("GuildWar.getMyInfo");
                if (r)
                    return void t.call(e, r)
            }
            Object(o.d)("gldw.b").then((function(o) {
                o && (n && i.cache.set("GuildWar.getMyInfo", o),
                t && t.call(e, o))
            }
            ))
        }
        ,
        t.enemyInfo = function(e, n) {
            t.checkProxy({
                route: "gldw.c"
            }, e, n) || Object(o.d)("gldw.c").then((function(o) {
                o && (i.cache.set("GuildWar.getEnemys", o),
                t.saveProxy("gldw.c"),
                e && e.call(n, o))
            }
            ))
        }
        ,
        t.battleInfo1 = function(e, n, r) {
            void 0 === r && (r = !1),
            !r && t.checkProxy({
                route: "gldw.e"
            }, e, n) || Object(o.d)("gldw.e").then((function(o) {
                o && (i.cache.set("GuildWar.battleInfo", o),
                t.saveProxy("gldw.e"),
                e && e.call(n))
            }
            ))
        }
        ,
        t.battleFight = function(t, e, n) {
            Object(o.d)("gldw.i", t).then((function(t) {
                t && e && e.call(n)
            }
            ))
        }
        ,
        t.buyBuff = function(t, e, n) {
            Object(o.d)("gldw.d", t).then((function(t) {
                t && e && e.call(n)
            }
            ))
        }
        ,
        t.totalRank = function(t, e) {
            Object(o.d)("gldw.g").then((function(n) {
                n && t && t.call(e, n)
            }
            ))
        }
        ,
        t.enemyInfo1 = function(t, e) {
            var n = i.cache.get("GuildWar.getEnemyInfo");
            n ? t.call(e, n) : Object(o.d)("gldw.h").then((function(n) {
                n && (i.cache.set("GuildWar.getEnemyInfo", n),
                t && t.call(e, n))
            }
            ))
        }
        ,
        t.getBattleLog = function(e, n) {
            t.checkProxy({
                route: "gldw.k"
            }, e, n) || Object(o.d)("gldw.k").then((function(o) {
                o && (i.cache.set("GuildWar.getLogs", {
                    l: o.l
                }),
                t.saveProxy("gldw.k"),
                e && e.call(n))
            }
            ))
        }
        ,
        t._map = {},
        t
    }()
      , u = function() {
        function t() {}
        return t.build_done = "g_build_done",
        t.deal_done = "g_deal_done",
        t.role_change = "g_role_change",
        t.set_change = "g_set_change",
        t.apply_approve = "g_apply_approve",
        t.dinner_change = "g_dinner_change",
        t.dinner_over = "g_dinner_over",
        t.dinner_begin = "g_dinner_begin",
        t.close_transferView = "g_close_transferView",
        t.close_manageView = "g_close_manageView",
        t
    }()
      , h = function() {
        function t() {}
        return t.roleName = function(t) {
            return Object(a.e)(t)
        }
        ,
        t
    }();
    window.GuildProxy = c,
    window.GuildEvent = u,
    window.GuildConst = h
}
, function(t, e, n) {
    "use strict";
    n.d(e, "c", (function() {
        return p
    }
    )),
    n.d(e, "b", (function() {
        return g
    }
    )),
    n.d(e, "a", (function() {
        return y
    }
    ));
    var i = n(1)
      , o = n(107)
      , r = n(117)
      , a = n(113)
      , s = n(229)
      , c = n(235)
      , u = n(175)
      , h = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , l = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    };
    function p(t, e) {
        for (var n = Object(i.getConfig)("pupil_json")[t], o = 1; o <= 3; o++) {
            var r = n["talent" + o]
              , a = Object(i.getConfig)("pupilTalent_json")[r];
            if (a && a.type == e)
                return a
        }
        return null
    }
    var f = function() {
        function t(t, e) {
            this.p = t,
            this.idx = e,
            this.p && this.p.cId && Object(i.getConfig)("pupil_json")[this.p.cId] && (this.c = Object(i.getConfig)("pupil_json")[this.p.cId])
        }
        return t.prototype.hasTalent = function(t) {
            return !!this.c && (this.c.talent1 == t || this.c.talent2 == t || this.c.talent3 == t)
        }
        ,
        Object.defineProperty(t.prototype, "order", {
            get: function() {
                return Object(s.b)(this.idx)
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.enabled = function() {
            return 0 == this.p.soul && 0 == this.p.wage
        }
        ,
        Object.defineProperty(t.prototype, "curExp", {
            get: function() {
                return this.p.exp
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.getSkillAddtionObject = function() {
            var t = Object(i.getConfig)("pupilSkill_json")[this.c.skill]
              , e = {
                lv: 0,
                num: 0
            };
            return t && (2 == t.type && (e.lv = t.val),
            5 == t.type && (e.num = t.val)),
            e
        }
        ,
        Object.defineProperty(t.prototype, "lv", {
            get: function() {
                return this.p.lv + this.getSkillAddtionObject().lv
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "num", {
            get: function() {
                return this.getSkillAddtionObject().num || 1
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.getTotalTalent = function(t) {
            var e = 0
              , n = Object(i.getConfig)("pupilTalent_json")
              , o = function(e) {
                if (e) {
                    var i = n[e];
                    if (i.type == t)
                        return i.val
                }
                return 0
            };
            return e += o(this.c.talent1),
            e += o(this.c.talent2),
            e += o(this.c.talent3)
        }
        ,
        Object.defineProperty(t.prototype, "totalExp", {
            get: function() {
                return Object(i.getConfig)("pupilLevel_json")[this.p.lv].upExp
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "status", {
            get: function() {
                var t = [];
                return 1 != this.p.wage || this.hasTalent(20) || t.push(Object(i.tr)("sect@dzstatus2")),
                1 == this.p.soul && t.push(Object(i.tr)("sect@dzstatus3")),
                0 == t.length ? Object(i.tr)("sect@dzstatus1") : t.join("、")
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , d = function() {
        function t(t) {
            this.p = t
        }
        return Object.defineProperty(t.prototype, "name", {
            get: function() {
                return Object(r.c)(this.p.name)
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "rank", {
            get: function() {
                return this.p.rank
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "sectName", {
            get: function() {
                return this.p.sectName
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "score", {
            get: function() {
                return this.p.score
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "skin", {
            get: function() {
                return this.p.skin
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , b = function() {
        function t(t) {
            this.p = t
        }
        return Object.defineProperty(t.prototype, "name", {
            get: function() {
                return Object(r.c)(Object(a.a)("uName"))
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "sectName", {
            get: function() {
                return Object(i.singleton)(y).info.name
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "rank", {
            get: function() {
                return this.p.rank
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "score", {
            get: function() {
                return this.p.score
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "skin", {
            get: function() {
                return Object(a.a)("skin")
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }();
    function g(t) {
        void 0 === t && (t = Object(a.a)("grep"));
        var e = Object(i.getConfig)("sectShengYu_json")
          , n = -1e4
          , o = null;
        for (var r in e) {
            var s = e[r]
              , c = s.valueFrom
              , u = s.valueTo;
            if (t >= c && t <= u)
                return s;
            c > n && (n = c,
            o = s)
        }
        return o
    }
    var _ = function() {
        function t(t) {
            this.c = t
        }
        return Object.defineProperty(t.prototype, "task", {
            get: function() {
                var t = Object(i.singleton)(y).info.task;
                return t.id == this.c.id ? t : null
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "condition", {
            get: function() {
                var t = 0
                  , e = this.c.diZiLevel
                  , n = 0
                  , o = g(this.c.shengYuLimit)
                  , r = Object(a.a)("grep");
                Object(i.singleton)(y).diziArr.forEach((function(i) {
                    t++,
                    i.p.lv >= e && n++
                }
                ));
                var s = Object(i.getConfig)("pupilLevel_json");
                return [{
                    text: Object(i.tr)("sect@cond1", {
                        num: this.c.diZiNum
                    }),
                    enough: t >= this.c.diZiNum
                }, {
                    text: Object(i.tr)("sect@cond2", {
                        num: this.c.diZiLevelNum,
                        name: Object(i.tr)(s[e].levelName)
                    }),
                    enough: n >= this.c.diZiLevelNum
                }, {
                    text: Object(i.tr)("sect@cond3", {
                        name: Object(i.tr)(o.name)
                    }),
                    enough: r >= o.valueFrom
                }]
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "awds", {
            get: function() {
                var t = this
                  , e = this.c.baseReward
                  , n = {
                    20019: 14,
                    20010: 11,
                    20016: 13,
                    20014: 12
                };
                return e.map((function(e) {
                    var o = Object(i.getConfig)("item_json")[e.itemId].name
                      , r = t.getTotalTalent(n[e.itemId])
                      , a = Object(i.tr)(o) + "x" + e.num;
                    return r && (a += "(" + r + ")"),
                    a
                }
                ))
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.getTotalTalent = function(t) {
            for (var e = Object(i.singleton)(y).diziArr, n = 0, o = 0; o < e.length; o++) {
                var r = e[o];
                r.enabled() && (n += r.getTotalTalent(t))
            }
            return n
        }
        ,
        t
    }()
      , m = function() {
        function t(t) {
            this.p = t,
            this.c = this.p && this.p.eId ? Object(i.getConfig)("sectExplore_json")[this.p.eId] : null
        }
        return Object.defineProperty(t.prototype, "maxTime", {
            get: function() {
                return this.c ? this.c.time * r.p : null
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , y = function() {
        function t() {
            this._diziDirty = !0,
            this._exploreDirty = !0
        }
        return Object.defineProperty(t.prototype, "info", {
            get: function() {
                return this._info || (this._info = Object(i.getCache)("Sect.getInfo")),
                this._info
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.setDiziDirty = function(t) {
            void 0 === t && (t = !0),
            this._diziDirty = t
        }
        ,
        Object.defineProperty(t.prototype, "diziArr", {
            get: function() {
                return this._diziDirty && this.info.dizis && (this._diziArr = this.info.dizis.map((function(t, e) {
                    return new f(t,e + 1)
                }
                )),
                this._diziDirty = !1),
                (this._diziArr || []).concat()
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.getDizi = function(t) {
            for (var e = 0; e < this.diziArr.length; e++)
                if (this.diziArr[e].c.id == t)
                    return this.diziArr[e]
        }
        ,
        t.prototype.getDiziArr = function(t) {
            var e = this;
            return t.map((function(t) {
                for (var n = e.diziArr, i = 0; i < n.length; i++)
                    if (n[i].c.id == t)
                        return n[i]
            }
            ))
        }
        ,
        t.prototype.setExploreDirty = function(t) {
            void 0 === t && (t = !0),
            this._exploreDirty = t
        }
        ,
        Object.defineProperty(t.prototype, "exploreArr", {
            get: function() {
                return this._exploreDirty && this.info.exploreList && (this._exploreArr = this.info.exploreList.map((function(t, e) {
                    return new m(t)
                }
                )),
                this._exploreDirty = !1),
                this._exploreArr || []
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.hasMenPai = function() {
            return 0 != this.info.point
        }
        ,
        t.prototype.getPointMenPaiArr = function(t) {
            return Object(o.d)("se.e", {
                point: t
            }).then((function(t) {
                if (t)
                    return t.l
            }
            ))
        }
        ,
        t.prototype.getTaskArr = function() {
            if (!this._tasks) {
                var t = Object(i.getConfig)("sectTask_json");
                this._tasks = Object.keys(t).map((function(e) {
                    return new _(t[e])
                }
                ))
            }
            return this._tasks
        }
        ,
        t.prototype.getRankInfo = function() {
            return h(this, void 0, void 0, (function() {
                var t, e, n;
                return l(this, (function(i) {
                    switch (i.label) {
                    case 0:
                        return this._rankInfo ? [3, 2] : [4, Object(o.d)("r.a", {
                            type: "grep"
                        })];
                    case 1:
                        t = i.sent(),
                        e = t.l.map((function(t) {
                            return new d(t)
                        }
                        )),
                        n = new b(t.self),
                        this._rankInfo = {
                            list: e,
                            self: n
                        },
                        i.label = 2;
                    case 2:
                        return [2, this._rankInfo]
                    }
                }
                ))
            }
            ))
        }
        ,
        t.prototype.getCanLearn = function() {
            var t = []
              , e = Object(i.getConfig)("sectPosition_json")
              , n = Object(i.getConfig)("item_json");
            for (var o in e) {
                var r = n[e[o].itemId];
                Object(c.a)(r.skillId) || Object(u.a)(r.id) || t.push(o)
            }
            return t
        }
        ,
        t.prototype.getPosArr = function() {
            var t = Object(i.getConfig)("sectPosition_json");
            return Object.keys(t).map((function(e) {
                return t[e]
            }
            ))
        }
        ,
        t.prototype.sermonInfo = function() {
            return this.info
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return i
    }
    ));
    var i = function() {
        function t() {}
        return t.getMovePoint = function(t, e) {
            for (var n = this.toArr(t), i = this.toArr(e), o = i.mapX - n.mapX, r = i.mapY - n.mapY, a = o < 0 ? -o : o, s = r < 0 ? -r : r, c = n.mapX, u = n.mapY, h = [], l = 1; l <= a; l++) {
                var p = o < 0 ? -l : l;
                c = n.mapX + p,
                h.push(this.toNum({
                    x: c,
                    y: n.mapY
                }))
            }
            for (var f = 1; f <= s; f++) {
                p = r < 0 ? -f : f;
                u = n.mapY + p,
                h.push(this.toNum({
                    x: c,
                    y: u
                }))
            }
            return {
                xlen: a,
                ylen: s,
                posArr: h
            }
        }
        ,
        t.getMapPos = function(t) {
            var e = {
                x: 560,
                y: 760
            };
            return "feisheng" == t && (e = {
                x: 415,
                y: 615
            }),
            "youli" == t && (e = {
                x: 560,
                y: 760
            }),
            "moyu" == t && (e = {
                x: 582,
                y: 786
            }),
            "digong" == t && (e = {
                x: 582,
                y: 786
            }),
            "festival" == t && (e = {
                x: 581,
                y: 786
            }),
            "raidMap" == t && (e = {
                x: 560,
                y: 760
            }),
            "actboss" == t && (e = {
                x: 560,
                y: 760
            }),
            "mutationSmall" == t && (e = {
                x: 582,
                y: 786
            }),
            "mutationBig" == t && (e = {
                x: 560,
                y: 760
            }),
            "holBoss" == t && (e = {
                x: 582,
                y: 786
            }),
            e = {
                x: e.x + 33.5,
                y: e.y + 33.5
            }
        }
        ,
        t.toBallNum = function(e, n, i) {
            var o = t.getMapPos(i);
            return this.toNum({
                x: (e - o.x) / 67,
                y: (n - o.y) / 67
            })
        }
        ,
        t.toBallPos = function(e, n) {
            var i = t.getMapPos(n)
              , o = this.toArr(e);
            return {
                x: i.x + 67 * o.mapX,
                y: i.y + 67 * o.mapY
            }
        }
        ,
        t.toNum = function(t) {
            return t.x << 8 | t.y
        }
        ,
        t.toArr = function(t) {
            return {
                mapX: t >> 8 & 255,
                mapY: 255 & t
            }
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return y
    }
    ));
    var i, o = n(1), r = n(107), a = n(142), s = n(137), c = n(110), u = n(182), h = n(111), l = n(113), p = n(151), f = n(132), d = n(114), b = function() {
        return (b = Object.assign || function(t) {
            for (var e, n = 1, i = arguments.length; n < i; n++)
                for (var o in e = arguments[n])
                    Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
            return t
        }
        ).apply(this, arguments)
    }, g = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, _ = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    };
    !function(t) {
        t[t.chat = 1] = "chat",
        t[t.sys = 2] = "sys",
        t[t.chatTo1 = 3] = "chatTo1",
        t[t.guild = 4] = "guild",
        t[t.guildSys = 5] = "guildSys",
        t[t.local = 6] = "local",
        t[t.crossPk = 7] = "crossPk",
        t[t.sandGuildSys = 8] = "sandGuildSys",
        t[t.sandBatSys = 9] = "sandBatSys",
        t[t.sandNearSys = 10] = "sandNearSys"
    }(i || (i = {}));
    var m = function() {
        function t(t) {
            this._p = t,
            2 != this._p.type && 5 != this._p.type && 8 != this._p.type && 9 != this._p.type && 10 != this._p.type || !this._p.sType || (this._c_sys = Object(o.getConfig)("systemInfo_json")[this._p.sType]),
            t.hasOwnProperty("content") && (this._sysText = t.content)
        }
        return Object.defineProperty(t.prototype, "p", {
            get: function() {
                return this._p
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "c_sys", {
            get: function() {
                return this._c_sys
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "type", {
            get: function() {
                return this._p.type
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "time", {
            get: function() {
                return this._p.time || 0
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "state", {
            get: function() {
                return {
                    1: "chat",
                    2: "sys",
                    4: "xianmeng",
                    5: "dongtai",
                    7: "battlefield"
                }[this.type]
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.isMingPian = function() {
            return 1 == this._p.card
        }
        ,
        Object.defineProperty(t.prototype, "text", {
            get: function() {
                var t;
                try {
                    t = decodeURIComponent(this._p.msg)
                } catch (e) {
                    t = this._p.msg
                }
                return t = t.replace(/>/gi, "&gt;").replace(/</gi, "&lt;"),
                this.isMingPian() && (t = Object(o.tr)("main@chatMingpian", {
                    name: this._p.name
                })),
                t.indexOf("petcuise@") > -1 && (t = Object(o.tr)(t, this._p)),
                t
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "sysText", {
            get: function() {
                if (this._sysText)
                    return this._sysText;
                var t;
                for (var e in this._p)
                    "string" == typeof this._p[e] && -1 != this._p[e].indexOf("@") && (this._p[e] = Object(o.tr)(this._p[e]));
                if (this.p.lv && "number" == typeof this.p.lv && (t = Object(o.getConfig)("level_json")[this.p.lv],
                this.p.lv = t ? Object(o.tr)(t.name) : this.p.lv),
                this.p.mLv && "number" == typeof this.p.mLv && (t = Object(o.getConfig)("level_json")[this.p.mLv],
                this.p.mLv = t ? Object(o.tr)(t.name) : this.p.mLv),
                this.p.bodyLv && "number" == typeof this.p.bodyLv && (t = Object(o.getConfig)("bodyLevel_json")[this.p.bodyLv],
                this.p.bodyLv = t ? Object(o.tr)(t.name) : this.p.bodyLv),
                this.p.position && "number" == typeof this.p.position && (this.p.position = Object(a.e)(this.p.position)),
                this.p.coor && Number(this.p.coor) > 0) {
                    var n = p.a.toArr(Number(this.p.coor));
                    this.p.coor = "(" + n.mapX + "," + n.mapY + ")"
                }
                if (this.p.mapId && Number(this.p.mapId) > 0 && (this.p.mapId = Object(o.tr)(Object(f.a)("sandTableMap_json", Number(this.p.mapId))[0].mapname)),
                this.p.item && !o.types.isString(this.p.item)) {
                    var i = "";
                    this.p.item.forEach((function(t) {
                        i += d.e.getName(t.propId) + "*" + t.num
                    }
                    )),
                    this.p.item = i
                }
                return this.p.boss && Number(this.p.boss) > 0 && (this.p.boss = Object(o.tr)(Object(o.getConfig)("festivalBoss_json")[this.p.boss].name)),
                this._c_sys ? Object(o.tr)(this._c_sys.des, this._p) : "" + this._p.sType
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , y = function() {
        function t() {
            this._lastTime = 0,
            this._crossPkLastTime = 0,
            this._currentRankType = "",
            this._privateChatList = {},
            this.lastChat = {
                char: "",
                time: 0
            },
            this.crossPkLastChat = {
                char: "",
                time: 0
            },
            this.REPEAT_CD = 3e4,
            this.needCheckCrossPkType = ["sandTable", "fairyland"],
            this._sysList = [],
            this._chatList = [],
            this._guildList = [],
            this._noticeList = [],
            this._crossPkList = [],
            this._sandBatSysList = [],
            this._sandNearSysList = [],
            this._sandGuildSysList = [],
            this._guildSysList = [],
            this._showGuildList = [],
            this._localList = [],
            this._showChatList = [],
            this._showCrossPkList = [],
            this._blackDic = {},
            this.updateBlack();
            var t = Object(o.getCache)("Msg.latest", "o");
            t && t.type && Object(o.getConfig)("systemInfo_json") && (t.type == i.chat && this._blackDic[t.uId] || (this._latestMsg = new m(t))),
            Object(o.on)("update_black", this.updateBlack, this)
        }
        return Object.defineProperty(t, "ins", {
            get: function() {
                return this._ins || (this._ins = Object(o.singleton)(t)),
                this._ins
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.addMsg = function(t, e, n) {
            if (void 0 === e && (e = !0),
            void 0 === n && (n = !0),
            Object(o.getConfig)("systemInfo_json")) {
                var r = new m(t);
                switch (t.type) {
                case 1:
                    this._chatList.push(r),
                    this._blackDic[r.p.uId] || (this._showChatList.push(r),
                    n && Object(o.put)("chatMsg", r));
                    break;
                case 2:
                    r.c_sys && !r.c_sys.hide && this._sysList.push(r),
                    n && Object(o.put)("sysMsg", r),
                    r.c_sys && r.c_sys.show && e && n && Object(o.put)("noticeMsg", r);
                    break;
                case 3:
                    this.pushPrivateChat(r);
                    break;
                case 4:
                    this.inGuild() && (this._guildList.push(r),
                    this._blackDic[r.p.uId] || (this._showGuildList.push(r),
                    n && Object(o.put)("guildMsg", r)));
                    break;
                case 5:
                    this.inGuild() && (r.c_sys && !r.c_sys.hide && this._guildSysList.push(r),
                    n && Object(o.put)("guildSysMsg", r),
                    r.c_sys && r.c_sys.show && e && n && Object(o.put)("noticeMsg", r));
                    break;
                case 6:
                    this._localList.push(r),
                    Object(o.put)("localMsg", r);
                    break;
                case 7:
                    if (this.needCheckCrossPkType.indexOf(this._currentRankType) >= 0 && !t.hasOwnProperty("rankType"))
                        break;
                    if (t.hasOwnProperty("rankType") && t.rankType != this._currentRankType)
                        break;
                    this._crossPkList.push(r),
                    this._blackDic[r.p.uId] || (this._showCrossPkList.push(r),
                    n && Object(o.put)("crossPkMsg", r));
                    break;
                case i.sandBatSys:
                    r.c_sys && !r.c_sys.hide && this._sandBatSysList.push(r),
                    n && Object(o.put)("sandBatSysMsg", r);
                    break;
                case i.sandGuildSys:
                    r.c_sys && !r.c_sys.hide && this._sandGuildSysList.push(r),
                    n && Object(o.put)("sandGuildSysMsg", r);
                    break;
                case i.sandNearSys:
                    r.c_sys && !r.c_sys.hide && this._sandNearSysList.push(r),
                    n && Object(o.put)("sandNearSysMsg", r)
                }
                return t.content && (this._sysList.push(r),
                Object(o.put)("sysMsg", r),
                Object(o.put)("noticeMsg", r)),
                r
            }
        }
        ,
        t.prototype.checkChatList = function() {
            return g(this, void 0, void 0, (function() {
                var t, e, n;
                return _(this, (function(i) {
                    switch (i.label) {
                    case 0:
                        return this._chatList.length < 20 ? o.cache.has("Chat.getList") ? [2] : [4, Object(r.d)("ch.a")] : [3, 2];
                    case 1:
                        for (t = i.sent(),
                        o.cache.set("Chat.getList", t),
                        e = t.l,
                        this._chatList.splice(0),
                        this._showChatList.splice(0),
                        n = 0; n < e.length; n++)
                            this.addMsg(e[n], !1, !1);
                        i.label = 2;
                    case 2:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        t.prototype.checkCrossPkList = function(t) {
            return g(this, void 0, void 0, (function() {
                var e, n, i;
                return _(this, (function(a) {
                    switch (a.label) {
                    case 0:
                        return this._crossPkList.length < 20 || t != this._currentRankType ? (this._currentRankType = t,
                        [4, Object(r.d)("ch.p", {
                            rankType: t
                        })]) : [3, 2];
                    case 1:
                        for (e = a.sent(),
                        o.cache.set("CrossPkChat.getList", e),
                        n = e.l,
                        this._crossPkList.splice(0),
                        this._showCrossPkList.splice(0),
                        i = 0; i < n.length; i++)
                            this.addMsg(n[i], !1, !1);
                        a.label = 2;
                    case 2:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        t.prototype.checkSysList = function() {
            return g(this, void 0, void 0, (function() {
                var t, e, n, i;
                return _(this, (function(a) {
                    switch (a.label) {
                    case 0:
                        if (!(this._sysList.length < 5))
                            return [3, 2];
                        if (o.cache.has("Sys.getList"))
                            return [2];
                        for (t = 0,
                        i = 0; i < this._sysList.length; i++)
                            this._sysList[i].p.content && t++;
                        return [4, Object(r.d)("ch.e")];
                    case 1:
                        for (e = a.sent(),
                        o.cache.set("Sys.getList", e),
                        n = e.l,
                        this._sysList.splice(t),
                        i = 0; i < n.length; i++)
                            this.addMsg(n[i], !1, !1);
                        Object(o.put)("sysMsg"),
                        a.label = 2;
                    case 2:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        t.prototype.checkLocalList = function() {
            return g(this, void 0, void 0, (function() {
                var t, e, n, i, a;
                return _(this, (function(c) {
                    switch (c.label) {
                    case 0:
                        return this._localList.length < 10 ? o.cache.has("Local.getList") ? [2] : [4, Object(r.d)("ch.k")] : [3, 2];
                    case 1:
                        for (t = c.sent(),
                        o.cache.set("Local.getList", t),
                        e = t.l,
                        this._localList.splice(0),
                        n = Object(s.d)(),
                        i = 0; i < e.length; i++) {
                            switch (a = void 0,
                            e[i].lan) {
                            case "cn":
                                a = "zh_cn";
                            case "fan":
                                a = "zh_hant";
                                break;
                            case "en":
                                a = "en_us";
                                break;
                            case "vn":
                                a = "vi_vn";
                                break;
                            case "jp":
                                a = "ja_jp";
                                break;
                            case "kr":
                                a = "ko_kr"
                            }
                            n == a && this.addMsg(e[i])
                        }
                        c.label = 2;
                    case 2:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        t.prototype.clearGuildInfo = function() {
            this._guildList = [],
            this._guildSysList = [],
            o.cache.reset("GuildChat.getList"),
            o.cache.reset("GuildSys.getList"),
            Object(o.put)("chatMsg")
        }
        ,
        t.prototype.inGuild = function() {
            return o.cache.get("User.getInfo", "i.guildId") > 0
        }
        ,
        t.prototype.checkGuildList = function() {
            return g(this, void 0, void 0, (function() {
                var t, e, n;
                return _(this, (function(i) {
                    switch (i.label) {
                    case 0:
                        return this._guildList.length < 10 && this.inGuild() ? o.cache.has("GuildChat.getList") ? [2] : [4, Object(r.d)("ch.h")] : [3, 2];
                    case 1:
                        if (t = i.sent(),
                        o.cache.set("GuildChat.getList", t),
                        null == (e = t.l))
                            return [2];
                        for (this._guildList.splice(0),
                        this._showGuildList.splice(0),
                        n = 0; n < e.length; n++)
                            this.addMsg(e[n], !1, !1);
                        i.label = 2;
                    case 2:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        t.prototype.checkGuildSysList = function() {
            return g(this, void 0, void 0, (function() {
                var t, e, n;
                return _(this, (function(i) {
                    switch (i.label) {
                    case 0:
                        return this._guildSysList.length < 5 && this.inGuild() ? o.cache.has("GuildSys.getList") ? [2] : [4, Object(r.d)("ch.j")] : [3, 2];
                    case 1:
                        if (t = i.sent(),
                        o.cache.set("GuildSys.getList", t),
                        null == (e = t.l))
                            return [2];
                        for (this._guildSysList.splice(0),
                        n = 0; n < e.length; n++)
                            this.addMsg(e[n], !1, !1);
                        return [3, 3];
                    case 2:
                        this._guildSysList.splice(0, this._guildSysList.length - 50),
                        i.label = 3;
                    case 3:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        t.prototype.checkSandBatSysList = function() {
            return g(this, void 0, void 0, (function() {
                var t, e, n;
                return _(this, (function(i) {
                    switch (i.label) {
                    case 0:
                        return this._sandBatSysList.length < 50 ? o.cache.has("SandBat.getList") ? [2] : [4, Object(r.d)("sand.s", {
                            scenes: 2
                        })] : [3, 2];
                    case 1:
                        for (t = i.sent(),
                        o.cache.set("SandBat.getList", t),
                        e = t.l,
                        this._sandBatSysList.splice(0),
                        n = 0; n < e.length; n++)
                            this.addMsg(e[n], !1, !1);
                        return [3, 3];
                    case 2:
                        this._sandBatSysList.splice(0, this._sandBatSysList.length - 50),
                        i.label = 3;
                    case 3:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        t.prototype.checkSandNearSysList = function() {
            return g(this, void 0, void 0, (function() {
                var t, e, n;
                return _(this, (function(i) {
                    switch (i.label) {
                    case 0:
                        return [4, Object(r.d)("sand.s", {
                            scenes: 3
                        })];
                    case 1:
                        for (t = i.sent(),
                        o.cache.set("SandNear.getList", t),
                        e = t.l,
                        this._sandNearSysList.splice(0),
                        n = 0; n < e.length; n++)
                            this.addMsg(e[n], !1, !1);
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        t.prototype.checkSandGuildSysList = function() {
            return g(this, void 0, void 0, (function() {
                var t, e, n;
                return _(this, (function(i) {
                    switch (i.label) {
                    case 0:
                        return this._sandGuildSysList.length < 50 && this.inGuild() ? o.cache.has("SandGuild.getList") ? [2] : [4, Object(r.d)("sand.s", {
                            scenes: 1
                        })] : [3, 2];
                    case 1:
                        for (t = i.sent(),
                        o.cache.set("SandGuild.getList", t),
                        e = t.l,
                        this._sandGuildSysList.splice(0),
                        n = 0; n < e.length; n++)
                            this.addMsg(e[n], !1, !1);
                        i.label = 2;
                    case 2:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        Object.defineProperty(t.prototype, "showChatList", {
            get: function() {
                return this._showChatList
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "showGuildList", {
            get: function() {
                return this._showGuildList
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "showCrossPkList", {
            get: function() {
                return this._showCrossPkList
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "sysList", {
            get: function() {
                return this._sysList
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "guildList", {
            get: function() {
                return this._guildList
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "guildSysList", {
            get: function() {
                return this._guildSysList
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "localList", {
            get: function() {
                return this._localList
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "crossPkList", {
            get: function() {
                return this._crossPkList
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "sandBatSysist", {
            get: function() {
                return this._sandBatSysList
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "sandNearSysist", {
            get: function() {
                return this._sandNearSysList
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "sandGuildSysist", {
            get: function() {
                return this._sandGuildSysList
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "latestMsg", {
            get: function() {
                var t = this._showChatList.length ? this._showChatList[this._showChatList.length - 1] : null
                  , e = this._sysList.length ? this._sysList[this._sysList.length - 1] : null
                  , n = this._showGuildList.length ? this._showGuildList[this._showGuildList.length - 1] : null
                  , i = this._guildSysList.length ? this._guildSysList[this._guildSysList.length - 1] : null
                  , o = this._localList.length ? this._localList[this._localList.length - 1] : null
                  , r = [];
                return t && r.push(t),
                e && r.push(e),
                n && r.push(n),
                i && r.push(i),
                o && r.push(o),
                r.sort((function(t, e) {
                    return e.time - t.time
                }
                )),
                r[0] || this._latestMsg
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.pushPrivateMsg = function(t) {
            var e = t[0];
            if (e) {
                var n = e.fuId == Object(l.a)("uId") ? e.uId : e.fuId;
                if (n && !this._blackDic[n]) {
                    var i = this.getPrivateChat(n);
                    i.length > 200 && i.splice(0, t.length);
                    for (var o = 0; o < t.length; o++)
                        i.push(new m(t[o]));
                    this.saveChatStorage(n, i)
                }
            }
        }
        ,
        t.prototype.pushPrivateChat = function(t) {
            var e = Object(l.a)("uId")
              , n = t.p.fuId == e ? t.p.uId : t.p.fuId;
            if (n && !this._blackDic[n]) {
                var i = this.getPrivateChat(n);
                if (i.length > 200 && i.shift(),
                i.push(t),
                this.saveChatStorage(n, i),
                t.p.uId != e) {
                    var r = this.getChatUserList().find((function(t) {
                        return t.uId == n
                    }
                    ));
                    r ? r.unread++ : this.getFriendChatList({
                        duId: n
                    })[0].unread++
                }
                Object(o.put)("chatTo1Msg", t),
                t.p.uId != e && this._curChatUid != n && Object(o.put)("friendMsgRed", !0)
            }
        }
        ,
        t.prototype.setCurChat = function(t) {
            this._curChatUid = t
        }
        ,
        t.prototype.saveChatStorage = function(t, e) {
            for (var n = [], i = Object(l.a)("uId"), r = 0; r < e.length; r++)
                n.push({
                    msg: e[r].p.msg,
                    time: e[r].p.time,
                    me: e[r].p.hasOwnProperty("me") ? e[r].p.me : e[r].p.uId == i ? 1 : 0
                });
            Object(o.getLocalStorage)().setString(u.a.STORAGE_KEY_CHAT + t, JSON.stringify(n)),
            this.saveChatUser(t, n[n.length - 1].time)
        }
        ,
        Object.defineProperty(t.prototype, "friendChatList", {
            get: function() {
                return this._friendChatList
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.getChatUserList = function() {
            if (!this._friendChatList) {
                var t = Object(o.getLocalStorage)().getString(u.a.STORAGE_KEY_CHAT_USER);
                t ? (this._friendChatList = JSON.parse(t),
                this._friendChatList.map((function(t) {
                    t.unread = 0
                }
                )),
                this._friendChatList.sort((function(t, e) {
                    return e.time - t.time
                }
                ))) : this._friendChatList = []
            }
            for (; this._friendChatList.length > 50; ) {
                var e = this._friendChatList.pop();
                Object(o.getLocalStorage)().removeItem(u.a.STORAGE_KEY_CHAT + e.uId)
            }
            return this._friendChatList
        }
        ,
        t.prototype.saveChatUser = function(t, e) {
            var n = this.getChatUserList()
              , i = n.findIndex((function(e) {
                return e.uId == t
            }
            ));
            -1 != i ? n[i].time = e : n.push({
                uId: t,
                time: e,
                unread: 0
            }),
            Object(o.getLocalStorage)().setString(u.a.STORAGE_KEY_CHAT_USER, JSON.stringify(n))
        }
        ,
        t.prototype.getPrivateChat = function(t) {
            if (!this._privateChatList[t]) {
                var e = void 0;
                this._privateChatList[t] = [];
                try {
                    var n = Object(o.getLocalStorage)().getString(u.a.STORAGE_KEY_CHAT + t);
                    e = n && JSON.parse(n) || []
                } catch (t) {}
                if (e)
                    for (var r = 0; r < e.length; r++)
                        this._privateChatList[t].push(new m({
                            type: i.chatTo1,
                            msg: e[r].msg,
                            time: e[r].time,
                            me: e[r].me,
                            uId: 1 == e[r].me ? Object(l.a)("uId") : t
                        }))
            }
            return this._privateChatList[t]
        }
        ,
        t.prototype.getFriendChatList = function(t) {
            var e = this.getChatUserList();
            e.sort((function(t, e) {
                return e.time - t.time
            }
            ));
            var n = Object(l.a)("redDot.friendChat");
            if (n) {
                var i = function(t) {
                    if (n[t] > 0) {
                        var i = e.findIndex((function(e) {
                            return e.uId == t
                        }
                        ));
                        -1 == i || e.splice(i, 1),
                        e.unshift({
                            uId: t,
                            time: h.a.getNow(),
                            unread: n[t]
                        })
                    }
                };
                for (var o in n)
                    i(o)
            }
            if (t) {
                var r = e.findIndex((function(e) {
                    return e.uId == t.duId
                }
                ));
                if (-1 == r)
                    e.unshift({
                        uId: t.duId,
                        time: h.a.getNow(),
                        unread: 0
                    });
                else {
                    var a = e.splice(r, 1)[0];
                    a.time = h.a.getNow(),
                    e.unshift(a)
                }
            }
            return e
        }
        ,
        t.prototype.delFriend = function(t) {
            var e = this.getChatUserList()
              , n = e.findIndex((function(e) {
                return e.uId == t
            }
            ));
            -1 != n && e.splice(n, 1),
            Object(o.getLocalStorage)().setString(u.a.STORAGE_KEY_CHAT_USER, JSON.stringify(e)),
            Object(o.getLocalStorage)().removeItem(u.a.STORAGE_KEY_CHAT + t)
        }
        ,
        t.prototype.getFriendInfo = function(t, e) {
            void 0 === e && (e = !1);
            var n = Object(o.getCache)("friend.getList", "l").find((function(e) {
                return e.duId == t
            }
            ));
            return !n && e && Object(o.tooltip)(Object(o.tr)("gam@friendDeleted")),
            n
        }
        ,
        t.prototype.send = function(t, e, n, i) {
            var a = this
              , s = "crossPk" == e || "sandtableChat" == e;
            "sandtableChat" == e && (i = {
                rankType: "sandTable"
            });
            var c, u = s ? this._crossPkLastTime : this._lastTime, h = s ? this.crossPkLastChat : this.lastChat;
            if ("friend" != e && egret.getTimer() - u < 5e3)
                return Object(o.tooltip)(Object(o.tr)("main@chatCD"));
            try {
                c = encodeURIComponent(t)
            } catch (t) {
                return void Object(o.tooltip)(Object(o.tr)("main@chatInvalid"))
            }
            var l = "ch.b";
            if ("xianmeng" == e ? l = "ch.i" : s ? l = "ch.q" : "local" == e ? l = "ch.l" : "friend" == e && (l = "ch.d"),
            !(h.time && h.char == t && h.time > egret.getTimer() - this.REPEAT_CD)) {
                s ? (this.crossPkLastChat.char = t,
                this.crossPkLastChat.time = egret.getTimer()) : (this.lastChat.char = t,
                this.lastChat.time = egret.getTimer());
                var p = 0;
                n && (p = 1);
                var f = b({
                    msg: c,
                    encode: 1,
                    card: p
                }, i);
                return Object(r.d)(l, f).then((function(e) {
                    e && (s ? a._crossPkLastTime = egret.getTimer() : a._lastTime = egret.getTimer(),
                    Object(o.put)("on_chat", t, e))
                }
                )),
                !0
            }
            Object(o.tooltip)(Object(o.tr)("main@chatRepeat"))
        }
        ,
        t.prototype.addCrossPkHistory = function() {
            return g(this, void 0, void 0, (function() {
                var t, e, n;
                return _(this, (function(i) {
                    switch (i.label) {
                    case 0:
                        return 0 == this._crossPkList.length ? [2] : [4, Object(c.b)(Object(r.d)("ch.p", {
                            lstart: this._crossPkList[0].p.id,
                            rankType: this._currentRankType
                        }))];
                    case 1:
                        return (t = i.sent()) && (e = (e = t.l || []).map((function(t) {
                            return new m(t)
                        }
                        )),
                        (n = this._crossPkList).unshift.apply(n, e),
                        this.updateCrossPkChataList()),
                        [2, new Promise((function(e, n) {
                            t ? e(t) : n()
                        }
                        ))]
                    }
                }
                ))
            }
            ))
        }
        ,
        t.prototype.addGuildHistory = function() {
            return g(this, void 0, void 0, (function() {
                var t, e, n;
                return _(this, (function(i) {
                    switch (i.label) {
                    case 0:
                        return 0 == this._guildList.length ? [2] : [4, Object(c.b)(Object(r.d)("ch.h", {
                            lstart: this._guildList[0].p.id
                        }))];
                    case 1:
                        return (t = i.sent()) && (e = (e = t.l || []).map((function(t) {
                            return new m(t)
                        }
                        )),
                        (n = this._guildList).unshift.apply(n, e),
                        this.updateShowGuildList()),
                        [2, new Promise((function(e, n) {
                            t ? e(t) : n()
                        }
                        ))]
                    }
                }
                ))
            }
            ))
        }
        ,
        t.prototype.addChatHistory = function() {
            return g(this, void 0, void 0, (function() {
                var t, e, n;
                return _(this, (function(i) {
                    switch (i.label) {
                    case 0:
                        return 0 == this._chatList.length ? [2] : [4, Object(c.b)(Object(r.d)("ch.a", {
                            lstart: this._chatList[0].p.id
                        }))];
                    case 1:
                        return (t = i.sent()) && (e = (e = t.l || []).map((function(t) {
                            return new m(t)
                        }
                        )),
                        (n = this._chatList).unshift.apply(n, e),
                        this.updateShowChatList()),
                        [2, new Promise((function(e, n) {
                            t ? e(t) : n()
                        }
                        ))]
                    }
                }
                ))
            }
            ))
        }
        ,
        t.prototype.updateBlack = function(t) {
            var e = this
              , n = Object(o.getCache)("Chat.getInfo", "black", []);
            this._blackDic = {},
            n.forEach((function(t) {
                e._blackDic[t.uId] = t
            }
            )),
            t && (this.updateShowChatList(),
            Object(o.put)("chatMsg"),
            this.updateShowGuildList(),
            Object(o.put)("guildMsg"),
            this.updateCrossPkChataList(),
            Object(o.put)("crossPkMsg"))
        }
        ,
        t.prototype.updateShowChatList = function() {
            var t = this;
            this._showChatList = this._chatList.filter((function(e) {
                return !t._blackDic[e.p.uId]
            }
            ))
        }
        ,
        t.prototype.updateShowGuildList = function() {
            var t = this;
            this._showGuildList = this._guildList.filter((function(e) {
                return !t._blackDic[e.p.uId]
            }
            ))
        }
        ,
        t.prototype.updateCrossPkChataList = function() {
            var t = this;
            this._showCrossPkList = this._crossPkList.filter((function(e) {
                return !t._blackDic[e.p.uId]
            }
            ))
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return o
    }
    ));
    var i = n(1);
    function o(t, e, n, o) {
        t && e && (t.visible = !0,
        0 == n || o && n >= o ? (t.visible = !1,
        e.visible = !0,
        e.text = Object(i.tr)("main@rankNo")) : n <= 3 && n >= 1 ? (t.source = "rank_" + n + "_png",
        e.visible = !1) : (n > 10 && (t.visible = !1),
        t.source = "rank_4_png",
        e.visible = !0,
        e.text = n + ""))
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return x
    }
    )),
    n.d(e, "f", (function() {
        return S
    }
    )),
    n.d(e, "g", (function() {
        return R
    }
    )),
    n.d(e, "b", (function() {
        return L
    }
    )),
    n.d(e, "d", (function() {
        return A
    }
    )),
    n.d(e, "e", (function() {
        return N
    }
    )),
    n.d(e, "c", (function() {
        return G
    }
    )),
    n.d(e, "h", (function() {
        return V
    }
    ));
    var i = n(226)
      , o = n(322)
      , r = n(1)
      , a = {
        xiaoyouxi: "https://fryxzs1.xunlegame.com/web/loginList.php",
        modoxyx: "https://fryxzs1.xunlegame.com/web/loginList.php",
        bearjoy: "https://s1game.xmpaoyou.com/xz-bj/loginList.php",
        qqxyx: "https://citycwan.bearjoy.com/xzwanba/loginList.php",
        ttxyx: "https://xmjgame.y8est.com/web/loginList.php",
        awy: "https://citycwan.bearjoy.com/xzawy/loginList.php",
        mengqi: "https://citycwan.bearjoy.com/xzmengqi/loginList.php",
        dianzhi: "https://xmjgame.y8est.com/web/loginList.php",
        gcatIos1: "https://xmjgame.y8est.com/web/loginList.php",
        gcatIos2: "https://xmjgame.y8est.com/web/loginList.php",
        gcatAndroid1: "https://xmjgame.y8est.com/web/loginList.php",
        gcatAndroid2: "https://xmjgame.y8est.com/web/loginList.php",
        gcatxyx: "https://xmjgame.y8est.com/web/loginList.php",
        gcat: "https://xmjgame.y8est.com/web/loginList.php",
        gcatml: "https://xmjgame.y8est.com/web/loginList.php",
        gcatmlHtml: "https://xmjgame.y8est.com/web/loginList.php",
        gcatfly: "https://xmjgame.y8est.com/web/loginList.php",
        gcat2: "https://xmjgame.y8est.com/web/loginList.php",
        gcatMixRt: "https://xmjgame.y8est.com/web/loginList.php",
        gcatUnion: "https://xmjgame.y8est.com/webunion/loginList.php",
        gcatUnionad: "https://xmjgame.y8est.com/webunion/loginList.php",
        gcatenIos: "https://xzengame.hkpctimes.com/web/loginList.php",
        gcatenAnd: "https://xzengame.hkpctimes.com/web/loginList.php",
        gcaten: "https://s1game.fangpian-h5.com/xz-gcaten/loginList.php",
        huixuan: {
            pf: ["huixuan", "huixuanRt"],
            url: "https://xmjgame.y8est.com/webhuixuan/loginList.php"
        },
        kaiying: {
            pf: ["kaiying", "kaiyingRt"],
            url: "https://xmjgame.y8est.com/webky/loginList.php"
        },
        modo: {
            pf: ["modo", "modoIos", "modoIos2"],
            url: "https://fryxzs1.xunlegame.com/web/loginList.php"
        },
        tanwan: {
            pf: ["tanwan", "tanwanIos1", "tanwanAnd1"],
            url: "https://xmjgame.y8est.com/webtanwan/loginList.php"
        },
        hk: {
            pf: ["hk", "gcathkAndroid1", "gcathkIos1", "gcathk"],
            url: "https://xztwgame.hkpctimes.com/web/loginList.php"
        },
        sipu: {
            pf: ["sipu", "sipuRt"],
            url: "https://xmjgame.y8est.com/websipu/loginList.php"
        }
    };
    var s, c = function(t) {
        __extends(o, t);
        var e = function(t) {
            function e() {
                t.call(this),
                this.skinParts = [],
                this.elementsContent = [this._Image1_i()],
                this.states = [new eui.State("up",[]), new eui.State("down",[new eui.SetProperty("_Image1","scaleX",.9), new eui.SetProperty("_Image1","scaleY",.9)]), new eui.State("disabled",[])]
            }
            return __extends(e, t),
            e.prototype._Image1_i = function() {
                var t = new eui.Image;
                return this._Image1 = t,
                t.horizontalCenter = 0,
                t.source = "btn_common_close_1_png",
                t.verticalCenter = 0,
                t
            }
            ,
            e
        }(eui.Skin)
          , n = function(t) {
            function e() {
                t.call(this),
                this.skinParts = ["labelDisplay"],
                this.height = 74,
                this.width = 230,
                this.elementsContent = [this._Image1_i(), this.labelDisplay_i()]
            }
            __extends(e, t);
            var n = e.prototype;
            return n._Image1_i = function() {
                var t = new eui.Image;
                return t.horizontalCenter = 0,
                t.source = "btn_common_green_png",
                t.verticalCenter = 0,
                t
            }
            ,
            n.labelDisplay_i = function() {
                var t = new solar.Label;
                return this.labelDisplay = t,
                t.fontFamily = "黑体",
                t.horizontalCenter = 0,
                t.size = 30,
                t.text = "Label",
                t.textColor = 4216408,
                t.verticalCenter = 0,
                t.wordWrap = !0,
                t
            }
            ,
            e
        }(eui.Skin)
          , i = function(t) {
            function e() {
                t.call(this),
                this.skinParts = ["labelDisplay"],
                this.height = 74,
                this.width = 230,
                this.elementsContent = [this._Image1_i(), this.labelDisplay_i()]
            }
            __extends(e, t);
            var n = e.prototype;
            return n._Image1_i = function() {
                var t = new eui.Image;
                return t.horizontalCenter = 0,
                t.source = "btn_common_yellow_png",
                t.verticalCenter = 0,
                t
            }
            ,
            n.labelDisplay_i = function() {
                var t = new solar.Label;
                return this.labelDisplay = t,
                t.fontFamily = "黑体",
                t.horizontalCenter = 0,
                t.size = 30,
                t.text = "Label",
                t.textColor = 4216408,
                t.verticalCenter = 0,
                t.wordWrap = !0,
                t
            }
            ,
            e
        }(eui.Skin);
        function o() {
            t.call(this),
            this.skinParts = ["rect2", "closeBtn", "lbl_title", "textLabel", "noBtn", "yesBtn", "contentNode"],
            this.height = 1334,
            this.width = 750,
            this.elementsContent = [this.rect2_i(), this.contentNode_i()],
            eui.Binding.$bindProperties(this, ["hostComponent.data.showClose"], [0], this.closeBtn, "visible"),
            eui.Binding.$bindProperties(this, ["hostComponent.data.title"], [0], this.lbl_title, "text"),
            eui.Binding.$bindProperties(this, ["hostComponent.data.title"], [0], this._Label1, "text"),
            eui.Binding.$bindProperties(this, ["hostComponent.data.showButtonGroup"], [0], this._Group5, "includeInLayout"),
            eui.Binding.$bindProperties(this, ["hostComponent.data.showButtonGroup"], [0], this._Group5, "visible"),
            eui.Binding.$bindProperties(this, ["hostComponent.data.showNo"], [0], this._Group3, "includeInLayout"),
            eui.Binding.$bindProperties(this, ["hostComponent.data.showNo"], [0], this._Group3, "visible"),
            eui.Binding.$bindProperties(this, ["hostComponent.data.no"], [0], this.noBtn, "label"),
            eui.Binding.$bindProperties(this, ["hostComponent.data.showYes"], [0], this._Group4, "includeInLayout"),
            eui.Binding.$bindProperties(this, ["hostComponent.data.showYes"], [0], this._Group4, "visible"),
            eui.Binding.$bindProperties(this, ["hostComponent.data.yes"], [0], this.yesBtn, "label")
        }
        var r = o.prototype;
        return r.rect2_i = function() {
            var t = new eui.Image;
            return this.rect2 = t,
            t.bottom = 0,
            t.left = 0,
            t.right = 0,
            t.source = "bg_common_rect_png",
            t.top = 0,
            t
        }
        ,
        r.contentNode_i = function() {
            var t = new eui.Group;
            return this.contentNode = t,
            t.horizontalCenter = 0,
            t.verticalCenter = 0,
            t.width = 586,
            t.elementsContent = [this._Image1_i(), this._Image2_i(), this.closeBtn_i(), this.lbl_title_i(), this._Label1_i(), this._Group6_i()],
            t
        }
        ,
        r._Image1_i = function() {
            var t = new eui.Image;
            return t.bottom = 0,
            t.horizontalCenter = 0,
            t.source = "bg_common_panel_2_png",
            t.top = 0,
            t
        }
        ,
        r._Image2_i = function() {
            var t = new eui.Image;
            return t.bottom = -25,
            t.horizontalCenter = 0,
            t.source = "img_common_bottom_1_png",
            t
        }
        ,
        r.closeBtn_i = function() {
            var t = new solar.Button;
            return this.closeBtn = t,
            t.label = "Button",
            t.notice = "common.close",
            t.right = -66,
            t.top = -151,
            t.skinName = e,
            t
        }
        ,
        r.lbl_title_i = function() {
            var t = new solar.Label;
            return this.lbl_title = t,
            t.fontFamily = "楷体",
            t.horizontalCenter = 0,
            t.size = 30,
            t.textColor = 1847093,
            t.top = 16,
            t.wordWrap = !0,
            t
        }
        ,
        r._Label1_i = function() {
            var t = new solar.Label;
            return this._Label1 = t,
            t.fontFamily = "黑体",
            t.horizontalCenter = 0,
            t.stroke = 2,
            t.strokeColor = 4216408,
            t.top = 20,
            t.visible = !1,
            t.wordWrap = !0,
            t
        }
        ,
        r._Group6_i = function() {
            var t = new eui.Group;
            return t.bottom = 20,
            t.horizontalCenter = 0,
            t.top = 75,
            t.width = 550,
            t.layout = this._VerticalLayout2_i(),
            t.elementsContent = [this._Group2_i(), this._Group5_i()],
            t
        }
        ,
        r._VerticalLayout2_i = function() {
            var t = new eui.VerticalLayout;
            return t.gap = 10,
            t.horizontalAlign = "center",
            t
        }
        ,
        r._Group2_i = function() {
            var t = new eui.Group;
            return t.width = 550,
            t.x = 0,
            t.y = 0,
            t.elementsContent = [this._Scroller1_i()],
            t
        }
        ,
        r._Scroller1_i = function() {
            var t = new eui.Scroller;
            return t.bottom = 15,
            t.bounces = !1,
            t.left = 15,
            t.maxHeight = 400,
            t.minHeight = 200,
            t.right = 15,
            t.top = 15,
            t.viewport = this._Group1_i(),
            t
        }
        ,
        r._Group1_i = function() {
            var t = new eui.Group;
            return t.layout = this._VerticalLayout1_i(),
            t.elementsContent = [this.textLabel_i()],
            t
        }
        ,
        r._VerticalLayout1_i = function() {
            var t = new eui.VerticalLayout;
            return t.paddingBottom = 5,
            t.paddingTop = 5,
            t.verticalAlign = "middle",
            t
        }
        ,
        r.textLabel_i = function() {
            var t = new solar.Label;
            return this.textLabel = t,
            t.anchorOffsetX = 0,
            t.fontFamily = "黑体",
            t.lineSpacing = 6,
            t.maxWidth = 520,
            t.size = 26,
            t.text = "Label",
            t.textAlign = "center",
            t.textColor = 5200233,
            t.verticalAlign = "middle",
            t.width = 520,
            t.wordWrap = !0,
            t.y = 10.35,
            t
        }
        ,
        r._Group5_i = function() {
            var t = new eui.Group;
            return this._Group5 = t,
            t.scaleX = .8,
            t.scaleY = .8,
            t.layout = this._HorizontalLayout1_i(),
            t.elementsContent = [this._Group3_i(), this._Group4_i()],
            t
        }
        ,
        r._HorizontalLayout1_i = function() {
            var t = new eui.HorizontalLayout;
            return t.gap = 40,
            t
        }
        ,
        r._Group3_i = function() {
            var t = new eui.Group;
            return this._Group3 = t,
            t.elementsContent = [this.noBtn_i()],
            t
        }
        ,
        r.noBtn_i = function() {
            var t = new solar.Button;
            return this.noBtn = t,
            t.horizontalCenter = 0,
            t.scaleX = 1,
            t.scaleY = 1,
            t.verticalCenter = 0,
            t.skinName = n,
            t
        }
        ,
        r._Group4_i = function() {
            var t = new eui.Group;
            return this._Group4 = t,
            t.elementsContent = [this.yesBtn_i()],
            t
        }
        ,
        r.yesBtn_i = function() {
            var t = new solar.Button;
            return this.yesBtn = t,
            t.horizontalCenter = 0,
            t.scaleX = 1,
            t.scaleY = 1,
            t.verticalCenter = 0,
            t.skinName = i,
            t
        }
        ,
        o
    }(eui.Skin), u = function(t) {
        function e() {
            t.call(this),
            this.skinParts = ["bg", "label"],
            this.width = 750,
            this.elementsContent = [this._Group1_i()],
            eui.Binding.$bindProperties(this, ["hostComponent.text"], [0], this.label, "text")
        }
        __extends(e, t);
        var n = e.prototype;
        return n._Group1_i = function() {
            var t = new eui.Group;
            return t.horizontalCenter = 0,
            t.y = 0,
            t.elementsContent = [this.bg_i(), this.label_i()],
            t
        }
        ,
        n.bg_i = function() {
            var t = new eui.Image;
            return this.bg = t,
            t.height = 36,
            t.left = 0,
            t.right = 0,
            t.scale9Grid = new egret.Rectangle(115,4,364,28),
            t.source = "bg_tooltips_1_png",
            t.verticalCenter = 0,
            t
        }
        ,
        n.label_i = function() {
            var t = new solar.Label;
            return this.label = t,
            t.anchorOffsetX = 0,
            t.fontFamily = "黑体",
            t.left = 30,
            t.right = 30,
            t.size = 26,
            t.stroke = 2,
            t.textAlign = "center",
            t.textColor = 13508897,
            t.verticalCenter = 0,
            t.wordWrap = !0,
            t
        }
        ,
        e
    }(eui.Skin), h = n(332);
    function l(t) {
        if (t) {
            var e = t.message
              , n = function(t) {
                if (s || (s = {
                    4: Object(r.tr)("common@repeatLogin")
                }),
                s.hasOwnProperty(t))
                    return s[t]
            }(t.status);
            return n && (e = n),
            [3, 6, 7, 9, 4].indexOf(t.status) > -1 ? {
                msg: e,
                isBreak: !0
            } : 5 == t.status ? {
                msg: e,
                handler: function() {
                    Object(r.getPlatComp)("reload").reload()
                }
            } : {
                msg: e,
                isBreak: !1
            }
        }
    }
    var p = function(t, e) {
        if (t) {
            var n = l(t);
            if (n && n.handler)
                return Object(r.confirm)({
                    no: "",
                    yes: Object(r.tr)("common@ok"),
                    showClose: !1,
                    text: n.msg
                }).then((function(t) {
                    t && n.handler()
                }
                )),
                x().close(),
                !0;
            if (n && n.isBreak)
                return Object(r.confirm)({
                    no: "",
                    yes: "",
                    showClose: !1,
                    text: n.msg
                }),
                x().close(),
                !0;
            n && !e && Object(r.tooltip)(n.msg)
        }
        return !1
    }
      , f = n(344);
    var d, b = n(234), g = (n(124),
    n(130)), _ = (d = function(t, e) {
        return (d = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        d(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), m = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e._prev = !1,
            e._timeId = null,
            e
        }
        return _(e, t),
        Object.defineProperty(e.prototype, "visible", {
            set: function(e) {
                var n = this;
                t.prototype.$setVisible.call(this, e),
                e != this._prev && (this._timeId && (this._timeId.dispose(),
                this._timeId = null),
                this.shapeGroup.visible = !1,
                e && g.b.isOpen("loadingBar") && (this._timeId = Object(r.setTimeout)((function() {
                    n.shapeGroup.visible = !0
                }
                ), this, 200)),
                this._prev = e)
            },
            enumerable: !0,
            configurable: !0
        }),
        e
    }(r.UIComponent);
    var y, v = n(134), O = n(113), j = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, w = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    };
    function x() {
        return y
    }
    var k = {
        show: function(t, e) {
            t.runOnSkinLoad((function() {
                var n;
                t.rect && (t.rect.alpha = 0,
                n = egret.Tween.get(t.rect).to({
                    alpha: 1
                }, 300)),
                t.contentNode && (t.contentNode.scaleX = t.contentNode.scaleY = .8,
                n = egret.Tween.get(t.contentNode).to({
                    scaleX: 1,
                    scaleY: 1
                }, 200, egret.Ease.backInOut)),
                n && e && n.call(e)
            }
            ))
        },
        hide: function(t, e) {
            e && e()
        }
    }
      , I = {
        show: function(t, e) {
            t.filters = [C()]
        },
        hide: function(t, e) {
            t.filters = []
        }
    }
      , P = null;
    function C() {
        return P || (P = new egret.ColorMatrixFilter([1, 0, 0, 0, 50, 0, 1, 0, 0, 50, 0, 0, 1, 0, 50, 0, 0, 0, 1, 0])),
        P
    }
    function S(t) {
        if (t) {
            var e = L()
              , n = A();
            e > 0 && (t.left = -e * n,
            t.right = -e * n)
        }
    }
    function R(t) {
        S(t),
        Object(b.a)(t)
    }
    var T = null;
    function L() {
        if (null != T)
            return T;
        var t = r.display.stageH / 1334;
        return T = (r.display.stageW - 750 * t) / 2
    }
    function A(t) {
        return t ? 1 / t.scaleX : 1 / (r.display.stageH / 1334)
    }
    var M = !1;
    function N() {
        return (!r.is.wx() || 1025236 != Object(O.a)("uId")) && M
    }
    function B(t, e, n, i) {
        return i ? {
            key: "" + t + i + "_" + n,
            v: "" + t + i + e + "_" + n
        } : {
            key: t + "_" + n,
            v: "" + t + e + "_" + n
        }
    }
    function E(t, e, n, i) {
        var o = [];
        if (!i)
            return o.push(B(t, e, n)),
            o;
        if (Array.isArray(i)) {
            for (var r = 0; r < i.length; r++)
                for (var a = i[r].min; a <= i[r].max; a++)
                    i[r].exceptArr && i[r].exceptArr.includes(a) || o.push(B(t, e, n, a));
            return o
        }
        for (a = i.min; a <= i.max; a++)
            i.exceptArr && i.exceptArr.includes(a) || o.push(B(t, e, n, a));
        return o
    }
    var D = null;
    function G(t) {
        return t
    }
    function V(t) {
        return j(this, void 0, void 0, (function() {
            return w(this, (function(e) {
                switch (e.label) {
                case 0:
                    return Object(r.errorHandler)(p),
                    r.style.tooltip.onlyOne = !0,
                    "1" == Object(r.getOption)("isDev") && r.Debug.enable({
                        h5: "vconsole"
                    }),
                    Object(r.setMaskViewFactory)((function() {
                        var t = new m;
                        return t.skinName = h.a,
                        r.UI.addTooltip(t),
                        t
                    }
                    )),
                    [4, Object(o.l)()];
                case 1:
                    return e.sent(),
                    "0" == Object(r.getOption)("sec") || "1" == Object(r.getOption)("sec") ? r.httputil.setSecurity("1" == Object(r.getOption)("sec")) : "release" == Object(r.getPlatform)().version && r.httputil.setSecurity(!0),
                    function(t) {
                        var e = this;
                        if (void 0 === t && (t = 18e5),
                        !r.is.xyx() && Object(r.getPlatComp)("reload").support && "bearjoy" != Object(r.getPlatform)().name) {
                            var n = 0;
                            r.display.getStage().then((function(i) {
                                i.addEventListener(egret.Event.ACTIVATE, (function() {
                                    var e = (new Date).getTime();
                                    e - n >= t ? (x().close(),
                                    Object(r.confirm)({
                                        text: Object(r.tr)("common@disconnect"),
                                        yes: Object(r.tr)("common@ok"),
                                        showClose: !1,
                                        no: ""
                                    }).then((function() {
                                        Object(r.getPlatComp)("reload").reload()
                                    }
                                    ))) : x().setAutoConnect(!0),
                                    n = e,
                                    console.log("activate")
                                }
                                ), e),
                                i.addEventListener(egret.Event.DEACTIVATE, (function() {
                                    n = (new Date).getTime(),
                                    x().setAutoConnect(!1),
                                    console.log("deactivate")
                                }
                                ), e)
                            }
                            ))
                        }
                    }(),
                    r.hooks.ui.register({
                        onAdd: function(t) {
                            t.componentType === r.ComponentType.Box && t.runOnSkinLoad((function() {
                                Object(f.a)(t),
                                Object(b.a)(t.commonBg),
                                t.rect2 && R(t.rect2),
                                t.rect && (t.tap("rect", (function() {
                                    r.UI.remove(t)
                                }
                                )),
                                R(t.rect))
                            }
                            ))
                        }
                    }),
                    r.res.setResAlias(function() {
                        if (Object(r.getOption)("xyx")) {
                            if (!D) {
                                M = !0;
                                var t = [{
                                    key: "bg_question_1_jpg",
                                    v: "bg_question_1_xyx_jpg"
                                }].concat(E("roll_full_xianding_", "_1", "png", {
                                    min: 2,
                                    max: 3
                                }), E("role_full_", "_xyx", "png", [{
                                    min: 1001,
                                    max: 1008,
                                    exceptArr: [1007]
                                }, {
                                    min: 1011,
                                    max: 1031
                                }, {
                                    min: 1041,
                                    max: 1041
                                }, {
                                    min: 1046,
                                    max: 1046
                                }]), E("role_half_", "_xyx", "png", {
                                    min: 1001,
                                    max: 1031,
                                    exceptArr: [1003, 1007, 1009, 1010, 1017, 1022, 1026, 1029]
                                }), E("role_NewHalf_", "_xyx", "png", [{
                                    min: 1011,
                                    max: 1013,
                                    exceptArr: [1012]
                                }, {
                                    min: 1018,
                                    max: 1018
                                }, {
                                    min: 1021,
                                    max: 1028,
                                    exceptArr: [1025, 1026]
                                }, {
                                    min: 1034,
                                    max: 1034
                                }, {
                                    min: 1037,
                                    max: 1037
                                }, {
                                    min: 1041,
                                    max: 1041
                                }, {
                                    min: 1046,
                                    max: 1046
                                }]), E("role_VHalf_", "_xyx", "png", [{
                                    min: 1041,
                                    max: 1041
                                }, {
                                    min: 1046,
                                    max: 1046
                                }]), E("role_NewSmallHalf_", "_xyx", "png", [{
                                    min: 1011,
                                    max: 1030,
                                    exceptArr: [1015, 1016, 1017, 1019, 1020, 1023, 1025, 1026, 1029]
                                }, {
                                    min: 1034,
                                    max: 1034
                                }, {
                                    min: 1037,
                                    max: 1037
                                }, {
                                    min: 1041,
                                    max: 1041
                                }, {
                                    min: 1046,
                                    max: 1046
                                }]), E("home_guanjia_npc", "_xyx", "png"), E("bg_guanzhuyouli_", "_xyx", "png", {
                                    min: 1,
                                    max: 1
                                }), E("bg_npc", "_xyx", "png"), E("bg_danlu", "_xyx", "png"), E("bg_jiusi", "_xyx", "png"), E("bg_wenfang", "_xyx", "png"), E("ingame_avatar_2_8-2_", "_xyx", "png", [{
                                    min: 1,
                                    max: 1
                                }, {
                                    min: 3,
                                    max: 3
                                }, {
                                    min: 5,
                                    max: 5
                                }, {
                                    min: 10,
                                    max: 10
                                }, {
                                    min: 101,
                                    max: 101
                                }, {
                                    min: 201,
                                    max: 202
                                }]), E("bg_jishi", "_xyx", "png"), E("bg_blackMarket_boss", "_xyx", "png"), E("img_girl_recharge", "_xyx", "png"))
                                  , e = {};
                                t.forEach((function(t) {
                                    e[t.key] = t.v
                                }
                                )),
                                D = e
                            }
                        } else
                            D || (D = {});
                        return D
                    }()),
                    "true" == Object(r.getOption)("debugMode") && r.httputil.setDebugMode(!0),
                    egret.ImageLoader.crossOrigin = "anonymous",
                    r.display.stage = t,
                    r.httputil.setSecurityKey("undefined"),
                    r.UI.setRoot(t),
                    r.style.confirm.skinName = c,
                    r.style.tooltip.skinName = u,
                    r.style.animation.button = I,
                    r.style.animation.box = k,
                    0 != Object(r.getOption)("shen") && r.is.ios() && r.is.xyx() && (r.style.label.fix = U),
                    r.hooks.button.register({
                        onClick: function(t) {
                            !function(t, e) {
                                void 0 === e && (e = !0),
                                Object(r.put)("btn_click", t)
                            }(t)
                        }
                    }),
                    y = new i.a(function() {
                        var t = {}
                          , e = function() {
                            var e = a[n];
                            "string" == typeof e ? t[n] = e : e.pf.forEach((function(n) {
                                t[n] = e.url
                            }
                            ))
                        };
                        for (var n in a)
                            e();
                        return {
                            loginList: t
                        }
                    }()),
                    "0" == Object(r.getLocalStorage)().getString("run", "0") && (Object(v.a)("first_open"),
                    Object(r.getLocalStorage)().setString("run", "1")),
                    function() {
                        var t = egret.localStorage.getItem("temporaryAudio");
                        if (!t || null == t)
                            return;
                        var e = JSON.parse(t);
                        e.music,
                        r.audio.on("music");
                        e.effect,
                        r.audio.on("effect")
                    }(),
                    [2]
                }
            }
            ))
        }
        ))
    }
    function U(t) {
        return t && "string" == typeof t && (t = t.replace(/商店|商城|充值|购买/g, (function(t) {
            return {
                "商店": "地摊",
                "商城": "集会",
                "充值": "获得",
                "购买": "兑换"
            }[t]
        }
        ))),
        t
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return o
    }
    )),
    n.d(e, "c", (function() {
        return r
    }
    )),
    n.d(e, "a", (function() {
        return a
    }
    ));
    var i = {
        1: 4949091,
        2: 4879017,
        3: 9460902,
        4: 13073702,
        5: 9129036
    };
    function o(t) {
        return t >= 1 && t <= 3 ? i[1] : t >= 4 && t <= 6 ? i[2] : t >= 7 && t <= 9 ? i[3] : t >= 10 && t <= 12 ? i[4] : i[5]
    }
    function r(t, e) {
        t.textColor = o("number" == typeof e ? e : e.quality)
    }
    function a(t) {
        return i[5 - t]
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return r
    }
    )),
    n.d(e, "b", (function() {
        return a
    }
    ));
    var i = n(113)
      , o = n(182);
    function r(t, e) {
        var n = function(t) {
            return t ? {
                text: o.a.DARK_GREEN
            } : {
                text: o.a.DARK_ORANGE
            }
        }(e);
        t.textColor = n.text
    }
    function a(t, e, n) {
        e == Object(i.a)("uId") ? t.textColor = o.a.GREEN : n && n == Object(i.a)("guildId") ? t.textColor = o.a.BLUE : t.textColor = o.a.DARK_ORANGE
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "d", (function() {
        return f
    }
    )),
    n.d(e, "b", (function() {
        return d
    }
    )),
    n.d(e, "a", (function() {
        return b
    }
    )),
    n.d(e, "c", (function() {
        return g
    }
    ));
    var i = n(1)
      , o = n(109)
      , r = n(116)
      , a = n(115);
    n(107);
    var s, c = n(112), u = n(111), h = n(137), l = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, p = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    };
    function f(t, e) {
        return void 0 === e && (e = !1),
        l(this, void 0, void 0, (function() {
            var n, s, l, f, d, b, g, _, m, y, v, O, j, w, x;
            return p(this, (function(p) {
                switch (p.label) {
                case 0:
                    if (Object(a.u)())
                        return Object(i.tooltip)(Object(i.tr)("main@isRecharge")),
                        [2];
                    if (n = Object(i.getPlatform)().name,
                    i.is.qqxyx() || "mengqi" == n || "awy" == n)
                        return Object(i.tooltip)(Object(i.tr)("main@noRecharge")),
                        [2];
                    if (console.log("===pay==="),
                    s = null,
                    s = "number" == typeof t ? {
                        id: t
                    } : t,
                    l = Object(i.getOption)("disabledPay"))
                        for (f = l.split(","),
                        d = 0; d < f.length; d++)
                            if (f[d] == s.id)
                                return k = "该充值档已暂时关闭，请稍后再试！",
                                I = void 0,
                                Object(i.tooltip)(k, I),
                                [2];
                    return [4, Object(o.a)("recharge_json")];
                case 1:
                    if (p.sent(),
                    b = Object(i.getConfig)("recharge_json"),
                    s.need || (s.need = b[s.id].recharge),
                    !(g = Object(c.d)("fsGiftRecharge")))
                        return [3, 5];
                    if (_ = u.a.getNow(),
                    !(g.start < _ && _ < g.end))
                        return [3, 5];
                    for (y in m = [],
                    g.l)
                        m.push(y);
                    v = 0,
                    p.label = 2;
                case 2:
                    return v < m.length ? (O = m[v],
                    j = g.end - _,
                    g.l[O].rechargeId == s.id && j <= 600 ? [4, Object(i.confirm)({
                        title: Object(i.tr)("common@tip"),
                        text: Object(i.tr)("main@xianpuTime", {
                            time: i.time.leftCountdown(j, "mm:ss")
                        }),
                        yes: Object(i.tr)("common@ok"),
                        showNo: !1,
                        showClose: !1
                    })] : [3, 4]) : [3, 5];
                case 3:
                    p.sent(),
                    p.label = 4;
                case 4:
                    return v++,
                    [3, 2];
                case 5:
                    return [4, Object(i.getPlatform)().payment(s)];
                case 6:
                    return (w = p.sent()) && 0 == w.result ? (Object(i.tooltip)(Object(i.tr)("main@payDone")),
                    (x = b[s.id]) && Object(h.j)(x)) : w && -10 == w.result ? Object(i.tooltip)(Object(i.tr)("main@payCancel")) : w && w.result && Object(i.tooltip)(Object(i.tr)("main@payFail")),
                    w.awds && !1 !== e && (e instanceof egret.DisplayObject ? r.a.show(w.awds, e) : r.a.show(w.awds)),
                    [2, w]
                }
                var k, I
            }
            ))
        }
        ))
    }
    function d(t, e, n) {
        void 0 === n && (n = !1);
        if (n) {
            if (Object(h.i)())
                return "$" + t[e + "_usd"];
            if ("gcathk" == Object(i.getPlatform)().name)
                return "NT$" + t[e + "_ntd"]
        }
        return t[e]
    }
    function b(t, e, n) {
        void 0 === n && (n = !1);
        return d(t, e, n)
    }
    function g(t, e, n) {
        void 0 === n && (n = !0);
        var o = Object(i.getCache)("gcaten_recharge_price");
        if (o) {
            var r = t.rechargeId;
            if (r || (r = t.id),
            n)
                return o[r];
            if (!o[r])
                return;
            var a = Number(o[r].replace(/[^0-9+\.]/gi, "")) * (t.priceRatio / 100);
            return Number(a.toFixed(2))
        }
        return b(t, e, !0)
    }
    !function(t) {
        t[t.zh_cn = 1] = "zh_cn",
        t[t.zh_hant = 2] = "zh_hant",
        t[t.zh_tw = 3] = "zh_tw",
        t[t.en_us = 4] = "en_us"
    }(s || (s = {}))
}
, function(t, e, n) {
    "use strict";
    n.d(e, "j", (function() {
        return o
    }
    )),
    n.d(e, "i", (function() {
        return r
    }
    )),
    n.d(e, "f", (function() {
        return a
    }
    )),
    n.d(e, "b", (function() {
        return s
    }
    )),
    n.d(e, "h", (function() {
        return c
    }
    )),
    n.d(e, "e", (function() {
        return u
    }
    )),
    n.d(e, "g", (function() {
        return h
    }
    )),
    n.d(e, "a", (function() {
        return l
    }
    )),
    n.d(e, "d", (function() {
        return p
    }
    )),
    n.d(e, "c", (function() {
        return f
    }
    ));
    var i = n(1);
    function o() {
        var t = Object(i.getPlatform)().name;
        return r() || "qqxyx" == t || Object(i.getOption)("isXyxPf")
    }
    function r() {
        var t = Object(i.getPlatform)().name;
        return "xiaoyouxi" == t || "modoxyx" == t || i.is.wx() || Object(i.getOption)("xyx")
    }
    function a() {
        var t = Object(i.getPlatform)().name;
        return "sipuRt" == t || "sipu" == t || Object(i.getOption)("sipu")
    }
    function s() {
        var t = Object(i.getPlatform)().name;
        return "gcatmlHtml" == t || "gcatml" == t || Object(i.getOption)("gcatml")
    }
    function c() {
        var t = Object(i.getPlatform)().name;
        return "union" == t || "gcatUnion" == t || "gcatUnionad" == t || Object(i.getOption)("union")
    }
    function u() {
        return r() || s() || c() || h()
    }
    function h() {
        return "bearjoy" == Object(i.getPlatform)().name || Object(i.getOption)("debugMode")
    }
    function l(t) {
        var e = Object(i.getPlatform)().name;
        return !!t && (!!(t.indexOf("oversea") > -1 && p()) || (t.indexOf("all") > -1 || (t.indexOf(",") > -1 ? t.split(",") : t).indexOf(e) > -1))
    }
    function p() {
        var t = Object(i.getPlatform)().name;
        return "gcathkAndroid1" == t || "gcathkIos1" == t || "gcatenAnd" == t || "gcatenIos" == t
    }
    function f() {
        var t = Object(i.getPlatform)().name;
        return "gcathkIos1" == t || "gcatenIos" == t
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return a
    }
    ));
    var i, o = n(1), r = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), a = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return r(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.des.textFlow = (new egret.HtmlTextParser).parser(t.log))
        }
        ,
        e
    }(o.Item)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return x
    }
    )),
    n.d(e, "b", (function() {
        return k
    }
    )),
    n.d(e, "d", (function() {
        return I
    }
    )),
    n.d(e, "c", (function() {
        return P
    }
    ));
    var i, o = n(1), r = n(165), a = n(129), s = n(134), c = n(109), u = n(114), h = n(107), l = n(116), p = n(137), f = n(115), d = n(158), b = n(113), g = n(112), _ = n(121), m = n(108), y = n(106), v = n(111), O = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), j = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, w = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, x = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "WatchAd8Skin"),
            e
        }
        return O(e, t),
        e.prototype.onReady = function() {
            Object(o.put)("stop_Hero_advert"),
            Object(o.on)("remove_advert_1", this.close, this),
            this.setState("xianpu"),
            this.tap("yesBtn", this.play, this),
            this.tap("skipBtn", this.sucessPlay, this),
            this.skipBtn.visible = u.e.hasEnough(20063, 1, !1);
            var t = Object(o.getConfig)("shareSwitch_json")[4]
              , e = Object(o.getCache)("XianPuWatch.getList");
            this.lbl_num.text = Object(o.tr)("main@watchNum", {
                num1: t.times - e.status,
                num2: t.times
            })
        }
        ,
        e.prototype.onExit = function() {}
        ,
        e.prototype.play = function() {
            Object(s.a)("game_video_xianpu"),
            Object(r.c)(this.sucessPlay, (function() {}
            ))
        }
        ,
        e.prototype.close = function() {
            o.UI.remove(this)
        }
        ,
        e.prototype.sucessPlay = function() {
            Object(o.getSocket)().request("at.sb").then((function(t) {
                o.cache.set("XianPuWatch.getList", t),
                a.b.show(t.awds),
                Object(o.put)("remove_advert_1"),
                Object(o.put)("refresh_Hero_advert"),
                Object(p.c)()
            }
            ))
        }
        ,
        e
    }(o.UIComponent), k = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "WatchAd8Skin"),
            e
        }
        return O(e, t),
        e.prototype.onReady = function() {
            this.setState("goodmorning"),
            this.tap("yesBtn", this.play, this),
            this.tap("skipBtn", this.skip, this),
            this.tap("noBtn", this.noPlay, this),
            this.skipBtn.visible = u.e.hasEnough(20063, 1, !1)
        }
        ,
        e.prototype.play = function() {
            this.isWatch = "yes",
            o.UI.remove(this)
        }
        ,
        e.prototype.skip = function() {
            this.isWatch = "skip",
            o.UI.remove(this)
        }
        ,
        e.prototype.noPlay = function() {
            this.isWatch = "no",
            o.UI.remove(this)
        }
        ,
        e
    }(o.UIComponent), I = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            return n._data = e,
            n._data.isIcon ? Object(o.setSkin)(n, "WatchAd7Skin") : Object(o.setSkin)(n, "WatchAd8Skin"),
            n
        }
        return O(e, t),
        e.prototype.onReady = function() {
            var t = this;
            this.setState(this._data.state),
            this.tap("yesBtn", this.play, this),
            this.tap("noBtn", this.close, this),
            this.tap("skipBtn", this.skip, this);
            var e = Object(o.getConfig)("shareSwitch_json")[this._data.confId];
            if (this._data.isIcon)
                if ("duJie" == this._data.type)
                    this.item.data = {
                        propId: Object(o.getConfig)("level_json")[Object(b.a)("lv")].useItemId,
                        num: 1
                    };
                else {
                    var n = Object(d.d)() ? "" : "2";
                    this.item.data = {
                        propId: e["reward" + n][0].itemId,
                        num: e["reward" + n][0].num
                    }
                }
            Object(o.on)("remove_advert_panel", this.close, this),
            this._data.text && Object(f.x)((function() {
                t.lbl_text.text = t._data.text
            }
            )),
            this.skipBtn.visible = u.e.hasEnough(20063, 1, !1);
            var i = Object(g.d)("shareSwitch").ids[this._data.type];
            this.lbl_num.text = Object(o.tr)("main@watchNum", {
                num1: i.num,
                num2: e.times
            })
        }
        ,
        e.prototype.play = function() {
            var t = this;
            this._data.confId && Object(u.l)(1) || Object(r.c)((function() {
                t.sucessPlay(t._data.type, t)
            }
            ), (function() {}
            ))
        }
        ,
        e.prototype.skip = function() {
            this.sucessPlay(this._data.type, this)
        }
        ,
        e.prototype.sucessPlay = function(t, e) {
            var n = e;
            Object(h.d)("at.ay", {
                label: t,
                cId: this._data.confId
            }).then((function(e) {
                if (e) {
                    switch (e.awds && l.a.show(e.awds),
                    Object(o.put)("refresh_advert_success", t),
                    o.UI.remove(n),
                    t) {
                    case "guildTask":
                        Object(s.a)("game_video_xianmengrenwu");
                        break;
                    case "xianFu":
                        Object(s.a)("game_video_yangmu");
                        break;
                    case "qiLing":
                        Object(s.a)("game_video_qiling");
                        break;
                    case "robe":
                        Object(s.a)("game_video_huanyige");
                        break;
                    case "home":
                        Object(s.a)("game_video_dongfu");
                        break;
                    case "fuDi":
                        Object(s.a)("game_video_fudilveduo");
                        break;
                    case "blackMarketTwo":
                        Object(s.a)("game_video_heishi");
                        break;
                    case "liLian":
                        Object(s.a)("game_video_menpaililian");
                        break;
                    case "xianGe":
                        Object(s.a)("game_video_xiange");
                        break;
                    case "blackMarket":
                        Object(s.a)("game_video_fangshi");
                        break;
                    case "yunXianChi":
                        Object(s.a)("game_video_yunxianchi");
                        break;
                    case "lingbao":
                        Object(s.a)("game_video_zhenbaogeshuaxin");
                        break;
                    case "cangjing":
                        Object(s.a)("game_video_cangjinggeshuaxin");
                        break;
                    case "xianyu":
                        Object(s.a)("game_video_lingyufangshuaxin");
                        break;
                    case "weiwang":
                        Object(s.a)("game_video_shengwangtangshuaxin");
                        break;
                    case "xianzhi":
                        Object(s.a)("game_video_xianshigeshuaxin");
                        break;
                    case "jingshu":
                        Object(s.a)("game_video_jingshugeshuaxin");
                        break;
                    case "qizhen":
                        Object(s.a)("game_video_qizhengeshuaxin");
                        break;
                    case "lingyu":
                        Object(s.a)("game_video_lingyugeshuaxin");
                        break;
                    case "shopRecharge":
                        Object(s.a)("game_video_lingyubi")
                    }
                    Object(p.c)()
                }
            }
            ))
        }
        ,
        e.prototype.close = function() {
            o.UI.remove(this)
        }
        ,
        e.show = function(t) {
            return j(this, void 0, void 0, (function() {
                return w(this, (function(n) {
                    switch (n.label) {
                    case 0:
                        return [4, Object(c.a)("shareSwitch_json")];
                    case 1:
                        return n.sent(),
                        o.UI.openBox(new e(t)),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent), P = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "WatchAd9Skin"),
            e
        }
        return O(e, t),
        e.prototype.onReady = function() {
            var t = this;
            this.tap("yesBtn", this.play, this),
            this.tap("noBtn", this.close, this),
            this.tap("skipBtn", this.skip, this),
            this.tab.itemRenderer = _.b,
            this.list.itemRenderer = PropListItem,
            this.disposeArr.push(new _.a({
                tab: this.tab,
                container: this.content,
                array: [{
                    text: Object(o.tr)("main@dailyResource"),
                    name: "43"
                }, {
                    text: Object(o.tr)("main@dailyProp"),
                    name: "44"
                }],
                onSelect: function(e) {
                    t.updateView(e)
                }
            }))
        }
        ,
        e.prototype.updateView = function(t) {
            var e = this;
            void 0 === t && (t = "43"),
            this.clear(),
            this.confId = t;
            var n = Object(o.getConfig)("shareSwitch_json")[t]
              , i = "43" == t ? "lingShanRes" : "lingShanItem"
              , r = Object(g.d)("shareSwitch").ids[i];
            Object(m.a)(this.list, n.reward),
            this.skipBtn.visible = u.e.hasEnough(20063, 1, !1),
            this.lbl_num.text = Object(o.tr)("main@watchNum", {
                num1: r.num,
                num2: n.times
            }),
            this.yesBtn.enabled = r.num > 0 && r.time <= v.a.getNow(),
            r.num > 0 && r.time > v.a.getNow() && !u.e.hasEnough(20063, 1, !1) ? this.timer = egret.setInterval((function() {
                r.time > v.a.getNow() ? e.yesBtn.label = v.a.timeStamp(r.time - v.a.getNow(), "MS") : e.updateView(t)
            }
            ), this, 1e3) : this.yesBtn.label = Object(o.tr)("main@receice")
        }
        ,
        e.prototype.play = function() {
            var t = this;
            Object(u.l)(1) || Object(r.c)((function() {
                var e = "43" == t.confId ? "lingShanRes" : "lingShanItem";
                t.sucessPlay(e, t)
            }
            ), (function() {}
            ))
        }
        ,
        e.prototype.skip = function() {
            var t = "43" == this.confId ? "lingShanRes" : "lingShanItem";
            this.sucessPlay(t, this)
        }
        ,
        e.prototype.sucessPlay = function(t, e) {
            var n = e;
            Object(h.d)("at.ay", {
                label: t,
                cId: this.confId
            }).then((function(e) {
                e && (e.awds && l.a.show(e.awds),
                Object(o.put)("refresh_advert_success", t),
                o.UI.remove(n))
            }
            ))
        }
        ,
        e.prototype.clear = function() {
            this.timer && egret.clearInterval(this.timer)
        }
        ,
        e.prototype.close = function() {
            o.UI.remove(this)
        }
        ,
        e.prototype.onExit = function() {
            this.clear()
        }
        ,
        e.show = function() {
            Object(y.a)(new e)
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return S
    }
    ));
    var i, o = n(1), r = n(126), a = n(108), s = n(121), c = n(162), u = n(111), h = n(120), l = n(110), p = n(106), f = n(112), d = n(153), b = n(140), g = n(117), _ = n(189), m = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), y = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            return 3 == e ? Object(o.setSkin)(n, "PanelCommonRankSkin3") : Object(o.setSkin)(n, "PanelCommonRankSkin1"),
            n
        }
        return m(e, t),
        e.prototype.onReady = function(t, e) {
            var n = this;
            this.list.itemRenderer = v;
            var i = Object(o.getConfig)(t.confName)[t.id];
            this.currentState = t.rankType == c.b.cross ? "kuafu" : "benfu",
            Object(a.a)(this.list, e.l),
            Object(_.a)(this.self, e.self);
            var r = Object(f.d)(t.id);
            this.RankName.text = i.name,
            this.rankingName.text = t.rankText,
            !r || r.end && u.a.isOver(r.end) ? this.gp_countdown.visible = !1 : this.disposeArr.push(new h.a({
                component: this.countLabel,
                endTime: r.end,
                complete: function() {
                    n.gp_countdown.visible = !1
                }
            }))
        }
        ,
        e.show = function(t, n) {
            Object(l.b)([c.a.getRankData(t)]).then((function(i) {
                Object(p.a)(new e(n), t, i[0])
            }
            ))
        }
        ,
        e
    }(o.UIComponent), v = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return m(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (t.sId ? this.currentState = "kuafu" : this.currentState = "benfu",
            Object(d.a)(this.img_top, this.lbl_top, t.rank),
            t.skin && Object(b.a)(this.head, t.skin),
            this.lbl_name.text = Object(g.c)(t.name),
            this.lbl_score && (this.lbl_score.text = t.score + ""),
            this.lbl_server && t.sId && (this.lbl_server.text = Object(g.k)(t.sId)))
        }
        ,
        e
    }(o.Item), O = n(113), j = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), w = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelCommonServerRankSkin"),
            e
        }
        return j(e, t),
        e.prototype.onReady = function(t, e) {
            var n = this;
            this.list.itemRenderer = x;
            var i = Object(o.getConfig)(t.confName)[t.id];
            Object(a.a)(this.list, e.l);
            var r = Object(f.d)(t.id);
            this.RankName.text = i.name,
            this.rankingName.text = t.rankText,
            this.lbl_ourGuild.text = Object(g.j)(Object(O.a)("sId")),
            this.lbl_ourRank.text = e.self.rank,
            this.rankingName_2.text = "",
            this.lbl_ourScore.text = e.self.score,
            !r || r.end && u.a.isOver(r.end) ? this.gp_countdown.visible = !1 : this.disposeArr.push(new h.a({
                component: this.countLabel,
                trKey: function(t) {
                    var e = t % 3600 / 60 | 0
                      , n = t % 3600 % 60;
                    return e < 10 && (e = "0" + e),
                    n < 10 && (n = "0" + n),
                    (t / 3600 | 0) + ":" + e + ":" + n
                },
                endTime: r.end,
                complete: function() {
                    n.gp_countdown.visible = !1
                }
            }))
        }
        ,
        e.show = function(t) {
            Object(l.b)([c.a.getRankData(t)]).then((function(n) {
                Object(p.a)(new e, t, n[0])
            }
            ))
        }
        ,
        e
    }(o.UIComponent), x = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return j(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (Object(d.a)(this.img_top, this.lbl_top, t.rank),
            this.lbl_score && (this.lbl_score.text = t.score + ""),
            this.lbl_guildName && t.sId && (this.lbl_guildName.text = t.sId))
        }
        ,
        e
    }(o.Item), k = n(204), I = n(308), P = n(135), C = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), S = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            return n.rankSkinType = e,
            Object(o.setSkin)(n, "PanelCommonRankRewardSkin1"),
            n
        }
        return C(e, t),
        e.prototype.onReady = function(t, e) {
            var n = this;
            this._info = e,
            t && (this.lbl_title.text = t),
            this.tab.itemRenderer = s.b,
            this.list.itemRenderer = R,
            Array.isArray(e) ? this.disposeArr.push(new s.a({
                tab: this.tab,
                array: e,
                onSelect: function(t) {
                    return n.updateList(t),
                    !0
                }
            })) : (Object(a.a)(this.list, c.a.getRewardData(e.id, e.confName, e.turn)),
            this.updateRankInfo(e)),
            this.tap("btn_rank", this.onRank, this),
            this.tap("btn_group", this.onGroup, this);
            var i = o.Movie.create("tybiaoti_1_ske_json");
            i.touchEnabled = !1,
            i.x = 1,
            i.y = -2,
            i.scaleY = .9,
            i.play("1"),
            this.animeNode.addChild(i),
            this.disposeArr.push(i)
        }
        ,
        e.prototype.updateList = function(t) {
            var e = this
              , n = this.tab.selectedItem;
            if (n && n.name == t) {
                var i = "ItemCommonRankRewardSkin2"
                  , r = R;
                [c.b.guildCross, c.b.guild, c.b.teamSwords].indexOf(n.rankType) > -1 && (i = "ItemGuildRankRewardSkin",
                r = T),
                Object(o.setSkin)(this.list, i, (function() {
                    if (e.list.itemRenderer = r,
                    !n.turn) {
                        var t = Object(f.d)(n.id);
                        n.turn = t && t.cId ? t.cId : 1
                    }
                    var i = c.a.getRewardData(n.id, n.confName, n.turn);
                    for (var o in i)
                        n.title1 && (i[o].c.title1 = n.title1),
                        n.title2 && (i[o].c.title2 = n.title2);
                    Object(a.a)(e.list, i, {
                        resetScrollerHV: !0
                    }),
                    e.btn_group.includeInLayout = e.btn_group.visible = n.rankType == c.b.server || n.rankType == c.b.cross || n.rankType == c.b.guildCross,
                    e.updateRankInfo(n)
                }
                ))
            }
        }
        ,
        e.prototype.updateRankInfo = function(t) {
            var e = this;
            c.a.getRankData(t).then((function(t) {
                e.RankNum.text = t.self.rank ? Object(o.tr)("main@myRanking", {
                    n: t.self.rank
                }) : Object(o.tr)("main@rankNo")
            }
            ))
        }
        ,
        e.prototype.onRank = function() {
            var t = this.tab.selectedItem || this._info;
            if (t && t.id)
                switch (t.rankType) {
                case c.b.server:
                    w.show(t);
                    break;
                case c.b.teamSwords:
                    P.a.openNewGuildRank(t.id, "Exp", {
                        conf: "festivalActivity_json",
                        actName: "teamSwordFly",
                        desc2: Object(o.tr)("main@team_Score"),
                        myDesc: Object(o.tr)("main@team_myTeam"),
                        rankDesc: Object(o.tr)("main@team_rank"),
                        nameDesc: Object(o.tr)("main@team_name")
                    });
                    break;
                case c.b.guild:
                case c.b.guildCross:
                    I.b.show(t);
                    break;
                default:
                    y.show(t, this.rankSkinType)
                }
        }
        ,
        e.prototype.onGroup = function() {
            var t = this.tab.selectedItem || this._info;
            t && t.id && k.a.show(t.id)
        }
        ,
        e.show = function(t, n, i) {
            o.UI.openBox(new e(i), t, n)
        }
        ,
        e
    }(o.UIComponent), R = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return C(e, t),
        e.prototype.onReady = function() {
            this.list.itemRenderer = r.a
        }
        ,
        e.prototype.onDataUpdate = function(t) {
            t && t.c && (this.lbl_top.text = t.rankLabel,
            Object(a.a)(this.list, t.c.awards))
        }
        ,
        e
    }(o.Item), T = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return C(e, t),
        e.prototype.onReady = function() {
            this.list1.itemRenderer = r.a,
            this.list2.itemRenderer = r.a
        }
        ,
        e.prototype.onDataUpdate = function(t) {
            t && t.c && (this.lbl_top.text = t.rankLabel,
            this.lbl_title1.text = t.title1,
            this.lbl_title2.text = t.title2,
            Object(a.a)(this.list1, t.c.awards),
            Object(a.a)(this.list2, t.c.awards2))
        }
        ,
        e
    }(o.Item)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return i
    }
    )),
    n.d(e, "a", (function() {
        return h
    }
    ));
    var i, o, r = n(111), a = n(107), s = n(112), c = n(1);
    !function(t) {
        t[t.inside = 0] = "inside",
        t[t.cross = 1] = "cross",
        t[t.server = 2] = "server",
        t[t.guild = 3] = "guild",
        t[t.guildCross = 4] = "guildCross",
        t[t.teamSwords = 5] = "teamSwords"
    }(i || (i = {})),
    function(t) {
        t[t.panel = 1] = "panel",
        t[t.full = 3] = "full"
    }(o || (o = {}));
    var u = function() {
        function t(t) {
            this.c = t,
            this._honor = void 0
        }
        return Object.defineProperty(t.prototype, "title1", {
            get: function() {
                return this.c.title1 ? Object(c.tr)(this.c.title1) : Object(c.tr)("main@role1")
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "title2", {
            get: function() {
                return this.c.title2 ? Object(c.tr)(this.c.title2) : Object(c.tr)("main@role4")
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "rankLabel", {
            get: function() {
                return this._rankLabel || (this.c.param1 == this.c.param2 ? this._rankLabel = Object(c.tr)("main@rankTop", {
                    n: this.c.param1
                }) : this.c.param1 && !this.c.param2 ? this._rankLabel = Object(c.tr)("main@afterRank", {
                    n: this.c.param1
                }) : this._rankLabel = Object(c.tr)("main@otherRank", {
                    n1: this.c.param1,
                    n2: this.c.param2
                })),
                this._rankLabel
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "honor", {
            get: function() {
                if (1 == this.c.param1 && null == this._honor) {
                    var t = Object(c.getConfig)("fashion_json");
                    if (t)
                        for (var e in t)
                            if ("maRank" == t[e].condition && t[e].value == this.c.param1) {
                                this._honor = t[e];
                                break
                            }
                    this._honor || (this._honor = null)
                }
                return this._honor
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , h = function() {
        function t() {}
        return t.getRewardData = function(t, e, n) {
            if (!this.rewardData[t]) {
                this.rewardData[t] = [],
                n || (n = Object(s.d)(t).cId || 1);
                var i = Object(s.f)(t, n, e);
                if (i)
                    for (var o = 0; o < i.detail.length; o++)
                        this.rewardData[t].push(new u(i.detail[o]))
            }
            return this.rewardData[t]
        }
        ,
        t.getRankData = function(t) {
            var e = this;
            return t.rankType != i.guildCross && t.rankType != i.server && this.rankData[t.id] && !r.a.isOver(this.rankData[t.id].ext) ? Promise.resolve(this.rankData[t.id]) : Object(a.d)(t.rankType == i.server ? "r.c" : "r.a", {
                type: t.id
            }).then((function(n) {
                if (n)
                    return e.rankData[t.id] = n,
                    n
            }
            ))
        }
        ,
        t.getRankGroup = function(t) {
            var e = this;
            return this.groupData[t] ? Promise.resolve(this.groupData[t]) : Object(a.d)("r.f", {
                type: t
            }).then((function(n) {
                if (n)
                    return e.groupData[t] = n,
                    n
            }
            ))
        }
        ,
        t.rewardData = {},
        t.rankData = {},
        t.groupData = {},
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return s
    }
    )),
    n.d(e, "a", (function() {
        return c
    }
    ));
    var i = n(127)
      , o = n(111)
      , r = n(112)
      , a = n(1)
      , s = function() {
        function t(t, e, n) {
            this.actId = t,
            this.c = e,
            this.exActId = n,
            this.updateWeal(),
            Object(a.on)("refresh_funOpen", this.updateWeal, this)
        }
        return Object.defineProperty(t.prototype, "actData", {
            get: function() {
                return Object(r.d)(this.actId)
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "p", {
            get: function() {
                return Object(i.f)(this.actId, this.c.id)
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "ex", {
            get: function() {
                if (!this.exActId)
                    return null;
                var t, e, n = Object(r.f)(this.exActId, 1), i = Object(r.d)(this.exActId), a = i ? i.l : null;
                if (a && a.length)
                    for (var s = 0; s < a.length; s++)
                        if (a[s].rechargeId == this.c.rechargeId && a[s].time > o.a.getNow()) {
                            t = a[s].time;
                            for (var c = 0; c < n.detail.length; c++)
                                n.detail[c].uniqId == a[s].id && (e = n.detail[c]);
                            break
                        }
                return {
                    time: t,
                    confDetail: e
                }
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.updateWeal = function(t) {
            if (!t || t == this.actId) {
                var e = !1
                  , n = this.actData
                  , i = n ? n.l : null
                  , r = o.a.getNow();
                if (i && i.length)
                    for (var a = 0; a < i.length; a++)
                        if (i[a].rechargeId == this.c.rechargeId && i[a].time > r) {
                            this._endTime = i[a].time,
                            this._weal = !0,
                            e = !0;
                            break
                        }
                e || (this._endTime = 0,
                this._weal = !1)
            }
        }
        ,
        Object.defineProperty(t.prototype, "endTime", {
            get: function() {
                return this._endTime
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "weal", {
            get: function() {
                return !!(this._weal && this._endTime > o.a.getNow())
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , c = function() {
        function t(t, e) {
            this.actId = t,
            this.c = e
        }
        return Object.defineProperty(t.prototype, "p", {
            get: function() {
                return this._p = Object(i.f)(this.actId, this.c.id),
                this._p || {
                    limit: 0,
                    num: 0
                }
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "actData", {
            get: function() {
                return Object(r.d)(this.actId)
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }();
    !function() {
        function t() {
            this._actGifts = {}
        }
        t.prototype.getActGifts = function(t, e, n) {
            return void 0 === n && (n = 1),
            this._actGifts[t] || (this._actGifts[t] = Object(i.e)(t, n, e).detail.map((function(e) {
                return new s(t,e)
            }
            ))),
            this._actGifts[t]
        }
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return i
    }
    )),
    n.d(e, "a", (function() {
        return o
    }
    )),
    n.d(e, "c", (function() {
        return r
    }
    )),
    n.d(e, "d", (function() {
        return l
    }
    )),
    n.d(e, "f", (function() {
        return p
    }
    )),
    n.d(e, "e", (function() {
        return f
    }
    ));
    var i, o, r, a = n(329), s = n(1), c = n(113);
    !function(t) {
        t[t.gender = 0] = "gender",
        t[t.hair = 1] = "hair",
        t[t.face = 2] = "face",
        t[t.eyebrow = 3] = "eyebrow",
        t[t.eye = 4] = "eye",
        t[t.nose = 5] = "nose",
        t[t.mouth = 6] = "mouth",
        t[t.decorate = 7] = "decorate",
        t[t.clothing = 8] = "clothing",
        t[t.beard = 9] = "beard",
        t[t.cfacial = 10] = "cfacial",
        t[t.head = 11] = "head",
        t[t.fazhen = 12] = "fazhen",
        t[t.uid = 13] = "uid",
        t[t.title = 14] = "title",
        t[t.hideHair = 15] = "hideHair",
        t[t.clothHair = 100] = "clothHair"
    }(i || (i = {})),
    function(t) {
        t[t.pig = 1] = "pig",
        t[t.hideClothHair = 2] = "hideClothHair"
    }(o || (o = {})),
    function(t) {
        t[t.male = 1] = "male",
        t[t.female = 2] = "female"
    }(r || (r = {}));
    var u = [2, 1, 1, 1, 1, 1, 1, 1, 1]
      , h = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
      , l = {
        1: 5,
        7: 6
    };
    function p() {
        for (var t = [], e = 0; e < arguments.length; e++)
            t[e] = arguments[e];
        var n = t[0]
          , i = t[1]
          , o = void 0;
        if (t[2] && (o = t[2]),
        !l[i])
            return null;
        var r = Object(s.getConfig)("fashion_json")
          , a = [];
        if (i = l[i])
            for (var c in r) {
                var u = r[c];
                if (u.type == i && u.gender == n) {
                    if (o == u.icon)
                        return u;
                    a.push(u)
                }
            }
        return void 0 !== o ? null : a
    }
    function f(t, e) {
        var n, o;
        void 0 === t && (t = null),
        void 0 === e && (e = !1),
        null == t && (t = s.numbers.getRandomInt(1, 2)),
        t == r.male ? (n = h.concat(),
        o = a.male) : (n = u.concat(),
        o = a.female);
        var l = function() {
            for (var r = [], a = 1; a <= o[f]; a++)
                r.push(a);
            if (e) {
                var u = p(t, i[f]);
                u && u.forEach((function(t) {
                    return Object(c.a)("fashion.has").indexOf(t.id) > -1 && r.push(parseInt(t.icon))
                }
                ))
            }
            var h = r[s.numbers.getRandomInt(0, r.length - 1)]
              , l = i[f];
            n[l] = h
        };
        for (var f in o)
            l();
        return n
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return b
    }
    )),
    n.d(e, "a", (function() {
        return g
    }
    )),
    n.d(e, "c", (function() {
        return _
    }
    ));
    var i, o = n(1), r = n(113), a = n(112), s = n(111), c = n(115), u = n(134), h = n(158), l = n(130), p = function() {
        return (p = Object.assign || function(t) {
            for (var e, n = 1, i = arguments.length; n < i; n++)
                for (var o in e = arguments[n])
                    Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
            return t
        }
        ).apply(this, arguments)
    }, f = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, d = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    };
    function b(t, e) {
        if (console.log("shareType:" + Object(o.getPlatform)().getConstant("shareType")),
        "fb" == Object(o.getPlatform)().getConstant("shareType"))
            Object(o.getPlatform)().share(p({
                sharePlatform: "fb",
                shareType: "photo",
                photo: ""
            }, t)).then((function() {
                console.log("分享then"),
                e && (Object(o.tooltip)(Object(o.tr)("main@shareSucc")),
                e("success"))
            }
            )).catch((function(t) {
                console.log("分享catch:" + t),
                e && e(t)
            }
            ));
        else if ("fly" == Object(o.getPlatform)().getConstant("shareType")) {
            var n = {
                type: 0,
                extra: {
                    share_title: Object(o.tr)("main@imgShareTitle"),
                    share_msg: Object(o.tr)("main@imgShareText"),
                    share_imgurl: t,
                    share_targeturl: "https://url.gm88.com/fJp8n"
                }
            };
            egret.ExternalInterface.call("doShare", JSON.stringify(n))
        } else
            Object(o.getPlatform)().share(p({
                type: "base",
                query: "sharefrom=" + Object(r.a)("uId"),
                imageUrlId: "ge31IS_-QJioZvksQuFirg"
            }, t)),
            e && (e("success"),
            Object(u.a)("gift_share"))
    }
    function g(t, e) {
        var n = Object(o.getConfig)("shareSwitch_json")[t];
        if (n) {
            var i = n.platform
              , r = Object(a.d)("shareSwitch");
            return !!(r && r.ids[e] && i && l.b.isOpen("advert")) && (r.ids[e].num > 0 && s.a.getNow() > r.ids[e].time && Object(h.a)(i))
        }
    }
    function _(t, e, n) {
        return void 0 === n && (n = "adunit-3ecae1c5361b80ab"),
        f(this, void 0, void 0, (function() {
            var e, i;
            return d(this, (function(r) {
                switch (r.label) {
                case 0:
                    if ("local" == Object(o.getOption)("gv") || "dev" == Object(o.getOption)("gv") || "beta" == Object(o.getOption)("gv"))
                        return t("success"),
                        [2];
                    if ("gcathkAndroid1" == Object(o.getPlatform)().name) {
                        if (Object(c.q)(1e4))
                            return console.log("chatCD"),
                            [2];
                        if (Object(o.getPlatform)().isAdvert)
                            return console.log("isAdvert"),
                            [2]
                    }
                    return [4, Object(o.getPlatform)().isSupport("videoAdvert")];
                case 1:
                    return r.sent() ? [4, Object(o.getPlatform)().getVideoAdvert({
                        adUnitId: n
                    })] : (Object(o.tooltip)(Object(o.tr)("main@vertooOld")),
                    [2]);
                case 2:
                    return [4, (e = r.sent()).show()];
                case 3:
                    return i = r.sent(),
                    console.log("测试" + i),
                    i ? (console.log("测试激励"),
                    t && t("success")) : (console.log("播放失败标识:" + e.isError),
                    e.isError ? "gcathkAndroid1" == Object(o.getPlatform)().name || "gcatenAnd" == Object(o.getPlatform)().name ? Object(o.tooltip)(Object(o.tr)("main@noAdvert")) : Object(o.tooltip)(Object(o.tr)("main@needwatchover")) : (Object(o.tooltip)(Object(o.tr)("main@needwatchover")),
                    "gcathkAndroid1" == Object(o.getPlatform)().name || "gcatenAnd" == Object(o.getPlatform)().name ? Object(o.tooltip)(Object(o.tr)("main@needwatchover")) : Object(o.tooltip)(Object(o.tr)("main@noAdvert")))),
                    [2]
                }
            }
            ))
        }
        ))
    }
    !function(t) {
        t[t.none = -1] = "none",
        t[t.offline = 4] = "offline",
        t[t.diamond = 5] = "diamond",
        t[t.identity = 6] = "identity",
        t[t.newhero = 7] = "newhero"
    }(i || (i = {}))
}
, function(t, e, n) {
    "use strict";
    n.d(e, "c", (function() {
        return i
    }
    )),
    n.d(e, "b", (function() {
        return f
    }
    )),
    n.d(e, "a", (function() {
        return d
    }
    )),
    n.d(e, "g", (function() {
        return b
    }
    )),
    n.d(e, "d", (function() {
        return _
    }
    )),
    n.d(e, "e", (function() {
        return m
    }
    )),
    n.d(e, "k", (function() {
        return y
    }
    )),
    n.d(e, "h", (function() {
        return v
    }
    )),
    n.d(e, "i", (function() {
        return O
    }
    )),
    n.d(e, "f", (function() {
        return j
    }
    )),
    n.d(e, "j", (function() {
        return w
    }
    ));
    var i, o = n(1), r = n(113), a = n(111), s = n(159), c = n(108), u = n(142), h = n(170), l = n(117), p = n(114);
    !function(t) {
        t[t.common = 0] = "common",
        t[t.union = 20] = "union",
        t[t.union_wel = 21] = "union_wel",
        t[t.union_qingan = 22] = "union_qingan",
        t[t.home = 30] = "home",
        t[t.home_reading = 31] = "home_reading",
        t[t.home_danMake = 32] = "home_danMake",
        t[t.home_danSuccess = 33] = "home_danSuccess",
        t[t.home_danFail = 38] = "home_danFail",
        t[t.home_qiMake = 34] = "home_qiMake",
        t[t.home_qiSuccess = 35] = "home_qiSuccess",
        t[t.home_qiFail = 39] = "home_qiFail",
        t[t.home_resUp = 36] = "home_resUp",
        t[t.home_shuangxiu = 37] = "home_shuangxiu",
        t[t.homeDaolv = 50] = "homeDaolv",
        t[t.arena = 60] = "arena",
        t[t.arena_watch = 61] = "arena_watch",
        t[t.menpai = 70] = "menpai",
        t[t.menpai_fa = 80] = "menpai_fa",
        t[t.menpai_beast = 90] = "menpai_beast",
        t[t.menpai_al = 130] = "menpai_al",
        t[t.menpai_shop = 140] = "menpai_shop",
        t[t.menpai_hall = 150] = "menpai_hall",
        t[t.menpai_sidao = 170] = "menpai_sidao",
        t[t.tianmen = 100] = "tianmen",
        t[t.godHonor = 110] = "godHonor",
        t[t.raid = 120] = "raid",
        t[t.youli = 160] = "youli",
        t[t.yiji = 180] = "yiji",
        t[t.guild = 190] = "guild",
        t[t.guild_battle = 191] = "guild_battle",
        t[t.fudi = 200] = "fudi",
        t[t.holOccupy = 210] = "holOccupy",
        t[t.teamSwordFly = 211] = "teamSwordFly",
        t[t.treasure = 999] = "treasure"
    }(i || (i = {}));
    var f = function() {
        function t(t, e) {
            this.type = t,
            this.p = e
        }
        return Object.defineProperty(t.prototype, "log", {
            get: function() {
                return this._log || (this._log = Object(o.singleton)(d).formatLog(this.type, this.p)),
                this._log
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , d = function() {
        function t() {
            this._logDic = {}
        }
        return Object.defineProperty(t, "ins", {
            get: function() {
                return Object(o.singleton)(t)
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "year", {
            get: function() {
                return Object(o.tr)("main@years", {
                    num: Object(r.a)("yt")
                })
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.parse = function(t) {
            var e;
            if (e = {},
            t.hasOwnProperty("year") ? e.year = Object(o.tr)("main@years", {
                num: t.year
            }) : e.year = Object(o.tr)("main@years", {
                num: Object(r.a)("yt")
            }),
            t.hasOwnProperty("level")) {
                var n = Object(o.getConfig)("level_json")[t.level];
                e.level = Object(o.tr)(n.name)
            }
            return t.hasOwnProperty("name") && (e.name = Object(o.tr)(t.name)),
            e
        }
        ,
        t.prototype.getLogVar = function(t, e) {
            var n;
            switch (n = {},
            t) {
            case i.union:
            case i.union_wel:
                n = {
                    name: Object(o.tr)(e.name),
                    talk: Object(o.tr)(e.talk, {
                        user: Object(r.a)("uNa")
                    })
                };
                break;
            case i.union_qingan:
                n = {
                    name: Object(r.a)("uNa"),
                    npc: Object(o.tr)(e.npc)
                };
                break;
            case i.home_shuangxiu:
                e.rt && (n.year = e.rt),
                e.did && (parseInt(e.did) > 1e4 ? n.name = Object(r.a)("uNa") : n.name = Object(o.tr)(Object(o.getConfig)("npc_json")[Object(o.getConfig)("daoLvNpc_json")[e.did].npcId].name)),
                e.toDid && (parseInt(e.toDid) > 1e4 ? n.name2 = Object(r.a)("uNa") : n.name2 = Object(o.tr)(Object(o.getConfig)("npc_json")[Object(o.getConfig)("daoLvNpc_json")[e.toDid].npcId].name)),
                e.add && (n.add = 10 == e.type || 11 == e.type ? e.add / 100 + "%" : e.add),
                e.dec && (n.dec = e.dec);
                break;
            default:
                n = this.parse(e)
            }
            return n
        }
        ,
        t.prototype.formatColor = function(t) {
            return t.indexOf("</font>") < 0 && (t = (t = (t = (t = (t = t.replace(/{year}/g, "【<font color=#C77D26>" + Object(o.tr)("main@years", {
                num: "{year}"
            }) + "</font>】")).replace(/{user}/g, "<font color=#CE2121>{user}</font>")).replace(/{add}/g, "<font color=#4B8463>{add}</font>")).replace(/{dec}/g, "<font color=#CE2121>{dec}</font>")).replace(/{name\d*}/g, (function(t) {
                return "<font color=#CE2121>" + t + "</font>"
            }
            ))),
            t
        }
        ,
        t.prototype.formatLog = function(t, e) {
            var n = "";
            switch (t) {
            case i.common:
                n = Object(o.tr)(e.content, this.getLogVar(t, e));
                break;
            case i.union:
            case i.union_wel:
                n = Object(o.tr)("union@welLog", this.getLogVar(t, e));
                break;
            case i.union_qingan:
                n = Object(o.tr)("union@qingan", this.getLogVar(t, e));
                break;
            case i.home_shuangxiu:
                n = Object(u.o)(e.type, this.getLogVar(t, e));
                break;
            case i.home_reading:
                n = Object(o.tr)("nest@log_reading", {
                    year: this.year,
                    name: e.name
                });
                break;
            case i.home_danMake:
                n = Object(o.tr)("nest@log_danMake", {
                    year: this.year
                });
                break;
            case i.home_danSuccess:
                n = Object(o.tr)("nest@log_danSuccess", {
                    year: this.year,
                    name: e.name
                });
                break;
            case i.home_danFail:
                n = Object(o.tr)("nest@log_danFail", {
                    year: this.year,
                    name: e.name
                });
                break;
            case i.home_qiMake:
                n = Object(o.tr)("nest@log_qiMake", {
                    year: this.year
                });
                break;
            case i.home_qiSuccess:
                n = Object(o.tr)("nest@log_qiSucces", {
                    year: this.year,
                    name: e.name
                });
                break;
            case i.home_qiFail:
                n = Object(o.tr)("nest@log_qiFail", {
                    year: this.year,
                    name: e.name
                });
                break;
            case i.home_resUp:
                n = Object(o.tr)("nest@log_resUp", {
                    year: this.year,
                    name: e.name,
                    num: e.num
                });
                break;
            case i.arena_watch:
                n = Object(o.tr)(e.format, {
                    user: Object(r.a)("uNa"),
                    name: e.name
                });
                break;
            case i.menpai_beast:
                n = Object(o.tr)(this.formatColor(Object(o.tr)(e.content)), e);
                break;
            case i.tianmen:
            case i.godHonor:
                n = Object(o.tr)(this.formatColor(Object(o.tr)(e.content)), {
                    user: e.user ? e.user : Object(r.a)("uNa"),
                    name: e.name,
                    year: e.year ? e.year : Object(r.a)("yt"),
                    add: "+" + e.add,
                    dec: e.dec,
                    num: e.num
                });
                break;
            default:
                n = JSON.stringify(e)
            }
            return n
        }
        ,
        t.prototype.getLogKey = function(t) {
            return "log_" + i[t]
        }
        ,
        t.prototype.addLog = function(e, n, i, r) {
            void 0 === i && (i = 4);
            var s = ""
              , c = this.getLogKey(e);
            this._logDic[c] || (this._logDic[c] = []);
            var u = this._logDic[c];
            u.push(n instanceof f ? n : new f(r || e,n));
            for (var h = Math.max(0, u.length - i); h < u.length; h++)
                s += u[h].log,
                h < u.length - 1 && (s += "|");
            Object(o.getLocalStorage)().setString(c, s),
            Object(o.put)(t.getPutType(e)),
            Object(o.getLocalStorage)().setInt(c + "_t", a.a.getNow(!1))
        }
        ,
        t.prototype.getLogs = function(t, e, n) {
            var r = this.getLogKey(t);
            n && (Object(o.getLocalStorage)().getInt(r + "_t") < new Date(a.a.getNow(!1)).setHours(0, 0, 0, 0) && Object(o.getLocalStorage)().setString(r, ""));
            if (!this._logDic[r]) {
                var s = this._logDic[r] = []
                  , c = Object(o.getLocalStorage)().getString(r);
                if (c && "" != c)
                    for (var u = 0, h = c.split("|"); u < h.length; u++) {
                        var l = h[u];
                        s.push(new f(i.common,{
                            content: l
                        }))
                    }
                if (s.length < 3 && e) {
                    for (var p = 0; p < e.length; p++)
                        e[p]instanceof f || (e[p] = new f(i.common,{
                            content: e[p]
                        }));
                    this._logDic[r] = e.concat(s)
                }
            }
            return this._logDic[r]
        }
        ,
        t.prototype.clearLog = function(t) {
            var e = this.getLogKey(t);
            this._logDic[e] = null,
            Object(o.getLocalStorage)().setString(e, "")
        }
        ,
        t.getPutType = function(t) {
            return "update_log_" + i[t]
        }
        ,
        t
    }();
    function b(t, e, n) {
        t.list_log && (t.list_log.itemRenderer = s.a),
        t.logs = Object(o.singleton)(d).getLogs(e, n),
        g.apply(t),
        t.on(d.getPutType(e), g, t)
    }
    function g() {
        this.list_log && this.logs && Object(c.a)(this.list_log, this.logs, {
            smart: !0
        })
    }
    function _(t) {
        var e = JSON.parse(Object(o.getLocalStorage)().getString(t, "{}"))
          , n = [];
        for (var i in e)
            n.push(e[i]);
        return n
    }
    function m() {
        var t = JSON.parse(Object(o.getLocalStorage)().getString("raidLog", "{}"))
          , e = []
          , n = [];
        for (var i in t)
            e.push(t[i]);
        if (e.length <= 3) {
            for (var r = e.length, s = 3; s >= r + 1; s--)
                e.unshift({
                    year: Object(o.singleton)(h.a).year,
                    time: a.a.nowDay(),
                    type: "raidSaohua" + s
                });
            n = e
        } else
            for (var c = e.length - 4; c < e.length; c++)
                n.push(e[c]);
        return Object(o.getLocalStorage)().setString("raidLog", JSON.stringify(n)),
        e
    }
    function y(t) {
        var e = Object(u.c)(t.t);
        e = e.replace("{year}", t.year);
        var n = Object(o.getConfig)("hero_json")[t.hero];
        if (n && (e = e.replace("{hero}", Object(o.tr)(n.name))),
        t.page) {
            var i = Object(o.getConfig)("relic_json")[t.page]
              , r = i ? Object(o.tr)(i.name) + t.page : t.page;
            e = e.replace("{name1}", r)
        }
        if (t.lv && (e = e.replace("{name2}", Object(u.d)(t.lv))),
        e = e.replace("{userName}", t.userName),
        t.awds) {
            for (var a = "", s = t.hasOwnProperty("overflow") && t.overflow ? Object(o.tr)("main@rL_bagFull") : "", c = 0; c < t.awds.length; c++) {
                var h = c == t.awds.length - 1 ? "" : "、";
                a += "[" + Object(o.tr)(Object(o.getConfig)("item_json")[t.awds[c].propId].name) + "]*" + t.awds[c].num + h
            }
            a += s,
            e = e.replace("{awds}", a)
        }
        return (new egret.HtmlTextParser).parser(e)
    }
    function v(t) {
        var e = {
            year: t.year,
            name: Object(l.c)()
        };
        return t.enemy && (e.enemy = t.enemy),
        Object(o.tr)("mystery@log" + t.id, e)
    }
    function O(t) {
        var e = null
          , n = a.a.timeStamp(t.time, "MDHM");
        return 1 == t.type || 2 == t.type ? e = {
            time: n,
            name: t.name
        } : 3 == t.type && (e = {
            time: n,
            name: t.name,
            score: t.score
        }),
        (new egret.HtmlTextParser).parser(Object(o.tr)("main@team_log" + t.type, e))
    }
    function j(t) {
        return t.guildId == Object(r.a)("guildId") ? t.prev = Object(o.tr)("guild@battleLogPre1") : t.prev = Object(o.tr)("guild@battleLogPre2"),
        t.heroName = Object(o.tr)(Object(o.getConfig)("hero_json")[t.hId1].name),
        Object(o.tr)("guild@battleLog", t)
    }
    function w(t) {
        var e = {
            name: t.name,
            item: p.e.getName(t.propId),
            num: t.num
        };
        return (new egret.HtmlTextParser).parser(Object(o.tr)("treasure@log", e))
    }
    window.LogData = d
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return o
    }
    )),
    n.d(e, "c", (function() {
        return g
    }
    )),
    n.d(e, "j", (function() {
        return _
    }
    )),
    n.d(e, "e", (function() {
        return m
    }
    )),
    n.d(e, "h", (function() {
        return y
    }
    )),
    n.d(e, "g", (function() {
        return v
    }
    )),
    n.d(e, "d", (function() {
        return O
    }
    )),
    n.d(e, "f", (function() {
        return j
    }
    )),
    n.d(e, "i", (function() {
        return w
    }
    )),
    n.d(e, "b", (function() {
        return x
    }
    ));
    var i, o, r = n(1), a = n(117), s = n(108), c = n(229), u = n(150), h = n(293), l = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    );
    function p(t) {
        var e = Object(r.getConfig)("pupil_json");
        return e && e[t] && e[t].name ? Object(r.tr)(e[t].name) : ""
    }
    !function(t) {
        t[t.dizi = 0] = "dizi",
        t[t.shop = 1] = "shop",
        t[t.main = 2] = "main",
        t[t.hall = 3] = "hall",
        t[t.mountain = 4] = "mountain",
        t[t.transfer = 5] = "transfer",
        t[t.forbiddenArea = 6] = "forbiddenArea",
        t[t.sidao = 7] = "sidao",
        t[t.alliance = 8] = "alliance"
    }(o || (o = {}));
    var f = function() {
        function t(t) {
            this.logType = t
        }
        return t.prototype.getStorageKey = function() {
            return "menpai_log_" + this.logType
        }
        ,
        t.prototype.getLogArray = function() {
            var t = this;
            return this.logArr.map((function(e) {
                return t.logType == o.shop ? t.parseShop(e) : t.logType == o.mountain ? t.parseMountain(e) : t.logType == o.forbiddenArea ? t.parseForbiddenArea(e) : t.logType == o.main ? t.parseMain(e) : t.logType == o.sidao ? t.parseSiDao(e) : t.logType == o.alliance ? t.parseAlliance(e) : void 0
            }
            ))
        }
        ,
        t.prototype.parseAlliance = function(t) {
            var e = {
                name: Object(a.c)()
            };
            return t.point && (e.posName = Object(r.tr)(Object(r.getConfig)("sectPosition_json")[t.point].name)),
            Object(r.tr)("sect@allianceLog" + t.id, e)
        }
        ,
        t.prototype.parseMain = function(t) {
            var e = {};
            return e.year = t.year,
            e.order = Object(c.b)(t.order),
            e.name = p(t.cId),
            e.lv = Object(r.tr)(Object(r.getConfig)("pupilLevel_json")[t.lv].levelName),
            Object(r.tr)("sect@mainLog" + t.id, e)
        }
        ,
        t.prototype.parseSiDao = function(t) {
            var e = {
                name: Object(a.c)()
            };
            if (t.cId && (e.propName = Object(r.tr)(Object(r.getConfig)("item_json")[t.cId].name)),
            t.prop && (e.prop = Object(r.tr)("main@" + t.prop)),
            t.num && (e.num = t.num),
            2 == t.id || 4 == t.id) {
                var n = 10 * Math.ceil(t.num / 10);
                e.num2 = n - t.num
            }
            return Object(r.tr)("sect@sidaoLog" + t.id, e)
        }
        ,
        t.prototype.parseForbiddenArea = function(t) {
            var e = {};
            return t.propId && (e.propName = Object(r.tr)(Object(r.getConfig)("item_json")[t.propId].name),
            e.propNum = t.propNum),
            e.year = t.year,
            e.land = Object(r.tr)(Object(r.getConfig)("sectExplore_json")[t.eId].name),
            t.subsets ? (e.firstName = p(t.subsets[0].cId),
            e.num = t.subsets.length,
            e.subsets = t.subsets.map((function(t) {
                return Object(r.tr)("sect@faLog3", {
                    name: p(t.cId),
                    val: t.exp
                })
            }
            )).join("、")) : (e.num = t.num,
            e.firstName = p(t.cId)),
            Object(r.tr)("sect@faLog" + t.id, e)
        }
        ,
        Object.defineProperty(t.prototype, "logArr", {
            get: function() {
                return this._logArray || (this._logArray = JSON.parse(Object(r.getLocalStorage)().getString(this.getStorageKey(), "[]"))),
                this._logArray
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.parseMountain = function(t) {
            return t.name = Object(a.c)(),
            Object(r.tr)("sect@mountainLog", t)
        }
        ,
        t.prototype.parseShop = function(t) {
            return t.name = Object(a.c)(),
            t.cId && (t.propName = Object(r.tr)(Object(r.getConfig)("item_json")[t.cId].name)),
            Object(r.tr)("sect@shopLog" + t.id, t)
        }
        ,
        t.prototype.write = function(t) {
            this.logArr.push(t),
            this.logArr.length > 4 && this.logArr.shift(),
            Object(r.getLocalStorage)().setString(this.getStorageKey(), JSON.stringify(this.logArr)),
            Object(r.put)(this.evtName())
        }
        ,
        t.prototype.evtName = function() {
            return "menpai_log_change_" + this.logType
        }
        ,
        t.prototype.show = function(t, e) {
            var n = this;
            return Object(s.a)(t, this.getLogArray(), e),
            Object(r.on)(this.evtName(), (function() {
                Object(s.a)(t, n.getLogArray(), e)
            }
            ))
        }
        ,
        t
    }()
      , d = function() {
        function t() {}
        return t.prototype.getLogArray = function() {
            var t = this
              , e = Object(r.singleton)(u.a).info;
            return e.dzLvLog ? e.dzLvLog.map((function(e) {
                return t.parse(e)
            }
            )).filter((function(t) {
                return !!t
            }
            )) : []
        }
        ,
        t.prototype.parse = function(t) {
            var e = Object(r.singleton)(u.a).getDizi(t.cId);
            return e ? Object(r.tr)("sect@mainLog1", {
                order: e.order,
                name: Object(r.tr)(e.c.name),
                year: t.year,
                lv: Object(r.tr)(Object(r.getConfig)("pupilLevel_json")[t.lv].levelName)
            }) : null
        }
        ,
        t.prototype.show = function(t) {
            var e = this;
            return Object(s.a)(t, this.getLogArray()),
            r.cache.onChange("Sect.getInfo", (function() {
                Object(s.a)(t, e.getLogArray())
            }
            ), this)
        }
        ,
        t
    }()
      , b = function(t) {
        function e(e) {
            var n = t.call(this, "menpai_group") || this;
            return n.type = e,
            n
        }
        return l(e, t),
        e.prototype.parse = function(t) {
            return t.t == o.dizi ? this.parseDizi(t) : t.t == o.transfer ? this.parseTransfer(t) : t.t == o.hall ? this.parseHall(t) : void 0
        }
        ,
        e.prototype.write = function(e) {
            e.t = this.type,
            t.prototype.write.call(this, e)
        }
        ,
        e.prototype.parseDizi = function(t) {
            var e = p(t.cId);
            return 4 != t.id && 5 != t.id && 7 != t.id || (e = Object(a.c)()),
            Object(r.tr)("sect@diziLog" + t.id, {
                name: e
            })
        }
        ,
        e.prototype.parseTransfer = function(t) {
            return 6 == t.id ? t.name = Object(a.c)() : t.name = p(t.cId),
            Object(r.tr)("sect@transferLog" + t.id, t)
        }
        ,
        e.prototype.parseHall = function(t) {
            return t.cId ? Object(r.tr)("sect@hallLog" + t.id, {
                name: p(t.cId)
            }) : (t.name = Object(a.c)(),
            Object(r.tr)("sect@hallLog" + t.id, t))
        }
        ,
        e
    }(h.a)
      , g = new b(o.dizi)
      , _ = new b(o.transfer)
      , m = new b(o.hall)
      , y = new f(o.shop)
      , v = new f(o.mountain)
      , O = new f(o.forbiddenArea)
      , j = new d
      , w = new f(o.sidao)
      , x = new f(o.alliance)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return b
    }
    )),
    n.d(e, "a", (function() {
        return L
    }
    ));
    var i, o, r = n(113), a = n(1), s = function() {
        function t() {
            this.disposeable = []
        }
        return t.prototype.execute = function() {
            L.isGuiding = !0,
            this.context && this.context.skipTo && this.context.skipTo != this._name ? this.dispose() : (this.context && this.context.skipTo == this._name && delete this.context.skipTo,
            this.onExecute())
        }
        ,
        t.prototype.onExecute = function() {}
        ,
        t.prototype.setCallback = function(t, e) {
            return this._sel = t,
            this._context = e,
            this
        }
        ,
        t.prototype.dispose = function() {
            this.disposeable = Object(a.dispose)(this.disposeable),
            this.next ? (this.next.execute(),
            this.next = null) : L.isGuiding = !1,
            this._sel && (this._sel.call(this._context),
            this._sel = null,
            this._context = null)
        }
        ,
        t.prototype.setName = function(t) {
            return this._name = t,
            this
        }
        ,
        t
    }(), c = n(337), u = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    );
    !function(t) {
        t[t.rightBottom = 0] = "rightBottom",
        t[t.center = 1] = "center"
    }(o || (o = {}));
    var h = function(t) {
        function e(e, n) {
            void 0 === e && (e = 0);
            var i = t.call(this) || this;
            return i._opacity = e,
            i.offset = n,
            i._p = new egret.Point,
            i
        }
        return u(e, t),
        e.prototype.onReady = function() {
            this.guideBg1.alpha = this._opacity,
            this.guideBg1.width = a.display.stageW,
            this.guideBg2.alpha = this._opacity,
            this.guideBg2.width = a.display.stageW,
            this.guideBg3.alpha = this._opacity,
            this.guideBg4.alpha = this._opacity
        }
        ,
        Object.defineProperty(e.prototype, "hand", {
            get: function() {
                return this._hand || (this._hand = new c.a,
                this._hand.touchEnabled = this._hand.touchChildren = !1,
                this._hand.visible = !1,
                this.addChild(this._hand)),
                this._hand
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.setVisible = function(t) {
            this.visible = t,
            this.guideBg1.visible = this.guideBg2.visible = this.guideBg3.visible = this.guideBg4.visible = t,
            !t && this._hand && (a.display.removeFromParent(this._hand),
            this._hand = null)
        }
        ,
        e.prototype._doLayout = function(t, e, n) {
            var i, r;
            t instanceof egret.Rectangle ? (this._p.x = t.x,
            this._p.y = t.y,
            i = t.width,
            r = t.height) : (this._p = t.localToGlobal(0, 0, this._p),
            this._p = this.globalToLocal(this._p.x, this._p.y, this._p),
            i = t.width * t.scaleX,
            r = t.height * t.scaleY);
            var s, c = a.display.stageH / 1334;
            c < 1 && (i *= c,
            r *= c),
            1 == this._opacity && (s = 300,
            this._p.x -= s - i >> 1,
            i = s,
            this._p.y -= s - r >> 1,
            r = s),
            this.offset && (this._p.x += this.offset.x || 0,
            this._p.y += this.offset.y || 0),
            this._p.x = this._p.x >> 0,
            this._p.y = this._p.y >> 0,
            this.guideBg1.y = 0,
            this.guideBg1.height = this._p.y,
            this.guideBg3.y = this._p.y,
            this.guideBg3.width = this._p.x > 0 ? this._p.x : 0,
            this.guideBg3.height = r,
            this.guideBg4.y = this._p.y,
            this.guideBg4.x = this._p.x + i,
            this.guideBg4.width = this.width - i - this._p.x,
            this.guideBg4.height = r,
            this.guideBg2.y = this._p.y + r,
            this.guideBg2.height = a.display.stageH - this._p.y - r,
            this.focus || 1 != this._opacity || (this.focus = new eui.Image("bg_rect_focus_png"),
            this.focus.touchEnabled = !1,
            this.addChildAt(this.focus, 0)),
            this.focus && (this.focus.x = this._p.x,
            this.focus.y = this._p.y,
            this.focus.width = s,
            this.focus.height = s),
            this.hand.visible = !0,
            e == o.center ? (this.hand.x = this._p.x + i / 2,
            this.hand.y = this._p.y + r / 2) : (this.hand.x = this._p.x + i - 20,
            this.hand.y = this._p.y + r - 20),
            n && (this.hand.x += n.x,
            this.hand.y += n.y)
        }
        ,
        e.prototype.doLayout = function(t, e, n) {
            void 0 === e && (e = o.center),
            this._doLayout(t, e, n),
            this.setVisible(!0)
        }
        ,
        e
    }(a.UIComponent)
      , l = n(124)
      , p = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , f = function(t) {
        function e(e, n) {
            void 0 === e && (e = 1);
            var i = t.call(this, e, n) || this;
            return i.clickOffset = n,
            i._btnOriginalTouchChildren = null,
            i._p2 = new egret.Point,
            Object(a.setSkin)(i, "CommonGuideSkin"),
            i
        }
        return p(e, t),
        e.prototype.onLayout = function(t, e) {
            this._callback = t,
            this._context = e
        }
        ,
        e.prototype.onReady = function() {
            var e = this;
            t.prototype.onReady.call(this),
            this.touchEnabled = !1,
            this.dialog.visible = !1,
            this.dialog.touchEnabled = this.dialog.touchChildren = !1,
            a.display.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE, this.onMove, this, !0, 1e4),
            a.display.stage.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onTouchEvent, this, !0, 1e4),
            a.display.stage.addEventListener(egret.TouchEvent.TOUCH_BEGIN, this.onTouchEvent, this, !0, 1e4),
            a.display.stage.addEventListener(egret.TouchEvent.TOUCH_END, this.onTouchEvent, this, !0, 1e4),
            this.disposeArr.push({
                dispose: function() {
                    a.display.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE, e.onMove, e, !0),
                    a.display.stage.removeEventListener(egret.TouchEvent.TOUCH_TAP, e.onTouchEvent, e, !0),
                    a.display.stage.removeEventListener(egret.TouchEvent.TOUCH_BEGIN, e.onTouchEvent, e, !0),
                    a.display.stage.removeEventListener(egret.TouchEvent.TOUCH_END, e.onTouchEvent, e, !0)
                }
            })
        }
        ,
        e.prototype.onExit = function() {
            this._btn && null != this._btnOriginalTouchChildren && (this._btn.touchChildren = this._btnOriginalTouchChildren)
        }
        ,
        e.prototype.onMove = function(t) {
            t.stopPropagation(),
            t.stopImmediatePropagation()
        }
        ,
        e.prototype.onTouchEvent = function(t) {
            t.target == this._btn || a.UI.isTopBoxChild(t.target) || (t.stopPropagation(),
            t.stopImmediatePropagation())
        }
        ,
        e.prototype.show = function(t, e, n) {
            var i = this;
            this._btnName = t,
            this._talk = e,
            this.runOnSkinLoad((function() {
                i._btn = a.UI.getComponent(t),
                i._btn ? i.layout(t, n) : i.getBtn(t)
            }
            )),
            this.disposeArr.push({
                dispose: function() {
                    egret.clearInterval(i.tick)
                }
            })
        }
        ,
        e.prototype.layout = function(t, n) {
            var i = this;
            this.dialog.visible = !1,
            this._talk && (this.diaDesc.text = this._talk),
            this.tick = egret.setInterval((function() {
                var o = a.UI.getComponent(t);
                if (i._btn = o,
                o && e.isVisible(o))
                    if (null == i._btnOriginalTouchChildren && (i._btnOriginalTouchChildren = o.touchChildren),
                    o.touchChildren = !1,
                    i._talk && (i.dialog.visible = !0,
                    i.checkDialogPosition(o)),
                    n) {
                        var r = new egret.Point;
                        r = o.localToGlobal(0, 0, new egret.Point(o.x,o.y)),
                        r = i.globalToLocal(r.x, r.y, r),
                        n.x = r.x,
                        n.y = r.y,
                        i.doLayout(n)
                    } else
                        i.doLayout(o);
                i._callback && i._callback.call(i._context)
            }
            ), this, 50)
        }
        ,
        e.prototype.hasBtn = function() {
            return this._btn && e.isVisible(this._btn)
        }
        ,
        e.prototype.checkDialogPosition = function(t) {
            this._p2 = t.localToGlobal(0, 0, this._p2),
            this._p2 = this.globalToLocal(this._p2.x, this._p2.y, this._p2),
            this.stage && this._p2.x + this.dialog.width > this.stage.stageWidth ? this.dialog.x = this.stage.stageWidth - this.dialog.width : this.dialog.x = this._p2.x <= 50 ? 50 : this._p2.x,
            this._p2.y - this.dialog.height - 100 < 0 ? this.dialog.y = this._p2.y + t.height + 120 : this.dialog.y = this._p2.y - this.dialog.height - 120,
            this.clickOffset && (this.dialog.x += this.clickOffset.tipX || 0,
            this.dialog.y += this.clickOffset.tipY || 0)
        }
        ,
        e.isVisible = function(t) {
            var e = t;
            if (!1 === e.visible)
                return !1;
            for (; e.parent && !(e instanceof egret.Stage); )
                if (!((e = e.parent)instanceof egret.Stage) && !1 === e.visible)
                    return !1;
            return e
        }
        ,
        e.prototype.getBtn = function(t) {
            var e = this;
            this.tick = egret.setInterval((function() {
                var n = a.UI.getComponent(t);
                e._btn = n,
                n && (egret.clearInterval(e.tick),
                e.tick = null,
                e.layout(t))
            }
            ), this, 50)
        }
        ,
        e
    }(h);
    Object(l.a)("GuideClickView", f);
    var d, b, g = n(106), _ = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), m = function(t) {
        function e(e, n, i, o) {
            var r = t.call(this) || this;
            return r.btnName = e,
            r.talk = n,
            r.timeout = i,
            r.maskRect = o,
            r
        }
        return _(e, t),
        e.prototype.setOpacity = function(t) {
            return this._opacity = t,
            this
        }
        ,
        e.prototype.setOffset = function(t) {
            return this._offset = t,
            this
        }
        ,
        e.prototype.onExecute = function() {
            var t = this;
            console.log("++++++++" + (this.talk ? Object(a.tr)(this.talk) : this.btnName)),
            this._view = Object(g.b)(new f(this._opacity,this._offset)),
            this.talk && (this.talk = Object(a.tr)(this.talk)),
            this._view.show(this.btnName, this.talk, this.maskRect),
            this.onRefresh(this._view),
            this.timeout && egret.setTimeout((function() {
                t._view.hasBtn() || (a.UI.remove(t._view),
                t.dispose())
            }
            ), this, this.timeout),
            Object(a.on)("btn_click", (function(e) {
                e.name == t.btnName && (a.UI.remove(t._view),
                t.dispose())
            }
            ), this, this.disposeable)
        }
        ,
        e.prototype.onRefresh = function(t) {}
        ,
        e.prototype.dispose = function() {
            console.log("---------" + (this.talk ? Object(a.tr)(this.talk) : this.btnName)),
            t.prototype.dispose.call(this)
        }
        ,
        e
    }(s), y = function(t) {
        function e(e, n, i, o, r) {
            void 0 === o && (o = []);
            var a = t.call(this, e, n, i, r) || this;
            return a.sceneBoxNameArr = o,
            a
        }
        return _(e, t),
        e.prototype.onRefresh = function(t) {
            var e = this;
            t.onLayout((function() {
                for (var t = a.UI.getUIComponentAll(a.ComponentType.Box), n = t.length - 1; n >= 0; n--) {
                    var i = t[n];
                    e.sceneBoxNameArr.length > 0 && -1 == e.sceneBoxNameArr.indexOf(i.skinName) && a.UI.remove(t[n])
                }
            }
            ), this)
        }
        ,
        e
    }(m), v = n(107), O = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), j = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            return n.step = e,
            n
        }
        return O(e, t),
        e.prototype.onExecute = function() {
            var t = this;
            Object(v.d)("u.f", {
                pow: this.step
            }).then((function(e) {
                e && (Object(r.a)().guide |= t.step,
                t.dispose())
            }
            ))
        }
        ,
        e
    }(s), w = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), x = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            return n.talk = e,
            n
        }
        return w(e, t),
        e.prototype.onExecute = function() {
            var t = this;
            if (1 == this.context.talkSkip)
                this.dispose();
            else {
                var e = new a.UIComponent;
                Object(a.setSkin)(e, "CommonGuideSkin"),
                e.runOnSkinLoad((function() {
                    e.diaDesc.text = Object(a.tr)(t.talk),
                    e.guideBg1.left = e.guideBg1.right = e.guideBg1.top = e.guideBg1.bottom = 0,
                    e.guideBg2.visible = e.guideBg3.visible = e.guideBg4.visible = !1,
                    e.dialog.bottom = 100,
                    e.dialog.horizontalCenter = 0
                }
                )),
                e.tap(e, (function() {
                    a.UI.remove(e),
                    t.dispose()
                }
                ), this),
                Object(g.b)(e)
            }
        }
        ,
        e
    }(s), k = n(286), I = n(338), P = n(296), C = n(378), S = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), R = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, T = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    };
    !function(t) {
        t[t.welcome = 1] = "welcome",
        t[t.old_linggen = 2] = "old_linggen",
        t[t.dongfu = 4] = "dongfu",
        t[t.menpai = 8] = "menpai",
        t[t.chuangdang = 16] = "chuangdang",
        t[t.digong = 32] = "digong",
        t[t.zongmen = 64] = "zongmen",
        t[t.zmXuexi = 128] = "zmXuexi",
        t[t.lvAwds = 256] = "lvAwds",
        t[t.bag = 512] = "bag",
        t[t.linggen = 1024] = "linggen",
        t[t.gongfa = 2048] = "gongfa",
        t[t.dujie = 4096] = "dujie",
        t[t.yiji = 8192] = "yiji",
        t[t.task = 16384] = "task",
        t[t.acttask = 32768] = "acttask",
        t[t.xingtian = 65536] = "xingtian",
        t[t.blackShop = 131072] = "blackShop",
        t[t.jingcheng = 262144] = "jingcheng"
    }(b || (b = {}));
    var L = function() {
        function t() {}
        return t.formatSteps = function(t, e) {
            return void 0 === e && (e = !0),
            R(this, void 0, void 0, (function() {
                var e, n, i;
                return T(this, (function(o) {
                    switch (o.label) {
                    case 0:
                        return [4, Object(a.getLocale)().init("guide")];
                    case 1:
                        for (o.sent(),
                        e = {},
                        n = 0; n < t.length; n++)
                            (i = t[n]).context = e,
                            n != t.length - 1 && (i.next = t[n + 1]);
                        return [2, {
                            first: t[0],
                            last: t[t.length - 1]
                        }]
                    }
                }
                ))
            }
            ))
        }
        ,
        t.getSteps = function(e) {
            var n = t.steps[e].concat();
            return n.push(new j(e)),
            e == b.welcome && (n = n.concat(t.steps[b.task])).push(new j(b.task)),
            this.formatSteps(n)
        }
        ,
        t.isFinish = function(t) {
            if ("1" != Object(a.getOption)("skipGuide"))
                return 0 != (Object(r.a)("guide") & t)
        }
        ,
        t.check = function(t) {
            "1" != Object(a.getOption)("skipGuide") && (this.isGuiding || (a.UI.remove(k.a),
            a.UI.remove(P.b),
            a.UI.remove(C.a),
            a.UI.remove(I.a),
            0 == (Object(r.a)("guide") & t) && (this.isGuiding = !0,
            this.getSteps(t).then((function(t) {
                t.first.execute()
            }
            )))))
        }
        ,
        Object.defineProperty(t, "isGuiding", {
            get: function() {
                return this._isGuiding
            },
            set: function(t) {
                this._isGuiding = t
            },
            enumerable: !0,
            configurable: !0
        }),
        t.steps = ((d = {})[b.welcome] = [new y("xiulian","guide@guide1",1e3), new j(b.welcome), new (function(t) {
            function e() {
                return null !== t && t.apply(this, arguments) || this
            }
            return S(e, t),
            e.prototype.onExecute = function() {
                console.log("=====guideDone====="),
                Object(a.getPlatComp)("phase").phase("guideDone"),
                this.dispose()
            }
            ,
            e
        }(s))],
        d[b.task] = [new y("task","guide@task1",2e3,null,new egret.Rectangle(0,0,100,89)), new x("guide@task2")],
        d[b.zongmen] = [new y("zongmen","guide@guide2",2e3), new y("zm_shisu","guide@guide3",1e3,["SchoolChooseSkin"])],
        d[b.zmXuexi] = [new y("zm","guide@guide4",void 0,["SchoolMainSkin"]), new m("qingan","guide@guide5"), new m("xuexi","guide@guide6"), new x("guide@guide7")],
        d[b.lvAwds] = [new y("activity","guide@guide8"), new y("levelGift","guide@guide9",void 0,["ActivitySkin"])],
        d[b.bag] = [new x("guide@guide11")],
        d[b.linggen] = [new y("lvup","guide@guide13",1e3,["XiulianMainSkin", "LinggenSkin", "BtnLinggenSkin"]), new m("guideBtn5","guide@guide14",void 0,new egret.Rectangle(0,0,259,100))],
        d[b.gongfa] = [new y("tabGongfa","guide@guide15",void 0,["XiulianMainSkin"])],
        d[b.dongfu] = [new y("lingshan","guide@guide19",void 0,["HomeSkin"]), new m("plus2","guide@guide20"), new m("lvup2","guide@guide21"), new m("addServant","guide@guide26")],
        d[b.chuangdang] = [new y("mission1","guide@guide23",void 0,["RaidSkin"]).setOffset({
            tipY: 400
        })],
        d[b.digong] = [new m("zhukuai","guide@digong1").setOffset({
            tipY: 500,
            tipX: -200
        }), new m("digong_kou","guide@digong2").setOffset({
            tipX: -200
        }), new m("digong_yaoshi","guide@digong3")],
        d[b.dujie] = [new y("character","guide@guide24"), new x("guide@guide25")],
        d[b.acttask] = [new y("box0","guide@acttask",void 0,["ActiveTaskSkin"])],
        d[b.xingtian] = [new (function(t) {
            function e() {
                return null !== t && t.apply(this, arguments) || this
            }
            return S(e, t),
            e.prototype.onExecute = function() {
                Object(a.put)("resetScenePos", 300),
                this.dispose()
            }
            ,
            e
        }(s)), new y("xingtian","guide@xingtian1",1e3)],
        d[b.blackShop] = [new (function(t) {
            function e() {
                return null !== t && t.apply(this, arguments) || this
            }
            return S(e, t),
            e.prototype.onExecute = function() {
                Object(a.put)("resetScenePos", -620),
                this.dispose()
            }
            ,
            e
        }(s)), new y("qihuo","guide@qiHuo",1e3)],
        d[b.jingcheng] = [new x("guide@jingcheng1"), new m("lingxiu","guide@jingcheng2").setOffset({
            tipY: 0,
            tipX: 0
        }), new x("guide@jingcheng3")],
        d),
        t._isGuiding = !1,
        t
    }();
    Object(l.a)("Guide", L)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "d", (function() {
        return f
    }
    )),
    n.d(e, "b", (function() {
        return d
    }
    )),
    n.d(e, "c", (function() {
        return b
    }
    )),
    n.d(e, "a", (function() {
        return g
    }
    ));
    var i, o = n(1), r = n(112), a = n(127), s = n(130), c = n(111), u = n(114), h = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), l = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, p = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, f = function(t) {
        function e(e, n, i, o) {
            var r = t.call(this, e) || this;
            return r.actName = n,
            r.confName = i,
            r.validType = o,
            r
        }
        return h(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.actUpdate, this);
            var t = Object(r.d)(this.actName);
            if (t) {
                var e = t.end - c.a.getNow();
                e > 0 && egret.setTimeout(this.check, this, 1e3 * e)
            }
        }
        ,
        e.prototype.actUpdate = function(t) {
            t == this.actName && this.check()
        }
        ,
        e.prototype.check = function() {
            return l(this, void 0, void 0, (function() {
                var t, e, n, i, o, s;
                return p(this, (function(c) {
                    switch (c.label) {
                    case 0:
                        return Object(r.e)(this.actName, !1, this.validType) ? [4, RES.getResAsync(this.confName)] : [3, 2];
                    case 1:
                        for (c.sent(),
                        t = Object(r.d)(this.actName),
                        e = t.l,
                        n = Object(a.e)(this.actName, 1, this.confName).detail,
                        i = t.hasOwnProperty("num"),
                        o = 0; o < n.length; o++)
                            if (!i || t.num >= n[o].num) {
                                for (s = 0; s < e.length; s++)
                                    if (!e[s].awded && e[s].id == n[o].id && (i || e[s].num >= n[o].num))
                                        return this.updateVisible(!0),
                                        [2];
                                this.updateVisible(!1)
                            }
                        return [3, 3];
                    case 2:
                        this.updateVisible(!1),
                        c.label = 3;
                    case 3:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule), d = function(t) {
        function e(e, n, i, o, r) {
            var a = t.call(this, e) || this;
            return a.actName = n,
            a.type = i,
            a.listenerName = o,
            a.validType = r,
            a
        }
        return h(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.onUpdate, this),
            Object(o.on)(this.listenerName, this.onSeen, this);
            var t = Object(r.d)(this.actName);
            if (t) {
                var e = t.end - c.a.getNow();
                e > 0 && egret.setTimeout(this.check, this, 1e3 * e)
            }
        }
        ,
        e.prototype.onSeen = function() {
            this._visible = !1,
            this.doCallback()
        }
        ,
        e.prototype.onUpdate = function(t) {
            t == this.actName && this.check()
        }
        ,
        e.prototype.check = function() {
            return l(this, void 0, void 0, (function() {
                var t, e, n, i, a;
                return p(this, (function(u) {
                    switch (u.label) {
                    case 0:
                        return s.b.isOpen("recharge") ? Object(r.e)(this.actName, !1, this.validType) ? (t = Object(r.d)(this.actName)) && t.l ? [4, RES.getResAsync("recharge_json")] : [3, 2] : [3, 3] : (this.updateVisible(!1),
                        [2]);
                    case 1:
                        for (u.sent(),
                        e = c.a.getNow(),
                        n = void 0,
                        i = Object(o.getConfig)("recharge_json"),
                        a = 0; a < t.l.length; a++)
                            if ((n = i[t.l[a].rechargeId]) && n.type == this.type && t.l[a].time > e)
                                return this.updateVisible(!0),
                                [2];
                        u.label = 2;
                    case 2:
                        return this.updateVisible(!1),
                        [3, 4];
                    case 3:
                        this.updateVisible(!1),
                        u.label = 4;
                    case 4:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule), b = function(t) {
        function e(e, n, i) {
            var o = t.call(this, e) || this;
            return o.actName = n,
            o.propId = i,
            o
        }
        return h(e, t),
        e.prototype.init = function() {
            this.onUpdate(),
            Object(o.on)("refresh_funOpen", this.actUpdate, this),
            u.e.watchNum(this.propId, this.onUpdate, this);
            var t = Object(r.d)(this.actName);
            if (t) {
                var e = t.end - c.a.getNow();
                e > 0 && egret.setTimeout(this.onUpdate, this, 1e3 * e)
            }
        }
        ,
        e.prototype.actUpdate = function(t) {
            t == this.actName && this.onUpdate()
        }
        ,
        e.prototype.onUpdate = function() {
            if (Object(r.e)(this.actName))
                return this.updateVisible(u.e.getNum(this.propId) > 0);
            this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule), g = function(t) {
        function e(e, n, i, o) {
            var r = t.call(this, e) || this;
            return r.actName = n,
            r.confName = i,
            r.validType = o,
            r
        }
        return h(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.actUpdate, this);
            var t = Object(r.d)(this.actName);
            if (t) {
                var e = t.end - c.a.getNow();
                e > 0 && egret.setTimeout(this.check, this, 1e3 * e)
            }
        }
        ,
        e.prototype.actUpdate = function(t) {
            t == this.actName && this.check()
        }
        ,
        e.prototype.check = function() {
            return l(this, void 0, void 0, (function() {
                var t, e, n, i, o;
                return p(this, (function(s) {
                    switch (s.label) {
                    case 0:
                        return Object(r.e)(this.actName, !1, this.validType) ? [4, RES.getResAsync(this.confName)] : [3, 2];
                    case 1:
                        for (s.sent(),
                        t = Object(r.d)(this.actName),
                        e = t.l,
                        n = Object(a.e)(this.actName, 1, this.confName).detail,
                        i = 0; i < n.length; i++)
                            if (n[i].cost.some((function(t) {
                                return !u.e.hasEnough(t.itemId, t.num, !1)
                            }
                            )))
                                this.updateVisible(!1);
                            else
                                for (o = 0; o < e.length; o++)
                                    e[o].id == n[i].id && e[o].limit != e[o].num && this.updateVisible(!0);
                        return [3, 3];
                    case 2:
                        this.updateVisible(!1),
                        s.label = 3;
                    case 3:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return c
    }
    ));
    var i = n(1)
      , o = n(117)
      , r = n(134)
      , a = n(109)
      , s = n(152)
      , c = function() {
        function t() {
            this._watch = []
        }
        return Object.defineProperty(t.prototype, "info", {
            get: function() {
                var t = this;
                if (!this._userinfo) {
                    var e = Object(i.getCache)("User.getInfo");
                    this._userinfo = e ? e.i : null,
                    i.cache.onAllBeforeChange("Daolv.getList", (function(t) {
                        t && t.l && t.l.hasOwnProperty("@a") && Object(r.a)("Cave_character_achieved")
                    }
                    )),
                    i.cache.onChange("User.getInfo", (function(t) {
                        (t.i.xianbuff || t.i["@s.lv"]) && Object(i.put)("refresh_funOpen", "xianbuff"),
                        t.i["@s.skin"] && Object(i.put)("refresh_avatar")
                    }
                    )),
                    i.cache.onChange("Activity.getList", (function(t) {
                        var e = t.l;
                        for (var n in e) {
                            var o = n.replace("@f_id_@", "");
                            Object(i.put)("refresh_funOpen", o)
                        }
                    }
                    ), this),
                    this._watch.push(eui.Watcher.watch(this._userinfo, ["lv"], (function() {
                        var e = t._userinfo.lv;
                        if (2 == e)
                            Object(r.a)("level_1_achieved");
                        else if (e % 10 == 1) {
                            var n = Math.ceil(e / 10);
                            Object(r.a)("level_" + n + "_achieved")
                        }
                        Object(a.a)("unionLevel_json").then((function(t) {
                            var n = Object(i.getConfig)("unionLevel_json");
                            for (var o in n) {
                                n[o].levelLimit == e && Object(r.a)("guild_level_" + n[o].star)
                            }
                        }
                        )),
                        Object(i.put)("user_lv_change")
                    }
                    ), this)),
                    this._watch.push(eui.Watcher.watch(this._userinfo, ["blv"], (function() {
                        var e = t._userinfo.blv;
                        if (2 == e)
                            Object(r.a)("bodylevel_1_achieved");
                        else if (e % 10 == 1) {
                            var n = Math.ceil(e / 10);
                            Object(r.a)("bodylevel_" + n + "_achieved")
                        }
                    }
                    ), this)),
                    this._watch.push(eui.Watcher.watch(this._userinfo, ["yt"], (function() {
                        Object(i.put)("user_yt_change")
                    }
                    ), this)),
                    this._watch.push(eui.Watcher.watch(this._userinfo, ["sc"], (function() {
                        Object(i.put)("user_sc_change")
                    }
                    ), this)),
                    this._watch.push(eui.Watcher.watch(this._userinfo, ["gc"], (function() {
                        Object(i.put)("user_gc_change")
                    }
                    ), this)),
                    this._watch.push(eui.Watcher.watch(this._userinfo, ["uNa"], (function() {
                        Object(i.put)("user_name_change")
                    }
                    ), this)),
                    this._watch.push(eui.Watcher.watch(this._userinfo, ["unionId"], (function() {
                        Object(i.put)("user_union_change")
                    }
                    ), this)),
                    this._watch.push(eui.Watcher.watch(this._userinfo, ["guildId"], (function() {
                        console.log("仙盟变化"),
                        Object(i.singleton)(s.a).clearGuildInfo(),
                        Object(i.put)("user_guild_change")
                    }
                    ), this))
                }
                return this._userinfo
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "sc", {
            get: function() {
                return this.info.sc
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "unionName", {
            get: function() {
                return 0 == this.info.unionId ? Object(i.tr)("main@noUnion") : Object(i.getConfig)("union_json")[this.info.unionId].name
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "gc", {
            get: function() {
                return this.info.gc
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "year", {
            get: function() {
                return this.info && this.info.yt ? this.info.yt : 0
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "name", {
            get: function() {
                return Object(o.c)(this.info.uNa)
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "lvName", {
            get: function() {
                var t = Object(i.getConfig)("level_json")[this.info.lv];
                return Object(i.tr)(t.name)
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return u
    }
    ));
    var i, o = n(1), r = n(124), a = n(114), s = n(288), c = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), u = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.parser = new egret.HtmlTextParser,
            Object(o.setSkin)(e, "TipsGetLabelSkin"),
            e.touchChildren = e.touchEnabled = !1,
            e
        }
        return c(e, t),
        e.prototype.init = function(t) {
            this.content = t
        }
        ,
        e.prototype.onReady = function() {
            this.updateView(this.content),
            this.anchorOffsetX = this.width >> 1,
            this.anchorOffsetY = this.height >> 1
        }
        ,
        e.prototype.show = function(t, n, i) {
            var r = this;
            this.x = t.x + i.x,
            this.y = t.y + i.y,
            this.alpha = 1,
            n.addChild(this),
            egret.Tween.get(this).wait(800).to({
                alpha: 0
            }, 1100),
            egret.Tween.get(this).to({
                y: this.y - 120
            }, 1900).call((function() {
                r.parent && r.parent.removeChild(r),
                Object(o.pool)(e).recycle(r)
            }
            ))
        }
        ,
        e.prototype.updateView = function(t) {
            if ("string" == typeof t)
                this.value.text = t;
            else if (t.fashionId) {
                var e = s.a.create(t.fashionId)
                  , n = t.hasOwnProperty("num") ? t.num : 0;
                this.value.text = Object(o.tr)(e.c.name) + (n >= 0 ? "+" + n : "")
            } else if (t.rich)
                this.value.textFlow = this.parser.parse(t.text);
            else {
                e = a.e.get(t.cId || t.propId || t.itemId),
                n = t.hasOwnProperty("num") ? t.num : e.num;
                this.value.text = Object(o.tr)(e.c.name) + (n >= 0 ? "+" : "") + n
            }
        }
        ,
        e.wait = function(t, e, n) {
            var i = this;
            void 0 === n && (n = {}),
            egret.setTimeout((function() {
                i.show(t, n.target, n.parent, n.offset)
            }
            ), this, e)
        }
        ,
        e.show = function(t, n, i, r) {
            if (void 0 === i && (i = o.display.stage),
            void 0 === r && (r = {
                x: 0,
                y: 0
            }),
            t) {
                var a, s = null;
                if (s = n ? n.localToGlobal(n.width >> 1, n.height >> 1) : new egret.Point(o.display.stageW >> 1,o.display.stageH >> 1),
                i != o.display.stage && (s = i.globalToLocal(s.x, s.y, s)),
                Array.isArray(t)) {
                    a = t;
                    for (var c = 0; c < a.length; c++)
                        egret.setTimeout(this.pullShow, this, 500 * c, a[c], s, i, r)
                } else
                    Object(o.pool)(e).get(t).show(s, i, r)
            }
        }
        ,
        e.pullShow = function(t, n, i, r) {
            Object(o.pool)(e).get(t).show(n, i, r)
        }
        ,
        e
    }(o.Component);
    Object(r.a)("FlyLabel", u)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return i
    }
    )),
    n.d(e, "a", (function() {
        return h
    }
    )),
    n.d(e, "c", (function() {
        return l
    }
    ));
    var i, o = n(1), r = n(109), a = n(107), s = n(111), c = n(110), u = n(125);
    !function(t) {
        t[t.tian = 1] = "tian",
        t[t.di = 2] = "di",
        t[t.gift = 3] = "gift",
        t[t.cross = 4] = "cross",
        t[t.crossGift = 5] = "crossGift",
        t[t.xianmeng = 6] = "xianmeng",
        t[t.newDi = 9] = "newDi",
        t[t.cross50 = 10] = "cross50",
        t[t.cross100 = 11] = "cross100",
        t[t.cross200 = 12] = "cross200"
    }(i || (i = {}));
    var h = function() {
        function t() {}
        return t.preload = function() {
            return Object(c.b)(Object(u.a)("rank_1&rank_2").concat([Object(r.a)("activityRank_json"), Object(r.a)("openActivity_json"), Object(r.b)("eui_rank_json")]))
        }
        ,
        t.getData = function(t) {
            var e = this;
            return this.rankData[t] && !s.a.isOver(this.rankData[t].ext) ? Promise.resolve(this.rankData[t]) : Object(a.d)("r.a", {
                type: t
            }).then((function(n) {
                if (n)
                    return e.rankData[t] = n,
                    n
            }
            ))
        }
        ,
        t.rankData = {},
        t
    }();
    function l(t) {
        var e = "activityRank_json"
          , n = "openActivity_json"
          , i = "festivalActivity_json";
        if (Object(o.getConfig)(e)[t])
            return e;
        if (Object(o.getConfig)(n)[t])
            return n;
        if (Object(o.getConfig)(i)[t])
            return i;
        for (var r, a = ["activityRank_json", "openActivity_json", "festivalActivity_json", "void_json"], s = 0; s < a.length; s++)
            if ((r = Object(o.getConfig)(a[s])) && r[t])
                return r;
        return null
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return r
    }
    )),
    n.d(e, "b", (function() {
        return a
    }
    )),
    n.d(e, "c", (function() {
        return s
    }
    ));
    var i = n(1)
      , o = 0;
    function r() {
        return "1" == Object(i.getOption)("gsh") || 0 != o
    }
    function a() {
        return 0 != o && i.is.ttxyx()
    }
    function s(t) {
        o = t
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return o
    }
    ));
    var i = n(1)
      , o = function() {
        function t(t, e, n, i, o, r, a) {
            void 0 === a && (a = 1),
            this.min = t,
            this.max = e,
            this.sub = n,
            this.add = i,
            this.maxNum = o,
            this.onChange = r,
            this._cur = 1,
            this._minNum = 1,
            this._addNum = null,
            this.arr = [],
            this.addEvent(n),
            this.addEvent(i),
            this.addEvent(t),
            this.addEvent(e),
            this._cur = a,
            0 == o && (this._cur = 0,
            this._minNum = 0),
            this.onChange(this._cur, o)
        }
        return t.prototype.setMaxNum = function(t) {
            this.maxNum = t,
            this.maxNum < this._cur && (this._cur = this.maxNum),
            this.onChange(this._cur, this.maxNum)
        }
        ,
        t.prototype.setMinNum = function(t) {
            this._minNum = t,
            this._minNum < this._cur && (this._cur = this._minNum,
            this.onChange(this._cur, this.maxNum))
        }
        ,
        t.prototype.setAddNum = function(t) {
            this._addNum = t
        }
        ,
        Object.defineProperty(t.prototype, "num", {
            get: function() {
                return this._cur
            },
            set: function(t) {
                this._cur = t,
                this.onChange(this._cur, this.maxNum)
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.addEvent = function(t) {
            var e = this;
            t && (t.addEventListener(egret.TouchEvent.TOUCH_BEGIN, this.touchBegin, this),
            this.arr.push({
                dispose: function() {
                    t.removeEventListener(egret.TouchEvent.TOUCH_BEGIN, e.touchBegin, e)
                }
            }))
        }
        ,
        t.prototype.touchBegin = function(t) {
            t.currentTarget == this.sub ? this._type = "sub" : t.currentTarget == this.add ? this._type = "add" : t.currentTarget == this.min ? this._type = "min" : t.currentTarget == this.max && (this._type = "max"),
            i.display.stage.addEventListener(egret.TouchEvent.TOUCH_END, this.touchEnd, this),
            this._id = egret.setTimeout(this.timeout, this, 600)
        }
        ,
        t.prototype.timeout = function() {
            this._intervalId = egret.setInterval(this.tick, this, 50)
        }
        ,
        t.prototype.tick = function() {
            this.change()
        }
        ,
        t.prototype.touchEnd = function() {
            i.display.stage.removeEventListener(egret.TouchEvent.TOUCH_END, this.touchEnd, this),
            egret.clearTimeout(this._id),
            this._intervalId && (egret.clearInterval(this._intervalId),
            this._intervalId = 0),
            this.change()
        }
        ,
        t.prototype.change = function() {
            "sub" == this._type ? (this._cur--,
            this._cur < this._minNum && (this._cur = this._minNum)) : "add" == this._type ? (this._cur++,
            this._cur > this.maxNum && (this._cur = this.maxNum)) : "min" == this._type ? (this._cur -= this._addNum,
            this._addNum ? this._cur -= this._addNum : this._cur = this._minNum,
            this._cur < this._minNum && (this._cur = this._minNum)) : "max" == this._type && (this._addNum ? this._cur += this._addNum : this._cur = this.maxNum,
            this._cur > this.maxNum && (this._cur = this.maxNum)),
            this.onChange(this._cur, this.maxNum)
        }
        ,
        t.prototype.dispose = function() {
            this._id && egret.clearTimeout(this._id),
            this._intervalId && egret.clearInterval(this._intervalId),
            this.arr = Object(i.dispose)(this.arr)
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return r
    }
    )),
    n.d(e, "a", (function() {
        return a
    }
    ));
    var i = n(113)
      , o = n(133);
    function r(t) {
        return Object(i.a)("uses")[t] > 0
    }
    function a(t) {
        return o.b.getNum(t) > 0 || r(t)
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "d", (function() {
        return l
    }
    )),
    n.d(e, "e", (function() {
        return f
    }
    )),
    n.d(e, "c", (function() {
        return b
    }
    )),
    n.d(e, "a", (function() {
        return g
    }
    )),
    n.d(e, "f", (function() {
        return y
    }
    )),
    n.d(e, "b", (function() {
        return O
    }
    ));
    var i = n(1)
      , o = n(113)
      , r = n(194)
      , a = n(250)
      , s = n(292)
      , c = n(220)
      , u = {
        gongji: "atkAdd",
        fangyu: "defAdd",
        shengming: "hpAdd",
        shanbi: "missAdd",
        hurt: "hurtAdd",
        harmless: "harmlessAdd",
        pierce: "pierceAdd",
        hit: "hitAdd"
    }
      , h = function(t, e, n) {
        return function(r) {
            void 0 === r && (r = Object(i.getCache)("Attr.getInfo")[t]),
            r = d(r, t);
            var a = 1;
            "shenfa" == t ? r += v(t) : a += v(t),
            a += (Object(i.getCache)("Attr.getInfo").pet || {})[t] || 0;
            var h = c.a.ins.getAdvAttr();
            return h.hasOwnProperty(t) && (a += h[t]),
            a += function(t) {
                if (!Object(o.a)("guildSkills"))
                    return 0;
                return Object(i.singleton)(s.a).getPropertyAdd(t)
            }(t),
            r = Math.floor(r * a),
            r = Math.floor(r * e),
            u[t] ? r += Object(i.getCache)("Attr.getInfo")[u[t]] || 0 : n && u[n] && (r += Object(i.getCache)("Attr.getInfo")[u[n]] || 0),
            r
        }
    };
    function l(t) {
        return h(t, 1)()
    }
    var p = ["zhenqi", "gengu", "tipo", "shenfa"]
      , f = ["hurt", "harmless", "pierce", "hit"]
      , d = function(t, e) {
        if (p.indexOf(e) > -1) {
            var n = Object(a.a)(1);
            n && n.type == e && (t += n.num)
        }
        return t
    };
    function b(t) {
        var e = y();
        for (var n in e) {
            var i = e[n]
              , o = null
              , r = null
              , a = n;
            if (i.id == t)
                o = i.text,
                r = h(n, 1)();
            else if (i.deps)
                for (var s = 0; s < i.deps.length; s++) {
                    var c = i.deps[s];
                    if (c.id == t) {
                        o = c.text,
                        r = c.cal();
                        break
                    }
                }
            if (t >= 37 && t <= 40 && null != r && (r = Math.floor(r / 100) + "%"),
            null != o && null != r)
                return {
                    key: o,
                    val: r,
                    value: a
                }
        }
        return null
    }
    var g = {
        1: "shenfa",
        2: "wuxing",
        3: "zhenqi",
        4: "tipo",
        5: "gengu",
        6: "jiyuan"
    }
      , _ = null
      , m = function() {
        _ = {
            zhenqi: {
                tr: "zhenqi",
                text: Object(i.tr)("main@zhenqi"),
                id: 1,
                deps: [{
                    tr: "gongji",
                    text: Object(i.tr)("main@gongji"),
                    id: 9,
                    cal: function(t) {
                        return h("zhenqi", 5, "gongji")(t)
                    }
                }]
            },
            gengu: {
                tr: "gengu",
                text: Object(i.tr)("main@gengu"),
                id: 2,
                deps: [{
                    tr: "fangyu",
                    text: Object(i.tr)("main@fangyu"),
                    id: 10,
                    cal: function(t) {
                        return h("gengu", 5, "fangyu")(t)
                    }
                }]
            },
            tipo: {
                tr: "tipo",
                text: Object(i.tr)("main@tipo"),
                id: 3,
                deps: [{
                    tr: "shengming",
                    text: Object(i.tr)("main@shengming"),
                    id: 11,
                    cal: function(t) {
                        return (e = "tipo",
                        n = 15,
                        function(t) {
                            t = h(e, n)(t);
                            var o = r.b.addProperty();
                            for (var a in o)
                                t += h(a, 1)() * o[a] / 100;
                            return t += Object(i.getCache)("Attr.getInfo").hpAdd || 0,
                            Math.floor(t)
                        }
                        )(t);
                        var e, n
                    }
                }]
            },
            shenfa: {
                tr: "shenfa",
                text: Object(i.tr)("main@shenfa"),
                id: 4,
                deps: [{
                    tr: "shanbi",
                    text: Object(i.tr)("main@shanbi"),
                    id: 12,
                    cal: function(t) {
                        return h("shenfa", 3, "shanbi")(t)
                    }
                }]
            },
            lingli: {
                tr: "lingli",
                text: Object(i.tr)("main@lingli"),
                id: 5,
                deps: [{
                    tr: "baoji",
                    text: Object(i.tr)("main@baoji"),
                    id: 13,
                    cal: function(t) {
                        return h("lingli", 3)(t)
                    }
                }]
            },
            wuxing: {
                tr: "wuxing",
                text: Object(i.tr)("main@wuxing"),
                id: 6,
                deps: [{
                    tr: "xiulian",
                    text: Object(i.tr)("main@xiulian"),
                    id: 14,
                    cal: function(t) {
                        return h("wuxing", .5)(t)
                    }
                }]
            },
            jiyuan: {
                tr: "jiyuan",
                text: Object(i.tr)("main@jiyuan"),
                id: 7,
                deps: [{
                    tr: "linglihuoqu",
                    text: Object(i.tr)("main@linglihuoqu"),
                    id: 15,
                    cal: function(t) {
                        return h("jiyuan", .5)(t)
                    }
                }]
            },
            metalHurt: {
                tr: "jin",
                id: 17,
                text: Object(i.tr)("main@jin")
            },
            woodHurt: {
                tr: "mu",
                id: 18,
                text: Object(i.tr)("main@mu")
            },
            waterHurt: {
                tr: "shui",
                id: 19,
                text: Object(i.tr)("main@shui")
            },
            fireHurt: {
                tr: "huo",
                id: 20,
                text: Object(i.tr)("main@huo")
            },
            soilHurt: {
                tr: "tu",
                id: 21,
                text: Object(i.tr)("main@tu")
            },
            humanHurt: {
                tr: "renAtk",
                id: 22,
                text: Object(i.tr)("main@renAtk")
            },
            witchHurt: {
                tr: "yaoAtk",
                id: 23,
                text: Object(i.tr)("main@yaoAtk")
            },
            devilHurt: {
                tr: "moAtk",
                id: 24,
                text: Object(i.tr)("main@moAtk")
            },
            monsterHurt: {
                tr: "shouAtk",
                id: 25,
                text: Object(i.tr)("main@shouAtk")
            },
            dragonHurt: {
                tr: "longAtk",
                id: 26,
                text: Object(i.tr)("main@longAtk")
            },
            godHurt: {
                tr: "xianAtk",
                id: 27,
                text: Object(i.tr)("main@xianAtk")
            },
            pojun: {
                tr: "pojun",
                id: 33,
                text: Object(i.tr)("main@pojun")
            },
            chuanjia: {
                tr: "chuanjia",
                id: 34,
                text: Object(i.tr)("main@chuanjia")
            },
            huichun: {
                tr: "huichun",
                id: 35,
                text: Object(i.tr)("main@huichun")
            },
            fanzhen: {
                tr: "fanzhen",
                id: 36,
                text: Object(i.tr)("main@fanzhen")
            },
            hurt: {
                tr: "hurt",
                id: 37,
                text: Object(i.tr)("main@hurt")
            },
            harmless: {
                tr: "harmless",
                id: 38,
                text: Object(i.tr)("main@harmless")
            },
            pierce: {
                tr: "pierce",
                id: 39,
                text: Object(i.tr)("main@pierce")
            },
            hit: {
                tr: "hit",
                id: 40,
                text: Object(i.tr)("main@hit")
            }
        }
    };
    function y(t) {
        return null == _ && m(),
        t ? _[t] : _
    }
    function v(t) {
        var e = Object(o.a)("zbuff");
        if (!e || 0 == e.length)
            return 0;
        switch (t) {
        case "tipo":
            return e[0].num / 1e4;
        case "zhenqi":
            return e[1].num / 1e4;
        case "gengu":
            return e[2].num / 1e4;
        case "shenfa":
            return e[3].num
        }
        return 0
    }
    function O(t) {
        return Object(o.a)("guildSkills") ? Object(i.singleton)(s.a).getHeroProperty(t) : 0
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return a
    }
    ));
    var i, o = n(1), r = n(343);
    function a() {
        if (i)
            return i;
        var t = Object(o.getPlatform)().getConstant("screenInfo")
          , e = Object(r.a)();
        if (Object(o.getOption)("screenTop")) {
            var n = parseInt(Object(o.getOption)("screenTop"));
            i = {
                notch: !0,
                top: n + e,
                bottom: 0,
                height: o.display.stageH - n
            },
            o.display.stageH < 1334 && (i.height *= 1334 / o.display.stageH)
        } else if (t && t.notchScreen)
            i = {
                notch: !0,
                top: 60 + e,
                bottom: 30,
                height: o.display.stageH - 60 - 30
            },
            o.display.stageH < 1334 && (i.height *= 1334 / o.display.stageH);
        else {
            var a = Object(o.getPlatform)().name;
            if ((function() {
                var t = [{
                    width: 414,
                    height: 896
                }, {
                    width: 375,
                    height: 812
                }];
                if (navigator.userAgent.indexOf("iPhone") > -1)
                    for (var e = window.screen, n = e.availWidth, i = e.availHeight, o = 0; o < t.length; o++) {
                        var r = t[o];
                        if (r.width == n && r.height == i || r.height == n && r.width == i)
                            return !0
                    }
                return !1
            }() || o.is.phx()) && "awy" != a)
                i = {
                    notch: !0,
                    top: 60 + e,
                    bottom: 30,
                    height: o.display.stageH - 60 - 30
                };
            else if (o.is.xyx()) {
                var s = window.wx.getSystemInfoSync()
                  , c = s.statusBarHeight - 20;
                c *= s.pixelRatio,
                i = {
                    notch: !0,
                    top: c + e,
                    bottom: 0,
                    height: o.display.stageH - c
                }
            } else {
                try {
                    navigator.userAgent.indexOf("PBCM30") > -1 && (i = {
                        notch: !0,
                        top: 60 + e,
                        bottom: 0,
                        height: o.display.stageH - 60
                    })
                } catch (t) {}
                i = {
                    notch: !1,
                    top: e,
                    bottom: 0,
                    height: o.display.stageH
                }
            }
            o.display.stageH < 1334 && (i.height *= 1334 / o.display.stageH)
        }
        return i
    }
}
, function(t, e, n) {
    "use strict";
    function i(t, e) {
        void 0 === e && (e = 300),
        egret.Tween.removeTweens(t),
        t.alpha = 0,
        t.scaleX = t.scaleY = 0,
        egret.Tween.get(t).to({
            scaleX: 1,
            scaleY: 1,
            alpha: 1
        }, e)
    }
    n.d(e, "a", (function() {
        return i
    }
    ))
}
, , function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return i
    }
    )),
    n.d(e, "a", (function() {
        return y
    }
    ));
    var i, o, r, a = n(109), s = n(1), c = n(107), u = n(146), h = n(166), l = n(111), p = n(113), f = n(142), d = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, b = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    };
    !function(t) {
        t[t.ordinary = 0] = "ordinary",
        t[t.fairyland = 1] = "fairyland"
    }(i || (i = {})),
    function(t) {
        t[t.all = 0] = "all",
        t[t.junior = 1] = "junior",
        t[t.advanced = 2] = "advanced",
        t[t.lianyao = 3] = "lianyao",
        t[t.lianqi = 4] = "lianqi"
    }(o || (o = {})),
    function(t) {
        t[t.waimen = 0] = "waimen",
        t[t.neimen = 1] = "neimen",
        t[t.qinchuan = 2] = "qinchuan",
        t[t.gongfend = 3] = "gongfend",
        t[t.hufa = 4] = "hufa",
        t[t.daili = 5] = "daili"
    }(r || (r = {}));
    var g = function() {
        function t(t, e) {
            this.p = t,
            this._c = Object(s.getConfig)("skill_json")[t.id];
            var n = e.npc;
            for (var i in n)
                if (n[i].skillId == t.id) {
                    this._attach = n[i];
                    break
                }
        }
        return Object.defineProperty(t.prototype, "c", {
            get: function() {
                return this._c
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "attach", {
            get: function() {
                return this._attach
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , _ = function() {
        function t(t, e) {
            this.p = e,
            this._c = t
        }
        return Object.defineProperty(t.prototype, "c", {
            get: function() {
                return this._c
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "num", {
            get: function() {
                return this.c.dayLimit - (this.p && this.p.limit || 0)
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "canBuy", {
            get: function() {
                return !!this.p && (this.p.ct ? this.num < this.c.dayLimit : this.p.ct)
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "used", {
            get: function() {
                var t = Object(s.getConfig)("item_json")[this._c.itemId];
                if (7 == t.resultID) {
                    if (-1 != Object(s.getCache)("Qi.getInfo", "qiFang").indexOf(Number(t.ResultVal1)))
                        return !0
                } else if (9 == t.resultID && -1 != Object(s.getCache)("Dan.getInfo", "danFang").indexOf(Number(t.ResultVal1)))
                    return !0;
                return !1
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , m = function() {
        function t(t, e) {
            this.p = e,
            this._c = t
        }
        return Object.defineProperty(t.prototype, "c", {
            get: function() {
                return this._c
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.getRewardStr = function(t) {
            var e = "";
            this._c.baseReward;
            for (var n = 0; n < this._c.baseReward.length; n++)
                n > 0 && (e += ", "),
                this._c.baseReward[n].itemId,
                e += Object(s.tr)(Object(s.getConfig)("item_json")[this._c.baseReward[n].itemId].name),
                e += "*" + this._c.baseReward[n].num + " (" + t + ")";
            return e
        }
        ,
        t
    }()
      , y = function() {
        function t() {}
        return t.prototype.checkRes = function() {
            return d(this, void 0, void 0, (function() {
                return b(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Promise.all([Object(a.a)("union_json"), Object(a.a)("unionDeal_json"), Object(a.a)("unionLevel_json"), Object(a.a)("unionSkillNum_json"), Object(a.a)("unionPost_json"), Object(a.a)("unionTask_json"), Object(a.a)("npc_json"), Object(a.a)("talk_json"), Object(a.a)("monster_json"), Object(a.a)("privilegeCard_json"), this.getData()])];
                    case 1:
                        return [2, t.sent()]
                    }
                }
                ))
            }
            ))
        }
        ,
        t.prototype.getData = function() {
            return d(this, void 0, void 0, (function() {
                var t = this;
                return b(this, (function(e) {
                    switch (e.label) {
                    case 0:
                        return this._data ? [2, this._data] : [4, Object(c.d)("un.a", {
                            type: 1
                        }).then((function(e) {
                            return e ? (t._data = e,
                            s.cache.set("Union.getInfo", e),
                            e) : null
                        }
                        ))];
                    case 1:
                        return e.sent(),
                        [2, null]
                    }
                }
                ))
            }
            ))
        }
        ,
        Object.defineProperty(t.prototype, "data", {
            get: function() {
                return this._data
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "isZM", {
            get: function() {
                return this._data.head && this._data.head.headId == Object(p.a)("uId")
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.getCfg = function() {
            return Object(s.getConfig)("union_json")[this._data.id]
        }
        ,
        t.prototype.getNpcId = function(t) {
            return this.getCfg().npc[t].npcId
        }
        ,
        t.prototype.getLimitInfo = function() {
            var t, e = 0, n = Object(s.getCache)("User.getInfo", "i.lv"), i = Object(s.getConfig)("unionLevel_json");
            for (var o in i)
                e <= i[o].levelLimit && n >= i[o].levelLimit && (t = i[o],
                e = i[o].levelLimit);
            return t
        }
        ,
        t.prototype.getUnionsByType = function(t) {
            if (!this._unionsDicType) {
                this._unionsDicType = {},
                this._unionsDicType[i.ordinary] = [],
                this._unionsDicType[i.fairyland] = [];
                var e = Object(s.getConfig)("union_json")
                  , n = void 0
                  , o = {};
                for (var r in e)
                    if ((n = e[r]).star >= 3) {
                        if (!o[n.star]) {
                            o[n.star] = !0;
                            var a = Object(s.getConfig)("unionLevel_json")[n.star]
                              , c = {
                                star: n.star,
                                name: Object(s.tr)("union@xm", {
                                    lv: Object(f.u)(n.star)
                                }),
                                desc: Object(s.tr)("union@xmDesc", {
                                    name: Object(s.tr)(Object(s.getConfig)("level_json")[a.levelLimit].name)
                                })
                            };
                            this._unionsDicType[i.fairyland].push(c)
                        }
                    } else
                        this._unionsDicType[i.ordinary].push(n)
            }
            return this._unionsDicType[t]
        }
        ,
        t.prototype.getUnionsBykind = function(t, e) {
            var n, i = [], r = Object(s.getConfig)("union_json");
            for (var a in r)
                n = r[a],
                t == o.all && (e && n.star > 2 || !e && n.star < 3) ? i.push(n) : t != o.junior && t != o.advanced || n.star != t ? (t == o.lianyao && n.LianYaoAdd && (e && n.star > 2 || !e && n.star < 3) || t == o.lianqi && n.LianQiAdd && (e && n.star > 2 || !e && n.star < 3)) && i.push(n) : i.push(n);
            return i
        }
        ,
        t.prototype.getTask = function() {
            return this._data.task
        }
        ,
        t.prototype.getTasks = function() {
            this._taskList = [];
            var t = this.data.task
              , e = Object(s.getConfig)("unionTask_json")
              , n = void 0;
            for (var i in e)
                n = null,
                e[i].id == t.id && (n = t),
                this._taskList.push(new m(e[i],n));
            return this._taskList
        }
        ,
        t.prototype.getSkills = function() {
            var t = this.getCfg();
            return this._skills = this._data.unSkill.filter((function(t) {
                return t.id > 0
            }
            )).map((function(e) {
                return new g(e,t)
            }
            )),
            this._skills
        }
        ,
        t.prototype.getShopList = function(t) {
            return d(this, void 0, void 0, (function() {
                var e, n, i, o, r, a, h, p, f;
                return b(this, (function(d) {
                    switch (d.label) {
                    case 0:
                        return e = u.c[u.c.union] + "Shop.getList",
                        (n = Object(s.getCache)(e)) && l.a.getNow(!0) >= n.time && (s.cache.reset(e),
                        this._shopPl = null,
                        this._shopList = null),
                        this._shopPl ? [3, 2] : [4, Object(c.d)("s.a", {
                            shopType: u.c[u.c.union]
                        }).then((function(t) {
                            return t ? (s.cache.set(e, t),
                            t) : null
                        }
                        ))];
                    case 1:
                        i = d.sent(),
                        this._shopPl = i.list,
                        d.label = 2;
                    case 2:
                        if (!this._shopList && this._shopPl)
                            for (a in this._shopList = [],
                            o = Object(s.getConfig)("unionDeal_json"),
                            r = void 0,
                            o) {
                                for (r = null,
                                h = 0; h < this._shopPl.length; h++)
                                    if (o[a].id == this._shopPl[h].id) {
                                        r = this._shopPl[h];
                                        break
                                    }
                                this._shopList.push(new _(o[a],r))
                            }
                        for (p = [],
                        f = 0; f < this._shopList.length; f++)
                            this._shopList[f].c.label == t && p.push(this._shopList[f]);
                        return [2, p]
                    }
                }
                ))
            }
            ))
        }
        ,
        Object.defineProperty(t.prototype, "info", {
            get: function() {
                return Object(s.getCache)("Union.getInfo")
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.getPosition = function() {
            var t = []
              , e = Object(s.getConfig)("unionPost_json");
            for (var n in e)
                e[n].title > 0 && e[n].title < 5 && t.push(e[n]);
            return t
        }
        ,
        t.prototype.getCurrPosition = function() {
            return Object(s.getConfig)("unionPost_json")[Math.min(this._data.lv, 4)]
        }
        ,
        t.prototype.getHeadInfo = function(t) {
            var e = Object(s.getCache)("UHeader.getList", "l");
            return e && e.length ? e.find((function(e) {
                return e.id == t
            }
            )) : null
        }
        ,
        t.prototype.getWelLog = function() {
            for (var t, e, n = [], i = this.getCfg().npc, o = Object(s.getConfig)("npc_json"), r = 0; r < i.length; r++)
                e = i[r],
                t = new h.b(h.c.union_wel,{
                    name: o[e.npcId].name,
                    talk: o[e.npcId].desc3
                }),
                n.push(t);
            return n
        }
        ,
        t.prototype.getHeadTip = function() {
            if (!this._data.unSkill[this._data.unSkill.length - 1].status)
                return !1;
            var t = Object(s.getLocalStorage)().getString("union_tip", "");
            if (!t || "" == t)
                return !0;
            var e = void 0;
            try {
                return (e = JSON.parse(t)).id != this._data.id || !Boolean(e.s)
            } catch (t) {
                return !0
            }
        }
        ,
        t.prototype.clearHeadTip = function() {
            var t = {
                id: this._data.id,
                s: 1
            };
            Object(s.getLocalStorage)().setString("union_tip", JSON.stringify(t))
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return r
    }
    ));
    var i = n(1)
      , o = n(173);
    function r() {
        if (i.is.xyx()) {
            if ("android" == wx.getSystemInfoSync().platform)
                return !0;
            if ("modoxyx" == Object(i.getPlatform)().name && !Object(o.a)()) {
                var t = Object(i.getPlatform)().getConstant("isShowPay");
                return console.log("isShowPay===>>>" + t),
                1 == t
            }
            return !1
        }
        return "0" !== Object(i.getOption)("showPay")
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return i
    }
    ));
    var i = function() {
        function t() {}
        return t.GREEN = 7061293,
        t.YELLOW = 16766813,
        t.RED = 13508897,
        t.WHITE = 16775400,
        t.BLUE = 32963,
        t.GRAY = 7960953,
        t.DARK_GREEN = 4949091,
        t.DARK_BLUE = 4879017,
        t.DARK_PURPLE = 9460902,
        t.DARK_ORANGE = 13073702,
        t.DARK_BROWN = 9129036,
        t.DARK_GRAY = 5200233,
        t.LIGHT_WHITE = 16777215,
        t.LIGHT_GRAY = 14741239,
        t.LIGHT_YELLOW = 16773325,
        t.LIGHT_GREEN = 4974486,
        t.LIGHT_RED = 16012613,
        t.LIGHT_ORANGE = 16760915,
        t.DARK_GREEN1 = 6979454,
        t.DARK_GREEN2 = 5008237,
        t.DARK_GREEN3 = 4216408,
        t.DARK_BLACK = 2042933,
        t.NORMAL_GREEN = 567164,
        t.NORMAL_BLUE = 32963,
        t.NORMAL_MAGENTA = 12320963,
        t.NORMAL_RED = 12779520,
        t.NORMAL_ORANGE = 16153101,
        t.BTN_WHITE = 16775913,
        t.BTN_GRAY = 9940148,
        t.BTN_BLACK = 3226697,
        t.BTN_BROWN = 4926749,
        t.STORAGE_KEY_MUT = "mut",
        t.STORAGE_KEY_HOL = "hol",
        t.STORAGE_KEY_BUILDING = "building",
        t.STORAGE_KEY_CHAT = "chat_",
        t.STORAGE_KEY_CHAT_USER = "chatUser",
        t.STORAGE_KEY_ICONFOLDER = "iconfolder",
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return r
    }
    ));
    var i = n(1)
      , o = n(123)
      , r = function() {
        function t(t, e, n) {
            var i = this;
            void 0 === n && (n = {
                name: "tongyongui_ske_json",
                x: 46,
                y: 54,
                scaleX: 1,
                scaleY: 1,
                mv: "1"
            }),
            this.btn = t,
            this.funName = e,
            this._opt = n,
            this.disposable = new o.a(e,(function(t) {
                t ? i.mv.visible = t : i._mv && (i._mv.visible = t)
            }
            ))
        }
        return Object.defineProperty(t.prototype, "mv", {
            get: function() {
                return this._mv || (this._mv = i.Movie.create(this._opt.name),
                this._mv.play(this._opt.mv),
                "number" == typeof this._opt.scaleX && (this._mv.scaleX = this._opt.scaleX),
                "number" == typeof this._opt.scaleY && (this._mv.scaleY = this._opt.scaleY),
                this._mv.x = this._opt.x,
                this._mv.y = this._opt.y,
                this.btn.addChild(this._mv)),
                this._mv
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.dispose = function() {
            this.disposable && (this.disposable.dispose(),
            this.disposable = null),
            this._mv && (this._mv.scaleX = 1,
            this._mv.scaleY = 1,
            this._mv.dispose())
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return c
    }
    ));
    var i, o = n(1), r = n(110), a = n(147), s = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), c = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelCommonShowPetSkin"),
            e
        }
        return s(e, t),
        e.prototype.onReady = function(t, e) {
            for (var n = Object(o.getConfig)("item_json")[t] ? Object(o.getConfig)("item_json")[t].ResultVal1 : t, i = Object(o.getConfig)("pet_json")[n], r = i.baseSkill, s = [], c = 0; c < r.length; c++)
                s.push({
                    id: r[c].baseSkill,
                    num: Object(o.getConfig)("petSkill_json")[r[c].baseSkill].value
                });
            var u = new a.b({
                cId: n,
                lv: 1,
                skills: s
            });
            this.lbl_way.text = e,
            u.c.nameIcon ? this.img_pet.source = "pet_name_" + u.c.nameIcon + "_png" : this.img_pet.source = "",
            this._mv = o.Movie.create("pet_" + u.c.icon + "_ske_json"),
            this.animNode.addChild(this._mv),
            this._mv.play("1"),
            this.disposeArr.push(this._mv);
            var h = new egret.HtmlTextParser
              , l = u.getAllAttr();
            this.lbl_zhenyuan.textFlow = h.parser(Object(o.tr)("main@fsgAttr_add_1", {
                num: l.zhenqi,
                add: l.zhenqi_add ? "+" + l.zhenqi_add : ""
            })),
            this.lbl_qixue.textFlow = h.parser(Object(o.tr)("main@fsgAttr_add_3", {
                num: l.tipo,
                add: l.tipo_add ? "+" + l.tipo_add : ""
            })),
            this.lbl_bufa.textFlow = h.parser(Object(o.tr)("main@fsgAttr_add_4", {
                num: l.shenfa,
                add: l.shenfa_add ? "+" + l.shenfa_add : ""
            })),
            this.lbl_jingu.textFlow = h.parser(Object(o.tr)("main@fsgAttr_add_2", {
                num: l.gengu,
                add: l.gengu_add ? "+" + l.gengu_add : ""
            })),
            this.lbl_wuli.textFlow = h.parser(Object(o.tr)("main@hero_atk_add", {
                num: l.atk,
                add: l.atk_add ? "+" + l.atk_add : ""
            })),
            this.lbl_daoshu.textFlow = h.parser(Object(o.tr)("main@hero_datk_add", {
                num: l.datk,
                add: l.datk_add ? "+" + l.datk_add : ""
            })),
            this.lbl_fashu.textFlow = h.parser(Object(o.tr)("main@hero_matk_add", {
                num: l.matk,
                add: l.matk_add ? "+" + l.matk_add : ""
            })),
            this.lbl_youqi.textFlow = h.parser(Object(o.tr)("main@hero_travel_add", {
                num: l.travel,
                add: l.travel_add ? "+" + l.travel_add : ""
            })),
            i.group ? this.img_shili.source = "frame_tree_" + i.group + "_png" : this.img_shili.visible = !1
        }
        ,
        e.show = function(t, n) {
            Object(r.b)([Object(o.singleton)(a.a).checkRes()]).then((function() {
                o.UI.openBox(new e, t, n)
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return u
    }
    ));
    var i, o = n(1), r = n(126), a = n(108), s = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), c = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (t.param1 == t.param2 ? this.lbl_top.text = Object(o.tr)("main@rankTop", {
                n: t.param1
            }) : this.lbl_top.text = Object(o.tr)("main@otherRank", {
                n1: t.param1,
                n2: t.param2
            }),
            this.list.itemRenderer = r.a,
            Object(a.a)(this.list, t.awards || t.reward))
        }
        ,
        e
    }(o.Item), u = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelGodHonorRewardSkin"),
            e
        }
        return s(e, t),
        e.prototype.onReady = function(t, e, n) {
            this.tab.visible = !1,
            this.lbl_desc.text = n || Object(o.tr)("main@rankAwdDesc"),
            this.img_logo.visible = e,
            e && (this.img_logo.source = e),
            this.list.itemRenderer = c,
            Object(a.a)(this.list, t)
        }
        ,
        e.show = function(t, n, i) {
            o.UI.openBox(new e, t, n, i)
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return g
    }
    )),
    n.d(e, "b", (function() {
        return _
    }
    ));
    var i, o = n(1), r = n(108), a = n(106), s = n(109), c = n(113), u = n(115), h = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), l = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return h(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.text.textFlow = (new egret.HtmlTextParser).parser(t))
        }
        ,
        e
    }(o.Item), p = function(t) {
        function e(e) {
            void 0 === e && (e = "CommonMassBrawlSkin");
            var n = t.call(this) || this;
            return n._isOver = !1,
            n.roundIdx = 0,
            n._delay = 0,
            n._atkData = {},
            n._dfdData = {},
            n._mvGroup = {},
            n.fightLogArr = [],
            n._atkGroup = {},
            n._dfdGroup = {},
            n.isWin = !1,
            n.isMax = !1,
            Object(o.setSkin)(n, e),
            n
        }
        return h(e, t),
        e.prototype.onReady = function(t, e, n, i) {
            var r = this;
            void 0 === n && (n = 0);
            var a = []
              , s = 1;
            for (var c in t.s)
                for (var u in t.s[c])
                    a[s] = t.s[c][u],
                    s++;
            this.fightData = t,
            this.fightData.s = a,
            this._autoClose = e,
            this._delay = n,
            this._isOver = !1,
            this.isWin = 1 == t.w,
            this.isMax = 1 == t.maxR,
            this.tap("quitBtn", this.onQuit, this);
            for (var c in t.f.atks) {
                var h = t.f.atks[c]
                  , p = h.pId
                  , f = this.mvPos("atks", c);
                this._atkData[p] = h,
                this._atkData[p].pos = {
                    x: 350 - (f.x - 350) + 100,
                    y: f.y
                },
                this._atkGroup[p] = this.createGroup(h.model, p, h, 1),
                this._atkGroup[p].group.x = 350 - (f.x - 350),
                this._atkGroup[p].group.y = f.y,
                this._atkGroup[p].scaleX = this._atkGroup[p].scaleY = 1
            }
            for (var d in t.f.defs) {
                var b = t.f.defs[d]
                  , g = b.pId
                  , _ = this.mvPos("defs", d);
                this._dfdData[g] = b,
                this._dfdData[g].pos = {
                    x: _.x - 100,
                    y: _.y
                },
                this._dfdGroup[g] = this.createGroup(b.model, g, b, 0),
                this._dfdGroup[g].group.x = _.x,
                this._dfdGroup[g].group.y = _.y,
                this._dfdGroup[g].scaleX = -_.zoom,
                this._dfdGroup[g].scaleY = _.zoom
            }
            for (var c in this.list.itemRenderer = l,
            this.quitBtn.enabled = !1,
            this._atkGroup)
                this._atkGroup[c].play("stand", 1);
            for (var c in this._dfdGroup)
                this._dfdGroup[c].play("stand", 1);
            Object(o.setTimeout)((function() {
                r.round()
            }
            ), this, 500, this.disposeArr)
        }
        ,
        e.prototype.mvPos = function(t, e) {
            var n = this.fightData.f[t].length;
            return Object(o.getConfig)("combatPlace_json")[n][e]
        }
        ,
        e.prototype.createGroup = function(t, e, n, i) {
            var r = "role" + (t < 10 ? "0" + t : t)
              , a = o.Movie.create(r + "_ske_json");
            if (a.play("stand"),
            a.atLast = !0,
            a.x = 70,
            a.y = 130,
            !this._mvGroup[e]) {
                var s = new eui.Group;
                s.anchorOffsetX = 75,
                s.anchorOffsetY = 100,
                s.width = 150,
                s.height = 200,
                s.addChild(a);
                var c = new eui.ProgressBar;
                Object(o.setSkin)(c, "CommonProgressHpSkin", (function() {
                    c.maximum = n.attr.maxHp,
                    c.value = n.attr.hp,
                    c.skinName = "CommonProgressHpSkin",
                    c.slideDuration = 0,
                    c.x = 20,
                    c.y = 150,
                    c.width = 100,
                    c.height = 10
                }
                )),
                s.hp = c,
                s.addChild(c);
                var u = new eui.Image;
                u.source = "common_pk_name_png",
                u.verticalCenter = -90,
                u.horizontalCenter = 0,
                s.nameImg = u,
                s.addChild(u);
                var h = new eui.Label;
                h.text = Object(o.tr)(n.name),
                h.size = 25,
                h.verticalCenter = -90,
                h.horizontalCenter = 0,
                h.textColor = i ? 4974486 : 16012613,
                h.textAlign = egret.HorizontalAlign.CENTER,
                s.nameText = h,
                s.addChild(h),
                s.model = t,
                this.animNode.addChild(s),
                this._mvGroup[e] = s,
                a.group = this._mvGroup[e]
            }
            return a
        }
        ,
        e.prototype.getFightRoundInfo = function(t) {
            var e, n;
            for (var i in this._dfdData)
                for (var o in t.aId == this._dfdData[i].pId && (e = this._dfdData[i]),
                t.tId)
                    t.tId[o] == this._dfdData[i].pId && (n = this._dfdData[i]);
            for (var r in this._atkData)
                for (var o in t.aId == this._atkData[r].pId && (e = this._atkData[r]),
                t.tId)
                    t.tId[o] == this._atkData[r].pId && (n = this._atkData[r]);
            return {
                atk: e,
                dfd: n
            }
        }
        ,
        e.prototype.getMovie = function(t) {
            return this._atkGroup[t.pId] ? this._atkGroup[t.pId] : this._dfdGroup[t.pId] ? this._dfdGroup[t.pId] : void 0
        }
        ,
        e.prototype.getHpBar = function(t) {
            return this._atkGroup[t.pId] ? this._atkGroup[t.pId].group.hp : this._dfdGroup[t.pId] ? this._dfdGroup[t.pId].group.hp : void 0
        }
        ,
        e.prototype.isPlayer = function(t) {
            for (var e in this._atkData)
                if (this._atkData[e].pId == t.pId)
                    return !0;
            return !1
        }
        ,
        e.prototype.tip = function(t, e, n, i) {
            void 0 === i && (i = 0);
            var r = new eui.Label;
            r.text = t + "",
            0 == t && (r.text = Object(o.tr)("main@shanbi")),
            r.size = 25,
            r.textAlign = egret.HorizontalAlign.CENTER,
            r.anchorOffsetX = 50,
            r.width = 120,
            r.textColor = t <= 0 ? 16711680 : 4055576,
            n && (r.textColor = n),
            r.stroke = 1,
            r.strokeColor = 16777215,
            r.bold = !0,
            r.x = 50,
            r.y = 0,
            r.alpha = 0,
            this._mvGroup[e.pId].addChild(r),
            egret.Tween.get(r).wait(i).call((function() {
                r.alpha = 1
            }
            )).to({
                y: -200
            }, 1e3).call((function() {
                o.display.removeFromParent(r)
            }
            ))
        }
        ,
        e.prototype.getdfdPos = function(t) {
            for (var e in this._dfdData)
                if (t == this._dfdData[e].pId)
                    return this._dfdData[e].pos;
            for (var n in this._atkData)
                if (t == this._atkData[n].pId)
                    return this._atkData[n].pos
        }
        ,
        e.prototype.round = function() {
            var t = this;
            if (this.roundIdx++,
            this.fightData.s[this.roundIdx])
                if (this._isOver)
                    console.log("战斗界面关闭");
                else {
                    var e = this.fightData.s[this.roundIdx]
                      , n = this.getFightRoundInfo(e)
                      , i = this.isPlayer(n.atk)
                      , a = this.getMovie(n.atk);
                    if (a) {
                        var s;
                        a && a.group && (s = {
                            x: a.group.x,
                            y: a.group.y
                        });
                        var c = this.getdfdPos(n.dfd.pId)
                          , h = this.getMovie(n.dfd)
                          , l = Object(o.tr)(Object(o.getConfig)("skill_json")[n.atk.jxId].name)
                          , p = function() {
                            var i = ""
                              , a = {
                                atk: Object(o.tr)(n.atk.name),
                                dfd: Object(o.tr)(n.dfd.name),
                                skill: l,
                                hp: Math.abs(e.t[0].vv)
                            };
                            Array.isArray(e.b) && e.b.length > 0 ? "huichun" == e.b[0].type ? (a.hc = Math.abs(e.b[0].vv),
                            i = Object(o.tr)("main@fightHuichunLog", a)) : "fanzhen" == e.b[0].type && (a.fz = Math.abs(e.b[0].vv),
                            i = Object(o.tr)("main@fightFanzhenLog", a)) : e.t[0].isHit ? i = Object(o.tr)("main@fightAtkLog", a) : (console.log("miss"),
                            i = Object(o.tr)("main@fightMissLog", a)),
                            t.fightLogArr.push(i);
                            var s = null;
                            return t.fightData.s[t.roundIdx + 1] || (1 == t.fightData.maxR ? (t.fightLogArr.push(Object(o.tr)("main@fightFlatLog", {
                                name: Object(o.tr)(n.atk.name)
                            })),
                            s = 0) : 1 == t.fightData.w ? (t.fightLogArr.push(Object(o.tr)("main@fightWinLog", {
                                atk: Object(o.tr)(t.fightData.f.defs[0].name)
                            })),
                            s = 1) : (t.fightLogArr.push(Object(o.tr)("main@fightLoseLog", {
                                dfd: Object(o.tr)(t.fightData.f.defs[0].name)
                            })),
                            s = 0),
                            t._autoClose && (t._delay ? Object(o.setTimeout)((function() {
                                o.UI.remove(t)
                            }
                            ), t, t._delay, t.disposeArr) : egret.callLater((function() {
                                o.UI.remove(t)
                            }
                            ), t))),
                            Object(r.a)(t.list, t.fightLogArr, {
                                smart: !0
                            }),
                            s
                        }
                          , f = function(e, n, i, o) {
                            var r = t.getHpBar(e);
                            e.attr.hp += n,
                            e.attr.hp > r.maximum ? e.attr.hp = r.maximum : e.attr.hp <= 0 && (e.attr.hp = 0),
                            r.value = e.attr.hp,
                            t.tip(n, e, o, i[e.pId]),
                            i[e.pId] += 400
                        }
                          , d = !1
                          , b = function(i, r) {
                            a.once(o.MovieEvent.FRAME_LABEL, (function() {
                                var r;
                                if (t.quitBtn.enabled = !0,
                                t._isOver)
                                    console.log("战斗界面关闭");
                                else {
                                    var a = ((r = {})[n.dfd.pId] = 0,
                                    r[n.atk.pId] = 0,
                                    r);
                                    if (f(n.dfd, e.t[0].vv, a),
                                    Array.isArray(e.b))
                                        for (var u = 0; u < e.b.length; u++) {
                                            var l = e.b[u]
                                              , _ = l.tId == n.dfd.pId ? n.dfd : n.atk;
                                            f(_, l.vv, a)
                                        }
                                    if (1 != b && 2 != b || "2" != i)
                                        null == p() ? n.dfd.attr.hp <= 0 ? g(h) : h.play("injured", 1) : t.isWin ? g(h) : d = !0;
                                    else {
                                        t.img_skill.x = s.x,
                                        t.img_skill.y = s.y,
                                        t.img_skill.scaleX = s.x - c.x > 0 ? -1 : 1,
                                        t.img_skill.source = "role_skill_" + b + "_png";
                                        var m = Math.atan((c.y - s.y) / (c.x - s.x)) / (Math.PI / 180);
                                        m = Math.round(m),
                                        t.img_skill.rotation = m,
                                        egret.Tween.get(t.img_skill).to({
                                            x: c.x,
                                            y: c.y
                                        }, 200).call((function() {
                                            t.img_skill.source = "",
                                            t._skillMv = o.Movie.create("skill_" + b + "_ske_json", !1),
                                            t._skillMv && t.animNode.addChild(t._skillMv),
                                            t._skillMv.x = h.group.x,
                                            t._skillMv.y = h.group.y,
                                            t._skillMv.play("1", 1),
                                            t._skillMv.once(o.MovieEvent.COMPLETE, (function() {
                                                o.display.removeFromParent(t._skillMv),
                                                t._skillMv.dispose(),
                                                t._skillMv = null,
                                                null == p() ? n.dfd.attr.hp <= 0 ? g(h) : h.play("injured", 1) : t.isWin ? g(h) : d = !0
                                            }
                                            ), t)
                                        }
                                        ))
                                    }
                                }
                            }
                            ), t);
                            var l = "attack"
                              , b = a.group.model;
                            (1 == b || 2 == b) && (l = "1" == i ? "attack1" : "attack3"),
                            a.play(l, 1),
                            Object(u.x)((function() {
                                a.once(o.MovieEvent.COMPLETE, (function() {
                                    d ? g(h) : a.play("back"),
                                    r()
                                }
                                ), t)
                            }
                            ))
                        }
                          , g = function(e) {
                            e.play("die", 1),
                            e.once(o.MovieEvent.COMPLETE, (function() {
                                o.display.removeFromParent(e),
                                e.dispose(),
                                e.group.nameText.visible = !1,
                                e.group.nameText = null,
                                e.group.nameImg.visible = !1,
                                e.group.nameImg = null,
                                e.group.hp.visible = !1,
                                e.group.hp = null,
                                e.visible = !1,
                                e = null
                            }
                            ), t)
                        }
                          , _ = function() {
                            a.play("move");
                            var e = a && a.group;
                            egret.Tween.get(e).to({
                                x: c.x,
                                y: c.y
                            }, 150).call((function() {
                                b("1", (function() {
                                    d || egret.Tween.get(e).to({
                                        x: s.x,
                                        y: s.y
                                    }, 150).call((function() {
                                        a.play("stand"),
                                        t.round()
                                    }
                                    ), t)
                                }
                                ))
                            }
                            ))
                        };
                        if (i) {
                            var m = 0;
                            this._atkMap && this._atkMap[e.aId].length > 0 && (m = this._atkMap[e.aId].shift()),
                            m || (m = e.atk ? e.atk : Math.random() > .5 ? 1 : 2),
                            1 == m ? _() : (a.play("move"),
                            b("2", (function() {
                                d || (a.play("stand"),
                                t.round())
                            }
                            )))
                        } else
                            _()
                    }
                }
        }
        ,
        e.prototype.onQuit = function() {
            egret.Tween.removeTweens(this._dfdGroup),
            egret.Tween.removeTweens(this._atkGroup),
            o.UI.remove(this)
        }
        ,
        e.prototype.onExit = function() {
            this._atkGroup && (this._atkGroup = null),
            this._dfdGroup && (this._dfdGroup = null),
            this._isOver = !0,
            t.prototype.onExit.call(this)
        }
        ,
        e.show = function(t, n, i, o) {
            void 0 === n && (n = !0),
            void 0 === i && (i = 1500);
            var r = new e;
            return Object(s.a)("combatPlace_json").then((function() {
                Object(s.a)("skill_json").then((function() {
                    Object(a.a)(r, t, n, i, o)
                }
                ))
            }
            )),
            r
        }
        ,
        e
    }(o.UIComponent);
    var f = n(110)
      , d = n(300)
      , b = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , g = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return b(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.text.textFlow = (new egret.HtmlTextParser).parser(t))
        }
        ,
        e
    }(o.Item)
      , _ = function(t) {
        function e(e) {
            void 0 === e && (e = "FightSkin");
            var n = t.call(this) || this;
            return n._isOver = !1,
            n.roundIdx = 0,
            n._atkMvName = "",
            n._dfdMvName = "",
            n._delay = 0,
            n._mvGroup = {},
            n._petGroup = {},
            n.fightLogArr = [],
            n.isWin = !1,
            n.isMax = !1,
            Object(o.setSkin)(n, e),
            n
        }
        return b(e, t),
        e.prototype.onReady = function(t, e, n, i) {
            var r = this;
            void 0 === n && (n = 0),
            this.fightData = t,
            this._autoClose = e,
            this._delay = n,
            this._isOver = !1,
            this.isWin = 1 == t.w,
            this.isMax = 1 == t.maxR,
            this.tap("quitBtn", this.onQuit, this),
            this._atkMvName = "role0" + Object(c.a)().sex,
            this._atkMv = this.createMv(this._atkMvName, "atk"),
            this._atkPetMv = this.createPetMv(t.f.atk, "atk");
            var a = t.f.def.model || 1
              , s = a < 10 ? "0" + a : a;
            this._dfdMvName = "role" + s,
            this._dfdMv = this.createMv(this._dfdMvName, "dfd"),
            this._dfdPetMv = this.createPetMv(t.f.def, "dfd"),
            this.list.itemRenderer = g,
            this._atkMv.group.x = -160,
            this._dfdMv.group.x = 160,
            this._dfdMv.scaleX = -1,
            this._atkPetMv && (this._atkPetMv.group.x = -240,
            this._atkPetMv.group.y = -20,
            this._atkPetMv.scaleY = this._atkPetMv.scaleX = 1.5),
            this._dfdPetMv && (this._dfdPetMv.group.x = 240,
            this._dfdPetMv.group.y = -20,
            this._dfdPetMv.scaleX = -1.5,
            this._dfdPetMv.scaleY = 1.5),
            this.quitBtn.enabled = !1,
            t && (this.myHp.maximum = i || t.f.atk.attr.maxHp,
            this.myHp.value = t.f.atk.attr.hp,
            this.enemyHp.maximum = t.f.def.attr.maxHp,
            this.enemyHp.value = t.f.def.attr.hp,
            this._atkMv.play("stand", 1),
            this._dfdMv.play("stand", 1),
            this._atkPetMv && this._atkPetMv.play("stand", 1),
            this._dfdPetMv && this._dfdPetMv.play("stand", 1),
            Object(o.setTimeout)((function() {
                r.round()
            }
            ), this, 500, this.disposeArr))
        }
        ,
        e.prototype.createMv = function(t, e) {
            var n = o.Movie.create(t + "_ske_json");
            if (n.play("stand"),
            n.atLast = !0,
            this.addChild(n),
            !this._mvGroup[e]) {
                var i = new eui.Group;
                this.animNode.addChild(i),
                this._mvGroup[e] = i
            }
            return this._mvGroup[e].addChild(n),
            n.group = this._mvGroup[e],
            n
        }
        ,
        e.prototype.createPetMv = function(t, e) {
            var n = "";
            if (t.pet) {
                var i = Object(o.getConfig)("pet_json", t.pet);
                i && (n = "role" + i.battleIcon + "_ske_json")
            } else if (t.mainPet && t.mainPet.lv && 1 != t.mainPet.up) {
                var r = Object(d.a)(t.mainPet.lv);
                n = "role" + (10 + 3 * (t.mainPet.id - 1) + r) + "_ske_json"
            }
            if ("" === n)
                return null;
            var a = o.Movie.create(n);
            if (a.play("stand"),
            a.atLast = !0,
            this.addChild(a),
            !this._petGroup[e]) {
                var s = new eui.Group;
                this.animNode.addChild(s),
                this._petGroup[e] = s
            }
            return this._petGroup[e].addChild(a),
            a.group = this._petGroup[e],
            a
        }
        ,
        e.prototype.getFightRoundInfo = function(t) {
            return t.aId == this.fightData.f.def.pId ? {
                atk: this.fightData.f.def,
                dfd: this.fightData.f.atk
            } : {
                atk: this.fightData.f.atk,
                dfd: this.fightData.f.def
            }
        }
        ,
        e.prototype.getMovie = function(t) {
            var e = [];
            return t.pId == this.fightData.f.atk.pId ? (e.push(this._atkMv),
            this._atkPetMv && e.push(this._atkPetMv),
            e) : (e.push(this._dfdMv),
            this._dfdPetMv && e.push(this._dfdPetMv),
            e)
        }
        ,
        e.prototype.getPetMv = function(t) {
            return t.pId == this.fightData.f.atk.pId ? this._atkPetMv : this._dfdPetMv
        }
        ,
        e.prototype.getHpBar = function(t) {
            return t.pId == this.fightData.f.atk.pId ? this.myHp : this.enemyHp
        }
        ,
        e.prototype.isPlayer = function(t) {
            return t.pId == this.fightData.f.atk.pId
        }
        ,
        e.prototype.tip = function(t, e, n, i) {
            void 0 === i && (i = 0);
            var r = new eui.Label;
            r.text = t + "",
            0 == t && (r.text = Object(o.tr)("main@shanbi2")),
            r.size = 25,
            r.textAlign = egret.HorizontalAlign.CENTER,
            r.anchorOffsetX = 50,
            r.width = 120,
            r.textColor = t <= 0 ? 16711680 : 4055576,
            n && (r.textColor = n),
            r.stroke = 1,
            r.strokeColor = 16777215,
            r.bold = !0,
            r.y = -100,
            r.alpha = 0;
            var a = "dfd";
            this.isPlayer(e) && (a = "atk"),
            this._mvGroup[a].addChild(r),
            egret.Tween.get(r).wait(i).call((function() {
                r.alpha = 1
            }
            )).to({
                y: -200
            }, 1e3).call((function() {
                o.display.removeFromParent(r)
            }
            ))
        }
        ,
        e.prototype.round = function() {
            var t = this;
            if (this.roundIdx++,
            this.fightData.s[this.roundIdx])
                if (this._isOver)
                    console.log("战斗界面关闭");
                else {
                    var e = this.fightData.s[this.roundIdx]
                      , n = this.getFightRoundInfo(e)
                      , i = this.isPlayer(n.atk)
                      , a = 110;
                    i || (a = -110);
                    var s = this.getMovie(n.atk);
                    if (s) {
                        var h = 0
                          , l = 0;
                        s[0] && s[0].group && (h = s[0].group.x),
                        s.length > 1 && s[1].group && (l = s[1].group.x);
                        var p = this.getMovie(n.dfd)
                          , f = Object(o.tr)(Object(o.getConfig)("skill_json")[n.atk.jxId].name)
                          , d = function(e, n, i, o) {
                            var r = t.getHpBar(e);
                            e.attr.hp += n,
                            e.attr.hp > r.maximum ? e.attr.hp = r.maximum : e.attr.hp <= 0 && (e.attr.hp = 0),
                            r.value = e.attr.hp,
                            t.tip(n, e, o, i[e.pId]),
                            i[e.pId] += 400
                        }
                          , b = !1
                          , g = function(i, a) {
                            s[0].once(o.MovieEvent.FRAME_LABEL, (function() {
                                var i;
                                if (t.quitBtn.enabled = !0,
                                t._isOver)
                                    console.log("战斗界面关闭");
                                else {
                                    var a = ((i = {})[n.dfd.pId] = 0,
                                    i[n.atk.pId] = 0,
                                    i);
                                    if (d(n.dfd, e.vv, a),
                                    Array.isArray(e.b))
                                        for (var s = 0; s < e.b.length; s++)
                                            if ("mainPetAtr" != e.b[s].type) {
                                                var u = e.b[s]
                                                  , h = u.tId == n.dfd.pId ? n.dfd : n.atk;
                                                d(h, u.vv, a)
                                            }
                                    if (null == function() {
                                        var i = ""
                                          , a = {
                                            atk: Object(o.tr)(n.atk.name),
                                            dfd: Object(o.tr)(n.dfd.name),
                                            skill: f,
                                            hp: Math.abs(e.vv)
                                        };
                                        if (Array.isArray(e.b) && e.b.length > 0) {
                                            if ("mainPetAtr" == e.b[0].type) {
                                                i = Object(o.tr)("main@fightAtkLog", a);
                                                var s = {
                                                    petName: null == (u = Object(o.getConfig)("mainPet_json", Object(c.a)("mainPet").id)) ? "" : Object(o.tr)(u.name),
                                                    petAtk: Math.abs(e.b[0].vv)
                                                };
                                                i += Object(o.tr)("main@fightMainPetLog", s)
                                            } else if ("huichun" == e.b[0].type)
                                                a.hc = Math.abs(e.b[0].vv),
                                                i = Object(o.tr)("main@fightHuichunLog", a);
                                            else if ("fanzhen" == e.b[0].type && (a.fz = Math.abs(e.b[0].vv),
                                            i = Object(o.tr)("main@fightFanzhenLog", a),
                                            e.b.length > 1 && "mainPetAtr" == e.b[1].type)) {
                                                var u;
                                                s = {
                                                    petName: null == (u = Object(o.getConfig)("mainPet_json", Object(c.a)("mainPet").id)) ? "" : Object(o.tr)(u.name),
                                                    petAtk: Math.abs(e.b[0].vv)
                                                };
                                                i += Object(o.tr)("main@fightMainPetLog", s)
                                            }
                                        } else
                                            e.isHit ? i = Object(o.tr)("main@fightAtkLog", a) : (console.log("miss"),
                                            i = Object(o.tr)("main@fightMissLog", a));
                                        t.fightLogArr.push(i);
                                        var h = null;
                                        return t.fightData.s[t.roundIdx + 1] || (1 == t.fightData.maxR ? (t.fightLogArr.push(Object(o.tr)("main@fightFlatLog", {
                                            name: Object(o.tr)(n.atk.name)
                                        })),
                                        h = 0) : 1 == t.fightData.w ? (t.fightLogArr.push(Object(o.tr)("main@fightWinLog", {
                                            atk: Object(o.tr)(t.fightData.f.def.name)
                                        })),
                                        h = 1) : (t.fightLogArr.push(Object(o.tr)("main@fightLoseLog", {
                                            dfd: Object(o.tr)(t.fightData.f.def.name)
                                        })),
                                        h = 0),
                                        t._autoClose && (t._delay ? Object(o.setTimeout)((function() {
                                            o.UI.remove(t)
                                        }
                                        ), t, t._delay, t.disposeArr) : egret.callLater((function() {
                                            o.UI.remove(t)
                                        }
                                        ), t))),
                                        Object(r.a)(t.list, t.fightLogArr, {
                                            smart: !0
                                        }),
                                        h
                                    }())
                                        p.forEach((function(t) {
                                            t.play("injured", 1)
                                        }
                                        ));
                                    else
                                        (t.isWin ? t._dfdMv : t._atkMv) == p[0] ? p.forEach((function(t) {
                                            t.play("die", 1)
                                        }
                                        )) : b = !0
                                }
                            }
                            ), t);
                            var h = "attack";
                            s[0] == t._dfdMv && "role01" != t._dfdMvName && "role02" != t._dfdMvName || (h = "1" == i ? "attack1" : "attack2"),
                            s[0].play(h, 1),
                            s.length > 1 && s[1].play("attack", 1),
                            Object(u.x)((function() {
                                s[0].once(o.MovieEvent.COMPLETE, (function() {
                                    b ? s.forEach((function(t) {
                                        t.play("die", 1)
                                    }
                                    )) : s[0].play("back"),
                                    a()
                                }
                                ), t)
                            }
                            ))
                        }
                          , _ = function() {
                            s.forEach((function(t) {
                                t.play("move")
                            }
                            ));
                            var e = s[0] && s[0].group
                              , n = s.length > 1 && s[1].group;
                            egret.Tween.get(e).to({
                                x: a
                            }, 150).call((function() {
                                g("1", (function() {
                                    b || (n && egret.Tween.get(n).to({
                                        x: l
                                    }, 150),
                                    egret.Tween.get(e).to({
                                        x: h
                                    }, 150).call((function() {
                                        s.forEach((function(t) {
                                            t.play("stand")
                                        }
                                        )),
                                        t.round()
                                    }
                                    ), t))
                                }
                                ))
                            }
                            )),
                            n && egret.Tween.get(n).to({
                                x: a
                            }, 150)
                        };
                        if (i || "role01" == this._dfdMvName || "role02" == this._dfdMvName) {
                            var m = 0;
                            this._atkMap && this._atkMap[e.aId].length > 0 && (m = this._atkMap[e.aId].shift()),
                            m || (m = e.atk ? e.atk : Math.random() > .5 ? 1 : 2),
                            1 == m ? _() : function() {
                                g("2", (function() {
                                    b || (s.forEach((function(t) {
                                        t.play("stand")
                                    }
                                    )),
                                    t.round())
                                }
                                ));
                                var e = s.length > 1 && s[1].group;
                                e && egret.Tween.get(e).to({
                                    x: a
                                }, 350).call((function() {
                                    s[1].play("attack", 1),
                                    s[1].once(o.MovieEvent.COMPLETE, (function() {
                                        s[1].play("stand")
                                    }
                                    ), t)
                                }
                                )).wait(1e3).call((function() {
                                    s[1].play("stand")
                                }
                                )).to({
                                    x: l
                                }, 50)
                            }()
                        } else
                            _()
                    }
                }
        }
        ,
        e.prototype.onQuit = function() {
            egret.Tween.removeTweens(this._dfdMv),
            egret.Tween.removeTweens(this._atkMv),
            o.UI.remove(this)
        }
        ,
        e.prototype.onExit = function() {
            this._atkMv && this._atkMv.dispose(),
            this._dfdMv && this._dfdMv.dispose(),
            this._isOver = !0,
            t.prototype.onExit.call(this)
        }
        ,
        e.show = function(t, n, i, o) {
            if (void 0 === n && (n = !0),
            void 0 === i && (i = 1500),
            t.isPvn)
                return p.show(t, n, i, o);
            var r = new e;
            return Object(f.b)([Object(s.a)("skill_json"), Object(s.a)("pet_json"), Object(s.a)("mainPet_json")]).then((function(e) {
                Object(a.a)(r, t, n, i, o)
            }
            )),
            r
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "c", (function() {
        return i
    }
    )),
    n.d(e, "b", (function() {
        return v
    }
    )),
    n.d(e, "a", (function() {
        return O
    }
    ));
    var i, o = n(107), r = n(109), a = n(1), s = n(113), c = n(146), u = n(114), h = n(175), l = n(111), p = n(235), f = n(130), d = n(117), b = n(173), g = n(125), _ = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, m = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    };
    function y(t) {
        switch (t) {
        case c.c.lingbao:
        case c.c.cangjing:
            return u.f.lingshi;
        case c.c.weiwang:
            return u.f.weiwang;
        case c.c.xianyu:
            return u.f.lingyu;
        case c.c.xianzhi:
            return u.f.xianshi;
        case c.c.jingshu:
        case c.c.qizhen:
            return u.f.lingshi;
        case c.c.lingyu:
            return u.f.lingyu
        }
    }
    !function(t) {
        t[t.none = 0] = "none",
        t[t.soldOut = 1] = "soldOut",
        t[t.haveLearn = 2] = "haveLearn",
        t[t.have = 3] = "have"
    }(i || (i = {}));
    var v = function() {
        function t(t, e) {
            this.p = t,
            this.type = e
        }
        return Object.defineProperty(t.prototype, "c", {
            get: function() {
                var t = this.confType;
                return Object(a.getConfig)(t + "_json")[this.confId]
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "confId", {
            get: function() {
                return this.p.cId || this.p.heroId
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "confType", {
            get: function() {
                return this.p.cId ? "item" : "hero"
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.haveSkill = function() {
            return Object(p.a)(this.c.skillId)
        }
        ,
        Object.defineProperty(t.prototype, "status", {
            get: function() {
                return this.c.skillId > 0 && this.haveSkill() ? i.haveLearn : [21, 11].indexOf(this.c.resultID) > -1 && Object(h.a)(this.c.id) ? i.have : [9, 4, 7].indexOf(this.c.resultID) > -1 && Object(h.b)(this.c.id) ? i.haveLearn : 0 == this.p.limit ? i.soldOut : i.none
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "icon", {
            get: function() {
                return "hero" == this.confType ? Object(d.d)(this.c, "head") : Object(d.b)(this.c.id)
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "id", {
            get: function() {
                return this.p.id
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "cId", {
            get: function() {
                return this.p.cId
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "price", {
            get: function() {
                return this.p.price
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "ct", {
            get: function() {
                return this.p.ct
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "limit", {
            get: function() {
                return this.p.limit
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "shopType", {
            get: function() {
                return this.type
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "shopPropId", {
            get: function() {
                return y(this.shopType)
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , O = function() {
        function t() {
            this._shopData = {},
            this._floorMap = {
                1: 1,
                2: 1,
                3: 1,
                4: 1,
                7: 1,
                8: 1,
                9: 1,
                10: 1
            },
            this._groupsMap = {}
        }
        return t.prototype.checkRes = function(t) {
            return _(this, void 0, void 0, (function() {
                var e;
                return m(this, (function(n) {
                    switch (n.label) {
                    case 0:
                        return e = this.getConfigName(t),
                        [4, Promise.all([Object(r.a)(e), Object(a.getLocale)().init("cur")].concat(Object(g.a)("mid_1&mid_2"), Object(g.a)("rank_1&rank_2"), [this.getShopData(t)]))];
                    case 1:
                        return [2, n.sent()]
                    }
                }
                ))
            }
            ))
        }
        ,
        t.prototype.showBlack = function(t) {
            return t <= c.c.recharge
        }
        ,
        t.prototype.getFloor = function(t) {
            return this._floorMap[t]
        }
        ,
        t.prototype.hasNext = function(t) {
            return this.getFloor(t) == this.getMaxFloor(t)
        }
        ,
        t.prototype.hasLimit = function(t, e) {
            return Object(s.a)("lv") >= this.getFloorLimit(t, e)
        }
        ,
        t.prototype.rmbEnough = function(t, e) {
            var n = this.getFloorLimit(t, e, "RMBLimit")
              , i = this._shopData[t].reNum || 0;
            return n > 0 && i >= n
        }
        ,
        t.prototype.getConfigName = function(t) {
            var e = "";
            return t <= c.c.union ? e = "shop_json" : t <= c.c.recharge1 && (e = "flyShop_json"),
            e
        }
        ,
        t.prototype.getMaxFloor = function(t) {
            var e = this.getConfigName(t)
              , n = Object(a.getConfig)(e)
              , i = 0;
            for (var o in n) {
                var r = n[o];
                r.shopType == t && (i = Math.max(r.layer, i))
            }
            return i
        }
        ,
        t.prototype.getCurrencyPropId = function(t) {
            return y(t)
        }
        ,
        t.prototype.changeFloor = function(t, e) {
            var n = this.getFloor(t);
            n += e,
            e < 0 && n < 1 ? n = 1 : e > 0 && n > this.getMaxFloor(t) && (n = this.getMaxFloor(t)),
            this._floorMap[t] = n
        }
        ,
        t.prototype.isMaxFloor = function(t) {
            return this.getFloor(t) == this.getMaxFloor(t)
        }
        ,
        t.prototype.getFloorLimit = function(t, e, n) {
            void 0 === n && (n = "levelLimit");
            var i = this.getConfigName(t)
              , o = Object(a.getConfig)(i);
            for (var r in o) {
                var s = o[r];
                if (s.shopType == t && s.layer == e)
                    return s[n]
            }
            return "RMBLimit" == n ? 0 : 999
        }
        ,
        t.prototype.getRechrageData = function() {
            return _(this, void 0, void 0, (function() {
                var t, e, n, i;
                return m(this, (function(o) {
                    switch (o.label) {
                    case 0:
                        return [4, Object(r.a)("recharge_json")];
                    case 1:
                        for (n in o.sent(),
                        t = [],
                        e = Object(a.getConfig)("recharge_json"))
                            (1 == (i = e[n]).type || 103 == i.type && f.b.isOpen("anyPay")) && (i.rechargeType || t.push(i));
                        return [2, this.getGroups(t, c.c.recharge, (function(t) {
                            return t
                        }
                        ))]
                    }
                }
                ))
            }
            ))
        }
        ,
        t.prototype.getGroups = function(t, e, n) {
            for (var i = Math.ceil(t.length / 3), o = [], r = 0; r < i; r++)
                o.push({
                    first: n(t[3 * r], e),
                    second: n(t[3 * r + 1], e),
                    third: n(t[3 * r + 2], e)
                });
            return o
        }
        ,
        t.prototype.getShopData = function(t, e) {
            return void 0 === e && (e = !1),
            _(this, void 0, void 0, (function() {
                var n, i, r, s, u, h;
                return m(this, (function(p) {
                    switch (p.label) {
                    case 0:
                        return t == c.c.recharge || t == c.c.recharge1 ? Object(b.a)() ? [2, this.getArraignedData()] : [2, this.getRechrageData()] : (n = this._floorMap[t],
                        i = t + "-" + n,
                        r = c.c[t] + "Shop.getList",
                        ((s = Object(a.getCache)(r)) && l.a.getNow(!0) >= s.time || e) && (a.cache.reset(r),
                        this._groupsMap = {},
                        delete this._shopData[t]),
                        this._shopData[t] ? [3, 2] : [4, Object(o.d)("s.a", {
                            shopType: c.c[t]
                        }).then((function(t) {
                            return t ? (a.cache.set(r, t),
                            t) : null
                        }
                        ))]);
                    case 1:
                        u = p.sent(),
                        this._shopData[t] = u,
                        p.label = 2;
                    case 2:
                        return this._shopData[t] && !this._groupsMap[i] && (h = this._shopData[t].list.filter((function(t) {
                            return t.layer == n && 1 != t.isHide
                        }
                        )),
                        this._groupsMap[i] = this.getGroups(h, t, (function(t, e) {
                            return t ? new v(t,e) : null
                        }
                        ))),
                        [2, this._groupsMap[i] || []]
                    }
                }
                ))
            }
            ))
        }
        ,
        t.prototype.getShopModel = function(t, e) {
            if (this._shopData[t]) {
                var n = this._shopData[t].list.find((function(t) {
                    return t.cId == e
                }
                ));
                if (n)
                    return new v(n,t)
            }
        }
        ,
        t.prototype.getArraignedData = function() {
            return _(this, void 0, void 0, (function() {
                var t, e, n, i, o;
                return m(this, (function(s) {
                    switch (s.label) {
                    case 0:
                        return [4, Object(r.a)("recharge_json")];
                    case 1:
                        for (n in s.sent(),
                        t = [],
                        e = Object(a.getConfig)("recharge_json"))
                            i = e[n],
                            o = [1, 3, 6, 7, 8, 9, 10, 12, 13, 14, 15, 16, 17, 18, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 100, 104],
                            (103 == i.type && f.b.isOpen("anyPay") || f.b.isOpen("growGiftInRecharge") && o.indexOf(i.type) > -1) && (i.rechargeType || t.push(i));
                        return [2, this.getGroups(t, c.c.recharge, (function(t) {
                            return t
                        }
                        ))]
                    }
                }
                ))
            }
            ))
        }
        ,
        t
    }();
    window.ShopData = O
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return r
    }
    ));
    var i = n(1)
      , o = {};
    function r(t, e) {
        var n = (new Date).getTime();
        return o[t] && n - o[t] < 1e3 * e ? (Object(i.tooltip)(Object(i.tr)("main@isRecharge")),
        !1) : (o[t] = n,
        !0)
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return c
    }
    ));
    var i = n(1)
      , o = n(117)
      , r = n(131)
      , a = n(113)
      , s = n(153);
    function c(t, e, n, c) {
        if (void 0 === c && (c = !1),
        Object(s.a)(t.img_top, t.lbl_top, e.rank),
        t.lbl_name.text = Object(o.c)(),
        t.lbl_score) {
            var u = e.hasOwnProperty("score") || e.score ? e.score : "";
            t.lbl_score.text = u + "",
            c && (t.lbl_score.text = 0 == u ? Object(i.tr)("main@rankNo") : Object(i.tr)(Object(i.getConfig)("level_json")[u].name))
        }
        n && t.lbl_server && (t.lbl_server.text = e.svName ? e.svName : Object(o.k)(Object(a.a)("sId"))),
        e.hasOwnProperty("skin") && t.head && Object(r.f)(e.skin, t.head, {
            cloth: r.a.neck,
            eye: r.b.open
        })
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return m
    }
    ));
    var i, o = n(1), r = n(128), a = n(112), s = n(114), c = n(107), u = n(4), h = n(108), l = n(110), p = n(147), f = n(106), d = n(115), b = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), g = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return b(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (t) {
                if (Object(r.e)(this, t.heroData, "VHalf"),
                this.lbl_talent && t.opt.activityId) {
                    var e = "string" == typeof t.opt.activityId ? Object(a.d)(t.opt.activityId) : t.opt.activityId;
                    this.lbl_talent.text = Math.floor(t.heroData.power * (1 + .1 * e.buyBuffNum))
                }
                this.btn_do.visible = !1,
                this.btn_cure.visible = !1,
                this.lbl_over.visible = !1;
                var n = this.status();
                1 == n ? this.btn_do.visible = !0 : 2 == n ? this.btn_cure.visible = !0 : this.lbl_over.visible = !0
            }
        }
        ,
        e.prototype.status = function() {
            var t = this.data.opt
              , e = this.data.heroData
              , n = t.isNotActBoss ? o.cache.get("SmallWorld.getInfo", "heros") : o.cache.get("hero.getHeroNumList", "l");
            for (var i in n) {
                if (t.isNotActBoss ? n[i].id == e.c.id : n[i].cId == e.c.id)
                    return t.isNotActBoss ? 0 == n[i][t.useKey] ? 1 : t.reKey && 0 == n[i][t.reKey] ? 2 : 3 : n[i][t.useKey] > 0 ? 1 : t.reKey && n[i][t.reKey] > 0 ? 2 : 3
            }
            return 1
        }
        ,
        e.prototype.onReady = function() {
            this.tap("btn_do", this.onFight, this),
            this.tap("btn_cure", this.onRecover, this)
        }
        ,
        e.prototype.onFight = function() {
            Object(o.put)("hero_fight_select", this.data.heroData),
            o.UI.remove("MakeChooseHeroPanel")
        }
        ,
        e.prototype.onRecover = function() {
            var t = this;
            ("string" != typeof this.data.opt.activityId || Object(a.e)(this.data.opt.activityId, !0)) && Object(o.confirm)({
                title: Object(o.tr)("main@confirmTitle"),
                text: Object(o.tr)("main@sw12", {
                    hero: Object(o.tr)(this.data.heroData.c.name)
                }),
                showNo: !0,
                showClose: !1
            }).then((function(e) {
                if (console.log(e),
                "yes" == e && s.e.hasEnough(10286, 1)) {
                    var n = t.data.opt.isNotActBoss ? "sw.c" : "x.i"
                      , i = t.data.opt.isNotActBoss ? {
                        heroId: t.data.heroData.c.id
                    } : {
                        cId: t.data.heroData.c.id,
                        type: t.data.opt.reKey
                    };
                    Object(c.d)(n, i).then((function(e) {
                        e && t.onDataUpdate(t.data)
                    }
                    ))
                }
            }
            ))
        }
        ,
        e
    }(o.Item), _ = function(t, e) {
        this.heroData = t,
        this.opt = e
    }, m = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "XiaoshijieChoosePersonSkin"),
            e
        }
        return b(e, t),
        e.prototype.onReady = function(t) {
            var e = this;
            this.setName("MakeChooseHeroPanel"),
            this.list.itemRenderer = g,
            this.cash.visible = !0;
            for (var n = u.HeroModel.getEnableList(), i = [], r = [], a = [], s = 0; s < n.length; s++) {
                var c = this.status(n[s], t);
                1 == c ? i.push(n[s]) : 2 == c ? r.push(n[s]) : a.push(n[s])
            }
            i.sort((function(t, e) {
                return e.power - t.power
            }
            )),
            r.sort((function(t, e) {
                return e.power - t.power
            }
            )),
            a.sort((function(t, e) {
                return e.power - t.power
            }
            )),
            Object(h.a)(this.list, i.concat(r).concat(a).map((function(e) {
                return new _(e,t)
            }
            ))),
            this.on("hol5_closeAllPanel", (function() {
                Object(d.x)((function() {
                    o.UI.remove(e)
                }
                ))
            }
            ), this)
        }
        ,
        e.prototype.status = function(t, e) {
            var n = e.isNotActBoss ? o.cache.get("SmallWorld.getInfo", "heros") : o.cache.get("hero.getHeroNumList", "l");
            for (var i in n) {
                if (e.isNotActBoss ? n[i].id == t.c.id : n[i].cId == t.c.id)
                    return e.isNotActBoss ? 0 == n[i][e.useKey] ? 1 : e.reKey && 0 == n[i][e.reKey] ? 2 : 3 : n[i][e.useKey] > 0 ? 1 : n[i][e.reKey && e.reKey] > 0 ? 2 : 3
            }
            return 1
        }
        ,
        e.show = function(t) {
            return Object(l.b)(Object(o.singleton)(p.a).checkRes()).then((function(n) {
                Object(f.a)(new e, t)
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "d", (function() {
        return m
    }
    )),
    n.d(e, "e", (function() {
        return v
    }
    )),
    n.d(e, "b", (function() {
        return O
    }
    )),
    n.d(e, "f", (function() {
        return j
    }
    )),
    n.d(e, "a", (function() {
        return w
    }
    )),
    n.d(e, "c", (function() {
        return x
    }
    ));
    var i, o, r = n(1), a = n(114), s = n(107), c = n(116), u = n(109), h = n(113), l = n(175), p = n(235), f = n(111), d = n(108), b = n(203), g = n(156), _ = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    );
    function m(t) {
        return o = t,
        Promise.all([Object(s.a)("s.a", t + "Shop.getList", (function(t) {
            return !!t.hasOwnProperty("time") && f.a.getNow(!0) >= t.time
        }
        ), {
            shopType: t
        }), Object(u.a)(t + "Shop_json")])
    }
    var y = function(t) {
        this.c = t;
        for (var e = Object(r.getCache)(o + "Shop.getList").list, n = 0; n < e.length; n++)
            if (t.id == e[n].id) {
                this.p = e[n];
                break
            }
    };
    function v(t, e) {
        var n = e.limit
          , i = n - e.buyLimit;
        t.lbl_num.text = 0 == n ? "" : i + "/" + n,
        t.btn_exchange.enabled = i < n || 0 == n
    }
    function O(t) {
        return !t.cost.some((function(t) {
            return !a.e.hasEnough(t.itemId, t.num)
        }
        )) && (10495 == t.itemId || !Object(a.m)([{
            itemId: t.itemId,
            num: t.num
        }]))
    }
    function j(t, e) {
        t.gp_warn && (t.gp_warn.visible = !1),
        t.gp_soldout && (t.gp_soldout.visible = !1),
        t.btn_exchange.visible = !0,
        t.lbl_num && (t.lbl_num.visible = !0);
        var n = Object(r.getConfig)("item_json")[e.itemId];
        if (11 == n.resultID && t.gp_soldout ? a.e.getNum(n.id) > 0 ? (t.gp_soldout.visible = !0,
        t.img_bottom.source = "bottom_learned_png",
        t.lbl_status.text = Object(r.tr)("main@propHave"),
        t.btn_exchange.visible = !1,
        t.lbl_num.visible = !1) : Object(p.a)(n.skillId) && (t.gp_soldout.visible = !0,
        t.img_bottom.source = "bottom_soldout_png",
        t.lbl_status.text = Object(r.tr)("main@haveLearn"),
        t.btn_exchange.visible = !1,
        t.lbl_num.visible = !1) : t.gp_warn && [9, 15].indexOf(n.resultID) > -1 && (a.e.getNum(n.id) > 0 || Object(l.b)(n.id)) && (t.gp_warn.visible = !0,
        t.img_warn.source = "bottom_learned_png",
        t.lbl_warn.text = Object(r.tr)("main@propHave")),
        t.item_0.propId = e.itemId,
        t.item_0.num = e.num,
        e.cost.length <= 3) {
            for (var i = 1; i < 10; i++) {
                if (!(s = t["item_" + i]))
                    break;
                s.visible = !1
            }
            for (var o = 0; o < e.cost.length; o++) {
                var s;
                (s = t["item_" + (o + 1)]) && (s.propId = e.cost[o].itemId,
                s.need = e.cost[o].num,
                s.visible = !0,
                s.num = a.e.getNum(e.cost[o].itemId))
            }
        }
        t.gp_more && (t.gp_more.visible = e.cost.length > 3),
        t.gp_item && (t.gp_item.visible = e.cost.length <= 3),
        t.list && (t.list.itemRenderer = k,
        Object(d.a)(t.list, e.cost.length > 3 ? e.cost : []))
    }
    var w = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return _(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (j(this, this.getShopData()),
            this.updateExchange(t))
        }
        ,
        e.prototype.getShopData = function() {
            return {
                itemId: this.data.c.itemId,
                num: this.data.c.num,
                cost: [{
                    itemId: this.data.c.costItemId,
                    num: this.needNum()
                }]
            }
        }
        ,
        e.prototype.needNum = function() {
            return ("relic" == o || "guild" == o) && this.data.p.price || this.data.c.costNum
        }
        ,
        e.prototype.updateExchange = function(t) {
            if (t.c.hasOwnProperty("shengYuLimit") && Object(h.a)("grep") < t.c.shengYuLimit)
                return this.lbl_num.text = Object(r.tr)("sect@syLimit", {
                    num: t.c.shengYuLimit
                }),
                void (this.btn_exchange.enabled = !1);
            v(this, {
                limit: t.c.limit || t.c.dayLimit || 0,
                buyLimit: t.p.limit
            })
        }
        ,
        e.prototype.onReady = function() {
            this.item_2 && (this.item_2.visible = !1),
            this.item_3 && (this.item_3.visible = !1),
            this.btn_exchange && this.tap("btn_exchange", this.onExchange, this)
        }
        ,
        e.prototype.onExchange = function() {
            O(this.getShopData()) && Object(s.d)("s.b", {
                id: this.data.c.id,
                num: 1,
                shopType: o
            }).then((function(t) {
                t && (c.a.show(t.awds),
                Object(r.put)("refresh_" + o + "Shop"))
            }
            ))
        }
        ,
        e
    }(r.Item);
    function x(t, e) {
        var n = Object(r.getConfig)(t + "Shop_json")
          , i = [];
        for (var o in n) {
            var a = n[o];
            e && a.label != e || i.push(new y(a))
        }
        return i
    }
    var k = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return _(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (t) {
                this._consumeId = t.itemId,
                this.img.source = a.e.get(t.itemId).icon;
                var e = a.e.getNum(t.itemId);
                this.lbl_num.text = e + "/" + t.num,
                Object(g.a)(this.lbl_num, Number(e) >= Number(t.num)),
                this.tap("img", this.onBrief, this)
            }
        }
        ,
        e.prototype.onBrief = function() {
            r.audio.playEffect("bg_common_click_mp3"),
            r.UI.openBox(new b.a, {
                itemId: this._consumeId
            })
        }
        ,
        e
    }(r.Item)
}
, function(t, e, n) {
    "use strict";
    function i(t, e) {
        e.img && (e.img.source = t.icon)
    }
    n.d(e, "a", (function() {
        return i
    }
    ))
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return h
    }
    ));
    var i, o = n(1), r = n(108), a = n(106), s = n(111), c = n(126), u = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), h = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelFestivalRechargeExSkin"),
            e
        }
        return u(e, t),
        e.prototype.onReady = function(t, e, n) {
            this._end = e,
            this.list.itemRenderer = c.a,
            this.lbl_time.text = Object(o.tr)("main@limitAwdsTime", {
                time: o.time.leftCountdown(e - s.a.getNow(), "hh:mm:ss")
            }),
            this.lbl_desc.visible = 1 != n,
            this.disposeArr.push(Object(o.setInterval)(this.cd, this, 1e3)),
            Object(r.a)(this.list, t.awards)
        }
        ,
        e.prototype.cd = function() {
            this.lbl_time.text = Object(o.tr)("main@limitAwdsTime", {
                time: o.time.leftCountdown(this._end - s.a.getNow(), "hh:mm:ss")
            })
        }
        ,
        e.show = function(t, n, i) {
            Object(a.a)(new e, t, n, i)
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return o
    }
    )),
    n.d(e, "b", (function() {
        return s
    }
    ));
    var i, o, r = n(1), a = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    );
    !function(t) {
        t[t.shenfa = 1] = "shenfa",
        t[t.wuxing = 2] = "wuxing",
        t[t.zhenqi = 3] = "zhenqi",
        t[t.tipo = 4] = "tipo",
        t[t.gengu = 5] = "gengu",
        t[t.jing = 6] = "jing",
        t[t.mu = 7] = "mu",
        t[t.shui = 8] = "shui",
        t[t.huo = 9] = "huo",
        t[t.tu = 10] = "tu"
    }(o || (o = {}));
    var s = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e._add = !1,
            e
        }
        return a(e, t),
        e.getList = function() {
            return r.DataCenter.getList(e)
        }
        ,
        Object.defineProperty(e.prototype, "c1", {
            get: function() {
                var t = Object(r.getConfig)("weapon_json");
                return this._add ? t[this.p.cId + 1] ? t[this.p.cId + 1] : t[10 * Math.floor(this.p.cId / 10) + 1e3] ? t[10 * Math.floor(this.p.cId / 10) + 1e3] : t[this.p.cId] : t[this.p.cId]
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.isMaxLv = function() {
            var t = this.c1;
            return 9 == t.level && 2 == t.star
        }
        ,
        e.prototype.lvupCost = function() {
            return this.c1.cost
        }
        ,
        e.prototype.getPropertyName = function(t) {
            return t >= o.jing ? Object(r.tr)("main@attr" + (t - 5)) : Object(r.tr)("main@" + o[t])
        }
        ,
        e.prototype.addInfo = function() {
            var t = this.c1.attrType1
              , e = this.c1.addVal3;
            if (t >= o.jing) {
                return {
                    k: {
                        jing: "metalHurt",
                        mu: "woodHurt",
                        shui: "waterHurt",
                        huo: "fireHurt",
                        tu: "soilHurt"
                    }[o[t]],
                    v: e
                }
            }
            return {
                k: o[t],
                v: e
            }
        }
        ,
        e.prototype.getProperty = function() {
            return [{
                k: this.c1.attrType1,
                v: this.c1.addVal1
            }, {
                k: this.c1.attrType2,
                v: this.c1.addVal2
            }, {
                k: this.c1.attrType1,
                v: this.c1.addVal3
            }]
        }
        ,
        e.prototype.setAdd = function(t) {
            this._add = t
        }
        ,
        Object.defineProperty(e.prototype, "icon", {
            get: function() {
                return "icon_benmingfabao_smll_" + this.c1.position + "_" + this.c1.star + "_png"
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "icon1", {
            get: function() {
                return "icon_benmingfabao_big_" + this.c1.position + "_" + this.c1.star + "_png"
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "quality", {
            get: function() {
                return this.c1.quality
            },
            enumerable: !0,
            configurable: !0
        }),
        e.get = function(t) {
            return r.DataCenter.get(e, "type", t)
        }
        ,
        e.addProperty = function() {
            for (var t = {}, n = e.getList(), i = 0; i < n.length; i++) {
                var o = n[i].addInfo();
                t.hasOwnProperty(o.k) || (t[o.k] = 0),
                t[o.k] += o.v
            }
            return t
        }
        ,
        e.info = new r.ModelInfo("Weapon.getList","type","cId as id",[],"l",(function(t) {
            return Object(r.getConfig)("weapon_json")[t]
        }
        ),null,!0),
        e
    }(r.BaseModel);
    r.DataCenter.injectionModel(s)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return c
    }
    ));
    var i = n(1)
      , o = n(170)
      , r = n(111)
      , a = n(115)
      , s = function() {
        return (s = Object.assign || function(t) {
            for (var e, n = 1, i = arguments.length; n < i; n++)
                for (var o in e = arguments[n])
                    Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
            return t
        }
        ).apply(this, arguments)
    }
      , c = function() {
        function t() {}
        return Object.defineProperty(t.prototype, "p", {
            get: function() {
                return i.cache.get("Youli.getInfo") || {}
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.mapInfo = function(t) {
            void 0 === t && (t = this.p.ylmId);
            for (var e = this.p.maps || [], n = 0; n < e.length; n++)
                if (e[n].mId == t)
                    return e[n];
            return {}
        }
        ,
        t.prototype.optionDone = function(t) {
            return void 0 === t && (t = this.p.ylmId),
            12 == this.mapInfo(t).map.length
        }
        ,
        t.prototype.mapDone = function(t) {
            return void 0 === t && (t = this.p.ylmId),
            1 == this.mapInfo(t).bossDie
        }
        ,
        t.prototype.bossAppear = function() {
            return this.optionDone() && !this.mapDone()
        }
        ,
        t.prototype.optDone = function(t) {
            for (var e = this.mapInfo(), n = 0; n < e.map.length; n++)
                if (e.map[n].id == t)
                    return e.map[n];
            return null
        }
        ,
        t.prototype.beginShenyou = function(t) {
            this.pushLog({
                t: 1,
                mId: t
            })
        }
        ,
        t.prototype.endShenyou = function() {
            this.pushLog({
                t: 2
            })
        }
        ,
        t.prototype.pushLog = function(t) {
            var e = Object(a.y)("youliLog")
              , n = JSON.parse(Object(i.getLocalStorage)().getString(e, "{}"))
              , c = [];
            for (var u in n)
                c.push(n[u]);
            c.length >= 20 && (c.sort((function(t, e) {
                return (t.time1 || 0) - (e.time1 || 0)
            }
            )),
            c = c.slice(c.length - 19)),
            c.push(s({
                year: Object(i.singleton)(o.a).year,
                time1: r.a.getNow()
            }, t)),
            Object(i.getLocalStorage)().setString(e, JSON.stringify(c)),
            Object(i.put)("refresh_YouliLog")
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "f", (function() {
        return h
    }
    )),
    n.d(e, "d", (function() {
        return l
    }
    )),
    n.d(e, "g", (function() {
        return p
    }
    )),
    n.d(e, "b", (function() {
        return f
    }
    )),
    n.d(e, "a", (function() {
        return d
    }
    )),
    n.d(e, "c", (function() {
        return b
    }
    )),
    n.d(e, "e", (function() {
        return g
    }
    ));
    var i = n(1)
      , o = n(113)
      , r = n(124)
      , a = n(304)
      , s = n(235)
      , c = n(175);
    function u(t) {
        void 0 === t && (t = []);
        for (var e = Object(i.getCache)("Arm.getList").l.filter((function(t) {
            return 0 == t.dress
        }
        )).length, n = {}, o = 0; o < t.length; o++) {
            var r = t[o];
            if (r.equipId > 0)
                e += r.num || 1;
            else {
                var s = r.cId || r.itemId || r.propId
                  , c = Object(i.getConfig)("item_json")[s];
                Object(a.a)(c) || (n[s] = r.num)
            }
        }
        var u = 0
          , h = Object(i.getCache)("Bag.getList").l;
        for (o = 0; o < h.length; o++) {
            c = Object(i.getConfig)("item_json")[h[o].cId];
            if (!Object(a.a)(c)) {
                var l = 0;
                n[c.id] && (l = n[c.id],
                delete n[c.id]),
                u += Math.ceil((h[o].num + l) / c.maxPile)
            }
        }
        for (var p in n) {
            3 != (c = Object(i.getConfig)("item_json")[p]).itemType && (u += Math.ceil(n[p] / c.maxPile))
        }
        return e + u + Object(i.getCache)("TreasureMap.getList", "l", []).length
    }
    function h(t, e) {
        return void 0 === e && (e = !0),
        t > Object(o.a)("bagNum") - u([]) && (e && (1 == t ? Object(i.tooltip)(Object(i.tr)("main@bagFull")) : Object(i.tooltip)(Object(i.tr)("main@bagNotEnough", {
            n: t
        }))),
        !0)
    }
    function l(t) {
        var e = t.c.resultID
          , n = t.c.minLevel;
        return 15 == e ? Object(i.getCache)("WuDao.getInfo").wuDaoLv < n : 7 == e ? Object(o.a)("refinlv") < n : 9 == e && Object(o.a)("druglv") < n
    }
    function p(t) {
        void 0 === t && (t = []);
        var e = Object(o.a)("bagNum");
        return u(t) > e && (Object(i.tooltip)(Object(i.tr)("main@bagFull")),
        !0)
    }
    function f(t) {
        var e = [];
        for (var n in t) {
            var r = t[n].c;
            if (11 == r.resultID && Object(s.a)(r.skillId))
                e.push(t[n]);
            else if (2 == t[n].c.resultID) {
                Object(o.a)("bagNum") >= r.quality * r.useLimit + 30 && e.push(t[n])
            } else
                [7, 8, 9, 10, 38].indexOf(r.resultID) > -1 ? Object(c.b)(r.id) && e.push(t[n]) : 20 == r.resultID ? Object(i.getCache)("Pet.getInfo").petNum >= 100 && e.push(t[n]) : 1 == r.resultID && Object(o.a)("lv") > r.level2 && e.push(t[n])
        }
        return e
    }
    function d(t) {
        var e = [];
        for (var n in t) {
            var r = t[n].c;
            [6, 31].indexOf(r.resultID) > -1 && (Object(o.a)("uses")[r.id] || 0) >= Object(i.getConfig)("item_json")[r.id].useLimit + (Object(o.a)("limits")[r.id] || 0) && e.push(t[n])
        }
        return e
    }
    function b(t) {
        return 11 == t.c.resultID ? Object(s.a)(t.c.skillId) : 2 == t.c.resultID ? Object(o.a)("bagNum") >= t.c.quality * t.c.useLimit + 30 : [7, 8, 9, 10, 38].indexOf(t.c.resultID) > -1 ? Object(c.b)(t.c.id) : 20 == t.c.resultID ? Object(i.getCache)("Pet.getInfo").petNum >= 100 : 1 == t.c.resultID ? Object(o.a)("lv") > t.c.level2 : [6, 31].indexOf(t.c.resultID) > -1 && (Object(o.a)("uses")[t.c.id] || 0) >= Object(i.getConfig)("item_json")[t.c.id].useLimit + (Object(o.a)("limits")[t.c.id] || 0)
    }
    function g(t) {
        return !!l(t) || 1 == t.c.resultID && Object(o.a)("lv") < t.c.level1
    }
    Object(r.a)("packageIsFull", p),
    Object(r.a)("leftPackage", h)
}
, , , , function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return kt
    }
    ));
    var i, o, r = n(1), a = n(106), s = n(118), c = n(108), u = n(131), h = n(113), l = n(135), p = n(123), f = n(115), d = n(121), b = n(4), g = n(241), _ = n(375), m = n(109), y = n(110), v = n(107), O = n(114), j = n(122), w = n(164), x = n(117), k = n(120), I = n(218), P = n(158), C = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), S = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, R = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    };
    !function(t) {
        t[t.exchange = 1] = "exchange",
        t[t.equip = 2] = "equip",
        t[t.equiped = 3] = "equiped",
        t[t.wrong = 4] = "wrong",
        t[t.noFazhen = 5] = "noFazhen"
    }(o || (o = {}));
    var T = function() {
        function t(t) {
            this._conf = t;
            var e = Object(r.getCache)("Fashion.getList").l;
            if (e)
                for (var n = 0; n < e.length; n++)
                    if (e[n].id == this._conf.id) {
                        this._p = e[n];
                        break
                    }
        }
        return Object.defineProperty(t.prototype, "p", {
            get: function() {
                return this._p
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "c", {
            get: function() {
                return this._conf
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "cost", {
            get: function() {
                if (1 == this._conf.isDuiHuan) {
                    var t = Object(r.tr)(Object(r.getConfig)("item_json")[this._conf.costItemId].name);
                    return this._conf.costNum + " " + t
                }
                return this._conf.duiHuanDesc
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "state", {
            get: function() {
                var t = Object(h.a)("skin")[0];
                if (this._p)
                    return this._p.awded >= 1 && this._conf.gender && this._conf.gender != t ? o.wrong : 2 == this._p.awded ? o.equiped : 1 == this._p.awded ? o.equip : 3 == this._conf.type ? o.noFazhen : o.exchange
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.isHasTitle = function(t) {
            var e = Object(r.getCache)("Fashion.getList").l;
            if (e)
                for (var n = 0; n < e.length; n++)
                    if (t == e[n].id)
                        return e[n].awded >= 1
        }
        ,
        Object.defineProperty(t.prototype, "isShow", {
            get: function() {
                return 4 == this._conf.type && this._conf.newTitle && 2 == this._conf.newTitle ? this.isHasTitle(this._conf.id) : this._conf.platform ? "oversea" == this._conf.hidePlatform ? Object(P.d)() : Object(P.a)(this._conf.platform) : !this._conf.hidePlatform || ("oversea" == this._conf.hidePlatform ? !Object(P.d)() : !Object(P.a)(this._conf.hidePlatform))
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , L = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return C(e, t),
        e.prototype.onDataUpdate = function(t) {
            var e = this;
            if (this.cd && (this.cd.dispose(),
            this.cd = null),
            t) {
                if (this.dressName.text = t.c.name,
                this.des.text = t.c.desc,
                this.buyNode.visible = t.state == o.exchange,
                1 == t.c.type ? (this.equipBtn.visible = t.state == o.equip,
                this.equipBtn.label = Object(r.tr)("main@equip"),
                this.equipedNode.visible = t.state == o.equiped) : (this.equipedNode.visible = !1,
                this.equipBtn.visible = !1,
                t.state == o.equiped ? (this.equipBtn.label = Object(r.tr)("main@unequip"),
                this.equipBtn.visible = !0) : t.state == o.equip && (this.equipBtn.label = Object(r.tr)("main@equip"),
                this.equipBtn.visible = !0)),
                this.dressName.visible = !0,
                this.des.visible = !0,
                this.gp_title.visible = !1,
                this.lbl_time.visible = !1,
                this.gp_icon.visible = !0,
                this.lbl_validity.visible = !1,
                4 == t.c.type) {
                    this.dressName.visible = !1,
                    this.des.visible = !1,
                    this.gp_icon.visible = !1,
                    this.gp_title.visible = !0,
                    this.img_title.source = "icon_player_title_" + t.c.icon + "_png",
                    this.img_titleLv.source = t.c.titleLv ? "label_title_lv_" + t.c.titleLv + "_png" : "",
                    t.c.time && (this.lbl_validity.visible = !0,
                    this.lbl_validity.text = Object(r.tr)("main@titleTime", {
                        day: t.c.time
                    }));
                    var n = Object(h.a)("fashion.titleTime");
                    (t.state == o.equip || t.state == o.equiped) && n && n[t.c.icon] && (this.lbl_time.visible = !0,
                    this.cd = new k.a({
                        endTime: n[t.c.icon],
                        component: this.lbl_time,
                        complete: function() {
                            e.onDataUpdate(e.data)
                        }
                    }))
                }
                this.wrongNode.visible = t.state == o.wrong,
                this.lbl_wrong.text = Object(r.tr)("main@noSex"),
                t.state == o.exchange && (this.lbl_exchange.text = t.cost),
                this.lbl_way.visible = !1,
                t.state == o.noFazhen && (this.lbl_way.visible = !0,
                this.lbl_way.text = t.c.duiHuanDesc),
                3 == t.c.type ? this.icon.source = "preview_light_" + t.c.icon + "_png" : 2 == t.c.type ? t.c.icon >= 1e3 ? this.icon.source = "preview_head_" + t.c.icon + "_" + Object(h.a)("skin")[0] + "_png" : this.icon.source = "preview_head_" + t.c.icon + "_png" : 1 == t.c.type && (this.icon.source = "preview_clothes_" + t.c.gender + "_" + t.c.icon + "_png")
            }
        }
        ,
        e.prototype.onReady = function() {
            var t = this;
            this.disposeArr.push(Object(j.a)(this.equipBtn, egret.TouchEvent.TOUCH_BEGIN, this.onEquip, this)),
            this.disposeArr.push(Object(j.a)(this.btn_exchange, egret.TouchEvent.TOUCH_BEGIN, this.onExchange, this)),
            this.on("refresh_dress_item", (function() {
                t.onDataUpdate(t.data)
            }
            ), this)
        }
        ,
        e.prototype.onExchange = function(t) {
            var e = this;
            t.stopPropagation();
            var n = this.data.c.costItemId
              , i = this.data.c.costNum;
            if (n) {
                if (O.e.hasEnough(n, i)) {
                    var o = Object(r.getConfig)("item_json")[n].name
                      , a = Object(r.tr)("main@exchangeFashion", {
                        name: Object(r.tr)(o) + "x" + i,
                        fashion: Object(r.tr)(this.data.c.name)
                    });
                    this.data.c.gender && this.data.c.gender != Object(h.a)("skin")[0] && (a += "\n",
                    a += Object(r.tr)("main@exchangeGender")),
                    Object(r.confirm)(a).then((function(t) {
                        "yes" == t && Object(v.d)("fa.b", {
                            id: e.data.c.id
                        }).then((function(t) {
                            if (t) {
                                var n = "main@getDress" + e.data.c.type;
                                Object(r.tooltip)(Object(r.tr)(n, {
                                    name: Object(r.tr)(e.data.c.name)
                                })),
                                e.onDataUpdate(e.data)
                            }
                        }
                        ))
                    }
                    ))
                }
            } else
                Object(r.tooltip)(Object(r.tr)(this.data.c.duiHuanDesc))
        }
        ,
        e.prototype.onExit = function() {
            this.cd && (this.cd.dispose(),
            this.cd = null),
            Object(r.put)("refresh_bag")
        }
        ,
        e.prototype.onEquip = function(t) {
            var e = this;
            t.stopPropagation(),
            this.data.state == o.equiped ? Object(v.d)("fa.d", {
                id: this.data.c.id
            }).then((function(t) {
                t && (Object(r.put)("refresh_dress_item"),
                Object(r.put)("unequip_dress_item"))
            }
            )) : Object(v.d)("fa.c", {
                id: this.data.c.id
            }).then((function(t) {
                t && (Object(r.put)("refresh_dress_item"),
                Object(r.put)("equip_dress_item", e.data))
            }
            ))
        }
        ,
        e
    }(r.Item)
      , A = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e._arr = [],
            e._skin = [],
            Object(r.setSkin)(e, "DressSkin"),
            e
        }
        return C(e, t),
        e.prototype.onReady = function() {
            var t = this;
            this._skin = Object(h.a)("skin").concat(),
            this._skin[13] = 0,
            this._skin[12] = Object(x.g)(),
            this._skin[14] = Object(x.l)(),
            this.tab.itemRenderer = d.b,
            this.disposeArr.push(new d.a({
                tab: this.tab,
                array: [{
                    text: Object(r.tr)("main@dressTab1"),
                    name: "1"
                }, {
                    text: Object(r.tr)("main@dressTab2"),
                    name: "2"
                }, {
                    text: Object(r.tr)("main@dressTab3"),
                    name: "3"
                }, {
                    text: Object(r.tr)("main@dressTab4"),
                    name: "4"
                }],
                onSelect: function(e) {
                    var n = t.getArray(e);
                    t._arr = n,
                    t.list.selectedItems = [],
                    Object(c.a)(t.list, n),
                    t.list.itemRenderer = L
                }
            })),
            this.disposeArr.push(Object(j.a)(this.check, egret.TouchEvent.TOUCH_TAP, this.onTapCheck, this)),
            this.on("equip_dress_item", (function(e) {
                t.list.selectedItems = [e],
                t.updateSkins(e)
            }
            ), this),
            this.updateAvatar(),
            this.on("unequip_dress_item", this.onUnequipDressItem, this),
            this.disposeArr.push(Object(j.c)(this.list, this.onTapItem, this)),
            this.tap("xingxiangBtn", this.onXingXiang, this),
            this.tap("mingpianBtn", this.onMingPian, this),
            this.tap("btn_handbook", l.a.openHandBook, this),
            this.check.selected = (Object(h.a)("skin")[w.b.hideHair] & w.a.hideClothHair) > 0
        }
        ,
        e.prototype.onXingXiang = function() {
            var t = this;
            215 != Object(h.a)("skin")[8] ? l.a.openAvatarScene().then((function(e) {
                if (e) {
                    var n = t._skin[12]
                      , i = t._skin[14];
                    t._skin = Object(h.a)("skin").concat(),
                    t._skin[12] = n,
                    t._skin[14] = i,
                    t.updateAvatar()
                }
            }
            )) : Object(r.tooltip)(Object(r.tr)("main@blackStop2"))
        }
        ,
        e.prototype.onMingPian = function() {
            I.a.show(Object(h.a)("uId"), !0)
        }
        ,
        e.prototype.onTapCheck = function() {
            if (215 == this._skin[w.b.clothing])
                return Object(r.tooltip)(Object(r.tr)("main@blackStop")),
                void (this.check.selected = !this.check.selected);
            var t = this._skin[w.b.hideHair];
            this.check.selected ? this._skin[w.b.hideHair] = t | w.a.hideClothHair : (t & w.a.hideClothHair) > 0 && (this._skin[w.b.hideHair] = t ^ w.a.hideClothHair),
            Object(v.d)("fa.e").then((function(t) {}
            )),
            this.updateAvatar()
        }
        ,
        e.prototype.onUnequipDressItem = function() {
            this.list.selectedItems = [],
            this._skin[11] = Object(h.a)("skin")[11],
            this._skin[12] = Object(x.g)(),
            this._skin[14] = Object(x.l)(),
            this._lastModel = null,
            this.updateAvatar()
        }
        ,
        e.prototype.updateAvatar = function() {
            Object(u.f)(this._skin, this.roleImg, {
                diyMode: !0,
                cloth: u.a.body,
                eye: u.b.open
            })
        }
        ,
        e.prototype.onTapItem = function(t) {
            var e = t.itemIndex
              , n = this._arr[e];
            this._lastModel == n ? this.updateSkins(n, !0) : this.updateSkins(n)
        }
        ,
        e.prototype.updateSkins = function(t, e) {
            void 0 === e && (e = !1),
            e ? (this.list.selectedItems = [],
            1 == t.c.type ? this._skin[8] = Object(h.a)("skin")[8] : 3 == t.c.type ? this._skin[12] = Object(x.g)() : 4 == t.c.type ? this._skin[14] = Object(x.l)() : this._skin[11] = Object(h.a)("skin")[11],
            this._lastModel = null) : (1 == t.c.type ? this._skin[0] == t.c.gender && (this._skin[8] = t.c.icon) : 3 == t.c.type ? this._skin[12] = t.c.icon : 4 == t.c.type ? this._skin[14] = t.c.icon : this._skin[11] = t.c.icon,
            this._lastModel = t),
            this.updateAvatar()
        }
        ,
        e.show = function() {
            return S(this, void 0, void 0, (function() {
                return R(this, (function(t) {
                    return Object(y.b)([Object(m.a)("fashion_json"), Object(v.d)("fa.a")]).then((function(t) {
                        r.cache.set("Fashion.getList", t[1]),
                        Object(a.a)(new e)
                    }
                    )),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e.prototype.getArray = function(t) {
            var e = Object(r.getConfig)("fashion_json")
              , n = [];
            for (var i in e) {
                var o = e[i];
                if (23 != o.id && 24 != o.id && e[i].type == t) {
                    var a = new T(e[i]);
                    a.isShow && n.push(a)
                }
            }
            if (4 == t) {
                for (var s in n)
                    n[s].c.titleLv || (n[s].c.titleLv = 0);
                var c = n.filter((function(t) {
                    return t.p && t.p.awded > 0
                }
                ))
                  , u = n.filter((function(t) {
                    return t.p && 0 == t.p.awded
                }
                ));
                c = c.sort((function(t, e) {
                    return e.c.titleLv - t.c.titleLv
                }
                )),
                u = u.sort((function(t, e) {
                    return e.c.titleLv - t.c.titleLv
                }
                )),
                n = c.concat(u)
            } else {
                c = n.filter((function(t) {
                    return t.p && t.p.awded > 0
                }
                )),
                u = n.filter((function(t) {
                    return t.p && 0 == t.p.awded
                }
                ));
                n = c.concat(u);
                var l = Object(h.a)("skin")[0];
                1 == t && n.sort((function(t, e) {
                    return t.c.gender != l ? 1 : e.c.gender != l ? -1 : e.p.awded - t.p.awded
                }
                ))
            }
            return n
        }
        ,
        e
    }(r.UIComponent)
      , M = n(352)
      , N = n(354)
      , B = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , E = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(r.setSkin)(e, "BagPlusSkin"),
            e
        }
        return B(e, t),
        e.prototype.onReady = function() {
            this.updateView(),
            this.tap("useBtn", this.onUse, this),
            this.on("refresh_bag_expand", this.updateView, this)
        }
        ,
        e.prototype.updateView = function() {
            var t = Object(h.a)("extBag.cId");
            if (!t)
                return Object(r.tooltip)(Object(r.tr)("main@fullBag")),
                void r.UI.remove(this);
            var e = b.PropModel.get(t)
              , n = Object(h.a)("extBag.rank");
            this.des1.text = Object(r.tr)("main@extbagtip1", {
                lv: Object(r.tr)("main@quality" + n),
                name: Object(r.tr)(e.c.name)
            }),
            this.des2.text = Object(r.tr)("main@extbagtip2", {
                name: Object(r.tr)(e.c.name)
            }),
            this.des3.text = Object(r.tr)("main@extbagtip3", {
                name: Object(r.tr)(e.c.name),
                num: e.num
            }),
            this.des4.text = Object(r.tr)("main@extbagtip4", {
                num: Object(h.a)("extBag.num")
            })
        }
        ,
        e.prototype.onUse = function() {
            var t = this;
            b.PropModel.hasEnough(Object(h.a)("extBag.cId"), 1) && (Object(h.a)("extBag.num") <= 0 ? Object(r.tooltip)("main@extbagTime") : Object(N.a)(this).then((function() {
                t.updateView()
            }
            )))
        }
        ,
        e
    }(r.UIComponent)
      , D = n(274)
      , G = n(275)
      , V = n(355)
      , U = n(238)
      , H = n(174)
      , F = n(155)
      , z = n(125)
      , q = n(129)
      , W = n(356)
      , X = n(128)
      , Y = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , J = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , $ = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , K = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(r.setSkin)(e, "CommonRandomItemSkin"),
            e
        }
        return Y(e, t),
        e.prototype.onReady = function(t) {
            if (this.list.itemRenderer = Q,
            t.nums) {
                for (var e = [], n = Object.keys(t.nums), i = function(i) {
                    var o = t.nums[n[i]];
                    Object.keys(o).forEach((function(t) {
                        var r = {
                            id: n[i],
                            property: t,
                            add: o[t]
                        };
                        e.push(r)
                    }
                    ))
                }, o = 0; o < n.length; o++)
                    i(o);
                Object(c.a)(this.list, e.map((function(t) {
                    return new Z(t)
                }
                )))
            }
        }
        ,
        e.show = function(t) {
            return J(this, void 0, void 0, (function() {
                return $(this, (function(n) {
                    switch (n.label) {
                    case 0:
                        return [4, Object(y.b)(Object(z.a)("tree_1&tree_2").concat([Object(m.a)("hero_json")]))];
                    case 1:
                        return n.sent(),
                        [2, r.UI.openBox(new e, t)]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(r.UIComponent)
      , Q = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return Y(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (t) {
                this.lbl_result.text = Object(r.tr)("hero@" + t.property + "Add", {
                    num: String("+" + t.add)
                });
                var e = b.HeroModel.getBycId(t.c.id);
                Object(X.d)(this, e.p.skin, "NewHalf")
            }
        }
        ,
        e
    }(r.Item)
      , Z = function(t) {
        this.c = Object(r.getConfig)("hero_json")[Number(t.id)],
        this.property = t.property,
        this.add = Number(t.add)
    }
      , tt = n(147)
      , et = n(236)
      , nt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , it = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(r.setSkin)(e, "ItemCraftSkin"),
            e
        }
        return nt(e, t),
        e.prototype.onReady = function(t) {
            var e = this;
            this._pModel = t,
            this._pCtrl = new H.a(null,this.maxBtn,this.prevBtn,this.nextBtn,t.num,(function(t, n) {
                e.inputBtn.label = t + "/" + n,
                e.btn_use.enabled = e.canUse()
            }
            )),
            this.setName("BagCraftPanel"),
            Object(et.a)(t, this),
            this.nameLabel.text = t.c.name,
            Object(F.c)(this.nameLabel, t),
            this.des.text = t.desc,
            this.item.data = t,
            this.tap("inputBtn", this.onInput, this),
            this.tap("btn_use", this.onUse, this),
            this.tap("btn_craft", this.onMix, this);
            var n = t.c.compose;
            this.btn_craft.enabled = n,
            this.btn_use.enabled = !n && this.canUse(),
            this.gp_num.visible = this.canUse()
        }
        ,
        e.prototype.canUse = function() {
            if (1 == this._pModel.c.IsUse) {
                if (this._pModel.c.useLimit) {
                    var t = this._pModel.c.useLimit + (Object(h.a)("limits")[this._pModel.c.id] || 0);
                    return (Object(h.a)("uses")[this._pModel.c.id] || 0) < t
                }
                return !0
            }
            return !1
        }
        ,
        e.prototype.onInput = function() {
            var t = this;
            Object(a.a)(new U.a(this._pModel)).exit((function(e) {
                null != e.num && (t._pCtrl.num = e.num)
            }
            ))
        }
        ,
        e.prototype.onUse = function() {
            var t = this
              , e = this._pModel.c.itemType;
            if (4 != e && 5 != e || 0 != Object(h.a)("fly")) {
                var n = this._pModel.c.resultID;
                if ([0, 41, 42, 43].indexOf(n) > -1)
                    this._pCtrl.num > 0 ? Object(y.b)([Object(m.a)("hero_json")].concat(Object(z.a)("hero_1&hero_2"))).then((function(e) {
                        G.a.show(t._pModel.c.id, t._pCtrl.num).exit((function(e) {
                            e.success && (Object(r.put)("refresh_bag"),
                            r.UI.remove(t))
                        }
                        ))
                    }
                    )) : Object(r.tooltip)(Object(r.tr)("main@num0"));
                else
                    switch (n) {
                    case 50:
                        this.useHeroProp(this._pModel.c.id, this._pCtrl.num);
                        break;
                    case 48:
                    case 51:
                        this.commonUse("wo.w", {
                            propId: this._pModel.c.id,
                            num: this._pCtrl.num
                        });
                        break;
                    default:
                        this.use()
                    }
            } else
                Object(r.tooltip)(Object(r.tr)("main@bagNoOpen"))
        }
        ,
        e.prototype.useHeroProp = function(t, e) {
            var n = this;
            Object(y.b)([Object(m.a)("hero_json")].concat(Object(z.a)("hero_1&hero_2"))).then((function(i) {
                Object(r.singleton)(tt.a).checkRes().then((function() {
                    n.commonUse("x.k", {
                        propId: t,
                        num: e
                    })
                }
                ))
            }
            ))
        }
        ,
        e.prototype.use = function(t) {
            var e = t || this._pCtrl.num;
            e > 0 ? this.commonUse("prp.a", {
                cId: this._pModel.c.id,
                num: e
            }) : Object(r.tooltip)(Object(r.tr)("common@noHasNum"))
        }
        ,
        e.prototype.commonUse = function(t, e) {
            var n = this;
            Object(v.d)(t, e).then((function(t) {
                t && n.useDone(t)
            }
            ))
        }
        ,
        e.prototype.useDone = function(t) {
            switch (Object(r.put)("refresh_bag"),
            this._pModel.c.resultID) {
            case 12:
                q.b.show(t.awds);
                break;
            case 48:
                W.a.show(t);
                break;
            case 50:
                K.show(t);
                break;
            case 51:
                W.a.show(t, 51)
            }
            r.UI.remove(this)
        }
        ,
        e.prototype.onMix = function() {
            var t = this
              , e = this._pModel.c.itemType;
            if (4 != e && 5 != e || 0 != Object(h.a)("fly")) {
                if (this._pModel.c.compose) {
                    var n = this._pModel.c.compose.split("=");
                    V.a.show(parseInt(n[0]), this._pModel.c.id, parseInt(n[1])).exit((function(e) {
                        e.success && (Object(r.put)("refresh_bag"),
                        r.UI.remove(t))
                    }
                    ))
                }
            } else
                Object(r.tooltip)(Object(r.tr)("main@bagNoOpen"))
        }
        ,
        e
    }(r.UIComponent)
      , ot = n(284)
      , rt = n(360)
      , at = n(201)
      , st = n(133)
      , ct = n(196)
      , ut = n(116)
      , ht = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , lt = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(r.setSkin)(e, "PanelHeroAbilitySkin"),
            e
        }
        return ht(e, t),
        e.prototype.onReady = function(t, e, n) {
            this.tap(this.btn_yes, this.onYes, this),
            this.tap(this.btn_back, this.onYes, this),
            this.updateView(t, e, n)
        }
        ,
        e.prototype.updateView = function(t, e, n) {
            this.lbl_tiSheng.text = Object(r.tr)("main@scrollsDes");
            for (var i = 0, o = 0, a = 0; a < t.length; a++)
                0 == t[a] ? i++ : o++;
            this.success.textFlow = (new egret.HtmlTextParser).parser(Object(r.tr)("main@scrolleSuccessTime", {
                num: o
            })),
            this.lbl_failed.textFlow = (new egret.HtmlTextParser).parser(Object(r.tr)("main@scrolleFailTime", {
                num: i
            }));
            var s = b.HeroModel.getBycId(e);
            Object(X.d)(this, s.skinConf.id, "NewHalf"),
            this.lbl_ability.text = Object(r.tr)(Object(r.getConfig)("hero_json")[e].name) + Object(r.tr)("hero@zzType" + {
                atk: 1,
                matk: 2,
                datk: 3,
                travel: 4
            }[ft.ziZhiType]) + "+" + Number(n) * o,
            this.lbl_name.text = Object(r.tr)("main@scrolleHero")
        }
        ,
        e.prototype.onYes = function() {
            r.UI.remove(this)
        }
        ,
        e
    }(r.UIComponent)
      , pt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , ft = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(r.setSkin)(e, "ItemInfoSelectSkin"),
            e
        }
        return pt(e, t),
        e.prototype.onReady = function(t) {
            this.model = t,
            this.tap("btn_sell", this.onSell, this),
            this.tap("btn_use", this.onUse, this),
            this.tap("prevBtn", this.onPre, this),
            this.tap("nextBtn", this.onNext, this),
            this.tap("maxBtn", this.onMax, this),
            this.tap("inputBtn", this.onInput, this),
            this.list.itemRenderer = dt,
            this.updateView()
        }
        ,
        e.prototype.updateView = function() {
            this.item.data = this.model,
            this.des.text = Object(r.tr)(this.model.desc),
            this.nameLabel.text = b.PropModel.getName(this.model.c.id),
            Object(F.c)(this.nameLabel, this.model);
            var t = this.model.c.ResultVal2.split(";");
            e.ziZhiType = this.model.c.ResultVal1,
            Object(c.a)(this.list, t),
            Object(r.put)("update_bagScrollsInfo_select"),
            this._maxNum = this.model.num,
            this.updateItem(1),
            Object(et.a)(this.model, this),
            this.btn_sell.enabled = this.model.c.sellMoney > 0
        }
        ,
        e.prototype.onSell = function() {
            var t = this
              , e = {
                cId: this.model.c.id,
                num: this._nowNum
            };
            Object(r.confirm)(Object(r.tr)("main@sellPropConfirm", {
                name: Object(r.tr)(this.model.c.name),
                num: this._nowNum,
                color: Object(F.b)(this.model.quality),
                name2: b.PropModel.getName(this.model.c.sellItemId),
                num2: this._nowNum * this.model.c.sellMoney
            })).then((function(n) {
                "yes" == n && Object(v.d)("prp.b", e).then((function(e) {
                    e && (ut.a.show(e.awds),
                    Object(r.put)("refresh_bag"),
                    r.UI.remove(t))
                }
                ))
            }
            ))
        }
        ,
        e.prototype.showResult = function(t, n) {
            var i = this
              , o = r.Movie.create("bounty_common_1_ske_json");
            this.animeNode.addChild(o),
            o.once(r.MovieEvent.COMPLETE, (function() {
                var o = i.model.c.ResultVal2.split(";")[e.selectIndex - 1].split("|")[2];
                Object(a.a)(new lt, t, n, o),
                r.UI.remove(i)
            }
            ), this),
            o.play("1", 1)
        }
        ,
        e.prototype.onUse = function() {
            var t = this;
            0 != Object(h.a)("fly") ? 0 != e.selectIndex ? Object(y.b)([Object(m.a)("hero_json")].concat(Object(z.a)("hero_1&hero_2"))).then((function(n) {
                G.a.show(t.model.c.id, t._nowNum, e.selectIndex).exit((function(e) {
                    e.success && (Object(r.put)("refresh_bag"),
                    t.showResult(e.extraData, e.heroId))
                }
                ))
            }
            )) : Object(r.tooltip)(Object(r.tr)("main@scrollsSelect")) : Object(r.tooltip)(Object(r.tr)("main@bagNoOpen"))
        }
        ,
        e.prototype.onPre = function() {
            this._nowNum > 1 && this.updateItem(--this._nowNum)
        }
        ,
        e.prototype.onNext = function() {
            this._nowNum < this._maxNum && this.updateItem(++this._nowNum)
        }
        ,
        e.prototype.onMax = function() {
            this.updateItem(this._maxNum)
        }
        ,
        e.prototype.onInput = function() {
            var t = this;
            Object(a.a)(new U.a(this.model)).exit((function(e) {
                null != e.num && t.updateItem(e.num > t._maxNum ? t._maxNum : e.num)
            }
            ))
        }
        ,
        e.prototype.updateItem = function(t) {
            this._nowNum = t,
            this.inputBtn.label = this._nowNum + "/" + this._maxNum
        }
        ,
        e.selectIndex = 0,
        e
    }(r.UIComponent)
      , dt = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return pt(e, t),
        e.prototype.onReady = function() {
            this.tap(this, this.onSelect, this),
            this.on("update_bagScrollsInfo_select", this.updateSelect, this)
        }
        ,
        e.prototype.onSelect = function() {
            ft.selectIndex = this._index,
            Object(r.put)("update_bagScrollsInfo_select")
        }
        ,
        e.prototype.updateSelect = function() {
            this.img_select.visible = this._index == ft.selectIndex
        }
        ,
        e.prototype.onDataUpdate = function(t) {
            if (t && this.lbl_desc) {
                var e = this.data.split("|");
                this._index = Number(e[0]),
                0 == ft.selectIndex && (ft.selectIndex = this._index),
                this.lbl_desc.text = Object(r.tr)("hero@zzType" + {
                    atk: 1,
                    matk: 2,
                    datk: 3,
                    travel: 4
                }[ft.ziZhiType]) + "+" + e[2],
                this.lbl_prob.text = Object(r.tr)("main@successRate", {
                    num: e[1]
                }),
                this.updateSelect()
            }
        }
        ,
        e
    }(r.Item)
      , bt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , gt = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return bt(e, t),
        e.prototype.$setVisible = function(e) {
            t.prototype.$setVisible.call(this, e && this.$data)
        }
        ,
        e.prototype.onDataUpdate = function(e) {
            e ? (this.visible = !0,
            t.prototype.onDataUpdate.call(this, e),
            this.img_tip.visible = !1,
            this.img_tip.scaleX = this.img_tip.scaleY = 1,
            e instanceof at.a ? at.a.getEquipByDress(e.c.armType) && !e.highQuality || (this.img_tip.visible = !0,
            this.img_tip.source = "arrow_up_png",
            this.img_tip.scaleX = this.img_tip.scaleY = .35) : Object(ct.c)(e) ? (this.img_tip.visible = !0,
            this.img_tip.source = "icon_bag_green_png") : Object(ct.e)(e) && (this.img_tip.visible = !0,
            this.img_tip.source = "icon_bag_red_png")) : this.visible = !1
        }
        ,
        e.prototype.onTap = function() {
            if (this.data && !this.data.noShowDetails && (r.audio.playEffect("bg_common_click_mp3"),
            !0 !== Object(r.pull)("prop_item_tap", this.data)))
                if (this.data instanceof st.b) {
                    4 == this.data.c.itemType || 5 == this.data.c.itemType || 18 == this.data.c.itemType || [10493, 10494, 18001, 18002, 18003, 18004, 18005, 18006, 15182].indexOf(this.data.c.id) > -1 ? Object(a.a)(new it, this.data) : 19 == this.data.c.itemType ? Object(a.a)(new ft, this.data) : Object(a.a)(new ot.a, this.data)
                } else
                    this.data instanceof at.a ? Object(a.a)(new rt.a, this.data) : this.data instanceof g.a && Object(a.a)(new ot.a, this.data)
        }
        ,
        e
    }(D.a)
      , _t = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , mt = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(r.setSkin)(e, "OneButtonSellSkin"),
            e
        }
        return _t(e, t),
        e.prototype.onReady = function(t) {
            for (var e in this._sellData = t,
            this._propArr = t._greenZawu.concat(t._greenDanyao),
            this._propArr = t._equips.concat(this._propArr),
            this._propArr)
                this._propArr[e].noShowDetails = !0;
            Object(c.a)(this.list, this._propArr),
            this.list.itemRenderer = gt,
            this.tap("btn_sell", this.oneSell, this)
        }
        ,
        e.prototype.oneSell = function() {
            var t = this
              , e = this._sellData._qualitys;
            e.length > 0 ? Object(v.d)("arm.c", {
                qualitys: e
            }).then((function(e) {
                e && t.sellGreen(e.awds)
            }
            )) : this.sellGreen()
        }
        ,
        e.prototype.sellGreen = function(t) {
            var e = this;
            void 0 === t && (t = []);
            var n = this._sellData._greenZawu
              , i = this._sellData._greenDanyao;
            if (n.length > 0 || i.length > 0) {
                var o = []
                  , r = n.concat(i);
                for (var a in r)
                    o.push(r[a].c.id);
                Object(v.d)("prp.g", {
                    propsIds: o
                }).then((function(n) {
                    n && e.overSell(n.awds.concat(t))
                }
                ))
            } else
                t.length > 0 && this.overSell(t)
        }
        ,
        e.prototype.overSell = function(t) {
            ut.a.show(t),
            Object(r.put)("refresh_bag"),
            r.UI.remove("quickSell"),
            r.UI.remove(this)
        }
        ,
        e.prototype.onExit = function() {
            for (var t in this._propArr)
                this._propArr[t].noShowDetails = !1
        }
        ,
        e
    }(r.UIComponent)
      , yt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , vt = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e._count = 0,
            e._equips = [],
            e._allProp = [],
            e._qualitys = [],
            e._greenZawu = [],
            e._greenDanyao = [],
            Object(r.setSkin)(e, "QuickSellSkin"),
            e
        }
        return yt(e, t),
        e.prototype.onReady = function(t) {
            var e = this;
            this._allProp = t,
            this.setName("quickSell");
            for (var n = this.checkGroup, i = 0; i < n.numChildren; i++) {
                var o = n.getChildAt(i);
                "greenZawu" == o.name && (o.selected = !0),
                this.tap(o, this.onTapCheckbox, this)
            }
            Object(f.x)((function() {
                e.onTapCheckbox()
            }
            )),
            this.tap("btn_sell", this.onSell, this),
            this.lbl_sell.text = Object(r.tr)("main@sellNum", {
                num: 0
            })
        }
        ,
        e.prototype.onTapCheckbox = function() {
            var t = this.checkGroup
              , e = 0
              , n = at.a.getList();
            this._equips = [],
            this._qualitys = [],
            this._greenZawu = [],
            this._greenDanyao = [];
            for (var i = 0; i < t.numChildren; i++) {
                var o = t.getChildAt(i);
                if (o.selected)
                    if ("greenZawu" == o.name)
                        for (var a in this._greenZawu = Object(O.h)(this._allProp),
                        this._greenZawu)
                            e += this._greenZawu[a].num;
                    else if ("greenDanyao" == o.name)
                        for (var s in this._greenDanyao = Object(O.g)(this._allProp),
                        this._greenDanyao)
                            e += this._greenDanyao[s].num;
                    else {
                        var c = n.filter((function(t) {
                            return 0 == t.p.dress && t.c.quality == i + 1
                        }
                        ));
                        this._qualitys.push(i + 1),
                        c.length > 0 && (this._equips = this._equips.concat(c)),
                        e += c.length
                    }
            }
            this._count = e,
            this.lbl_sell.text = Object(r.tr)("main@sellNum", {
                num: e
            })
        }
        ,
        e.prototype.onSell = function() {
            if (0 != this._count) {
                var t = {
                    _greenZawu: this._greenZawu,
                    _greenDanyao: this._greenDanyao,
                    _qualitys: this._qualitys,
                    _equips: this._equips
                };
                Object(a.a)(new mt, t)
            } else
                Object(r.tooltip)(Object(r.tr)("main@noSellNum"))
        }
        ,
        e
    }(r.UIComponent)
      , Ot = n(304)
      , jt = n(168)
      , wt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , xt = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return wt(e, t),
        e.prototype.onDataUpdate = function(e, n) {
            t.prototype.onDataUpdate.call(this, e, n),
            e && this.rp && (this.rp.dispose(),
            this.rp = null)
        }
        ,
        e.prototype.onExit = function() {
            this.rp && (this.rp.dispose(),
            this.rp = null)
        }
        ,
        e
    }(d.b)
      , kt = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            return n.curTab = "",
            n.selTab = 1,
            n.listBg = new eui.Image("bg_bag_repeat_png"),
            n.listBg2 = new eui.Image("bg_bag_repeat_png"),
            Object(r.setSkin)(n, "BagSkin"),
            n.selTab = e,
            n
        }
        return wt(e, t),
        e.prototype.onExit = function() {}
        ,
        e.prototype.onReady = function() {
            var t = this;
            this.addBehavior(new s.a),
            jt.a.check(jt.b.bag),
            this.role.setHideOpts(u.c.fazhen | u.c.title),
            this.list.itemRenderer = gt,
            this.list.parent.addEventListener(egret.Event.CHANGE, this.onScrollerChange, this),
            this.disposeArr.push({
                dispose: function() {
                    t.list.parent.removeEventListener(egret.Event.CHANGE, t.onScrollerChange, t)
                }
            }),
            this.setName("BagPanel"),
            this.listBg.fillMode = egret.BitmapFillMode.REPEAT,
            this.listBg2.fillMode = egret.BitmapFillMode.REPEAT,
            this.artifactBtn.visible = b.HeroModel.getEnableList().length > 0,
            this.tap("bagplusBtn", this.onPlus, this),
            this.tap("quicksellBtn", this.onQuickSell, this),
            this.tap("dressBtn", this.onDress, this),
            this.tap("treasureBtn", this.onTreasure, this),
            this.tap("btn_tips", this.onTips, this),
            this.tap("benmingfabaoBtn", this.fabao, this),
            this.tap("yulingBtn", this.yuling, this),
            this.tap("artifactBtn", (function() {
                _.a.show()
            }
            ), this),
            this.disposeArr.push(Object(p.b)("灵宝升级", this.artifactBtn)),
            this.yulingBtn.visible = 1 == Object(h.a)("fly");
            for (var e = 1; e <= 8; e++)
                this["equip" + e].setType(e);
            this.on("refresh_bag", this.refreshList, this),
            this.on("equip_equip", this.doEquip, this),
            this.on("unload_equip", this.unloadEquip, this);
            var n = [{
                text: Object(r.tr)("main@bagTab1"),
                name: "1"
            }, {
                text: Object(r.tr)("main@bagTab2"),
                name: "2"
            }, {
                text: Object(r.tr)("main@bagTab3"),
                name: "3"
            }];
            this.tab.itemRenderer = xt,
            this.disposeArr.push(new d.a({
                tab: this.tab,
                array: n,
                onSelect: function(e) {
                    t.selectTab(e)
                }
            })),
            this.tab.selectedIndex = this.selTab - 1,
            this.selectTab(this.selTab)
        }
        ,
        e.prototype.selectTab = function(t) {
            if (this.curTab != t) {
                if ("3" == t)
                    if (0 == Object(h.a)("fly"))
                        if (0 == b.PropModel.getList().filter((function(t) {
                            return 4 == t.c.itemType || 5 == t.c.itemType || 19 == t.c.itemType
                        }
                        )).length)
                            return Object(r.tooltip)(Object(r.tr)("main@bagNoFs")),
                            !1;
                this.curTab = t,
                this.scroller.stopAnimation(),
                this.scroller.viewport.scrollV = 0,
                this.refreshList()
            }
        }
        ,
        e.prototype.yuling = function() {
            l.a.openLing(1)
        }
        ,
        e.prototype.fabao = function() {
            l.a.openFabao()
        }
        ,
        e.prototype.onTips = function() {
            Object(f.J)(this["gp_tips_" + this.curTab])
        }
        ,
        e.prototype.onTreasure = function() {
            M.a.show()
        }
        ,
        e.prototype.onDress = function() {
            A.show()
        }
        ,
        e.prototype.doEquip = function(t) {
            this["equip" + t.c.armType].updateData(t)
        }
        ,
        e.prototype.unloadEquip = function(t) {
            this["equip" + t.c.armType].updateData(null)
        }
        ,
        e.prototype.onQuickSell = function() {
            Object(a.a)(new vt, this.allProp)
        }
        ,
        e.prototype.onPlus = function() {
            Object(h.a)("extBag.cId") ? Object(a.a)(new E) : Object(r.tooltip)(Object(r.tr)("main@fullBag"))
        }
        ,
        e.prototype.onScrollerChange = function() {
            this.listBg.parent && this.listBg.parent.setChildIndex(this.listBg, 0),
            this.listBg2.parent && this.listBg2.parent.setChildIndex(this.listBg, 0)
        }
        ,
        e.prototype.refreshList = function() {
            var t = this
              , e = Object(h.a)("bagNum")
              , n = b.PropModel.getList()
              , i = []
              , o = []
              , a = "1" == this.curTab
              , s = "2" == this.curTab
              , u = "3" == this.curTab;
            for (var l in this.bagplusBtn.visible = a,
            this.bagNum.visible = a,
            this.quicksellBtn.visible = a,
            n) {
                o.push(n[l].c.id);
                var p = n[l].c.itemType
                  , f = 4 == p || 5 == p || 19 == p;
                a ? (p < 100 && !f && i.push(n[l]),
                this.bagName.text = Object(r.tr)("main@bagTitle", {
                    lv: Object(r.tr)("main@quality" + Object(h.a)("extBag.rank"))
                })) : s ? (100 == p && i.push(n[l]),
                this.bagName.text = Object(r.tr)("main@bagTab2")) : u && (f && i.push(n[l]),
                this.bagName.text = Object(r.tr)("main@bagTab3"))
            }
            for (var d = [], _ = 0; _ < i.length; _++) {
                var m = i[_];
                if (!a || !Object(Ot.a)(m))
                    if (m && m.p && m.p.num > m.c.maxPile)
                        for (var y = Math.ceil(m.p.num / m.c.maxPile), v = 0; v < y; v++) {
                            var O = new b.PropModel;
                            O.c = m.c,
                            O.p = m.p,
                            v == y - 1 && m.p.num % m.c.maxPile > 0 ? O.num = m.p.num % m.c.maxPile : O.num = m.c.maxPile,
                            d.push(O)
                        }
                    else
                        d.push(m)
            }
            var j = a ? at.a.getEquipByDress(0) : []
              , w = a ? g.a.getList() : []
              , x = e - d.length - j.length - w.length
              , k = [];
            x > 0 && (k = new Array(x)),
            this.allProp = d.concat(j, w, k).sort((function(t, e) {
                return t.c.quality != e.c.quality ? e.c.quality - t.c.quality : t.c.id - e.c.id
            }
            )),
            Object(c.a)(this.list, this.allProp),
            r.display.removeFromParent(this.listBg),
            r.display.removeFromParent(this.listBg2),
            this.bagNum.text = d.length + j.length + w.length + "/" + e,
            egret.callLater((function() {
                egret.callLater((function() {
                    var n = Math.floor(e / 6)
                      , i = e % 6;
                    t.listBg.width = 720,
                    t.listBg.height = 118 * n,
                    t.list.addChildAt(t.listBg, 0),
                    i > 0 ? (t.listBg2.y = t.listBg.height,
                    t.listBg2.height = 118,
                    t.listBg2.width = 118 * i,
                    t.list.addChildAt(t.listBg2, 0)) : t.listBg2.height = 0
                }
                ), t)
            }
            ), this)
        }
        ,
        e.show = function(t) {
            void 0 === t && (t = 1),
            Object(y.b)([Object(v.a)("wdao.a", "WuDao.getInfo"), Object(v.a)("p.a", "Pet.getInfo")]).then((function() {
                Object(a.a)(new e(t))
            }
            ))
        }
        ,
        e
    }(r.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return u
    }
    ));
    var i = n(1);
    function o(t) {
        return t ? 5 * t.p.gengu + 3 * t.p.shenfa + 5 * t.p.zhenqi + 5 * t.p.tipo + 3 * t.p.lingli + 3 * (t.p.jin || 0) + 3 * (t.p.mu || 0) + 3 * (t.p.shui || 0) + 3 * (t.p.huo || 0) + 3 * (t.p.tu || 0) : 0
    }
    var r, a = n(117), s = n(290), c = (r = function(t, e) {
        return (r = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        r(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), u = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return c(e, t),
        e.getList = function() {
            return i.DataCenter.getList(e)
        }
        ,
        e.getEquipModel = function(t) {
            var e = this.getList().filter((function(e) {
                return e.p.aId == t
            }
            ));
            return e.length > 0 ? e[0] : null
        }
        ,
        e.isRefineEquipment = function(t) {
            return null != Object(i.getConfig)("armRefineAttr_json")[t]
        }
        ,
        e.getFineItem = function(t, e) {
            var n = this._armfineMap;
            if (null == n) {
                var o = Object(i.getConfig)("armRefine_json");
                if (o)
                    for (var r in n = {},
                    o) {
                        o[r].forEach((function(t) {
                            n[String(t.type + "_" + t.lv)] = t
                        }
                        ))
                    }
            }
            return n ? n[String(t + "_" + e)] : null
        }
        ,
        e.getRefineAtts = function(t, e) {
            var n = Object(i.getConfig)("armRefineAttr_json")[t];
            if (n) {
                var o = []
                  , r = e > 0 ? this.getFineItem(n.type, e) : this.getFineItem(n.type, 1);
                if (null == r)
                    return null;
                for (var a = 0; a < s.a.length; a++) {
                    var c = s.a[a];
                    if (n[c] > 0) {
                        var u = {};
                        u.attr = c,
                        u.value = 0 == e ? 0 : Number(n[c]) * r.attrRatio,
                        o.push(u)
                    }
                }
                return o
            }
            return null
        }
        ,
        Object.defineProperty(e.prototype, "icon", {
            get: function() {
                return Object(a.b)(this.c.id)
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "quality", {
            get: function() {
                return this.c.quality
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "highQuality", {
            get: function() {
                return !(this.p && this.p.dress > 0) && o(this) > o(e.getEquipByDress(this.armType))
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "lv", {
            get: function() {
                return this.p && this.p.hasOwnProperty("lv") ? this.p.lv : 0
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "canDaZao", {
            get: function() {
                return this.c.IsDaZao > 0
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "armType", {
            get: function() {
                return this.c.armType
            },
            enumerable: !0,
            configurable: !0
        }),
        e.getEquipByDress = function() {
            for (var t = [], n = 0; n < arguments.length; n++)
                t[n] = arguments[n];
            return 0 == t[0] ? i.DataCenter.getList(e).filter((function(t) {
                return 0 == t.p.dress
            }
            )) : 0 == t.length ? i.DataCenter.getMultiple(e, "dress", 1) : t[0] ? i.DataCenter.getMultiple(e, "dress", 1).filter((function(e) {
                return e.c.armType == t[0]
            }
            ))[0] : void 0
        }
        ,
        e.getEquipObjects = function(t, e) {
            return void 0 === e && (e = null),
            Object(i.getCache)("Arm.getList").l.filter((function(n) {
                var i = n.cId == t;
                return null != e ? i && n.dress == e : i
            }
            ))
        }
        ,
        Object.defineProperty(e.prototype, "num", {
            get: function() {
                return 1
            },
            enumerable: !0,
            configurable: !0
        }),
        e.info = new i.ModelInfo("Arm.getList","aId","cId",["armType", "dress"],"l",(function(t) {
            return Object(i.getConfig)("item_json")[t]
        }
        ),null,!0),
        e._armfineMap = null,
        e
    }(i.BaseModel);
    i.DataCenter.injectionModel(u)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return p
    }
    )),
    n.d(e, "a", (function() {
        return b
    }
    ));
    var i = n(1)
      , o = n(127)
      , r = n(112)
      , a = n(162)
      , s = n(114)
      , c = n(139)
      , u = n(163)
      , h = n(136)
      , l = n(141)
      , p = function() {
        function t() {
            this.conf = "festivalActivity_sf_json",
            this.costId = 10476,
            this.nameMap = {
                main: "sfHongbao",
                scoreReward: "sfScoreReward",
                gift: "sfGift1",
                exchange: "sfExchange1",
                task: "sfTask1"
            },
            this.skinMap = {},
            this.resMap = {},
            this.typeMap = {},
            this.extraMap = {},
            this.trMap = {
                periodTime: "commact@lightPeriodTime",
                closeTime: "commact@lightCloseTime",
                disStart: "commact@lightDisStart",
                disEnd: "commact@lightDisEnd",
                disClose: "commact@lightDisClose",
                luckyV: "commact@lotRate",
                log: "commact@lotLog",
                rewardItemDesc: "lotRewardDesc",
                resultDesc: "lotResultDesc"
            },
            this.txtMap = {
                helpT: Object(i.tr)("lotTitle"),
                helpC: Object(i.tr)("lotContent"),
                prevT: Object(i.tr)("lotPrevTitle"),
                rateT: Object(i.tr)("commact@rateT"),
                rateC: Object(i.tr)("lotRateC"),
                taskT: Object(i.tr)("lotRewardTitle"),
                rankRewardT: ""
            },
            this.mvMap = {
                lottery: "act_lover_1_ske_json",
                lucky: "act_spring_2_ske_json"
            },
            this.routeMap = {
                lottery: "spr.cz",
                log: "spr.da",
                rewardGet: "at.cf",
                taskGet: "spr.dh",
                proGet: "x.x"
            },
            this.redMap = {
                reward: "福气奖励",
                obtain: "福气获取道具"
            },
            this.boxTypeMap = {
                1: 10503,
                2: 10504,
                3: 10505
            },
            this.prevTabArr = [{
                text: s.e.getName(10505),
                name: "2",
                icon: "icon_activity_valentine_box_3_png",
                iconDown: "icon_activity_valentine_box_frame_3_png"
            }, {
                text: s.e.getName(10504),
                name: "1",
                icon: "icon_activity_valentine_box_2_png",
                iconDown: "icon_activity_valentine_box_frame_2_png"
            }, {
                text: s.e.getName(10503),
                name: "0",
                icon: "icon_activity_valentine_box_1_png",
                iconDown: "icon_activity_valentine_box_frame_1_png"
            }],
            this.rankTabArr = [{
                text: Object(i.tr)("commact@selfReward"),
                name: "1",
                id: "sfhbRank1",
                confName: this.conf,
                rankText: Object(i.tr)("commact@score"),
                rankType: a.b.cross
            }, {
                text: Object(i.tr)("commact@crossReward"),
                name: "2",
                id: "sfhbRank2",
                confName: this.conf,
                rankText: Object(i.tr)("commact@score"),
                rankType: a.b.server
            }],
            this.obtainInfo = [{
                name: "1",
                text: Object(i.tr)("commact@festivalGift"),
                itemRenderer: h.b,
                itemSkinName: "ItemCommonFesPackageSkin",
                getList: this.getLotGift.bind(this),
                red: "鲜花礼包",
                isRecharge: !0,
                putType: "lotGift"
            }, {
                name: "2",
                text: Object(i.tr)("commact@exchangeProp"),
                itemRenderer: h.a,
                itemSkinName: "itemSchoolShopSkin",
                getList: this.getLotExchange.bind(this)
            }, {
                name: "3",
                text: Object(i.tr)("commact@dailyTask"),
                itemRenderer: l.a,
                itemSkinName: "ItemCommonQuestSkin",
                getList: this.getLotTask.bind(this),
                red: "鲜花任务"
            }]
        }
        return t.prototype.getLotGift = function() {
            var t = this;
            return this._lotteryGifts || (this._lotteryGifts = Object(o.e)(this.nameMap.gift, Object(r.d)(this.nameMap.gift).cId, this.conf).detail.map((function(e) {
                return new u.b(t.nameMap.gift,e)
            }
            ))),
            this._lotteryGifts = this._lotteryGifts.sort((function(t, e) {
                return t.weal && !e.weal ? -1 : !t.weal && e.weal ? 1 : t.c.uniqId - e.c.uniqId
            }
            )),
            this._lotteryGifts
        }
        ,
        t.prototype.getLotTask = function() {
            return c.a.ins.getActTaskList(this.nameMap.task, this.routeMap.taskGet, this.conf, null, {
                putType: "refresh_getGift"
            })
        }
        ,
        t.prototype.getLotExchange = function() {
            var t = this
              , e = Object(o.e)(this.nameMap.exchange, Object(r.d)(this.nameMap.exchange).cId, this.conf).detail;
            return this._lotExchangeList = e.map((function(e) {
                return new u.a(t.nameMap.exchange,e)
            }
            )),
            this._lotExchangeList
        }
        ,
        t
    }()
      , f = function() {
        function t(t, e, n) {
            this.c = t,
            this.actName = e,
            this.super_c = n,
            this._awd1 = [],
            this._awd2 = [];
            for (var i, o, a, s = Object(r.d)(this.actName)["lf" + this.c.id], c = 0; c < this.c.exAwards.length; c++)
                a = this.c.exAwards[c],
                o = a.id,
                i = s.find((function(t) {
                    return t.id == o
                }
                )),
                1 == a.label ? this._awd1.push({
                    p: i,
                    c: a
                }) : 2 == a.label && this._awd2.push({
                    p: i,
                    c: a
                })
        }
        return Object.defineProperty(t.prototype, "awd1", {
            get: function() {
                return this._awd1
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "awd2", {
            get: function() {
                return this._awd2
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , d = function() {
        function t(t, e) {
            this.c = t,
            this.actId = e
        }
        return Object.defineProperty(t.prototype, "p", {
            get: function() {
                if (!this._p) {
                    var t = this.c.id;
                    this._p = Object(r.d)(this.actId).l.find((function(e) {
                        return e.id == t
                    }
                    ))
                }
                return this._p
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , b = function() {
        function t() {
            this._prizePool = {}
        }
        return Object.defineProperty(t, "ins", {
            get: function() {
                return Object(i.singleton)(t)
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.getPrizePool = function(t, e, n, i) {
            var a;
            if (this._prizePool[t] || (this._prizePool[t] = {}),
            this._prizePool[t][n])
                a = this._prizePool[t][n];
            else {
                i || (i = Object(r.d)(t).cId || 1);
                var s = Object(o.e)(t, i, e);
                a = new f(s.detail[n],t,s),
                this._prizePool[t][n] = a
            }
            return a
        }
        ,
        t.prototype.getProList = function(t) {
            if (!this._proList) {
                this._proList = [];
                for (var e = Object(o.e)(t.nameMap.progress, Object(r.d)(t.nameMap.progress).cId, t.conf), n = 0; n < e.detail.length; n++)
                    this._proList.push(new d(e.detail[n],t.nameMap.progress))
            }
            return this._proList
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return l
    }
    ));
    var i, o = n(1), r = n(106), a = n(4), s = n(155), c = n(288), u = n(236), h = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), l = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "ItemIconViewSkin"),
            e
        }
        return h(e, t),
        e.prototype.onReady = function(t) {
            t.cId || t.itemId || t.propId ? t = a.PropModel.get(t.cId || t.itemId || t.propId) : t.heroId ? t = a.HeroModel.get(t.heroId) : t.fashionId && (t = c.a.create(t.fashionId));
            var e = this.item;
            e.showNum = !1,
            e.canPreview = !1,
            Object(u.a)(t, this),
            t instanceof a.PropModel ? this.updateProp(t) : t instanceof a.HeroModel ? this.updateHero(t) : t instanceof c.a && this.updateFashion(t)
        }
        ,
        e.prototype.updateHero = function(t) {
            this.item.heroId = t.c.id,
            this.nameLabel.text = t.c.name,
            Object(s.c)(this.nameLabel, t.c),
            this.des.text = t.c.desc
        }
        ,
        e.prototype.updateProp = function(t) {
            this.item.propId = t.c.id,
            this.nameLabel.text = t.c.name,
            Object(s.c)(this.nameLabel, t.c),
            this.des.text = t.c.desc
        }
        ,
        e.prototype.updateFashion = function(t) {
            this.item.img.source = t.icon,
            this.item.lbl_num.visible = !1,
            this.item.frame.visible = !1,
            this.nameLabel.text = t.c.name,
            this.des.text = t.c.desc
        }
        ,
        e.show = function(t) {
            Object(r.a)(new e, t)
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return p
    }
    ));
    var i, o = n(1), r = n(108), a = n(110), s = n(106), c = n(162), u = n(226), h = n(117), l = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), p = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelCommonServerGroupSkin"),
            e
        }
        return l(e, t),
        e.prototype.onReady = function(t) {
            this.list.itemRenderer = f;
            var e = []
              , n = u.a.getAl();
            if (t.hasOwnProperty("serverMin") && t.hasOwnProperty("serverMax"))
                for (var i = t.serverMin; i <= t.serverMax; i++)
                    e.push(n[i - 1] ? n[i - 1].name : i);
            else
                t.hasOwnProperty("l") && (e = t.l.map((function(t) {
                    return Object(h.j)(t)
                }
                )));
            Object(r.a)(this.list, e)
        }
        ,
        e.show = function(t) {
            if (!t)
                return Object(o.tooltip)(Object(o.tr)("main@noCross"));
            "object" == typeof t ? console.warn("please request r.f") : Object(a.b)([c.a.getRankGroup(t)]).then((function(t) {
                Object(s.a)(new e, t[0])
            }
            ))
        }
        ,
        e
    }(o.UIComponent), f = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return l(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.serviceLabel.text = t)
        }
        ,
        e
    }(o.Item)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return c
    }
    ));
    var i, o = n(1), r = n(110), a = n(109), s = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), c = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            return n.info = e,
            n.raceType = {
                1: Object(o.tr)("main@renzu"),
                2: Object(o.tr)("main@yaozu"),
                3: Object(o.tr)("main@mozu"),
                4: Object(o.tr)("main@xianzu"),
                5: Object(o.tr)("main@longzu"),
                6: Object(o.tr)("main@shouzu")
            },
            Object(o.setSkin)(n, "FightConfirmSkin"),
            n
        }
        return s(e, t),
        e.prototype.onReady = function() {
            var t = this;
            this.setName("fightConfirm");
            var e = this.info.monsterId
              , n = [];
            "string" == typeof e && (n = e.split(",") || [],
            e = n[0]);
            var i = Object(o.getConfig)("monster_json")[e];
            if (this.enemyName.text = Object(o.tr)(i.name),
            this.des1.text = Object(o.tr)("main@jingjie") + ": " + Object(o.tr)(i.levelName),
            this.des2.text = Object(o.tr)("main@zhongzu") + ": " + this.raceType[i.race],
            this.des3.text = Object(o.tr)(i.des),
            n.length > 0)
                for (var r in this.setState("pvn"),
                n) {
                    var a = Object(o.getConfig)("monster_json")[n[r]];
                    this.createMv(a.model, r)
                }
            else
                this.createMv(i.model, 0);
            this.tap("yesBtn", (function() {
                return t.do("yes")
            }
            )),
            this.tap("noBtn", (function() {
                return t.do("no")
            }
            ))
        }
        ,
        e.prototype.createMv = function(t, e) {
            var n, i = "role" + (t < 10 ? "0" + t : t) + "_ske_json";
            (n = o.Movie.create(i, !0)) && this["animNode" + e].addChild(n),
            n.play("stand"),
            n.skewY = -180,
            this.disposeArr.push({
                dispose: function() {
                    n && (o.display.removeFromParent(n),
                    n.dispose())
                }
            })
        }
        ,
        e.prototype.do = function(t) {
            this.info.resolve && this.info.resolve(t),
            "yes" != t && o.UI.remove(this)
        }
        ,
        e.show = function(t) {
            return new Promise((function(n) {
                Object(r.b)(Object(a.a)("monster_json")).then((function(i) {
                    o.UI.openBox(new e({
                        monsterId: t,
                        resolve: n
                    }))
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return c
    }
    ));
    var i, o = n(111), r = n(1), a = n(124), s = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), c = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e._timeFormat = null,
            e._showSec = !0,
            e
        }
        return s(e, t),
        Object.defineProperty(e.prototype, "cd", {
            get: function() {
                return this._cd
            },
            set: function(t) {
                this._cd = t,
                this._toDate = null
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "date", {
            get: function() {
                return this._date
            },
            set: function(t) {
                this._date = t,
                this._toDate = null
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.$setText = function(t) {
            return null == this._timeFormat && (this._timeFormat = t,
            (!this._timeFormat || this._timeFormat.indexOf("@") > -1 || "Label" == this._timeFormat) && (this._timeFormat = "")),
            !1
        }
        ,
        e.prototype.getTimeObject = function(t) {
            var e = ~~(t % 86400 / 3600)
              , n = ~~(t % 86400 % 3600 / 60)
              , i = ~~(t % 86400 % 3600 % 60);
            return {
                day: ~~(t / 86400),
                hour: e < 10 ? "0" + e : e,
                min: n < 10 ? "0" + n : n,
                sec: i < 10 ? "0" + i : i
            }
        }
        ,
        e.prototype.showSec = function(t) {
            this._showSec = t
        }
        ,
        e.prototype.tick = function() {
            if (!this._toDate)
                if (this._cd) {
                    var e = o.a.getNow(!1);
                    this._toDate = new Date(e + 1e3 * this._cd)
                } else
                    this._date && (this._toDate = new Date(this._date));
            if (this._toDate) {
                var n = 1e3 * o.a.getNow()
                  , i = (this._toDate.getTime() - n) / 1e3
                  , a = this.getTimeObject(i);
                if ("" == this._timeFormat)
                    if (i <= 0) {
                        var s = Object(r.tr)("main@dt2", {
                            hour: 0,
                            sec: 0,
                            min: 0
                        });
                        t.prototype.$setText.call(this, s)
                    } else if (a.day > 0) {
                        s = Object(r.tr)("main@dt1", {
                            day: a.day,
                            hour: a.hour
                        });
                        t.prototype.$setText.call(this, s)
                    } else {
                        s = Object(r.tr)(this._showSec ? "main@dt2" : "main@dt3", {
                            hour: a.hour,
                            sec: a.sec,
                            min: a.min
                        });
                        t.prototype.$setText.call(this, s)
                    }
                else
                    t.prototype.$setText.call(this, Object(r.tr)(this._timeFormat, {
                        day: a.day,
                        hour: a.hour,
                        sec: a.sec,
                        min: a.min
                    }))
            }
        }
        ,
        e.prototype.$onAddToStage = function(e, n) {
            t.prototype.$onAddToStage.call(this, e, n),
            this.tick(),
            this._timeId = egret.setInterval(this.tick, this, 1e3)
        }
        ,
        e.prototype.$onRemoveFromStage = function() {
            t.prototype.$onRemoveFromStage.call(this),
            egret.clearInterval(this._timeId)
        }
        ,
        e
    }(eui.Label);
    Object(a.a)("CountdownLabel", c)
}
, , , function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return u
    }
    ));
    var i, o = n(1), r = n(118), a = n(106), s = n(154), c = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), u = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            return n.conf = {},
            n._storyLength = 0,
            n.storyArr = [],
            n.storyNum = 0,
            Object(o.setSkin)(n, "StoryFeishengSkin"),
            n.conf = e,
            n
        }
        return c(e, t),
        e.prototype.onReady = function() {
            this.addBehavior(new r.a),
            Object(s.g)(this.passBtn),
            this.tap("passBtn", this.passStory, this),
            this.title.text = this.conf.mapName;
            var t = Object(o.tr)(this.conf.desc).split("|");
            this.desc1.text = t[0] || "",
            this.desc2.text = t[1] || "",
            this.desc3.text = t[2] || "",
            this.desc4.text = t[3] || "",
            this.desc5 && (this.desc5.text = t[4] || ""),
            this.desc6 && (this.desc6.text = t[5] || ""),
            this._storyLength = Math.max(t.length, 6),
            this.storyAnim()
        }
        ,
        e.prototype.storyAnim = function() {
            this.storyArr = [this.title];
            for (var t = 0; t < this._storyLength; t++)
                this["desc" + (t + 1)] && this.storyArr.push(this["desc" + (t + 1)]);
            this.runAnim(this.storyArr[this.storyNum])
        }
        ,
        e.prototype.runAnim = function(t) {
            var e = this;
            this.curAnim = egret.Tween.get(t).to({
                alpha: 1
            }, 1e3).call((function() {
                e.storyNum++,
                e.storyNum < e.storyArr.length ? e.runAnim(e.storyArr[e.storyNum]) : e.loopAnim()
            }
            ))
        }
        ,
        e.prototype.loopAnim = function() {
            egret.Tween.get(this.pass, {
                loop: !0
            }).to({
                alpha: 0
            }, 1e3).to({
                alpha: 1
            }, 1e3).to({
                alpha: 0
            }, 800)
        }
        ,
        e.prototype.passStory = function() {
            if (this.storyNum >= this.storyArr.length)
                o.UI.remove(this);
            else {
                this.curAnim = null;
                for (var t = 0; t < this.storyArr.length; t++)
                    egret.Tween.removeTweens(this.storyArr[t]),
                    this.storyArr[t].alpha = 1;
                this.storyNum = this.storyArr.length,
                this.loopAnim()
            }
        }
        ,
        e.show = function(t, n) {
            Object(a.a)(new e(t)).exit((function() {
                n && n()
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return r
    }
    )),
    n.d(e, "a", (function() {
        return a
    }
    ));
    var i = n(111)
      , o = n(107)
      , r = new (function() {
        function t() {
            this._autoIdx = 0,
            this._listeners = {}
        }
        return t.prototype.listen = function(t, e, n) {
            var i = this;
            this._autoIdx++;
            var o = this._autoIdx;
            return this._listeners[o] = {
                fn: e,
                context: n,
                endTime: t
            },
            this._tickId || (this._tickId = egret.setInterval(this.tick, this, 1e3)),
            {
                dispose: function() {
                    delete i._listeners[o]
                }
            }
        }
        ,
        t.prototype.tick = function() {
            var t = i.a.getNow(!0);
            for (var e in this._listeners) {
                var n = this._listeners[e];
                t > n.endTime && (n.fn && n.fn.call(n.context),
                delete this._listeners[e])
            }
        }
        ,
        t
    }());
    function a(t, e, n) {
        if (t.vt && t.vtType) {
            var a = function() {
                Object(o.d)("day.a", {
                    type: t.vtType
                }).then((function(t) {
                    t && e && e.call(n)
                }
                ))
            };
            if (t.vt > i.a.getNow())
                return r.listen(t.vt, a);
            a()
        }
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return c
    }
    ));
    var i, o = n(1), r = n(108), a = n(106), s = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), c = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelYijiFightOver"),
            e
        }
        return s(e, t),
        e.prototype.onReady = function(t, e) {
            if (t.awds.length > 4) {
                var n = new eui.TileLayout;
                this.list.layout = n,
                n.requestedColumnCount = 4
            } else
                this.list.layout = new eui.HorizontalLayout;
            this.lbl_title.text = Object(o.tr)("main@fsGetLabel"),
            this.lbl_result.text = e || (t.gift && t.gift.length ? Object(o.tr)("main@fsGetDesc") : ""),
            Object(r.a)(this.list, t.awds)
        }
        ,
        e.show = function(t, n) {
            return Object(a.a)(new e, t, n)
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return h
    }
    ));
    var i = n(109)
      , o = n(1)
      , r = n(170)
      , a = n(111)
      , s = function() {
        return (s = Object.assign || function(t) {
            for (var e, n = 1, i = arguments.length; n < i; n++)
                for (var o in e = arguments[n])
                    Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
            return t
        }
        ).apply(this, arguments)
    }
      , c = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , u = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , h = function() {
        function t() {}
        return t.prototype.checkRes = function() {
            return c(this, void 0, void 0, (function() {
                return u(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Promise.all([Object(i.a)("checkPoint_json"), Object(i.a)("monster_json"), Object(i.a)("copyEvent_json"), Object(i.a)("copy_json"), Object(i.a)("hangUp_json"), Object(i.a)("hangUpStep_json"), this.getData()])];
                    case 1:
                        return [2, t.sent()]
                    }
                }
                ))
            }
            ))
        }
        ,
        t.prototype.getData = function() {
            return c(this, void 0, void 0, (function() {
                return u(this, (function(t) {
                    return [2, {}]
                }
                ))
            }
            ))
        }
        ,
        t.prototype.checkPass = function(t) {
            return Object(i.a)("flyMap_json").then((function(e) {
                var n = Object(o.getConfig)("flyMap_json");
                if (n && n[t] && n[t].monster) {
                    var i = n[t].monster
                      , r = o.cache.get("Fly.getInfo").pass;
                    if (i.length <= r.length)
                        return !0
                }
                return !1
            }
            ))
        }
        ,
        t.prototype.pushRaidlog = function(t) {
            var e = JSON.parse(Object(o.getLocalStorage)().getString("raidLog", "{}"))
              , n = [];
            for (var i in e)
                n.push(e[i]);
            n.push(s({
                year: Object(o.singleton)(r.a).year,
                time: a.a.nowDay()
            }, t)),
            Object(o.getLocalStorage)().setString("raidLog", JSON.stringify(n)),
            Object(o.put)("refresh_RaidLog")
        }
        ,
        Object.defineProperty(t.prototype, "data", {
            get: function() {
                return this._data
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return a
    }
    ));
    var i, o = n(1), r = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), a = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return r(e, t),
        e.prototype.onDataUpdate = function(t, e) {
            t && (this.des.textFlow = (new egret.HtmlTextParser).parser(t))
        }
        ,
        e
    }(o.Item)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return _
    }
    )),
    n.d(e, "a", (function() {
        return m
    }
    ));
    var i, o = n(1), r = n(106), a = n(140), s = n(108), c = n(110), u = n(107), h = n(153), l = n(120), p = n(117), f = n(189), d = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), b = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, g = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, _ = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelCommonRankSkin2"),
            e
        }
        return d(e, t),
        e.prototype.onReady = function(t, e, n, i, o) {
            this.lbl_title.text = e,
            this.lbl_pointType.text = n,
            this.list.itemRenderer = m,
            Object(s.a)(this.list, t.l),
            Object(f.a)(this.self, t.self),
            i && this.disposeArr.push(new l.a({
                component: this.lbl_end,
                endTime: i,
                trKey: "main@rankCountdown"
            })),
            this.btn_award && o ? this.tap(this.btn_award, o, this) : this.btn_award && !o && (this.btn_award.visible = !1)
        }
        ,
        e.show = function(t, n, i, o, a) {
            return b(this, void 0, void 0, (function() {
                var s;
                return g(this, (function(h) {
                    switch (h.label) {
                    case 0:
                        return "string" != typeof t ? [3, 2] : [4, Object(c.b)(Object(u.d)("r.a", {
                            type: t
                        }))];
                    case 1:
                        return s = h.sent(),
                        [3, 3];
                    case 2:
                        s = t,
                        h.label = 3;
                    case 3:
                        return Object(r.a)(new e, s, n, i, o, a),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent), m = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return d(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (t && t.rank) {
                var e = t.robotId && "0" != t.robotId;
                this.lbl_score.text = t.hasOwnProperty("score") || t.score ? t.score + "" : t.lv ? Object(p.h)(t.lv) : "",
                this.lbl_name.text = e ? Object(o.tr)("main@mysteryMan") : t.name,
                Object(a.a)(this.head, e ? [1, 1, 1, 1, 1, 1, 1, 1, 1, 1] : t.skin),
                Object(h.a)(this.img_top, this.lbl_top, t.rank)
            }
        }
        ,
        e
    }(o.Item)
}
, , , , function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return M
    }
    ));
    var i, o = n(1), r = n(109), a = n(131), s = n(113), c = n(110), u = n(106), h = n(111), l = n(107), p = n(108), f = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    );
    function d(t, e) {
        0 == t.rank ? (e.lbl_top.visible = !0,
        e.img_top.visible = !1,
        e.lbl_top.text = Object(o.tr)("main@rankNo")) : t.rank <= 3 ? (e.lbl_top.visible = !1,
        e.img_top.visible = !0,
        e.img_top.source = "rank_" + t.rank + "_png") : (e.lbl_top.visible = !0,
        e.img_top.visible = !1,
        e.lbl_top.text = t.rank),
        e.lbl_name && (e.lbl_name.text = t.name),
        e.lbl_zhimingdu.text = "" + t.score
    }
    var b = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return f(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && d(t, this)
        }
        ,
        e.prototype.onReady = function() {
            this.tap("btn_show", this.showCard, this)
        }
        ,
        e.prototype.showCard = function() {
            M.show(this.data.uId)
        }
        ,
        e
    }(o.Item)
      , g = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            return n.proxyData = e,
            Object(o.setSkin)(n, "MingpianRankSkin"),
            n
        }
        return f(e, t),
        e.prototype.onReady = function() {
            this.setName("MingPianRankView"),
            this.list.itemRenderer = b,
            Object(p.a)(this.list, this.proxyData.l),
            d(this.proxyData.self, this)
        }
        ,
        e.show = function() {
            Object(c.b)([e.getData("card")]).then((function(t) {
                t && Object(u.a)(new e(t[0]))
            }
            ))
        }
        ,
        e.getData = function(t) {
            var e = this;
            return this.rankData[t] && !h.a.isOver(this.rankData[t].ext) ? Promise.resolve(this.rankData[t]) : Object(l.d)("r.a", {
                type: t
            }).then((function(n) {
                if (n)
                    return e.rankData[t] = n,
                    n
            }
            ))
        }
        ,
        e.rankData = {},
        e
    }(o.UIComponent)
      , _ = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , m = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e._curPage = 1,
            e._max = 4,
            e._page = 1,
            Object(o.setSkin)(e, "MingpianBeijingSkin"),
            e
        }
        return _(e, t),
        e.prototype.onReady = function() {
            this._curPage = Object(s.a)("cardId"),
            this._curPage > 0 && (this._page = this._curPage),
            this.refreshView(),
            this.tap("btn_left", this.onLeft, this),
            this.tap("btn_right", this.onRight, this),
            this.tap("btn_change", this.onChange, this),
            this.tap("btn_back", this.onRemove, this),
            this.tap("rect1", this.onRemove, this)
        }
        ,
        e.prototype.onLeft = function() {
            this._page > 1 && (this._page -= 1),
            this.refreshView()
        }
        ,
        e.prototype.onRight = function() {
            this._page < this._max && (this._page += 1),
            this.refreshView()
        }
        ,
        e.prototype.onRemove = function() {
            var t = this;
            this._curPage != Object(s.a)("cardId") ? Object(l.d)("ca.c", {
                id: this._curPage
            }).then((function() {
                o.UI.remove(t)
            }
            )) : o.UI.remove(this)
        }
        ,
        e.prototype.refreshView = function() {
            if (this.btn_left.enabled = this._page > 1,
            this.btn_right.enabled = this._page < this._max,
            this.preview.source = "bg_mingpian_" + this._page + "_jpg",
            this._curPage == this._page)
                this.icon_choose.visible = !0,
                this.btn_change.visible = !1,
                this.tiaojian.visible = !1;
            else {
                var t = this.bgInfo();
                this.icon_choose.visible = !1,
                t.open ? (this.btn_change.visible = !0,
                this.tiaojian.visible = !1) : (this.btn_change.visible = !1,
                this.tiaojian.visible = !0,
                this.tiaojian.text = t.des)
            }
        }
        ,
        e.prototype.bgInfo = function() {
            var t = {
                open: !0,
                des: ""
            }
              , e = Object(o.getConfig)("playerCard_json")[this._page];
            switch (e.openType) {
            case "0":
                break;
            case "1":
                1 != Object(s.a)("fly") && (t.open = !1),
                t.des = Object(o.tr)("main@mingpianCon1");
                break;
            case "2":
                1 != Object(s.a)("flyBody") && (t.open = !1),
                t.des = Object(o.tr)("main@mingpianCon2");
                break;
            case "3":
                Object(s.a)("ylMapId") <= e.value && (t.open = !1),
                t.des = Object(o.tr)("main@mingpianCon3", {
                    v: e.value
                })
            }
            return t
        }
        ,
        e.prototype.onChange = function() {
            this._curPage = this._page,
            this.refreshView()
        }
        ,
        e
    }(o.UIComponent)
      , y = n(269)
      , v = n(116)
      , O = {
        1: 4892706,
        2: 6267643,
        3: 11514622,
        4: 16766813,
        5: 16728617
    };
    var j = n(115)
      , w = n(114)
      , x = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , k = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , I = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , P = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "GitrecordRecordSkin"),
            e
        }
        return x(e, t),
        e.prototype.onReady = function() {
            this.list.itemRenderer = C;
            var t = Object(o.getCache)("friend.giftLogList", "l");
            t.reverse(),
            Object(p.a)(this.list, t)
        }
        ,
        e.show = function() {
            return k(this, void 0, void 0, (function() {
                return I(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Object(c.b)([Object(l.c)("fr.g", "friend.giftLogList")])];
                    case 1:
                        return t.sent(),
                        Object(u.a)(new e),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
      , C = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return x(e, t),
        e.prototype.onReady = function() {
            this.tap("lbl_name", this.onMing, this)
        }
        ,
        e.prototype.onMing = function() {
            this.data.from && M.show(this.data.from)
        }
        ,
        e.prototype.onDataUpdate = function(t) {
            t && (this.lbl_name.text = t.name,
            this.lbl_id.text = t.from,
            this.lbl_desc.text = Object(o.tr)("gam@giftLog1", {
                name: t.name,
                from: t.from,
                to: t.to,
                item: w.e.getName(t.item),
                num: t.num,
                add: t.fav
            }),
            this.lbl_time.text = o.time.format(1e3 * t.time, "mm-dd HH:MM"))
        }
        ,
        e
    }(o.Item)
      , S = n(342)
      , R = n(152)
      , T = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , L = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , A = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , M = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "MingpianMainSkin"),
            e
        }
        return T(e, t),
        e.prototype.onReady = function(t, e, n) {
            void 0 === n && (n = !0),
            this._p = t,
            this._normal = e,
            this._normal ? this.setState("normal") : (this.setState("chakan"),
            n ? this.worshipInfo() : (this.do.visible = !1,
            this.btn_done.visible = !1),
            n && this._p.uId != Object(s.a)("uId") ? (this.btn_addFriend.visible = !Object(o.singleton)(R.a).getFriendInfo(this._p.uId),
            this.pro_fav.visible = !0,
            this.pro_fav.labelFunction = this.favLabel.bind(this),
            this.pro_fav.maximum = 300,
            this.pro_fav.value = this._p.fav || 0) : this.btn_addFriend.visible = this.pro_fav.visible = !1),
            Object(a.f)(t.skin, this.roleBody, {
                cloth: a.a.body,
                eye: a.b.open,
                hide: a.c.fazhen
            }),
            this.lbl_name.text = t.name,
            this.lbl_id.text = "ID: " + t.uId,
            this.showMv(),
            this.refreshBg();
            var i = Object(o.getConfig)("level_json")[t.lv]
              , r = Object(o.getConfig)("bodyLevel_json")[t.bLv];
            t.guildName && "暂无" == t.guildName ? this.menpai.text = Object(o.tr)("main@mingpian4") : t.guildName ? this.menpai.text = t.guildName : this.menpai.text = Object(o.tr)("main@mingpian4"),
            this.jingjie.text = i.name,
            this.roushen.text = r.name,
            0 == t.flyNum ? this.feisheng.text = Object(o.tr)("main@noFeisheng") : this.feisheng.text = Object(o.tr)("main@mingpian2", {
                num: t.flyNum
            }),
            this.zhimingdu_num.text = t.score + "",
            0 == t.rank ? this.paiming.text = Object(o.tr)("main@rankNo") : this.paiming.text = t.rank + "",
            this.lbl_num.text = 200 + 10 * Object(s.a)("lv"),
            this.tap("btn_paihang", this.onRank, this),
            this.tap("btn_beijing", this.onBg, this),
            this.tap("btn_yulan", this.onPreview, this),
            this.tap("btn_fenxiang", this.onShare, this),
            this.tap("btn_jietu", this.onSave, this),
            this.tap("btn_chuanyin", this.onChat, this),
            this.tap("btn_do", this.onAwd, this),
            this.tap("rect1", this.onNormal, this),
            this.tap("btn_block", this.onBlack, this),
            this.tap("btn_gitrecord", P.show),
            this.tap("btn_addFriend", this.onAddFriend, this),
            this.tap("pro_fav", this.onGiveGift, this),
            this.tap("btn_copy", (function() {
                Object(o.tooltip)(Object(o.tr)("common@copyUid")),
                Object(o.getPlatComp)("clipboard").copy(t.uId)
            }
            ), this),
            this.on("update_likev", this.updateLikev, this),
            this.btn_jietu.visible = this.btn_jietu.includeInLayout = o.is.wx(),
            this.btn_fenxiang.visible = this.btn_fenxiang.includeInLayout = Object(j.N)(),
            this.btn_block.visible = t.uId != Object(s.a)("uId")
        }
        ,
        e.prototype.favLabel = function(t, e) {
            return this._p.fav || "0"
        }
        ,
        e.prototype.updateLikev = function(t) {
            t.duId == this._p.uId && (this._p.fav = t.fav,
            this.pro_fav.value = t.fav,
            t.fav > this.pro_fav.maximum && (this.pro_fav.labelDisplay.text = t.fav || "0"))
        }
        ,
        e.prototype.onAddFriend = function() {
            return this._p.fav < this.pro_fav.maximum ? Object(o.tooltip)(Object(o.tr)("gam@likevNot")) : Object(o.singleton)(R.a).getFriendInfo(this._p.uId) ? Object(o.tooltip)(Object(o.tr)("gam@alreadyFriend")) : void Object(l.d)("fr.b", {
                duId: this._p.uId
            }).then((function(t) {
                t && Object(o.tooltip)(Object(o.tr)("gam@reqAddFriend"))
            }
            ))
        }
        ,
        e.prototype.onGiveGift = function() {
            var t = this;
            this._p.uId != Object(s.a)("uId") && this._p && S.a.show(this._p.uId).exit((function(e) {
                t.pro_fav.value = t._p.fav || 0
            }
            ))
        }
        ,
        e.prototype.refreshBg = function() {
            this._normal ? this.bg.source = "bg_mingpian_" + Object(s.a)("cardId") + "_jpg" : this.bg.source = "bg_mingpian_" + this._p.cardId + "_jpg"
        }
        ,
        e.prototype.showMv = function() {
            return L(this, void 0, void 0, (function() {
                var t;
                return A(this, (function(e) {
                    switch (e.label) {
                    case 0:
                        return 0 == this._p.petId ? [2] : [4, Object(r.a)("pet_json")];
                    case 1:
                        return e.sent(),
                        t = Object(o.getConfig)("pet_json")[this._p.petId].icon,
                        this._petMv = o.Movie.create("pet_" + t + "_ske_json"),
                        this.xianshou.addChild(this._petMv),
                        this._petMv.x = this._petMv.y = 200,
                        this._petMv.play("1"),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.onBlack = function() {
            var t = this
              , e = Object(o.getCache)("Chat.getInfo", "black", []);
            if (e.length >= Object(o.getCache)("Chat.getInfo", "blackMax"))
                return Object(o.tooltip)(Object(o.tr)("main@blackMax"));
            var n = this._p.uId;
            e && e.find((function(t) {
                if (t.uId == n)
                    return !0
            }
            )) ? Object(o.tooltip)(Object(o.tr)("main@inBlack")) : Object(l.d)("ch.m", {
                uId: n
            }).then((function(e) {
                e && (Object(o.tooltip)(Object(o.tr)("main@blackSuc")),
                Object(o.put)("update_black", !0),
                o.UI.remove(t))
            }
            ))
        }
        ,
        e.prototype.onRank = function() {
            g.show()
        }
        ,
        e.prototype.onBg = function() {
            var t = this;
            Object(r.a)("playerCard_json").then((function() {
                Object(u.a)(new m).exit((function() {
                    t.refreshBg()
                }
                ))
            }
            ))
        }
        ,
        e.prototype.onPreview = function() {
            this.setState("preview")
        }
        ,
        e.prototype.onNormal = function() {
            "preview" == this.currentState && this.setState("normal")
        }
        ,
        e.prototype.onSave = function() {
            var t = this;
            this.onPreview(),
            this.btn_close.visible = !1,
            Object(o.setTimeout)((function() {
                var e = window.canvas.toTempFilePathSync({
                    x: 0,
                    y: 0,
                    width: window.canvas.width,
                    height: window.canvas.height
                });
                window.wx.saveImageToPhotosAlbum({
                    filePath: e,
                    success: function(t) {
                        console.log("保存成功")
                    },
                    fail: function() {
                        console.log("保存失败")
                    }
                }),
                t.btn_close.visible = !0,
                t.onNormal()
            }
            ), this, 100)
        }
        ,
        e.prototype.onShare = function() {
            Object(j.I)()
        }
        ,
        e.prototype.onChat = function() {
            y.a.show("tab1", {
                name: this._p.name,
                uId: 10001
            })
        }
        ,
        e.prototype.onAwd = function() {
            var t = this;
            Object(l.d)("ca.b", {
                worshipUId: this._p.uId
            }).then((function(e) {
                if (e) {
                    v.a.show(e.awds),
                    t.worshipInfo();
                    var n = t.zhimingdu_num.localToGlobal(0, 0)
                      , i = new eui.Label;
                    i.textColor = O[1],
                    i.text = "+1",
                    i.x = n.x,
                    i.y = n.y,
                    o.display.stage.addChild(i),
                    egret.Tween.get(i).to({
                        y: n.y - 120,
                        alpha: 0
                    }, 1900).call((function() {
                        o.display.removeFromParent(i)
                    }
                    )),
                    Object(o.setTimeout)((function() {
                        t._p.score += 1,
                        t.zhimingdu_num.text = t._p.score + ""
                    }
                    ), t, 300, t.disposeArr)
                }
            }
            ))
        }
        ,
        e.prototype.worshipInfo = function() {
            this._p.uId == Object(s.a)("uId") ? (this.do.visible = !1,
            this.btn_done.visible = !0,
            this.btn_done.label = Object(o.tr)("main@mingpian5")) : 1 == o.cache.get("cardShare.getInfo").isWorship ? (this.do.visible = !1,
            this.btn_done.visible = !0) : (this.do.visible = !0,
            this.btn_done.visible = !1)
        }
        ,
        e.prototype.onExit = function() {
            t.prototype.onExit.call(this),
            this._petMv && (this._petMv.dispose(),
            this._petMv = null)
        }
        ,
        e.show = function(t, n, i) {
            void 0 === n && (n = !1),
            void 0 === i && (i = !0),
            Object(c.b)([Object(l.a)("ca.a", "cardShare.getInfo", (function(t) {
                return !!t.hasOwnProperty("expiredTime") && h.a.getNow(!0) >= t.expiredTime
            }
            )), Object(o.getLocale)().init("gam"), Object(l.a)("fr.e", "friend.getList")]).then((function(o) {
                Object(l.d)("ca.d", {
                    cardUId: t
                }).then((function(t) {
                    Object(u.a)(new e, t, n, i)
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return a
    }
    ));
    var i, o = n(1), r = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), a = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.includeInLayout = !0,
            e.disposeArr = [],
            e._x = 0,
            e._y = 0,
            e._width = 0,
            e._height = 0,
            e._scaleX = 1,
            e._scaleY = 1,
            e._selected = !1,
            e.$visible = !0,
            e
        }
        return r(e, t),
        Object.defineProperty(e.prototype, "visible", {
            get: function() {
                return this.$visible
            },
            set: function(t) {
                this.$setVisible(t)
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.$setVisible = function(t) {
            this.__virtual__ && (t = !1),
            this.$visible != t && (this.$visible = t,
            this.setChildrenProperty("visible", t))
        }
        ,
        Object.defineProperty(e.prototype, "width", {
            get: function() {
                return this.includeInLayout ? this._width : 0
            },
            set: function(t) {
                if (this._width != t && (this._width = t,
                this.$skin && this.$skin.hostComponent)) {
                    var e = this.$skin.hostComponent;
                    e.clearItemPos(this.itemIndex),
                    e.invalidateDisplayList()
                }
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "height", {
            get: function() {
                return this.includeInLayout ? this._height : 0
            },
            set: function(t) {
                if (this._height != t && (this._height = t,
                this.$skin && this.$skin.hostComponent)) {
                    var e = this.$skin.hostComponent;
                    e.clearItemPos(this.itemIndex),
                    e.invalidateDisplayList()
                }
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "x", {
            get: function() {
                return this._x
            },
            set: function(t) {
                if (this._x != t) {
                    var e = t - this._x;
                    this._x = t,
                    this.setChildrenProperty("x", e, !0)
                }
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "y", {
            get: function() {
                return this._y
            },
            set: function(t) {
                if (this._y != t) {
                    var e = t - this._y;
                    this._y = t,
                    this.setChildrenProperty("y", e, !0)
                }
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "scaleX", {
            get: function() {
                return this._scaleX
            },
            set: function(t) {
                if (this._scaleX != t) {
                    var e = t - this._scaleX;
                    this._scaleX = t,
                    this.setChildrenProperty("scaleX", e, !0)
                }
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "scaleY", {
            get: function() {
                return this._scaleY
            },
            set: function(t) {
                if (this._scaleY != t) {
                    var e = t - this._scaleY;
                    this._scaleY = t,
                    this.setChildrenProperty("scaleY", e, !0)
                }
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.setChildrenProperty = function(t, e, n) {
            this.$children && this.$children.forEach((function(i) {
                n ? i[t] += e : i[t] = e
            }
            ))
        }
        ,
        Object.defineProperty(e.prototype, "data", {
            get: function() {
                return this.$data
            },
            set: function(t) {
                this.$setData(t),
                this.$skin && this.onDataUpdate(this.$data)
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.$setData = function(t) {
            this.$data = t
        }
        ,
        Object.defineProperty(e.prototype, "selected", {
            get: function() {
                return this._selected
            },
            set: function(t) {
                this._selected != t && (this._selected = t)
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.setLayoutBoundsPosition = function(t, e) {
            this.x = t,
            this.y = e
        }
        ,
        e.prototype.setSkinPart = function(t, e) {
            this[t];
            this[t] = e
        }
        ,
        e.prototype.setSkin = function(t) {
            var e, n, i;
            if (this.$skin)
                for (n = this.$skin.skinParts.length,
                e = 0; e < n; e++)
                    this[i = this.$skin.skinParts[e]] && (this[i] = null);
            for (this.$skin = t,
            this.$children = t.$elementsContent,
            this.updateBound(t),
            n = t.skinParts.length,
            e = 0; e < n; e++)
                this[i = t.skinParts[e]] = t[i];
            this.onReady(),
            this.$data && this.onDataUpdate(this.$data)
        }
        ,
        e.prototype.updateBound = function(t) {
            var e = this;
            if (!t.width || !t.height)
                throw new Error(egret.getQualifiedClassName(t) + " didn't set width/height");
            this.width = t.width,
            this.height = t.height,
            this.$children && this.$children.forEach((function(t) {
                t.width && t.horizontalCenter ? t.x = e.width - t.width >> 1 + t.horizontalCenter : t.left ? t.x = t.left : t.width && t.right && (t.x = e.width - t.right - t.width),
                t.height && t.verticalCenter ? t.y = e.height - t.height >> 1 + t.verticalCenter : t.top ? t.y = t.top : t.height && t.bottom && (t.y = e.height - t.bottom - t.height)
            }
            ))
        }
        ,
        e.prototype.onReady = function() {}
        ,
        e.prototype.onTap = function() {}
        ,
        e.prototype.onDataUpdate = function(t) {}
        ,
        e.prototype.dispose = function() {
            this.disposeArr = Object(o.dispose)(this.disposeArr)
        }
        ,
        e
    }(egret.EventDispatcher)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return h
    }
    ));
    var i = n(1)
      , o = n(132)
      , r = n(111)
      , a = n(113)
      , s = n(114)
      , c = n(164)
      , u = n(117)
      , h = function() {
        function t() {}
        return Object.defineProperty(t.prototype, "dxgeLog", {
            get: function() {
                var t = i.cache.get("Pavilion.getList");
                return t.i && t.i.log && !Array.isArray(t.i.log) ? t.i.log : null
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "joinTime", {
            get: function() {
                var t = i.cache.get("Pavilion.getList");
                return t.i && t.i.time ? t.i.time : 0
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "iType", {
            get: function() {
                var t = i.cache.get("Pavilion.getList");
                return t.i && t.i.timeType ? t.i.timeType : 1
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.getList = function() {
            return i.cache.get("Pavilion.getList", "l")
        }
        ,
        t.prototype.isSeatDown = function() {
            return i.cache.get("Pavilion.getList").i.hId > 0
        }
        ,
        t.prototype.hasEmptySeat = function() {
            return this.getList().some((function(t) {
                return !r.a.isOver(t.endTime) && t.count < 4
            }
            ))
        }
        ,
        t.prototype.checkisCanDown = function() {
            if (!this.isSeatDown()) {
                var t = this.joinTime;
                return !!r.a.isOver(t) && this.hasEmptySeat()
            }
            return !1
        }
        ,
        t.prototype.getMyRoom = function() {
            return null
        }
        ,
        t.prototype.getSkillInfo = function() {
            return i.cache.get("PavilionAttr.GetInfo")
        }
        ,
        t.prototype.getAdvLv = function() {
            var t = this.getSkillInfo()
              , e = 200;
            this.getSkillConfList().forEach((function(n) {
                t[n.type] < e && (e = t[n.type])
            }
            ));
            var n = 0
              , i = this.checkAdvanced(e);
            return i && (n = i.id),
            n
        }
        ,
        t.prototype.getAdvAttr = function() {
            var t = this.getSkillInfo();
            if (null == t)
                return {
                    shenfa: 0,
                    zhenqi: 0,
                    gengu: 0,
                    tipo: 0
                };
            var e = 200;
            this.getSkillConfList().forEach((function(n) {
                t[n.type] < e && (e = t[n.type])
            }
            ));
            var n = this.checkAdvanced(e);
            return n ? {
                shenfa: n.per_shenfa / 1e4,
                zhenqi: n.per_zhenqi / 1e4,
                gengu: n.per_gengu / 1e4,
                tipo: n.per_tipo / 1e4
            } : {
                shenfa: 0,
                zhenqi: 0,
                gengu: 0,
                tipo: 0
            }
        }
        ,
        t.prototype.getSkillNeedExp = function(t) {
            return Object(o.a)("dengxianLv_json", t).exp
        }
        ,
        t.prototype.getSkillConfList = function() {
            var t = []
              , e = Object(o.a)("dengxianSkill_json");
            for (var n in e)
                t.push(e[n]);
            return t
        }
        ,
        t.prototype.hasSkillCanLvUp = function() {
            for (var t = this.getSkillInfo(), e = s.e.getNum(s.f.dxExp), n = Object.keys(t), i = 0; i < n.length; i++) {
                var o = t[n[i]] + 1;
                if (!(o > 200) && this.getSkillNeedExp(o) <= e)
                    return !0
            }
            return !1
        }
        ,
        t.prototype.checkAdvanced = function(t) {
            for (var e = Object(o.a)("dengxianAdvanced_json"), n = Object.keys(e), i = n.length - 1; i >= 0; i--)
                if (t >= e[n[i]].needLv)
                    return e[n[i]];
            return null
        }
        ,
        t.prototype.getAdvanced = function(t) {
            for (var e = Object(o.a)("dengxianAdvanced_json"), n = Object.keys(e), i = n.length - 1; i >= 0; i--)
                if (t == e[n[i]].id)
                    return e[n[i]];
            return null
        }
        ,
        t.prototype.checkCanPk = function(t) {
            Object(a.a)("skin");
            var e = t.uSkin
              , n = function() {
                var e = Object(a.a)("lv")
                  , n = t.uLv;
                return e == n || e > n
            }
              , i = Object(u.l)()
              , o = e.length > c.b.title ? Number(e[c.b.title]) : 0;
            if (i == o && 0 == i)
                return n();
            if (i > 0 && 0 == o)
                return !0;
            if (i > 0 && o > 0) {
                var r = this.getTitleInfo(i)
                  , s = this.getTitleInfo(o);
                return r.titleLv > s.titleLv || r.titleLv == s.titleLv && n()
            }
            return !1
        }
        ,
        t.prototype.getTitleInfo = function(t) {
            var e = Object(o.a)("fashion_json");
            for (var n in e)
                if (4 == e[n].type && e[n].icon == t)
                    return e[n];
            return null
        }
        ,
        t.prototype.getExp = function(t) {
            var e = Object(o.a)("dengxianPavilion_json");
            for (var n in e) {
                var i = e[n];
                if (t >= i.playerLv1 && t <= i.playerLv2)
                    return i.exp
            }
        }
        ,
        t.ins = Object(i.singleton)(t),
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return h
    }
    )),
    n.d(e, "b", (function() {
        return l
    }
    ));
    var i = n(1)
      , o = n(132)
      , r = n(107)
      , a = function() {
        return (a = Object.assign || function(t) {
            for (var e, n = 1, i = arguments.length; n < i; n++)
                for (var o in e = arguments[n])
                    Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
            return t
        }
        ).apply(this, arguments)
    }
      , s = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , c = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , u = {
        guildId: "",
        guildJoinTime: 0,
        id: 0,
        joinTime: 0,
        endTime: 0,
        openTime: 0,
        name: "",
        lv: 0,
        positionId: 0,
        skin: [],
        uId: 0
    }
      , h = function() {
        function t() {
            this.feastLog = null
        }
        return t.prototype.getP = function() {
            return i.cache.get("Feast.getInfo", "i")
        }
        ,
        t.prototype.getList = function() {
            return i.cache.get("Feast.getList", "l")
        }
        ,
        t.prototype.getLog = function() {
            return this.feastLog
        }
        ,
        t.prototype.clearLog = function() {
            this.feastLog = null
        }
        ,
        t.prototype.getCList = function() {
            var t = []
              , e = Object(o.a)("kunlunFeast_json");
            for (var n in e)
                t.push(e[n]);
            return t
        }
        ,
        t.prototype.getC = function(t) {
            return Object(o.a)("kunlunFeast_json", t)
        }
        ,
        t.prototype.reSetFeastInfo = function(t) {
            var e = {
                guildId: t.guildId,
                guildJoinTime: t.guildJoinTime,
                id: t.id,
                joinTime: t.joinTime,
                endTime: t.endTime,
                openTime: t.openTime,
                name: t.name,
                lv: t.lv,
                positionId: t.positionId,
                skin: t.skin,
                uId: t.uId
            };
            i.cache.set("Feast.getInfo", {
                i: e
            })
        }
        ,
        t
    }()
      , l = function() {
        function t() {}
        return t.feastInfo = function() {
            return s(this, void 0, void 0, (function() {
                return c(this, (function(t) {
                    return [2, new Promise((function(t) {
                        Object(r.d)("fe.a").then((function(e) {
                            Object(i.singleton)(h).feastLog = e.log,
                            i.cache.set("Feast.getInfo", {
                                i: e.i && e.i.openTime ? e.i : a({}, u)
                            }),
                            t(e)
                        }
                        ))
                    }
                    ))]
                }
                ))
            }
            ))
        }
        ,
        t.feastList = function() {
            return s(this, void 0, void 0, (function() {
                return c(this, (function(t) {
                    return [2, new Promise((function(t) {
                        Object(r.d)("fe.f").then((function(e) {
                            e && i.cache.set("Feast.getList", {
                                l: e.l
                            }),
                            t(e)
                        }
                        ))
                    }
                    ))]
                }
                ))
            }
            ))
        }
        ,
        t.recordInfo = function() {
            return s(this, void 0, void 0, (function() {
                return c(this, (function(t) {
                    return [2, new Promise((function(t) {
                        Object(r.d)("fe.d").then((function(e) {
                            t(e)
                        }
                        ))
                    }
                    ))]
                }
                ))
            }
            ))
        }
        ,
        t.seatDown = function() {
            return s(this, void 0, void 0, (function() {
                return c(this, (function(t) {
                    return [2, new Promise((function(t) {
                        Object(r.d)("fe.c").then((function(e) {
                            t(e)
                        }
                        ))
                    }
                    ))]
                }
                ))
            }
            ))
        }
        ,
        t.backFeast = function() {
            Object(r.d)("fe.e")
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return h
    }
    )),
    n.d(e, "a", (function() {
        return p
    }
    ));
    var i, o = n(1), r = n(106), a = n(108), s = n(113), c = n(115), u = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), h = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "MainRecordSkin"),
            e
        }
        return u(e, t),
        e.prototype.onReady = function() {
            var t = o.cache.get("Lv.getList");
            Object(c.E)(t.l),
            this.list.itemRenderer = l;
            var e = Object(c.h)();
            Object(a.a)(this.list, e)
        }
        ,
        e.prototype.onExit = function() {
            t.prototype.onExit.call(this)
        }
        ,
        e.show = function() {
            Object(r.a)(new e)
        }
        ,
        e
    }(o.UIComponent), l = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return u(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (t) {
                var e = this.getText(t);
                this.des.textFlow = (new egret.HtmlTextParser).parser(e)
            }
        }
        ,
        e.prototype.getText = function(t) {
            var e = Object(s.a)("uNa");
            switch (t.type) {
            case 1:
                return Object(o.tr)("main@mainLog11", {
                    name: e
                });
            case 2:
                return 11 == t.lv ? Object(o.tr)("main@mainLog4") : 21 == t.lv ? Object(o.tr)("main@mainLog5") : 31 == t.lv ? Object(o.tr)("main@mainLog6") : 41 == t.lv ? Object(o.tr)("main@mainLog7") : 51 == t.lv ? Object(o.tr)("main@mainLog8") : 61 == t.lv ? Object(o.tr)("main@mainLog9") : 71 == t.lv ? Object(o.tr)("main@mainLog10") : Object(o.tr)("main@mainLog4");
            case 3:
                var n = Object(o.getConfig)("level_json")[t.lv];
                return Object(o.tr)("main@mainLog1", {
                    year: t.yt,
                    name: e,
                    level: Object(o.tr)(n.name)
                });
            case 4:
                var i = Object(o.getConfig)("bodyLevel_json")[t.lv];
                return Object(o.tr)("main@mainLog2", {
                    year: t.yt,
                    name: e,
                    level: Object(o.tr)(i.name)
                });
            default:
                return ""
            }
        }
        ,
        e
    }(o.Item), p = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return u(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (t)
                if (2 == t.status) {
                    var e = void 0;
                    if (1 == t.type) {
                        var n = Object(o.getConfig)("level_json")[t.level] || {};
                        e = Object(o.tr)(n.name)
                    } else {
                        var i = Object(o.getConfig)("bodyLevel_json")[t.level] || {};
                        e = Object(o.tr)(i.name)
                    }
                    this.des.textFlow = (new egret.HtmlTextParser).parser(Object(o.tr)("main@mainLog" + t.type, {
                        year: t.year,
                        name: t.name,
                        level: e
                    }))
                } else if (3 == t.status)
                    4 == t.type ? this.des.textFlow = (new egret.HtmlTextParser).parser(Object(o.tr)("main@mainLog11", {
                        name: Object(s.a)("uNa")
                    })) : this.des.textFlow = (new egret.HtmlTextParser).parser(Object(o.tr)("main@log_" + t.type));
                else if (1 == t.status) {
                    n = Object(o.getConfig)("level_json")[t.level];
                    this.des.textFlow = (new egret.HtmlTextParser).parser(Object(o.tr)("main@mainLog3", {
                        year: t.year,
                        name: t.name,
                        num: n.stoneNum
                    }))
                }
        }
        ,
        e
    }(o.Item)
}
, function(t, e, n) {
    "use strict";
    function i(t, e) {
        t.lbl_bottom && (t.lbl_bottom.source = e ? e < 5 ? "img_chat_talk_bottom_0_png" : 5 == e ? "img_chat_talk_bottom_1_png" : 6 == e ? "img_chat_talk_bottom_2_png" : e <= 9 ? "img_chat_talk_bottom_3_png" : "img_chat_talk_bottom_4_png" : "img_chat_talk_bottom_0_png")
    }
    n.d(e, "a", (function() {
        return i
    }
    ))
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return c
    }
    ));
    var i, o = n(1), r = n(124), a = n(152), s = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), c = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.touchChildren = !1,
            e
        }
        return s(e, t),
        e.prototype.onReady = function() {
            this.updateView(),
            this.on("crossPkMsg", this.updateView, this)
        }
        ,
        e.prototype.updateView = function(t) {
            var e = ""
              , n = Object(o.singleton)(a.a).crossPkList;
            n.sort((function(t, e) {
                return t.time - e.time
            }
            )),
            t || (t = n[n.length - 1] ? n[n.length - 1] : null),
            t && (this.currentState = t.state,
            e = 7 == t.type ? Object(o.tr)("main@chatBarFormat", {
                name: t.p.name,
                text: t.text
            }) : t.sysText);
            try {
                this.content.textFlow = (new egret.HtmlTextParser).parser(e)
            } catch (t) {
                this.content.text = e
            }
        }
        ,
        e
    }(o.Component);
    Object(r.a)("ChatCrossPkBar", c)
}
, , function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return d
    }
    ));
    var i, o = n(1), r = n(173), a = n(327), s = n(158), c = n(328), u = n(137), h = function() {
        return (h = Object.assign || function(t) {
            for (var e, n = 1, i = arguments.length; n < i; n++)
                for (var o in e = arguments[n])
                    Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
            return t
        }
        ).apply(this, arguments)
    }, l = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, p = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    };
    !function(t) {
        t[t.normal = 1] = "normal",
        t[t.hot = 2] = "hot",
        t[t.new = 3] = "new"
    }(i || (i = {}));
    var f = function() {
        function t() {
            this.tabMap = {}
        }
        return t.prototype.init = function(t) {
            this.data = t;
            var e = this.ul;
            e[0] ? this.select(e[0].sId) : this.selectArea = this.data.al[this.data.al.length - 1],
            o.httputil.setUrl(this.rquestUrl)
        }
        ,
        Object.defineProperty(t.prototype, "ul", {
            get: function() {
                var t = this;
                return this.data.ul.filter((function(e) {
                    var n = parseInt(e.sId);
                    return !!t.getAreaItem(n)
                }
                ))
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "kefu", {
            get: function() {
                return this.data.kefuWechat
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "kefuMoney", {
            get: function() {
                return Number(this.data.kefuMoney)
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.hasRole = function(t) {
            return this.data.ul.some((function(e) {
                return e.sId == t
            }
            ))
        }
        ,
        Object.defineProperty(t.prototype, "al", {
            get: function() {
                return this.data.al
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "centerId", {
            get: function() {
                return this.data.centerId
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "shareOpen", {
            get: function() {
                return this.data.shareOpen
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "ip", {
            get: function() {
                return this.data.ip
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "offLimit", {
            get: function() {
                return this.data.offLimit
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "tryRewardUrl", {
            get: function() {
                return this.data.tryRewardUrl
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "shareUrl", {
            get: function() {
                return this.data.shareJson
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "isNew", {
            get: function() {
                return this.data.isNew
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.select = function(t) {
            for (var e = 0; e < this.data.al.length; e++)
                if (this.data.al[e].sId == t) {
                    this.selectArea = this.data.al[e];
                    break
                }
            return o.httputil.setUrl(this.rquestUrl),
            this.selectArea
        }
        ,
        t.prototype.tabs = function() {
            if (null == this._tabs) {
                this._tabs = [{
                    label: Object(o.tr)("common@myServer"),
                    type: 0
                }],
                this.tabMap[this._tabs[0].label] = this._tabs[0];
                for (var t = this.data.al.length, e = Math.ceil(t / 20) - 1; e >= 0; e--) {
                    var n = 20 * e + 1
                      , i = 20 * (e + 1)
                      , r = Object(o.tr)("common@serverRange", {
                        min: n,
                        max: i
                    })
                      , a = {
                        label: r,
                        type: 1,
                        min: n,
                        max: i
                    };
                    this._tabs.push(a),
                    this.tabMap[r] = a
                }
            }
            return this._tabs
        }
        ,
        t.prototype.getAreaItem = function(t) {
            for (var e = 0; e < this.data.al.length; e++)
                if (this.data.al[e].sId == t)
                    return this.data.al[e]
        }
        ,
        Object.defineProperty(t.prototype, "gonggao", {
            get: function() {
                return this.data.gonggao
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.getAreaList = function(t) {
            var e = this
              , n = [];
            if (t && 0 == t.type)
                return this.ul.map((function(t) {
                    return e.getAreaItem(t.sId)
                }
                ));
            if (null == t)
                for (var i = 0; i < this.al.length; i++)
                    n.push(this.getAreaItem(this.al[i].sId));
            else
                for (i = t.min; i <= t.max; i++) {
                    var o = this.getAreaItem(i);
                    o && n.push(o)
                }
            return n.sort((function(t, e) {
                return e.sId - t.sId
            }
            )),
            n
        }
        ,
        t.prototype.getTab = function(t) {
            return this.tabMap[t]
        }
        ,
        Object.defineProperty(t.prototype, "serverType", {
            get: function() {
                return this.selectArea.t
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "sId", {
            get: function() {
                return this.selectArea.sId
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "name", {
            get: function() {
                return this.selectArea.name
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "requestPath", {
            get: function() {
                return this.selectArea.api
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "rquestUrl", {
            get: function() {
                return o.URI.join(this.requestPath, "api.php")
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "socketUrl", {
            get: function() {
                return 1 == this.selectArea.portPath ? (console.log("socketUrl:=========="),
                console.log("ws://" + this.selectArea.wsHost + "/" + this.selectArea.wsPort),
                "ws://" + this.selectArea.wsHost + "/" + this.selectArea.wsPort) : (console.log("socketUrl:=========="),
                console.log("ws://" + this.selectArea.wsHost + ":" + this.selectArea.wsPort),
                "ws://" + this.selectArea.wsHost + ":" + this.selectArea.wsPort)
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , d = function() {
        function t(e) {
            this.socketHook = new (function() {
                function e() {
                    this.abort = !1,
                    this.autoConnect = !0,
                    this.reconnectCount = 0,
                    this.closed = !1,
                    this.isConnected = !1
                }
                return e.prototype.setFun = function(t, e, n) {
                    this._resolve = t,
                    this._reject = e,
                    this._serverInfo = n
                }
                ,
                e.prototype.encode = function(e) {
                    return CryptoJS.AES.encrypt(e, CryptoJS.enc.Utf8.parse(t._key), {
                        mode: CryptoJS.mode.ECB,
                        padding: CryptoJS.pad.Pkcs7
                    }).toString()
                }
                ,
                e.prototype.onSend = function(t, e) {
                    if (Object(c.a)()) {
                        Object(s.g)() && console.log("Crypto===>>>" + e.hash);
                        var n = JSON.stringify(e);
                        for (var i in e.crypto = this.encode(n),
                        e)
                            -1 == ["crypto"].indexOf(i) && delete e[i]
                    }
                }
                ,
                e.prototype.onError = function(t) {
                    console.log("--socket-- onError"),
                    this._reject && (this._reject(t),
                    this._reject = null,
                    this._resolve = null)
                }
                ,
                e.prototype.confirm = function() {
                    return Object(o.getPlatform)().confirm({
                        title: Object(o.tr)("common@tip"),
                        text: Object(o.tr)("common@reconnect"),
                        yes: Object(o.tr)("common@retry"),
                        showClose: !1,
                        no: ""
                    })
                }
                ,
                e.prototype.close = function() {
                    console.log("===getSocketClose==="),
                    this.abort = !0,
                    Object(o.getSocket)().close()
                }
                ,
                e.prototype.onMessage = function(t) {
                    if (4 == t.err)
                        return this.abort = !0,
                        console.log("===onMessageClose==="),
                        Object(o.getSocket)().close(),
                        void Object(o.errorHandler)(t);
                    if ("push.dropUser" == t.t) {
                        Object(o.getSocket)().close();
                        var e = {
                            s: 9,
                            msg: t.d
                        };
                        Object(o.errorHandler)(e)
                    }
                    if ("push.pay" == t.t) {
                        t.d.awds.length > 0 && window.RewardPanel && window.RewardPanel.show(t.d.awds, Object(o.tr)("main@payDone"));
                        var n = o.cache.get("email_bind_state");
                        Object(s.c)() && "" == n && window.EmailBindPanel.show(),
                        Object(o.put)("push_pay", t.d)
                    }
                    Object(o.put)("push_socket", t.t, t.d)
                }
                ,
                e.prototype.setAutoConnect = function(t) {
                    var e = this.autoConnect;
                    this.autoConnect = t,
                    0 == e && 1 == t && 1 == this.closed && (console.log("--retry-- reconnect"),
                    this.onClose())
                }
                ,
                e.prototype.startTick = function() {
                    var t = this;
                    this._timeOut && (this._timeOut.dispose(),
                    this._timeOut = null),
                    this._timeOut = Object(o.setTimeout)((function() {
                        console.log("5000ms没连上"),
                        0 != t.isConnected && 1 != t.closed || Object(o.confirm)({
                            title: Object(o.tr)("common@tip"),
                            text: Object(o.tr)("common@reconnect"),
                            yes: Object(o.tr)("common@retry"),
                            showClose: !1,
                            no: ""
                        }).then((function() {
                            Object(o.getPlatComp)("reload").reload()
                        }
                        ))
                    }
                    ), this, 5e3)
                }
                ,
                e.prototype.onClose = function() {
                    return l(this, void 0, void 0, (function() {
                        return p(this, (function(t) {
                            switch (t.label) {
                            case 0:
                                return this.closed = !0,
                                0 == this.isConnected || !this.autoConnect || this.abort ? [2] : (console.log("--socket-- onclose"),
                                this.reconnectCount++,
                                this.reconnectCount % 6 != 0 ? [3, 2] : (this._timeOut && (this._timeOut.dispose(),
                                this._timeOut = null),
                                [4, this.confirm()]));
                            case 1:
                                t.sent(),
                                t.label = 2;
                            case 2:
                                return o.is.android() && !o.is.web() && this.startTick(),
                                [4, o.functions.delay(o.is.android() ? 2e3 : 500)];
                            case 3:
                                return t.sent(),
                                this.socket.reconnect(),
                                [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                ,
                e.prototype.onConnect = function() {
                    return l(this, void 0, void 0, (function() {
                        var e, n, i;
                        return p(this, (function(r) {
                            switch (r.label) {
                            case 0:
                                this.reconnectCount = 0,
                                r.label = 1;
                            case 1:
                                return r.trys.push([1, 3, , 4]),
                                e = "1.1.47",
                                "bearjoy" == Object(o.getPlatform)().name && Object(o.getOption)("fv") && (e = Object(o.getOption)("fv")),
                                [4, this.socket.request({
                                    route: "g.enter",
                                    p: {
                                        sId: this._serverInfo.sId,
                                        hash: o.httputil.getQuery("h"),
                                        ver: e
                                    }
                                })];
                            case 2:
                                return n = r.sent(),
                                console.log("--socket-- connected"),
                                this.abort = !1,
                                this.closed = !1,
                                t.onlineStatus = n.rus,
                                this.isConnected = !0,
                                this._timeOut && (this._timeOut.dispose(),
                                this._timeOut = null),
                                this._resolve && this._resolve(n),
                                Object(o.put)("gameConnect"),
                                [3, 4];
                            case 3:
                                return i = r.sent(),
                                t.inGame ? Object(o.errorHandler)(i) : this._reject && (this.close(),
                                console.log("===close2==="),
                                this._reject(i)),
                                [3, 4];
                            case 4:
                                return this._resolve = this._reject = null,
                                [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                ,
                e
            }()),
            this.isReg = !1,
            t.urlConf = e,
            t.inst = this
        }
        return t.prototype.getParams = function() {
            var t = {
                loginType: Object(o.getPlatform)().loginType
            };
            if (egret.getOption("fv")) {
                var e = egret.getOption("fv");
                t.ver = e,
                o.httputil.setQuery("ver", e)
            }
            if (o.is.xyx()) {
                var n = o.wx.getSystem("platform");
                "ios" == n ? t.zoneId = 2 : "android" == n && (t.zoneId = 1);
                var i = window.wx.getSystemInfoSync();
                t.device = i.platform + "#" + (i.brand || "iphone") + "#" + i.model
            }
            for (var r = ["spid", "shareid", "sharefrom", "shareTime"], a = 0; a < r.length; a++) {
                var s = Object(o.getOption)(r[a]);
                if (s)
                    t[r[a]] = s;
                else if ("spid" == r[a] && o.is.wx()) {
                    var c = o.wx.getReferrerAppId();
                    c && (t[r[a]] = c)
                }
            }
            var u = Object(o.getPlatform)().getConstant("rewriteSpId");
            return u && (t.spid = u),
            console.log(t),
            t
        }
        ,
        t.prototype.getServerUrl = function(e) {
            return o.CommonUtils.getServerUrl(t.urlConf[e])
        }
        ,
        t.prototype.setAutoConnect = function(t) {
            this.socketHook.setAutoConnect(t)
        }
        ,
        t.prototype.initSockets = function() {
            return l(this, void 0, void 0, (function() {
                var t, e = this;
                return p(this, (function(n) {
                    return t = this,
                    [2, new Promise((function(n, i) {
                        var r = Object(o.getSocket)();
                        r.connected ? n(e._lastD) : (r.removeHook("heartbeat"),
                        e.socketHook.setFun((function(t) {
                            e._lastD = t,
                            n(t)
                        }
                        ), i, e.serverInfo),
                        0 == t.isReg && (t.isReg = !0,
                        r.addHook(e.socketHook)),
                        r.connect(e._serverInfo.socketUrl))
                    }
                    ))]
                }
                ))
            }
            ))
        }
        ,
        Object.defineProperty(t.prototype, "loginCenterUrl", {
            get: function() {
                return this._loginCenterUrl
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.getLoginCenterUrl = function() {
            return l(this, void 0, void 0, (function() {
                var t, e, n, i, a, s, c;
                return p(this, (function(u) {
                    switch (u.label) {
                    case 0:
                        return this._loginCenterUrl ? [3, 3] : Object(o.getOption)("gsUrl") ? (this._loginCenterUrl = Object(o.getOption)("gsUrl"),
                        [2, this._loginCenterUrl]) : (t = Object(o.getPlatform)().getConstant("app_version") || "",
                        o.is.android() && (t = ""),
                        [4, o.res.getGameVersion()]);
                    case 1:
                        return e = u.sent(),
                        n = e.version,
                        this._gameVer = n,
                        i = Object(o.getPlatform)().getConstant("spf"),
                        a = {
                            time: n,
                            app_version: t,
                            pf: i || Object(o.getPlatform)().name,
                            gv: Object(o.getPlatform)().version
                        },
                        (s = Object(o.getPlatform)().getConstant("loginListQuery")) && (a = h({}, a, s)),
                        [4, Object(o.request)({
                            url: this.getServerUrl("loginList"),
                            query: a
                        }, {
                            checkStatus: !1
                        })];
                    case 2:
                        (c = u.sent()).hasOwnProperty("shen") && Object(r.c)(c.shen),
                        this._loginCenterUrl = c.loginUrl,
                        u.label = 3;
                    case 3:
                        return [2, this._loginCenterUrl]
                    }
                }
                ))
            }
            ))
        }
        ,
        t.prototype.close = function() {
            console.log("===socketHookClose==="),
            this.socketHook.close()
        }
        ,
        t.prototype.getUrl = function(e) {
            return "/" != t.inst._loginCenterUrl[t.inst._loginCenterUrl.length - 1] && (t.inst._loginCenterUrl += "/"),
            t.inst._loginCenterUrl + e
        }
        ,
        Object.defineProperty(t.prototype, "serverInfo", {
            get: function() {
                return this._serverInfo
            },
            enumerable: !0,
            configurable: !0
        }),
        t.getAl = function() {
            return t.inst.serverInfo.al
        }
        ,
        t.prototype.initServers = function(e) {
            return l(this, void 0, void 0, (function() {
                var n, i, l, d, b;
                return p(this, (function(p) {
                    switch (p.label) {
                    case 0:
                        if ("mengqi" == Object(o.getPlatform)().name && !e.uid)
                            return [2];
                        if (!Object(o.getPlatform)().getConstant("switchAccount") && this._serverInfo)
                            return [2, this._serverInfo];
                        for (l in o.httputil.setQuery("h"),
                        o.httputil.setQuery("ver"),
                        n = Object(o.getPlatform)().getConstant("platformParams") || {},
                        i = o.objects.assign(n, e, this.getParams(), {
                            time: this._gameVer,
                            qTime: this._gameVer
                        }))
                            "string" == typeof i[l] ? i[l] = encodeURIComponent(i[l]) : i[l] = encodeURIComponent(JSON.stringify(i[l]));
                        return "gcathkAndroid1" == Object(o.getPlatformInfo)().name || "gcatenIos" == Object(o.getPlatformInfo)().name || "gcatenAnd" == Object(o.getPlatformInfo)().name || "gcathkIos1" == Object(o.getPlatformInfo)().name || "bearjoy" == Object(o.getPlatformInfo)().name ? ((d = Object(u.d)()) || (d = Object(o.getPlatform)().language) || (d = "en_us"),
                        i = h({
                            language: Object(u.a)(d)
                        }, i)) : "gcathk" == Object(o.getPlatformInfo)().name && (i = h({
                            language: "fan"
                        }, i)),
                        Object(s.g)() && console.log("query===>>>" + JSON.stringify(i)),
                        [4, Object(o.request)({
                            url: this.getUrl("centerLogin.php"),
                            query: i
                        })];
                    case 1:
                        if (b = p.sent(),
                        Object(s.g)() && console.log("centerLoginData===>>>" + JSON.stringify(b)),
                        Object(c.b)(b.ncEpt || 0),
                        b.al[-1])
                            throw "noAl";
                        return b.hasOwnProperty("shen") && Object(r.c)(b.shen),
                        b.hasOwnProperty("share") && o.is.qqxyx() && Object(o.getPlatform)().params.setShareData(b.share),
                        b.hasOwnProperty("reyunId") && Object(a.b)(b.reyunId),
                        b.hasOwnProperty("openId") && (Object(o.getLocalStorage)().setString("accountCreateId", b.openId),
                        console.log("=====accountCreate====="),
                        Object(o.getPlatComp)("phase").phase("accountLogin")),
                        b.hasOwnProperty("isNew") && (console.log("=====isNew=====" + b.isNew),
                        Object(o.getLocalStorage)().setString("isNew", b.isNew)),
                        "" == Object(o.getLocalStorage)().getString("accountCreate", "") && (Object(o.getPlatComp)("phase").phase("accountCreate"),
                        Object(o.getLocalStorage)().setString("accountCreate", "true")),
                        b.hasOwnProperty("isDev") && 1 == b.isDev && o.Debug.enable({
                            h5: "vconsole"
                        }),
                        this._serverInfo = new f,
                        this._serverInfo.init(b),
                        t.scrolls = b.scrolls || [{
                            spaceTime: 1e6,
                            content: ""
                        }],
                        Object(r.b)() && (t.scrolls = [{
                            spaceTime: 1e6,
                            content: ""
                        }]),
                        t.gonggao = b.gonggao || {
                            l: [],
                            ver: 0
                        },
                        o.httputil.setQuery("h", b.h),
                        [2, this._serverInfo]
                    }
                }
                ))
            }
            ))
        }
        ,
        t.inGame = !1,
        t._key = "qjf87KbsvQoh7Pfb",
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return f
    }
    ));
    var i, o = n(1), r = n(146), a = n(117), s = n(174), c = n(114), u = n(107), h = n(116), l = n(155), p = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), f = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.succeed = !1,
            Object(o.setSkin)(e, "PanelBuySkin"),
            e
        }
        return p(e, t),
        e.prototype.onReady = function(t) {
            var e = this;
            this.model = t,
            this.lbl_inventory.text = Object(o.tr)("main@stock", {
                num: t.limit
            }),
            this.lbl_goodsName.text = t.c.name,
            Object(l.c)(this.lbl_goodsName, t.c),
            this.lbl_desc.text = t.c.desc,
            this.lbl_price.text = t.price,
            this.lbl_num.text = "1",
            this.goods.propId = t.c.id,
            this.lbl_goodsLv.text = Object(a.e)(t.c.quality),
            this.img_money.source = Object(a.b)(t.shopPropId),
            this.controller = new s.a(null,null,this.btn_minus,this.btn_plus,t.limit,(function(n) {
                e.lbl_num.text = n + "",
                e.lbl_price.text = n * t.price
            }
            )),
            this.btn_buy.enabled = t.limit > 0 && 0 != t.ct,
            this.tap("btn_buy", this.onBuy, this)
        }
        ,
        e.prototype.onBuy = function() {
            var t = this;
            if (!(this.controller.num < 1)) {
                var e = this.controller.num * this.model.price;
                if (c.e.hasEnough(this.model.shopPropId, e)) {
                    var n = [{
                        propId: this.model.confId,
                        num: this.controller.num
                    }];
                    Object(c.m)(n) || Object(u.d)("s.b", {
                        id: this.model.id,
                        shopType: r.c[this.model.shopType],
                        num: this.controller.num
                    }).then((function(e) {
                        e && (t.succeed = !0,
                        Object(o.put)("refresh_shop_list"),
                        h.a.show(e.awds),
                        o.UI.remove(t))
                    }
                    ))
                } else
                    o.UI.remove(this)
            }
        }
        ,
        e.prototype.onExit = function() {
            this.controller.dispose()
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return r
    }
    )),
    n.d(e, "c", (function() {
        return a
    }
    )),
    n.d(e, "b", (function() {
        return s
    }
    )),
    n.d(e, "d", (function() {
        return c
    }
    ));
    var i = n(1)
      , o = n(113);
    function r() {
        return Object(o.a)("tqInfo.tq2") > 0 ? 3 : 2
    }
    function a(t, e) {
        return t.treeLv > 0 ? Object(i.tr)("tree@upgrade", {
            name: Object(i.tr)(e),
            lv: t.treeLv,
            hood: t.hood
        }) : Object(i.tr)("tree@upgrade2", {
            name: Object(i.tr)(e),
            hood: t.hood
        })
    }
    function s() {
        return Object(i.getCache)("Wood.getInfo").maxNum || 3
    }
    function c(t, e) {
        t.lbl_value_1 && (t.lbl_value_1.textFlow = (new egret.HtmlTextParser).parser(Object(i.tr)("tree@linggenColor", {
            val: e.zhenqi
        }))),
        t.lbl_value_2 && (t.lbl_value_2.textFlow = (new egret.HtmlTextParser).parser(Object(i.tr)("tree@rengxingColor", {
            val: e.gengu
        }))),
        t.lbl_value_3 && (t.lbl_value_3.textFlow = (new egret.HtmlTextParser).parser(Object(i.tr)("tree@jingshenColor", {
            val: e.shenfa
        }))),
        t.lbl_value_4 && (t.lbl_value_4.textFlow = (new egret.HtmlTextParser).parser(Object(i.tr)("tree@yuanqiColor", {
            val: e.tipo
        }))),
        t.lbl_YlName && (t.lbl_YlName.text = Object(i.tr)(Object(i.getConfig)("immortalTree_json")[e.tId].fruitName) + " " + Object(i.tr)("tree@quality_" + e.star)),
        t.lbl_object && (t.lbl_object.textFlow = (new egret.HtmlTextParser).parser(Object(i.tr)("tree@tiaoHeName", {
            name: e.toName
        }))),
        t.lbl_ylName && (t.lbl_ylName.text = Object(i.tr)("tree@toYouLing", {
            name: Object(i.tr)(Object(i.getConfig)("immortalTree_json")[e.toTid].fruitName),
            star: Object(i.tr)("tree@quality_" + e.star)
        }))
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return c
    }
    )),
    n.d(e, "c", (function() {
        return u
    }
    )),
    n.d(e, "a", (function() {
        return h
    }
    )),
    n.d(e, "d", (function() {
        return l
    }
    ));
    var i = n(1)
      , o = n(117)
      , r = n(150)
      , a = n(379)
      , s = n(137);
    function c(t) {
        if (1 == t)
            return Object(i.tr)("sect@dizi1");
        var e = Object(s.d)();
        return "en_us" == e || "vi_vn" == e ? Object(i.tr)("sect@dizi2", {
            num: t
        }) : Object(i.tr)("sect@dizi2", {
            num: Object(o.o)(t)
        })
    }
    function u(t) {
        return (Object(i.singleton)(r.a).info.exploreList || []).some((function(e) {
            return e.ids.indexOf(t) > -1
        }
        ))
    }
    function h(t) {
        return Object(i.singleton)(r.a).diziArr.filter((function(e) {
            return 0 == e.p.soul && 0 == e.p.wage && !u(e.c.id) && (!t || t(e))
        }
        ))
    }
    function l() {
        a.a.show()
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return i
    }
    )),
    n.d(e, "c", (function() {
        return r
    }
    )),
    n.d(e, "a", (function() {
        return b
    }
    ));
    var i, o, r, a, s = n(109), c = n(1), u = n(176), h = n(124), l = function() {
        return (l = Object.assign || function(t) {
            for (var e, n = 1, i = arguments.length; n < i; n++)
                for (var o in e = arguments[n])
                    Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
            return t
        }
        ).apply(this, arguments)
    }, p = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, f = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    };
    !function(t) {
        t[t.juexue = 1] = "juexue",
        t[t.midian = 2] = "midian",
        t[t.dunshu = 3] = "dunshu",
        t[t.tianshu = 4] = "tianshu",
        t[t.xinfa = 5] = "xinfa",
        t[t.tishu = 6] = "tishu",
        t[t.zhenyan = 7] = "zhenyan",
        t[t.zongmen = 8] = "zongmen",
        t[t.chuangong = 9] = "chuangong"
    }(i || (i = {})),
    function(t) {
        t[t.shenfa = 1] = "shenfa",
        t[t.lingli = 2] = "lingli",
        t[t.zhenqi = 3] = "zhenqi",
        t[t.tipo = 4] = "tipo",
        t[t.gengu = 5] = "gengu",
        t[t.wuxing = 6] = "wuxing",
        t[t.jin = 7] = "jin",
        t[t.mu = 8] = "mu",
        t[t.shui = 9] = "shui",
        t[t.huo = 10] = "huo",
        t[t.tu = 11] = "tu"
    }(o || (o = {})),
    function(t) {
        t[t.damageBonus = 0] = "damageBonus",
        t[t.shenfa = 1] = "shenfa",
        t[t.wuxing = 2] = "wuxing",
        t[t.zhenqi = 3] = "zhenqi",
        t[t.tipo = 4] = "tipo",
        t[t.gengu = 5] = "gengu",
        t[t.jiyuan = 6] = "jiyuan"
    }(r || (r = {})),
    function(t) {
        t[t.jin = 1] = "jin",
        t[t.mu = 2] = "mu",
        t[t.shui = 3] = "shui",
        t[t.huo = 4] = "huo",
        t[t.tu = 5] = "tu"
    }(a || (a = {}));
    var d = function() {
        function t(t) {
            this.p = t,
            this.skinType = 0,
            this.skinType = "number" == typeof t ? 0 : 1,
            this.skinType && (this._c = Object(c.getConfig)("skill_json")[this.p.cId])
        }
        return Object.defineProperty(t.prototype, "c", {
            get: function() {
                return this._c
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "name", {
            get: function() {
                return Object(c.tr)(this._c.name)
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "lv", {
            get: function() {
                return this.p.lv
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "attrValue", {
            get: function() {
                return this.p.value + this.attrEffectValue
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "attrToValue", {
            get: function() {
                var t = this.attrValue
                  , e = 1;
                switch (this._c.attrType) {
                case r.zhenqi:
                case r.gengu:
                    e = 5;
                    break;
                case r.tipo:
                    e = 15;
                    break;
                case r.shenfa:
                    e = 3;
                    break;
                case r.wuxing:
                case r.jiyuan:
                    e = .5
                }
                return t * e
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "attrEffectValue", {
            get: function() {
                var t = Object(c.getCache)("Root.getList", "l.root")[this._c.elementsType - 1];
                return Object(c.getConfig)("spiritRoot_json")[this._c.elementsType][t.level - 1].addVal * this._c.star
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "canUp", {
            get: function() {
                return !this.isFull && Object(c.getCache)("User.getInfo", "i").lExp >= Object(c.getConfig)("skillLevel_json")[this.lv].exp
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "exp", {
            get: function() {
                return this.isFull ? 0 : Object(c.getConfig)("skillLevel_json")[this.lv].exp
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "canForgotten", {
            get: function() {
                return this._c.type == i.zongmen
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "useing", {
            get: function() {
                return this.p.dress || !1
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "isFull", {
            get: function() {
                return this.p.lv >= 10
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , b = function() {
        function t() {
            this.attrKeyMap = {
                shenfa: "shanbi",
                wuxing: "xiulian",
                zhenqi: "gongji",
                tipo: "shengming",
                gengu: "fangyu",
                jiyuan: "linglihuoqu"
            }
        }
        return t.prototype.checkRes = function() {
            return p(this, void 0, void 0, (function() {
                return f(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Promise.all([Object(s.a)("skill_json"), Object(s.a)("skillLevel_json"), this.getData()])];
                    case 1:
                        return [2, t.sent()]
                    }
                }
                ))
            }
            ))
        }
        ,
        t.prototype.getData = function() {
            return p(this, void 0, void 0, (function() {
                return f(this, (function(t) {
                    return this.gcData(),
                    [2, null]
                }
                ))
            }
            ))
        }
        ,
        t.prototype.gcData = function() {
            this._data = [];
            for (var t = Object(c.getCache)("Skill.getList", "l"), e = 0; e < t.length; e++)
                this._data.push(new d(t[e]))
        }
        ,
        Object.defineProperty(t.prototype, "data", {
            get: function() {
                return this._data
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.getProperty = function(t) {
            for (var e = {}, n = 0; n < this._data.length; n++) {
                var i = this._data[n];
                if (!t.attrType && !t.type || t.attrType == i.c.attrType || t.type == i.c.type) {
                    var o = u.a[i.c.attrType];
                    e[o] || (e[o] = 0),
                    e[o] += i.attrValue
                }
            }
            if ("dynamic" == t.prop || "all" == t.prop) {
                var r = {};
                for (var a in e) {
                    var s = Object(u.f)(a).deps;
                    r[s[0].tr] = s[0].cal(e[a])
                }
                if ("dynamic" == t.prop)
                    return r;
                e = l({}, e, r)
            }
            return e
        }
        ,
        t.prototype.getAttrTotalByType = function(t) {
            var e, n, i;
            void 0 === t && (t = 0),
            e = {};
            for (var o = 0; o < this._data.length; o++)
                i = this._data[o],
                (!t || t && t == i.c.type) && (e[n = this.attrKeyMap[u.a[i.c.attrType]]] || (e[n] = 0),
                e[n] += i.attrToValue);
            for (var r in e)
                e[r] = (e[r] || 0) >> 0;
            return e
        }
        ,
        t.prototype.getAttrTotal = function(t, e, n) {
            void 0 === e && (e = !1),
            void 0 === n && (n = 0);
            for (var i = 1, o = 0, a = 0; a < this._data.length; a++)
                this._data[a].c.elementsType,
                this._data[a].c.type != n && this._data[a].c.attrType == t && (o += this._data[a].attrValue);
            if (e)
                switch (t) {
                case r.zhenqi:
                case r.gengu:
                    i = 5;
                    break;
                case r.tipo:
                    i = 15;
                    break;
                case r.shenfa:
                    i = 3;
                    break;
                case r.wuxing:
                case r.jiyuan:
                    i = .5
                }
            return o *= i
        }
        ,
        t.prototype.getSkillGroupByStar = function(t, e) {
            void 0 === e && (e = !0);
            var n = 0
              , i = [];
            this._data.sort((function(t, e) {
                return e.c.star == t.c.star ? t.c.id - e.c.id : e.c.star - t.c.star
            }
            ));
            for (var o = 0; o < this._data.length; o++)
                this._data[o].c.type == t && (e && this._data[o].c.star != n && (n = this._data[o].c.star,
                i.push(new d(n))),
                i.push(this._data[o]));
            return i
        }
        ,
        t.prototype.getKungFu = function(t, e) {
            void 0 === e && (e = 0);
            var n = []
              , i = Object(c.getConfig)("skill_json");
            for (var o in i) {
                var r = i[o];
                if (r.type == t)
                    if (e) {
                        if (e == r.id)
                            return r
                    } else
                        n.push(r)
            }
            return n
        }
        ,
        t.prototype.getSkillUpExp = function(t) {
            var e = Object(c.getConfig)("skillLevel_json");
            return e[t] ? e[t].exp : 0
        }
        ,
        t.prototype.getJuexueList = function() {
            for (var t = [], e = Object(c.getCache)("SkillJx.getList", "l"), n = 0; n < e.length; n++)
                t.push(new d(e[n]));
            return t
        }
        ,
        t
    }();
    Object(h.a)("KungFuData", b)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return b
    }
    ));
    var i, o = n(1), r = n(106), a = n(107), s = n(114), c = n(140), u = n(299), h = n(164), l = n(110), p = n(109), f = n(119), d = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), b = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelMainBuffSkin"),
            e
        }
        return d(e, t),
        e.prototype.onReady = function(t) {
            this._playerInfo = t,
            this.tap("btn_help", (function() {
                f.a.show({
                    title: Object(o.tr)("main@cFaceHt"),
                    content: Object(o.tr)("main@cFaceCon")
                })
            }
            ), this),
            this.img_divide.visible = this.gp_buff.visible = this.gp_buff.includeInLayout = !1,
            this.lbl_debuff.text = Object(o.tr)("main@debuffTip"),
            this.lbl_countdown_2.visible = !1,
            Object(c.a)(this.img_head, t.skin),
            this.des.text = Object(o.tr)("main@clearDebuffDesc");
            var e = Object(o.getConfig)("faceChange_json");
            for (var n in this._facialInfo = null,
            e)
                e[n].id == this._playerInfo.skin[h.b.cfacial] % 1e3 && (this._facialInfo = e[n]);
            this.cost.text = Object(o.tr)("main@clearDebuffCost", {
                num: this._facialInfo.cost4
            }),
            this.tap("btn_cancel", this.onRemoveDebuff, this),
            this.tap("btn_change", this.onChange, this)
        }
        ,
        e.prototype.onRemoveDebuff = function() {
            var t = this
              , n = this
              , i = this._facialInfo.cost4;
            Object(o.confirm)(Object(o.tr)("main@debuffConfirm", {
                n: i
            })).then((function(r) {
                if ("yes" == r) {
                    if (!s.e.hasEnough(s.f.lingyu, i))
                        return;
                    Object(a.d)("wj.f", {
                        id: t._playerInfo.uId
                    }).then((function(t) {
                        t && t.cst ? Object(o.tooltip)(Object(o.tr)("main@clearDebuffSuc", {
                            name: n._playerInfo.name
                        })) : t && !t.cst && Object(o.tooltip)(Object(o.tr)("main@debuffEnd")),
                        o.UI.remove(e)
                    }
                    ))
                }
            }
            ))
        }
        ,
        e.prototype.onChange = function() {
            var t = this
              , e = this._playerInfo.skin[h.b.cfacial] % 1e3;
            u.a.show({
                type: 2,
                toUid: this._playerInfo.uId,
                sex: this._playerInfo.skin[h.b.gender],
                oldId: e,
                toName: this._playerInfo.name
            }).then((function(e) {
                o.UI.remove(t)
            }
            ))
        }
        ,
        e.show = function(t) {
            Object(l.b)([Object(p.a)("faceChange_json")]).then((function() {
                Object(r.a)(new e, t)
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return l
    }
    ));
    var i, o = n(1), r = n(106), a = n(107), s = n(108), c = n(117), u = n(131), h = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), l = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "ChatBlacklistSkin"),
            e
        }
        return h(e, t),
        e.prototype.onReady = function() {
            this.list.itemRenderer = p,
            this.updateView(),
            this.tap("btn_allclear", this.onClearAll, this),
            this.on("update_black", this.updateView, this)
        }
        ,
        e.prototype.updateView = function() {
            var t = Object(o.getCache)("Chat.getInfo", "black", []);
            this.lbl_num.text = t.length + "/" + Object(o.getCache)("Chat.getInfo", "blackMax"),
            Object(s.a)(this.list, t)
        }
        ,
        e.prototype.onClearAll = function() {
            var t = this;
            Object(o.getCache)("Chat.getInfo", "black", []).length > 0 && Object(a.d)("ch.n", {
                type: 1
            }).then((function(e) {
                e && (t.updateView(),
                Object(o.put)("update_black", !0),
                Object(o.tooltip)(Object(o.tr)("main@clearAllSuc")))
            }
            ))
        }
        ,
        e.show = function() {
            Object(r.a)(new e)
        }
        ,
        e
    }(o.UIComponent), p = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return h(e, t),
        e.prototype.onReady = function() {
            this.tap("btn_clear", this.onClear, this)
        }
        ,
        e.prototype.onClear = function() {
            Object(a.d)("ch.n", {
                uId: this.data.uId
            }).then((function(t) {
                t && (Object(o.put)("update_black", !0),
                Object(o.tooltip)(Object(o.tr)("main@clearSuc")))
            }
            ))
        }
        ,
        e.prototype.onDataUpdate = function(t) {
            t && (this.lbl_name.text = t.name,
            this.lbl_lv.text = Object(c.h)(t.lv),
            Object(u.f)(t.skin, this.head, {
                cloth: u.a.neck,
                eye: u.b.open
            }))
        }
        ,
        e
    }(o.Item)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return m
    }
    ));
    var i = n(1)
      , o = n(109)
      , r = n(125)
      , a = n(111)
      , s = n(112)
      , c = n(107)
      , u = n(127)
      , h = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , l = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , p = function() {
        function t(t) {
            this.c = t,
            this.updateWeal(),
            Object(i.on)("refresh_funOpen", this.updateWeal, this)
        }
        return t.prototype.updateWeal = function(t) {
            if (!t || "sfGift1" == t) {
                var e = !1
                  , n = Object(s.d)("sfGift1")
                  , i = n ? n.l : null
                  , o = a.a.getNow();
                if (i && i.length)
                    for (var r = 0; r < i.length; r++)
                        if (i[r].rechargeId == this.c.rechargeId && i[r].time > o) {
                            this._endTime = i[r].time,
                            this._weal = !0,
                            e = !0;
                            break
                        }
                e || (this._endTime = 0,
                this._weal = !1)
            }
        }
        ,
        Object.defineProperty(t.prototype, "endTime", {
            get: function() {
                return this._endTime
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "weal", {
            get: function() {
                return !!(this._weal && this._endTime > a.a.getNow())
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , f = function() {
        function t(t) {
            this.c = t,
            this.updateWeal(),
            Object(i.on)("refresh_funOpen", this.updateWeal, this)
        }
        return t.prototype.updateWeal = function(t) {
            if (!t || "sfGift2" == t) {
                var e = !1
                  , n = Object(s.d)("sfGift2")
                  , i = n ? n.l : null
                  , o = a.a.getNow();
                if (i && i.length)
                    for (var r = 0; r < i.length; r++)
                        if (i[r].rechargeId == this.c.rechargeId && i[r].time > o) {
                            this._endTime = i[r].time,
                            this._weal = !0,
                            e = !0;
                            break
                        }
                e || (this._endTime = 0,
                this._weal = !1)
            }
        }
        ,
        Object.defineProperty(t.prototype, "endTime", {
            get: function() {
                return this._endTime
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "weal", {
            get: function() {
                return !!(this._weal && this._endTime > a.a.getNow())
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , d = function() {
        function t(t, e) {
            this.super_p = t,
            this.taskName = e;
            try {
                this.super_c = Object(i.getConfig)("sfAmuletTask_json")[e][0].list[0]
            } catch (t) {
                this.super_c = {}
            }
        }
        return Object.defineProperty(t.prototype, "c", {
            get: function() {
                var t = this.super_c.detail
                  , e = this.super_p[this.taskName]
                  , n = 0;
                if (this._c = null,
                e && t)
                    for (var i = 0; i < e.length; i++)
                        if (!e[i].awded) {
                            n = e[i].id,
                            this._p = e[i],
                            this._c = t.find((function(t) {
                                return t.id == n
                            }
                            ));
                            break
                        }
                return this._c || (this._p = e[e.length - 1],
                n = this._p.id,
                this._c = t.find((function(t) {
                    return t.id == n
                }
                ))),
                this._c
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "p", {
            get: function() {
                return this._c || this.c,
                this._p
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "num", {
            get: function() {
                return this.super_p[this.taskName + "_num"]
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "canReceive", {
            get: function() {
                return this.p && !this.p.awded && this.num >= this.c.num
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "receiveStatus", {
            get: function() {
                return this.canReceive ? 1 : this.p.awded ? 3 : 2
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , b = function() {
        function t(t, e, n) {
            this.p = t,
            this.lv = e,
            this.super_p = n,
            this.c = Object(i.getConfig)("sfAmulet_json")[t.id]
        }
        return Object.defineProperty(t.prototype, "lock1", {
            get: function() {
                return this.c.id > this.lv
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "lock2", {
            get: function() {
                return !this.super_p.buy || this.lock1
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "awded1", {
            get: function() {
                return this.p.awded > 0
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "awded2", {
            get: function() {
                return 2 == this.p.awded
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "canReceive", {
            get: function() {
                return 0 == this.p.awded && (!this.lock1 || !this.lock2) || this.super_p.buy && 1 == this.p.awded
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , g = function() {
        function t(t) {
            this.c = t
        }
        return Object.defineProperty(t.prototype, "icon", {
            get: function() {
                return ""
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "costs", {
            get: function() {
                return this._costs || (this._costs = this.c.cost.map((function(t) {
                    return {
                        itemId: t.itemId,
                        need: t.num
                    }
                }
                ))),
                this._costs
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , _ = function() {
        function t(t, e) {
            this.c = t,
            this.rankName = e,
            this._honor = void 0
        }
        return Object.defineProperty(t.prototype, "rankLabel", {
            get: function() {
                return this._rankLabel || (this.c.param1 == this.c.param2 ? this._rankLabel = Object(i.tr)("main@rankTop", {
                    n: this.c.param1
                }) : this._rankLabel = Object(i.tr)("main@otherRank", {
                    n1: this.c.param1,
                    n2: this.c.param2
                })),
                this._rankLabel
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "honor", {
            get: function() {
                if (1 == this.c.param1 && null == this._honor) {
                    var t = Object(i.getConfig)("fashion_json");
                    for (var e in t)
                        if (t[e].condition == this.rankName && t[e].value == this.c.param1) {
                            this._honor = t[e];
                            break
                        }
                    this._honor || (this._honor = null)
                }
                return this._honor
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , m = function() {
        function t() {
            this.rankData = {}
        }
        return Object.defineProperty(t, "ins", {
            get: function() {
                return Object(i.singleton)(t)
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.checkRes = function() {
            return h(this, void 0, void 0, (function() {
                return l(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Promise.all([Object(o.a)("festivalActivity_sf_json")].concat(Object(r.a)("mid_1&mid_2")))];
                    case 1:
                        return [2, t.sent()]
                    }
                }
                ))
            }
            ))
        }
        ,
        t.prototype.getComposeList = function() {
            var t = Object(s.f)("sfDumpling", 1, "festivalActivity_sf_json");
            if (t) {
                this._composeList = [];
                for (var e = 0; e < t.detail.length; e++)
                    1 != t.detail[e].type && this._composeList.push(new g(t.detail[e]))
            }
            return this._composeList
        }
        ,
        t.prototype.getAwards = function(t) {
            if (this._awards || (this._awards = {}),
            !this._awards[t]) {
                this._awards[t] = [];
                var e = Object(s.f)(t, 1, "festivalActivity_sf_json");
                if (e)
                    for (var n = 0; n < e.detail.length; n++)
                        this._awards[t].push(new _(e.detail[n],t))
            }
            return this._awards[t]
        }
        ,
        t.prototype.getAmuletReward = function() {
            for (var t = [], e = Object(s.d)("sfAmulet"), n = e.l, i = this.getAmuletLvExp(e.exp).lv, o = 0; o < n.length; o++)
                t.push(new b(n[o],i,e));
            return t.sort((function(t, e) {
                return t.p.awded == e.p.awded || 2 != t.p.awded && 2 != e.p.awded ? t.p.id - e.p.id : t.p.awded - e.p.awded
            }
            )),
            t
        }
        ,
        t.prototype.getAmuletTaskList = function() {
            var t = []
              , e = Object(s.d)("sfAmuletTask")
              , n = Object(i.getConfig)("sfAmuletTask_json");
            for (var o in n)
                e[o] && t.push(new d(e,o));
            return t.sort((function(t, e) {
                return t.receiveStatus - e.receiveStatus
            }
            )),
            t
        }
        ,
        t.prototype.getAmuletUpMaxExp = function(t) {
            for (var e = 0, n = this.amuletConf, i = Object(s.d)("sfAmulet").exp || 0, o = 0; o < n.length; o++)
                n[o].expTotal > i && (e += i > n[o].expTotal - n[o].exp ? n[o].expTotal - i : n[o].exp);
            var r = e % t;
            return r > 0 && (e = e - r + t),
            e / t
        }
        ,
        t.prototype.getAmuletUpInfo = function(t, e, n) {
            for (var i = t + e, o = {
                lv: 1,
                exp: 0,
                maxExp: 0,
                awards: []
            }, r = this.amuletConf, a = !0, s = 0; s < r.length; s++)
                if (t + r[s].exp < r[s].expTotal && i >= r[s].expTotal - r[s].exp && (o.awards = o.awards.concat(r[s].awards1),
                1 == n && (o.awards = o.awards.concat(r[s].awards2))),
                i < r[s].expTotal) {
                    a = !1,
                    o.lv = r[s].lv,
                    o.exp = i - (r[s].expTotal - r[s].exp),
                    o.maxExp = r[s].exp;
                    break
                }
            if (a) {
                var c = r[r.length - 1];
                o.lv = c.lv,
                o.exp = c.exp,
                o.maxExp = c.exp
            }
            return o
        }
        ,
        t.prototype.getAmuletLvExp = function(t) {
            for (var e = this.amuletConf, n = 0; n < e.length; n++)
                if (t < e[n].expTotal)
                    return e[n];
            return e[e.length - 1]
        }
        ,
        Object.defineProperty(t.prototype, "amuletConf", {
            get: function() {
                if (!this._amuletConf) {
                    this._amuletConf = [];
                    var t = 0
                      , e = Object(i.getConfig)("sfAmulet_json")
                      , n = [];
                    for (var o in e)
                        n.push(e[o]);
                    n.sort((function(t, e) {
                        return t.id - e.id
                    }
                    ));
                    for (var r = 0; r < n.length; r++)
                        t += n[r].exp,
                        this._amuletConf.push({
                            lv: n[r].id,
                            exp: n[r].exp,
                            expTotal: t,
                            awards1: n[r].awards1,
                            awards2: n[r].awards2
                        })
                }
                return this._amuletConf
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.getRankData = function(t) {
            var e = this;
            return this.rankData[t] && !a.a.isOver(this.rankData[t].ext) ? Promise.resolve(this.rankData[t]) : Object(c.d)("r.a", {
                type: t
            }).then((function(n) {
                if (n)
                    return e.rankData[t] = n,
                    n
            }
            ))
        }
        ,
        t.prototype.getLotteryGifts = function() {
            if (!this._lotteryGifts) {
                var t = Object(s.d)("sfGift1")
                  , e = t && t.hasOwnProperty("cId") ? t.cId : 1;
                this._lotteryGifts = Object(u.e)("sfGift1", e, "festivalActivity_sf_json").detail.map((function(t) {
                    return new p(t)
                }
                ))
            }
            return this._lotteryGifts
        }
        ,
        t.prototype.getDumplGifts = function() {
            if (!this._dumplGifts) {
                var t = Object(s.d)("sfGift2")
                  , e = t && t.hasOwnProperty("cId") ? t.cId : 1;
                this._dumplGifts = Object(u.e)("sfGift2", e, "festivalActivity_sf_json").detail.map((function(t) {
                    return new f(t)
                }
                ))
            }
            return this._dumplGifts
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return r
    }
    ));
    var i = n(177)
      , o = n(343);
    function r(t) {
        var e = Object(o.a)()
          , n = Object(i.a)();
        t && n.top > 0 && (t.top = -(n.top + e),
        t.bottom = -n.bottom)
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return o
    }
    ));
    var i = n(1);
    function o(t) {
        return !!function(t) {
            return Object(i.getCache)("Skill.getList").l.some((function(e) {
                return e.cId == t
            }
            ))
        }(t)
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return o
    }
    ));
    var i = n(1);
    function o(t, e) {
        var n = t.c;
        e.lbl_fly && (n.fly ? e.lbl_fly.textFlow = (new egret.HtmlTextParser).parser(Object(i.tr)("main@prop_isFly", {
            desc: Object(i.tr)("main@prop_fly")
        })) : e.lbl_fly.includeInLayout = e.lbl_fly.visible = !1),
        e.lbl_lv && (n.level1 ? e.lbl_lv.textFlow = (new egret.HtmlTextParser).parser(Object(i.tr)("main@prop_lv", {
            desc: Object(i.tr)(Object(i.getConfig)("level_json")[n.level1].name)
        })) : e.lbl_lv.includeInLayout = e.lbl_lv.visible = !1),
        e.lbl_get && (n.getWayDesc && "" != n.getWayDesc ? e.lbl_get.textFlow = (new egret.HtmlTextParser).parser(Object(i.tr)("main@prop_get", {
            desc: Object(i.tr)(n.getWayDesc)
        })) : e.lbl_get.includeInLayout = e.lbl_get.visible = !1)
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "e", (function() {
        return r
    }
    )),
    n.d(e, "g", (function() {
        return a
    }
    )),
    n.d(e, "f", (function() {
        return s
    }
    )),
    n.d(e, "b", (function() {
        return h
    }
    )),
    n.d(e, "c", (function() {
        return c
    }
    )),
    n.d(e, "a", (function() {
        return u
    }
    )),
    n.d(e, "d", (function() {
        return l
    }
    ));
    var i = n(1)
      , o = n(107);
    function r(t) {
        var e = Object(i.getConfig)("building_json");
        for (var n in e)
            if (e[n].id == t)
                return e[n];
        return null
    }
    function a(t) {
        for (var e = i.cache.get("Heaven.getBuildingInfo").l, n = 0; n < e.length; n++)
            if (e[n].id == t)
                return e[n];
        return null
    }
    function s() {
        return i.cache.get("Heaven.getBuildingInfo").endTime
    }
    var c, u, h = function() {
        function t(t) {
            this.p = t,
            this.c = r(t.id)
        }
        return t.getList = function() {
            for (var e = i.cache.get("Heaven.getBuildingInfo"), n = e ? e.l : [], o = [], r = [], a = [], s = [], u = 0; u < n.length; u++) {
                var h = new t(n[u]);
                h.getAwardState() == c.Complete ? o.push(h) : h.getAwardState() == c.Build ? r.push(h) : h.getAwardState() == c.Awarded ? a.push(h) : s.push(h)
            }
            return o.concat(r, a, s)
        }
        ,
        t.prototype.getAwardState = function() {
            return this.p.isAwd ? c.Awarded : this.p.progress >= this.c.value ? this.p.isJoin ? c.Complete : c.NoJoin : c.Build
        }
        ,
        t
    }();
    function l(t) {
        return Object(o.d)("he.l", {
            id: t
        }).then((function(t) {
            if (t)
                return t
        }
        ))
    }
    !function(t) {
        t[t.Build = 1] = "Build",
        t[t.Complete = 2] = "Complete",
        t[t.Awarded = 3] = "Awarded",
        t[t.NoJoin = 4] = "NoJoin"
    }(c || (c = {})),
    function(t) {
        t.Normal = "mormal",
        t.Buy = "buy",
        t.Disable = "disable"
    }(u || (u = {}))
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return a
    }
    ));
    var i, o = n(1), r = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), a = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            return n.model = e,
            n.num = null,
            n.numstr = "",
            Object(o.setSkin)(n, "BagInputSkin"),
            n
        }
        return r(e, t),
        e.prototype.onReady = function() {
            this.input_num.text = this.numstr + "";
            for (var t = 0; t <= 9; t++)
                this.tap("btn" + t, this.onTapNum(t), this);
            this.tap("btn_clean", this.onClean, this),
            this.tap("btn_ok", this.onOk, this)
        }
        ,
        e.prototype.onOk = function() {
            var t = parseInt(this.numstr);
            isNaN(t) ? t = null : t > this.model.num && (t = this.model.num),
            0 == t ? Object(o.tooltip)(Object(o.tr)("main@inputValidNum")) : this.num = t,
            o.UI.remove(this)
        }
        ,
        e.prototype.onClean = function() {
            this.numstr = "",
            this.input_num.text = ""
        }
        ,
        e.prototype.onTapNum = function(t) {
            var e = this;
            return function() {
                e.numstr += t,
                e.input_num.text = e.numstr
            }
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return a
    }
    ));
    var i = n(1)
      , o = ""
      , r = !1;
    function a(t) {
        o != t && (o = t,
        i.is.xyx() || i.is.android() ? i.audio.playMusic(o) : RES.getResAsync(t, (function() {
            var e;
            o == (e = t) && (r ? i.audio.playMusic(e) : (i.audio.isOn("music") && i.audio.on("music"),
            i.display.stage.once(egret.TouchEvent.TOUCH_TAP, (function() {
                console.log("stage touch audio"),
                o == e && (r = !0,
                i.audio.playMusic(e))
            }
            ), void 0)))
        }
        ), this))
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return a
    }
    ));
    var i = n(1)
      , o = n(110)
      , r = n(109)
      , a = function() {
        function t() {}
        return t.show = function(t, e) {
            void 0 === e && (e = 200),
            Object(o.b)(Object(r.a)("icon_xiandu_cloud_left_png")).then((function() {
                var n = new eui.Image;
                n.x = -1e3,
                n.source = "icon_xiandu_cloud_left_png",
                i.display.stage.addChild(n);
                var o = new eui.Image;
                o.scaleX = -1,
                o.x = 1e3 + i.display.stage.stageWidth,
                o.source = "icon_xiandu_cloud_left_png",
                i.display.stage.addChild(o),
                egret.Tween.get(n).to({
                    x: 0
                }, 500).wait(e).to({
                    x: -1e3
                }, 500).call((function() {
                    i.display.removeFromParent(n)
                }
                )),
                egret.Tween.get(o).to({
                    x: i.display.stage.stageWidth
                }, 500).wait(100).call(t).wait(e - 100).to({
                    x: 1e3 + i.display.stage.stageWidth
                }, 500).call((function() {
                    i.display.removeFromParent(o)
                }
                ))
            }
            ))
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return s
    }
    ));
    var i, o = n(1), r = n(117), a = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return a(e, t),
        e.getList = function() {
            return o.DataCenter.getList(e)
        }
        ,
        Object.defineProperty(e.prototype, "desc", {
            get: function() {
                var t = "battle@cp" + this.p.mId;
                return Object(o.tr)("main@cangbao", {
                    map: Object(o.tr)(t),
                    x: this.p.x,
                    y: this.p.y
                })
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "icon", {
            get: function() {
                return Object(r.b)(this.c.id)
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "quality", {
            get: function() {
                return this.c.quality
            },
            enumerable: !0,
            configurable: !0
        }),
        e.getObjects = function(t, e) {
            return void 0 === e && (e = null),
            Object(o.getCache)("TreasureMap.getList").l.filter((function(n) {
                var i = n.cId == t;
                return null != e && n.dress ? i && n.dress == e : i
            }
            ))
        }
        ,
        Object.defineProperty(e.prototype, "num", {
            get: function() {
                return 1
            },
            enumerable: !0,
            configurable: !0
        }),
        e.info = new o.ModelInfo("TreasureMap.getList","aId","cId",[],"l",(function(t) {
            return Object(o.getConfig)("item_json")[t]
        }
        ),null,!0),
        e
    }(o.BaseModel);
    o.DataCenter.injectionModel(s)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return c
    }
    ));
    var i = n(109)
      , o = n(1)
      , r = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , a = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , s = {};
    function c(t) {
        return void 0 === t && (t = "name"),
        r(this, void 0, void 0, (function() {
            var e, n, r, c, u, h;
            return a(this, (function(a) {
                switch (a.label) {
                case 0:
                    return [4, Object(i.a)(t + "_json")];
                case 1:
                    if (a.sent(),
                    !s[t])
                        for (r in e = {
                            name1: [],
                            name2: []
                        },
                        s[t] = e,
                        n = Object(o.getConfig)(t + "_json"))
                            2 == (c = n[r]).length ? (e.name1.push(c[0]),
                            e.name2.push(c[1])) : e.name2.push(c[0]);
                    return u = s[t],
                    h = "",
                    u.name1.length > 0 && (h = u.name1[o.numbers.getRandomInt(0, u.name1.length - 1)]),
                    [2, h + u.name2[o.numbers.getRandomInt(0, u.name2.length - 1)]]
                }
            }
            ))
        }
        ))
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return u
    }
    ));
    var i, o = n(1), r = n(121), a = n(108), s = n(119), c = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), u = function(t) {
        function e(e, n, i, r) {
            var a = t.call(this) || this;
            return a.listFn = e,
            a.tabArr = n,
            a.txtDic = i,
            Object(o.setSkin)(a, r),
            a
        }
        return c(e, t),
        e.prototype.onReady = function() {
            var t = this;
            this.tab.itemRenderer = r.b,
            this.txtDic.title && (this.lbl_title.text = this.txtDic.title),
            this.disposeArr.push(new r.a({
                tab: this.tab,
                array: this.tabArr,
                onSelect: function(e) {
                    return t.onTab(e),
                    !0
                }
            })),
            this.tap(this.btn_gailv, this.onGai, this)
        }
        ,
        e.prototype.onGai = function() {
            s.a.show({
                title: this.txtDic.rateT,
                content: "string" == typeof this.txtDic.rateC ? this.txtDic.rateC : this.txtDic.rateC[this._model.super_c.turn]
            })
        }
        ,
        e.prototype.onTab = function(t) {
            this._model = this.listFn(t),
            this.list1.itemRenderer = h,
            Object(a.a)(this.list1, this._model.awd1),
            this.list2.itemRenderer = h,
            Object(a.a)(this.list2, this._model.awd2)
        }
        ,
        e.show = function(t, n, i, r) {
            void 0 === r && (r = "PanelCommLotPrevSkin"),
            o.UI.openBox(new e(t,n,i,r))
        }
        ,
        e
    }(o.UIComponent), h = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return c(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.img_item.propId = t.c.itemId,
            this.img_item.num = t.c.num,
            t.c.totalLimit ? this.lbl_remain.text = Object(o.tr)("mid@numVal1", {
                has: t.p.limit - t.p.num,
                total: t.p.limit
            }) : this.lbl_remain.text = Object(o.tr)("mid@numVal2"))
        }
        ,
        e
    }(o.Item)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return c
    }
    ));
    var i, o = n(1), r = n(126), a = n(108), s = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), c = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelCommonFesBossFightOverSkin"),
            e
        }
        return s(e, t),
        e.prototype.onReady = function(t, e) {
            this.list.itemRenderer = r.a,
            t.isWin ? (this.setState("win"),
            this.lbl_desc.text = e.win) : (this.setState("fail"),
            this.lbl_desc.text = e.fail),
            t.awds && Object(a.a)(this.list, t.awds),
            t.score ? (this.lbl_result.text = e.result,
            this.lbl_point.text = t.score) : this.lbl_result.visible = this.lbl_point.visible = !1
        }
        ,
        e.show = function(t, n) {
            return o.UI.openBox(new e, t, n)
        }
        ,
        e
    }(o.UIComponent)
}
, , , , , , function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return r
    }
    ));
    var i = n(113)
      , o = n(111);
    function r(t) {
        void 0 === t && (t = 0);
        var e = Object(i.a)("xianbuff");
        if (e && Array.isArray(e)) {
            var n = e.filter((function(e) {
                if (t && e.id == t || 0 == t) {
                    var n = !Object(i.a)("fly")
                      , r = !o.a.isOver(e.time);
                    r && 2 == e.id && e.hasOwnProperty("ctype") && 0 == e.ctype && e.hasOwnProperty("detime") && (r = o.a.isOver(e.detime));
                    var a = !1;
                    if (2 == e.id && e.hasOwnProperty("lv") && Number(e.lv) > 0)
                        a = Object(i.a)("lv") < Number(e.lv);
                    return (n || a) && r
                }
                return !1
            }
            ));
            return n.length > 0 ? t > 0 ? n[0] : n : null
        }
        return null
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return _
    }
    )),
    n.d(e, "a", (function() {
        return m
    }
    ));
    var i, o = n(172), r = n(1), a = n(252), s = n(108), c = n(112), u = n(111), h = n(120), l = n(119), p = n(110), f = n(106), d = n(115), b = n(189), g = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    );
    function _(t) {
        t
    }
    var m = function(t) {
        function e(e, n) {
            var i = t.call(this) || this;
            return i.rankType = e,
            i.proxyData = n,
            i._actName = "",
            i._confName = "",
            Object(r.setSkin)(i, "PanelCommonRankSkin3"),
            i
        }
        return g(e, t),
        e.prototype.onReady = function() {
            for (var t = this, e = [], n = 0; n < arguments.length; n++)
                e[n] = arguments[n];
            this._actName = this.rankType,
            this._confName = Object(o.c)(this.rankType),
            this.list.itemRenderer = a.a;
            var i = Object(r.getConfig)(this._confName)[this.rankType];
            i.type == o.b.cross || i.type == o.b.cross100 || i.type == o.b.cross50 || i.type == o.b.cross200 || "heroPkRank2" == this.rankType || "heroPkRank1" == this.rankType ? this.currentState = "kuafu" : this.currentState = "benfu";
            var l = this.proxyData.l
              , p = ["openLevelRank"].includes(this.rankType);
            if (p)
                for (var f in l) {
                    var d = l[f].score < 1 ? 1 : l[f].score;
                    l[f].score = Object(r.tr)(Object(r.getConfig)("level_json")[d].name)
                }
            if ("smWordRank" == this.rankType) {
                for (var f in l) {
                    if (r.types.isNumber(l[f].score))
                        if (0 == (v = l[f].score))
                            l[f].score = Object(r.tr)("main@rankNo");
                        else {
                            var g = Math.floor(v / 100)
                              , _ = Math.floor(g / 6 + 1)
                              , m = Math.floor(g % 6 + 1)
                              , y = v % 100;
                            l[f].score = _ + "-" + m + "-" + y
                        }
                }
                var v;
                if (r.types.isNumber(this.proxyData.self.score))
                    if (0 == (v = this.proxyData.self.score))
                        this.proxyData.self.score = Object(r.tr)("main@rankNo");
                    else {
                        g = Math.floor(v / 100),
                        _ = Math.floor(g / 6 + 1),
                        m = Math.floor(g % 6 + 1),
                        y = v % 100;
                        this.proxyData.self.score = _ + "-" + m + "-" + y
                    }
            }
            var O = this.rankType.toLowerCase().indexOf("debaterank") > -1;
            O && this.on("head_tap", this.showUIdInfo, this),
            Object(s.a)(this.list, l),
            Object(b.a)(this.self, this.proxyData.self, null, p);
            var j = ["attrRank", "crossAttrRank", "crossAttrRank2", "heroQuaRank", "crossHeroQuaRank", "crossHeroQuaRank2"].indexOf(this.rankType) > -1
              , w = Object(c.d)(this.rankType);
            this.btn_lssx.visible = j && w && w.max,
            this.tap(this.btn_lssx, this.onHistoryMax, this),
            this.RankName.text = i.name,
            this.rankingName.text = i.desc2,
            !w || u.a.isOver(w.end) ? this.gp_countdown.visible = !1 : this.disposeArr.push(new h.a({
                component: this.countLabel,
                trKey: function(t) {
                    var e = t % 3600 / 60 | 0
                      , n = t % 3600 % 60;
                    return e < 10 && (e = "0" + e),
                    n < 10 && (n = "0" + n),
                    (t / 3600 | 0) + ":" + e + ":" + n
                },
                endTime: w.end,
                complete: function() {
                    t.gp_countdown.visible = !1
                }
            }))
        }
        ,
        e.prototype.onHistoryMax = function() {
            var t = Object(r.getConfig)(this._confName)[this.rankType]
              , e = Object(c.d)(this._actName);
            if (e && e.max) {
                var n = ""
                  , i = "";
                ["heroQuaRank", "crossHeroQuaRank", "crossHeroQuaRank2"].indexOf(this.rankType) > -1 ? (n = Object(r.tr)("main@historyMax2"),
                i = Object(r.tr)("main@historyMaxCont2", {
                    value: e.max
                })) : (n = Object(r.tr)("main@historyMax"),
                i = Object(r.tr)("main@historyMaxCont", {
                    name: Object(r.tr)(t.desc2),
                    value: e.max
                })),
                l.a.show({
                    title: n,
                    content: i
                })
            } else
                Object(r.tooltip)(Object(r.tr)("rank@noPass"))
        }
        ,
        e.prototype.showUIdInfo = function(t) {
            var e = t.localToGlobal();
            e = this.contentNode.globalToLocal(e.x, e.y),
            this.gp_info.x = e.x + 170,
            this.gp_info.y = e.y + 17.5,
            this.lbl_info.text = t.data.uId,
            Object(d.J)(this.gp_info)
        }
        ,
        e.show = function(t) {
            Object(p.b)([o.a.getData(t), o.a.preload()]).then((function(n) {
                Object(f.a)(new e(t,n[0]))
            }
            ))
        }
        ,
        e
    }(r.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return h
    }
    ));
    var i, o = n(1), r = n(153), a = n(140), s = n(117), c = n(113), u = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), h = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return u(e, t),
        e.prototype.onDataUpdate = function(t, e) {
            t && (t.sId ? this.currentState = "kuafu" : this.currentState = "benfu",
            Object(r.a)(this.img_top, this.lbl_top, t.rank),
            t.skin && Object(a.a)(this.head, t.skin),
            this.tap(this.head, this.onHeadTap, this),
            this.lbl_name.text = Object(s.c)(t.name),
            this.lbl_name.textColor = t.name == Object(c.a)("uNa") ? 567164 : 13073702,
            this.lbl_score && (this.lbl_score.text = t.score + "  "),
            this.lbl_server && t.sId && (this.lbl_name.textColor = t.sId == Object(c.a)("sId") ? 32963 : 16153101,
            this.lbl_server.text = Object(s.k)(t.sId)))
        }
        ,
        e.prototype.onHeadTap = function() {
            Object(o.put)("head_tap", this, this.data)
        }
        ,
        e
    }(o.Item)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return r
    }
    )),
    n.d(e, "c", (function() {
        return a
    }
    )),
    n.d(e, "b", (function() {
        return s
    }
    ));
    var i = n(1)
      , o = n(109)
      , r = function() {
        function t() {}
        return Object.defineProperty(t.prototype, "disposeArr", {
            get: function() {
                var t = this;
                return this.__disposeArr || (this.__disposeArr = [{
                    dispose: function() {
                        var e = Object(i.getConfig)("resdispose_json")
                          , n = t.resdispose ? t.resdispose : egret.getQualifiedClassName(t);
                        if (e && e[n])
                            for (var o = [].concat(e[n].list || []).concat(e[n].ulist || []), r = 0; r < o.length; r++)
                                RES.destroyRes(o[r].pName)
                    }
                }]),
                this.__disposeArr
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }();
    function a() {
        var t = i.UIComponent.prototype
          , e = r.prototype
          , n = Object.getOwnPropertyDescriptor(e, "disposeArr");
        Object.defineProperty(t, "disposeArr", n)
    }
    function s(t) {
        for (var e = [], n = Object(i.getConfig)("resdispose_json"), r = n[t] && n[t].list || [], a = 0; a < r.length; a++)
            e.push(Object(o.a)(r[a].pName));
        return Promise.all(e)
    }
    a()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return h
    }
    )),
    n.d(e, "c", (function() {
        return l
    }
    )),
    n.d(e, "d", (function() {
        return p
    }
    )),
    n.d(e, "b", (function() {
        return f
    }
    ));
    var i = n(1)
      , o = n(109)
      , r = n(127)
      , a = n(112)
      , s = n(157)
      , c = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , u = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , h = function() {
        this.data = []
    }
      , l = function() {
        function t(t, e, n) {
            this.p = t,
            this.super_p = e,
            this.super_c = n;
            for (var i = 0; i < n.detail.length; i++)
                if (n.detail[i].id == t.id) {
                    this.c = n.detail[i];
                    break
                }
        }
        return Object.defineProperty(t.prototype, "canReceive", {
            get: function() {
                return !this.p.awded && this.super_p.num >= Object(s.a)(this.c, "num", !1)
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "receiveStatus", {
            get: function() {
                return this.canReceive ? 1 : this.super_p.num < Object(s.a)(this.c, "num", !1) ? 2 : 3
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , p = function() {
        function t(t, e) {
            this.c = t,
            this.p = e
        }
        return Object.defineProperty(t.prototype, "desc", {
            get: function() {
                return Object(i.tr)("main@totalReLbl", {
                    n: this.c.num
                })
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "num", {
            get: function() {
                return " ( " + Object(a.d)("fashionTotalRecharge").num + "/" + this.c.num + " ) "
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "color", {
            get: function() {
                var t = Object(a.d)("fashionTotalRecharge").num;
                return this.c.num > t ? "c30000" : "08a77c"
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "receive", {
            get: function() {
                var t = Object(a.d)("fashionTotalRecharge").num;
                return 1 == this.p.awded ? 0 : t >= this.c.num ? 2 : 1
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "btnLabel", {
            get: function() {
                return 0 == this.receive ? Object(i.tr)("main@get2") : Object(i.tr)("main@get")
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , f = function() {
        function t() {
            this._seductionData = []
        }
        return Object.defineProperty(t, "ins", {
            get: function() {
                return Object(i.singleton)(t)
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.checkRes = function() {
            return c(this, void 0, void 0, (function() {
                return u(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Promise.all([Object(o.a)("festivalActivity_json"), Object(o.a)("festivalActivity_re_json")])];
                    case 1:
                        return [2, t.sent()]
                    }
                }
                ))
            }
            ))
        }
        ,
        t.prototype.getTaskList = function(t, e, n) {
            if (void 0 === n && (n = !1),
            this._taskDic || (this._taskDic = {}),
            !this._taskDic[t] || n) {
                this._taskDic[t] = [];
                var i = Object(a.d)(t)
                  , o = Object(r.e)(t, i.cId, e);
                if (i && i.l) {
                    var s = "fsRechargeDay" == i.id
                      , c = Math.ceil((i.end - i.start) / 86400)
                      , u = s ? c : i.l.length;
                    u > i.l.length && (u = i.l.length);
                    for (var h = 0; h < u; h++)
                        i.l[h] && this._taskDic[t].push(new l(i.l[h],i,o))
                }
            }
            for (var p = this._taskDic[t], f = 0; f < p.length - 1; f++)
                for (h = 0; h < p.length - 1 - f; h++)
                    if (p[h].receiveStatus > p[h + 1].receiveStatus) {
                        var d = p[h];
                        p[h] = p[h + 1],
                        p[h + 1] = d
                    } else if (p[h].receiveStatus == p[h + 1].receiveStatus && p[h].c.id > p[h + 1].c.id) {
                        d = p[h];
                        p[h] = p[h + 1],
                        p[h + 1] = d
                    }
            return p
        }
        ,
        t.prototype.getTabList = function() {
            return [{
                text: Object(i.tr)("main@totalRecharge"),
                name: "fsTotalRecharge",
                red: "累计充值"
            }, {
                text: Object(i.tr)("main@dailyRecharge"),
                name: "fsDailyRecharge",
                red: "每日充值"
            }, {
                text: Object(i.tr)("main@dayRecharge"),
                name: "fsRechargeDay",
                red: "累天充值"
            }]
        }
        ,
        t.prototype.getSeductionTaskData = function() {
            if (!this._seductionData || 0 == this._seductionData.length) {
                var t = Object(i.getConfig)("festivalActivity_json").fashionTotalRecharge
                  , e = Object(a.d)("fashionTotalRecharge");
                if (!t || !e)
                    return;
                for (var n = 0; n < t.list[0].detail.length; n++)
                    for (var o = 0; o < e.l.length; o++)
                        t.list[0].detail[n].id == e.l[o].id && this._seductionData.push(new p(t.list[0].detail[n],e.l[o]))
            }
            return this._seductionData = this._seductionData.sort((function(t, e) {
                return t.receive == e.receive ? t.c.id - e.c.id : e.receive - t.receive
            }
            )),
            this._seductionData
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return s
    }
    ));
    var i = n(148)
      , o = n(171)
      , r = n(1)
      , a = function() {
        return (a = Object.assign || function(t) {
            for (var e, n = 1, i = arguments.length; n < i; n++)
                for (var o in e = arguments[n])
                    Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
            return t
        }
        ).apply(this, arguments)
    }
      , s = function() {
        function t() {}
        return t.power = function(t) {
            return Object(i.b)(t)
        }
        ,
        t.record = function(t) {
            this._obj = a({}, t.p)
        }
        ,
        t.recordArr = function(t) {
            this._arrObj = {};
            for (var e = 0; e < t.length; e++)
                this._arrObj[t[e].c.id] = a({}, t[e].p)
        }
        ,
        t.showArr = function(t) {
            for (var e = [], n = 0; n < t.length; n++)
                for (var i = t[n], a = i.c.id, s = this._arrObj[a], c = 0; c < this.propertys.length; c++) {
                    var u = this.propertys[c];
                    if (i.p[u] != s[u]) {
                        var h = i.p[u] - s[u];
                        h > 0 && (h = "+" + h),
                        e.push(Object(r.tr)(i.c.name) + " " + Object(r.tr)("hero@" + u + "Add", {
                            num: h
                        }))
                    }
                }
            o.a.show(e)
        }
        ,
        t.addPower = function(t) {
            return Math.floor(this.power(t.p) - this.power(this._obj))
        }
        ,
        t.show = function(t) {
            for (var e = [], n = 0; n < this.propertys.length; n++) {
                var i = this.propertys[n];
                if (t.p[i] != this._obj[i]) {
                    var a = t.p[i] - this._obj[i];
                    a > 0 && (a = "+" + a,
                    e.push(Object(r.tr)("hero@" + i + "Add", {
                        num: a
                    })))
                }
            }
            o.a.show(e)
        }
        ,
        t._obj = {},
        t._arrObj = {},
        t.propertys = ["matk", "datk", "atk", "travel", "matkAttr", "datkAttr", "atkAttr", "travelAttr", "matkExp", "datkExp", "atkExp", "travelExp"],
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return a
    }
    )),
    n.d(e, "d", (function() {
        return c
    }
    )),
    n.d(e, "b", (function() {
        return u
    }
    )),
    n.d(e, "c", (function() {
        return l
    }
    ));
    var i = n(1)
      , o = n(113)
      , r = n(155);
    function a() {
        return [{
            text: Object(i.tr)("main@danyao0")
        }, {
            text: Object(i.tr)("main@danyaoSpec"),
            resultID: 31
        }].concat(s(), [{
            text: Object(i.tr)("main@danyaoSpec2"),
            resultID: 6,
            quality: 999
        }])
    }
    function s() {
        return [{
            text: Object(i.tr)("main@danyao1"),
            resultID: 6,
            quality: 1
        }, {
            text: Object(i.tr)("main@danyao2"),
            resultID: 6,
            quality: 2
        }, {
            text: Object(i.tr)("main@danyao3"),
            resultID: 6,
            quality: 3
        }, {
            text: Object(i.tr)("main@danyao4"),
            resultID: 6,
            quality: 4
        }, {
            text: Object(i.tr)("main@danyao5"),
            resultID: 6,
            quality: 5
        }, {
            text: Object(i.tr)("main@danyao6"),
            resultID: 6,
            quality: 6
        }, {
            text: Object(i.tr)("main@danyao7"),
            resultID: 6,
            quality: 7
        }, {
            text: Object(i.tr)("main@danyao8"),
            resultID: 6,
            quality: 8
        }, {
            text: Object(i.tr)("main@danyao9"),
            resultID: 6,
            quality: 9
        }, {
            text: Object(i.tr)("main@danyao10"),
            resultID: 6,
            quality: 10
        }, {
            text: Object(i.tr)("main@danyao11"),
            resultID: 6,
            quality: 11
        }, {
            text: Object(i.tr)("main@danyao12"),
            resultID: 6,
            quality: 12
        }, {
            text: Object(i.tr)("main@danyao13"),
            resultID: 6,
            quality: 13
        }, {
            text: Object(i.tr)("main@danyao14"),
            resultID: 6,
            quality: 14
        }]
    }
    function c() {
        return s().concat([{
            text: Object(i.tr)("main@danyaoSpec"),
            resultID: 31,
            quality: 100
        }, {
            text: Object(i.tr)("main@danyaoSpec2"),
            resultID: 6,
            quality: 999
        }])
    }
    function u(t) {
        return {
            use: Object(o.a)("uses")[t] || 0,
            limit: Object(i.getConfig)("item_json")[t].useLimit + (Object(o.a)("limits")[t] || 0)
        }
    }
    var h = function() {
        function t(t) {
            this.data = t
        }
        return Object.defineProperty(t.prototype, "uses", {
            get: function() {
                return Object(o.a)("uses")[this.data.id] || 0
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "name", {
            get: function() {
                var t = this.data.useLimit + (Object(o.a)("limits")[this.data.id] || 0)
                  , e = Object(i.tr)(this.data.name)
                  , n = Object(i.getConfig)("item_json")[this.data.id];
                n && n.quality && (e = "<font color=" + Object(r.b)(n.quality) + ">" + e + "</font>");
                return e + "(" + this.uses + "/" + t + ")"
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }();
    function l(t, e) {
        if (void 0 === e && (e = !1),
        !t.expand && 0 == e)
            return [];
        if (6 == t.resultID || 31 == t.resultID) {
            var n = {
                items: []
            }
              , o = Object(i.getConfig)("item_json");
            for (var r in o) {
                var a = o[r];
                a.resultID != t.resultID || t.quality && a.quality != t.quality || n.items.push(new h(a))
            }
            return [n]
        }
        var s = {};
        o = Object(i.getConfig)("item_json");
        for (var c in o) {
            var u = null;
            "6" == (n = o[c]).resultID ? u = "6-" + n.quality : "31" == n.resultID && (u = "31"),
            null != u && (s[u] || (s[u] = {
                items: []
            }),
            s[u].items.push(new h(n)))
        }
        return ["6-1", "6-2", "6-3", "6-4", "6-5", "6-6", "6-7", "6-8", "6-9", "6-10", "6-11", "6-12", "6-13", "6-14", "6-999", "31"].map((function(t) {
            return s[t]
        }
        ))
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "c", (function() {
        return r
    }
    )),
    n.d(e, "a", (function() {
        return a
    }
    )),
    n.d(e, "b", (function() {
        return s
    }
    ));
    var i = n(1)
      , o = n(130);
    function r() {
        var t = Object(i.getOption)("logo");
        return "false" == t ? "" : o.b.isOpen("logo") ? t || (Object(i.getOption)("baibao") ? "icon_logo_new_png" : "icon_logo_png") : ""
    }
    function a() {
        var t = Object(i.getOption)("bg");
        return "false" == t ? "" : o.b.isOpen("bg") && t ? t : Object(i.getOption)("baibao") ? "bg_login_new_jpg" : i.is.wx() ? "bg_login_show_xyx_jpg" : "bg_login_jpg"
    }
    function s() {
        var t = Object(i.getOption)("loadBg");
        return "false" == t ? "" : o.b.isOpen("bg") && t ? t : Object(i.getOption)("baibao") ? "bg_login_new_jpg" : i.is.wx() ? "bg_login_show_xyx_jpg" : "bg_login_jpg"
    }
}
, , , , , , , , , function(t, e, n) {
    "use strict";
    n.d(e, "e", (function() {
        return b
    }
    )),
    n.d(e, "Z", (function() {
        return g
    }
    )),
    n.d(e, "J", (function() {
        return _
    }
    )),
    n.d(e, "U", (function() {
        return m
    }
    )),
    n.d(e, "i", (function() {
        return y
    }
    )),
    n.d(e, "s", (function() {
        return v
    }
    )),
    n.d(e, "k", (function() {
        return O
    }
    )),
    n.d(e, "R", (function() {
        return j
    }
    )),
    n.d(e, "ab", (function() {
        return w
    }
    )),
    n.d(e, "bb", (function() {
        return x
    }
    )),
    n.d(e, "f", (function() {
        return k
    }
    )),
    n.d(e, "C", (function() {
        return R
    }
    )),
    n.d(e, "u", (function() {
        return T
    }
    )),
    n.d(e, "z", (function() {
        return L
    }
    )),
    n.d(e, "l", (function() {
        return A
    }
    )),
    n.d(e, "eb", (function() {
        return M
    }
    )),
    n.d(e, "K", (function() {
        return N
    }
    )),
    n.d(e, "B", (function() {
        return B
    }
    )),
    n.d(e, "y", (function() {
        return E
    }
    )),
    n.d(e, "E", (function() {
        return D
    }
    )),
    n.d(e, "W", (function() {
        return G
    }
    )),
    n.d(e, "A", (function() {
        return V
    }
    )),
    n.d(e, "db", (function() {
        return U
    }
    )),
    n.d(e, "V", (function() {
        return H
    }
    )),
    n.d(e, "n", (function() {
        return F
    }
    )),
    n.d(e, "a", (function() {
        return W
    }
    )),
    n.d(e, "m", (function() {
        return X
    }
    )),
    n.d(e, "M", (function() {
        return Z
    }
    )),
    n.d(e, "g", (function() {
        return tt
    }
    )),
    n.d(e, "h", (function() {
        return et
    }
    )),
    n.d(e, "v", (function() {
        return nt
    }
    )),
    n.d(e, "L", (function() {
        return it
    }
    )),
    n.d(e, "X", (function() {
        return ot
    }
    )),
    n.d(e, "F", (function() {
        return ct
    }
    )),
    n.d(e, "Y", (function() {
        return pt
    }
    )),
    n.d(e, "D", (function() {
        return kt
    }
    )),
    n.d(e, "o", (function() {
        return Pt
    }
    )),
    n.d(e, "cb", (function() {
        return Ct
    }
    )),
    n.d(e, "p", (function() {
        return At
    }
    )),
    n.d(e, "t", (function() {
        return Mt.a
    }
    )),
    n.d(e, "d", (function() {
        return Dt
    }
    )),
    n.d(e, "gb", (function() {
        return Ft
    }
    )),
    n.d(e, "x", (function() {
        return Yt
    }
    )),
    n.d(e, "w", (function() {
        return Jt
    }
    )),
    n.d(e, "q", (function() {
        return Kt
    }
    )),
    n.d(e, "r", (function() {
        return Qt
    }
    )),
    n.d(e, "T", (function() {
        return ne
    }
    )),
    n.d(e, "S", (function() {
        return ae
    }
    )),
    n.d(e, "hb", (function() {
        return se
    }
    )),
    n.d(e, "G", (function() {
        return ue
    }
    )),
    n.d(e, "fb", (function() {
        return de
    }
    )),
    n.d(e, "I", (function() {
        return ge
    }
    )),
    n.d(e, "H", (function() {
        return _e
    }
    )),
    n.d(e, "c", (function() {
        return ye
    }
    )),
    n.d(e, "b", (function() {
        return ve
    }
    )),
    n.d(e, "Q", (function() {
        return xe
    }
    )),
    n.d(e, "P", (function() {
        return ke
    }
    )),
    n.d(e, "O", (function() {
        return Ie
    }
    )),
    n.d(e, "N", (function() {
        return Pe
    }
    )),
    n.d(e, "j", (function() {
        return Se
    }
    ));
    var i, o = n(1), r = n(112), a = n(113), s = n(109), c = n(115), u = n(111), h = n(347), l = n(158), p = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), f = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, d = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, b = function(t) {
        function e() {
            return t.call(this, "活动礼包") || this
        }
        return p(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_funOpen", this.onChange, this);
            var t = Object(o.getCache)("Red.getInfo").activity;
            t.activeGift && t.activeGift > 0 ? this.updateVisible(!0) : this.updateVisible(!1)
        }
        ,
        e.prototype.onChange = function(t) {
            return f(this, void 0, void 0, (function() {
                var e, n, i, a;
                return d(this, (function(c) {
                    switch (c.label) {
                    case 0:
                        return "activeGift" != t ? [2] : null != (e = Object(o.getConfig)("activeGift_json")) ? [3, 2] : [4, Object(s.a)("activeGift_json")];
                    case 1:
                        c.sent(),
                        c.label = 2;
                    case 2:
                        for (n = Object(r.d)("activeGift").l,
                        i = 0; i < n.length; i++)
                            if (0 != n[i].num)
                                for (a in e)
                                    if (n[i].id == e[a].type) {
                                        if (n[i].idx >= e[a].detail.length)
                                            break;
                                        if (n[i].num >= e[a].detail[n[i].idx].value1)
                                            return this.updateVisible(!0),
                                            [2];
                                        break
                                    }
                        return this.updateVisible(!1),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule), g = function(t) {
        function e() {
            return t.call(this, "修炼礼包") || this
        }
        return p(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_funOpen", this.onChange, this);
            var t = Object(o.getCache)("Red.getInfo").activity;
            t.timeGift && t.timeGift && t.timeGift > 0 ? this.updateVisible(!0) : this.updateVisible(!1)
        }
        ,
        e.prototype.onChange = function(t) {
            return f(this, void 0, void 0, (function() {
                var e, n, i, s, c;
                return d(this, (function(u) {
                    if ("timeGift" != t)
                        return [2];
                    if (!(e = Object(r.d)("timeGift")) || null == e)
                        return this.updateVisible(!1),
                        [2];
                    for (n = Object(a.a)("yt"),
                    i = Object(o.getConfig)("activity_json").timeGift.list,
                    s = 0; s < e.l.length; s++)
                        for (c = 0; c < i.length && 1 != e.l[s].awded; c++)
                            if (e.l[s].id == i[c].uniqId) {
                                if (n >= i[c].num)
                                    return this.updateVisible(!0),
                                    [2];
                                break
                            }
                    return this.updateVisible(!1),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule), _ = function(t) {
        function e() {
            return t.call(this, "境界礼包") || this
        }
        return p(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_funOpen", this.onChange, this);
            var t = Object(o.getCache)("Red.getInfo").activity;
            t.levelGift && t.levelGift > 0 ? this.updateVisible(!0) : this.updateVisible(!1)
        }
        ,
        e.prototype.onChange = function(t) {
            if ("levelGift" == t) {
                for (var e = Object(r.d)("levelGift").l, n = Object(a.a)("lv"), i = Object(o.getConfig)("activity_json").levelGift.list, s = 0; s < e.length; s++)
                    for (var c = 0; c < i.length && 1 != e[s].awded; c++)
                        if (e[s].id == i[c].uniqId) {
                            if (n >= i[c].num)
                                return void this.updateVisible(!0);
                            break
                        }
                this.updateVisible(!1)
            }
        }
        ,
        e
    }(o.RedBaseRule), m = function(t) {
        function e() {
            return t.call(this, "特权卡") || this
        }
        return p(e, t),
        e.prototype.init = function() {
            o.cache.onChange("User.getInfo", this.onChange, this),
            this.onChange()
        }
        ,
        e.prototype.onChange = function() {
            var t = Object(a.a)("tqInfo");
            Object(c.n)() > 0 && 0 == t.tq1DayAwd || t.tq2 > 0 && 0 == t.tq2Awd ? this.updateVisible(!0) : this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule), y = function(t) {
        function e() {
            return t.call(this, "评价吐槽") || this
        }
        return p(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_appraise_red", this.onChange, this),
            this.onChange()
        }
        ,
        e.prototype.onChange = function() {
            var t, e = Object(o.getCache)("Red.getInfo"), n = !1;
            if ("gcatenIos" == Object(o.getPlatform)().name || "gcathkIos1" == Object(o.getPlatform)().name)
                n = (t = Number(o.cache.get("get_ios_version"))) && t >= 3;
            else {
                var i = location.href;
                t = Number(o.cache.get("get_android_version")),
                n = i.indexOf("global.html") > 0 ? t && t >= 34 : t && t >= 24
            }
            n && e && 1 == e.appraise && Object(a.a)("lv") >= 31 ? this.updateVisible(!0) : this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule), v = function(t) {
        function e() {
            return t.call(this, "FB入口") || this
        }
        return p(e, t),
        e.prototype.init = function() {
            var t = this;
            Object(s.a)("share_json").then((function() {
                t.onChange("fbShare"),
                Object(o.on)("refresh_funOpen", t.onChange, t)
            }
            ))
        }
        ,
        e.prototype.onChange = function(t) {
            if ("fbShare" == t) {
                var e = Object(r.d)("fbShare");
                if (e)
                    if (2 != e.status)
                        this.updateVisible(!0);
                    else {
                        var n = Object(r.d)("weeklyShare");
                        n && 2 != n.fbshare ? this.updateVisible(!0) : this.updateVisible(!1)
                    }
                else
                    this.updateVisible(!1)
            }
        }
        ,
        e
    }(o.RedBaseRule), O = function(t) {
        function e() {
            return t.call(this, "巴哈入口") || this
        }
        return p(e, t),
        e.prototype.init = function() {
            var t = this;
            Object(s.a)("share_json").then((function() {
                t.onChange(),
                o.cache.onChange("Activity.getList", t.onChange, t)
            }
            ))
        }
        ,
        e.prototype.onChange = function() {
            var t = Object(r.d)("bhShare");
            if (t)
                if (2 != t.status)
                    this.updateVisible(!0);
                else {
                    var e = Object(r.d)("weeklyShare");
                    e && 2 != e.bhshare ? this.updateVisible(!0) : this.updateVisible(!1)
                }
            else
                this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule), j = function(t) {
        function e() {
            var e = t.call(this, "新服礼物") || this;
            return e.actName = "newServerGift",
            e
        }
        return p(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_funOpen", this.onChange, this),
            this.updateRed()
        }
        ,
        e.prototype.onChange = function(t) {
            t == this.actName && this.updateRed()
        }
        ,
        e.prototype.updateRed = function() {
            var t = Object(r.d)(this.actName);
            t && 0 == t.status ? this.updateVisible(!0) : this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule), w = function(t) {
        function e(e) {
            var n = t.call(this, "会员礼包" + e) || this;
            return n.idx = e,
            n.actName = "overseaVip",
            n
        }
        return p(e, t),
        e.prototype.init = function() {
            Object(l.d)() && (this.updateRed(),
            Object(o.on)("refresh_funOpen", this.onChange, this))
        }
        ,
        e.prototype.onChange = function(t) {
            t == this.actName && this.updateRed()
        }
        ,
        e.prototype.updateRed = function() {
            var t = Object(r.d)(this.actName);
            t ? this.updateVisible(1 == t.l[this.idx - 1].awded) : this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule), x = function(t) {
        function e() {
            var e = t.call(this, "vip客服") || this;
            return e.actName = "overseaVip",
            e
        }
        return p(e, t),
        e.prototype.init = function() {
            var t = this;
            if (Object(l.d)()) {
                this.updateRed(),
                Object(o.on)("refresh_funOpen", this.onChange, this);
                var e = Object(r.d)(this.actName);
                if (e) {
                    var n = e.end - u.a.getNow();
                    n > 0 && egret.setTimeout((function() {
                        Object(c.x)((function() {
                            t.refreshTime()
                        }
                        ))
                    }
                    ), this, 1e3 * (n + 1))
                }
            }
        }
        ,
        e.prototype.refreshTime = function() {
            return f(this, void 0, void 0, (function() {
                return d(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return console.log("倒计时:4"),
                        [4, Object(h.a)()];
                    case 1:
                        return t.sent(),
                        [4, Object(r.o)(this.actName)];
                    case 2:
                        return t.sent(),
                        console.log("倒计时:5"),
                        Object(o.put)("refresh_funOpen", this.actName),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.onChange = function(t) {
            t == this.actName && this.updateRed()
        }
        ,
        e.prototype.updateRed = function() {
            var t = Object(r.d)(this.actName);
            t ? this.updateVisible(1 == t.open) : this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule), k = function(t) {
        function e() {
            return t.call(this, "激励任务") || this
        }
        return p(e, t),
        e.prototype.init = function() {
            o.cache.onChange("Activity.getList", this.onChange, this),
            this.onChange()
        }
        ,
        e.prototype.onChange = function() {
            var t = this;
            Object(s.a)("festivalActivity_json").then((function() {
                if (Object(r.d)("shareSwitchTask")) {
                    for (var e = Object(r.d)("shareSwitchTask").list, n = Object(o.getConfig)("festivalActivity_json").shareSwitchTask.list[0].detail, i = 0; i < n.length; i++)
                        for (var a in e)
                            if (n[i].type == a) {
                                if (e[a].num >= n[i].num && 0 == e[a].ids.length)
                                    return void t.updateVisible(!0);
                                break
                            }
                    t.updateVisible(!1)
                } else
                    t.updateVisible(!1)
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule);
    o.RedPointManager.injection(new w("1")),
    o.RedPointManager.injection(new w("2")),
    o.RedPointManager.injection(new x),
    o.RedPointManager.injection(new g),
    o.RedPointManager.injection(new _),
    o.RedPointManager.injection(new m),
    o.RedPointManager.injection(new b),
    o.RedPointManager.injection(new v),
    o.RedPointManager.injection(new O),
    o.RedPointManager.injection(new j),
    o.RedPointManager.injection(new y),
    o.RedPointManager.injection(new k),
    o.RedPointManager.injection(new o.RedPointGroup("会员礼包","会员礼包1","会员礼包2")),
    o.RedPointManager.injection(new o.RedPointGroup("活动","修炼礼包","境界礼包","活动礼包","会员礼包","vip客服","评价吐槽","激励任务")),
    o.RedPointManager.injection(new o.RedPointGroup("海外活动","FB入口","巴哈入口"));
    var I = n(348)
      , P = n(144)
      , C = n(165)
      , S = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , R = function(t) {
        function e() {
            return t.call(this, "仙仆激励视频") || this
        }
        return S(e, t),
        e.prototype.init = function() {
            Object(o.on)("stop_Hero_advert", this.onChange, this),
            this.onChange()
        }
        ,
        e.prototype.onChange = function() {
            var t = Object(o.getCache)("XianPuWatch.getList");
            this.updateVisible(t && t.status < 1)
        }
        ,
        e
    }(o.RedBaseRule)
      , T = function(t) {
        function e() {
            return t.call(this, "钓鱼激励视频") || this
        }
        return S(e, t),
        e.prototype.init = function() {
            o.cache.onChange("Activity.getList", this.onChange, this),
            this.onChange()
        }
        ,
        e.prototype.onChange = function() {
            var t = Object(r.d)("shareSwitch");
            this.updateVisible(t && t.ids.fish.num > 0)
        }
        ,
        e
    }(o.RedBaseRule)
      , L = function(t) {
        function e() {
            return t.call(this, "蕴仙池激励视频") || this
        }
        return S(e, t),
        e.prototype.init = function() {
            o.cache.onChange("Activity.getList", this.onChange, this),
            this.onChange()
        }
        ,
        e.prototype.onChange = function() {
            var t = Object(r.d)("shareSwitch");
            this.updateVisible(t && t.ids && t.ids.yunXianChi && t.ids.yunXianChi.num > 0 && u.a.getNow() > t.ids.yunXianChi.time)
        }
        ,
        e
    }(o.RedBaseRule)
      , A = function(t) {
        function e() {
            return t.call(this, "黑市激励视频") || this
        }
        return S(e, t),
        e.prototype.init = function() {
            o.cache.onChange("Activity.getList", this.onChange, this),
            this.onChange()
        }
        ,
        e.prototype.onChange = function() {
            var t = Object(r.d)("shareSwitch");
            this.updateVisible(t && t.ids.blackMarket.num > 0 && u.a.getNow() - t.ids.blackMarket.time >= 0)
        }
        ,
        e
    }(o.RedBaseRule)
      , M = function(t) {
        function e() {
            return t.call(this, "仙阁激励视频") || this
        }
        return S(e, t),
        e.prototype.init = function() {
            o.cache.onChange("Activity.getList", this.onChange, this),
            this.onChange()
        }
        ,
        e.prototype.onChange = function() {
            var t = Object(r.d)("shareSwitch");
            this.updateVisible(t && t.ids.xianGe.num > 0 && u.a.getNow() - t.ids.xianGe.time >= 0)
        }
        ,
        e
    }(o.RedBaseRule)
      , N = function(t) {
        function e() {
            return t.call(this, "历练激励视频") || this
        }
        return S(e, t),
        e.prototype.init = function() {
            o.cache.onChange("Activity.getList", this.onChange, this),
            this.onChange()
        }
        ,
        e.prototype.onChange = function() {
            var t = Object(r.d)("shareSwitch");
            this.updateVisible(t && t.ids.liLian.num > 0 && u.a.getNow() - t.ids.liLian.time >= 0)
        }
        ,
        e
    }(o.RedBaseRule)
      , B = function(t) {
        function e() {
            return t.call(this, "黑市入口激励视频") || this
        }
        return S(e, t),
        e.prototype.init = function() {
            o.cache.onChange("Activity.getList", this.onChange, this),
            this.onChange()
        }
        ,
        e.prototype.onChange = function() {
            var t = Object(r.d)("shareSwitch");
            this.updateVisible(t && t.ids.blackMarketTwo.num > 0 && u.a.getNow() - t.ids.blackMarketTwo.time >= 0 && Object(I.a)())
        }
        ,
        e
    }(o.RedBaseRule)
      , E = function(t) {
        function e() {
            return t.call(this, "福地激励视频") || this
        }
        return S(e, t),
        e.prototype.init = function() {
            o.cache.onChange("Activity.getList", this.onChange, this),
            this.onChange()
        }
        ,
        e.prototype.onChange = function() {
            var t = Object(r.d)("shareSwitch")
              , e = Object(o.getCache)("Fudi.getInfo").i;
            e || this.updateVisible(!1);
            var n = e.snatchCount;
            this.updateVisible(t && t.ids.fuDi.num > 0 && u.a.getNow() - t.ids.fuDi.time >= 0 && 0 == n)
        }
        ,
        e
    }(o.RedBaseRule)
      , D = function(t) {
        function e() {
            return t.call(this, "洞府激励视频") || this
        }
        return S(e, t),
        e.prototype.init = function() {
            o.cache.onChange("Activity.getList", this.onChange, this),
            Object(o.on)("refresh_fudi_advert_red", this.onChange, this),
            this.onChange()
        }
        ,
        e.prototype.onChange = function() {
            var t = Object(r.d)("shareSwitch");
            this.updateVisible(t && t.ids.home.num > 0 && u.a.getNow() - t.ids.home.time >= 0)
        }
        ,
        e
    }(o.RedBaseRule)
      , G = function(t) {
        function e() {
            return t.call(this, "幻衣阁激励视频") || this
        }
        return S(e, t),
        e.prototype.init = function() {
            o.cache.onChange("Activity.getList", this.onChange, this),
            this.onChange()
        }
        ,
        e.prototype.onChange = function() {
            var t = Object(r.d)("shareSwitch");
            this.updateVisible(t && t.ids.robe.num > 0 && u.a.getNow() - t.ids.robe.time >= 0)
        }
        ,
        e
    }(o.RedBaseRule)
      , V = function(t) {
        function e() {
            return t.call(this, "仙盟事务激励视频") || this
        }
        return S(e, t),
        e.prototype.init = function() {
            o.cache.onChange("guild_member.home", this.onChange, this),
            this.onChange()
        }
        ,
        e.prototype.onChange = function() {
            var t = Object(r.d)("shareSwitch")
              , e = Object(o.singleton)(P.a).info;
            t && t.ids && t.ids.guildTask && this.updateVisible(t && t.ids.guildTask.num > 0 && u.a.getNow() - t.ids.guildTask.time >= 0 && e.num < 3)
        }
        ,
        e
    }(o.RedBaseRule)
      , U = function(t) {
        function e() {
            return t.call(this, "慕仙境激励视频") || this
        }
        return S(e, t),
        e.prototype.init = function() {
            o.cache.onChange("GodPosition.getInfo", this.onChange, this),
            this.onChange()
        }
        ,
        e.prototype.onChange = function() {
            var t = Object(r.d)("shareSwitch")
              , e = o.cache.get("GodPosition.getInfo", "i");
            t && t.ids && t.ids.xianFu && this.updateVisible(t.ids.xianFu.num > 0 && u.a.getNow() > t.ids.xianFu.time && 1 == e.isWatch)
        }
        ,
        e
    }(o.RedBaseRule)
      , H = function(t) {
        function e() {
            return t.call(this, "器灵激励视频") || this
        }
        return S(e, t),
        e.prototype.init = function() {
            o.cache.onChange("Activity.getList", this.onChange, this),
            this.onChange()
        }
        ,
        e.prototype.onChange = function() {
            var t = Object(r.d)("shareSwitch");
            t && t.ids && t.ids.qiLing && this.updateVisible(t.ids.qiLing.num > 0 && u.a.getNow() > t.ids.qiLing.time)
        }
        ,
        e
    }(o.RedBaseRule)
      , F = function(t) {
        function e(e, n) {
            var i = t.call(this, e) || this;
            return i.advertData = n,
            i
        }
        return S(e, t),
        e.prototype.init = function() {
            o.cache.onChange("Activity.getList", this.onChange, this),
            Object(o.on)("refresh_advert_red", this.update, this),
            this.onChange()
        }
        ,
        e.prototype.update = function(t) {
            t == this.advertData.type && this.onChange()
        }
        ,
        e.prototype.onChange = function() {
            if ("shuangXiu" == this.advertData.type) {
                var t = Object(o.getCache)("User.getInfo", "i.home.repairCount");
                this.updateVisible(Object(C.a)(this.advertData.id, this.advertData.type) && 3 == t)
            } else if ("jiuSi" == this.advertData.type) {
                t = Object(o.getCache)("User.getInfo", "i.building").or;
                this.updateVisible(Object(C.a)(this.advertData.id, this.advertData.type) && 0 == t)
            }
            this.updateVisible(Object(C.a)(this.advertData.id, this.advertData.type))
        }
        ,
        e
    }(o.RedBaseRule);
    o.RedPointManager.injection(new R),
    o.RedPointManager.injection(new T),
    o.RedPointManager.injection(new L),
    o.RedPointManager.injection(new A),
    o.RedPointManager.injection(new M),
    o.RedPointManager.injection(new N),
    o.RedPointManager.injection(new B),
    o.RedPointManager.injection(new E),
    o.RedPointManager.injection(new D),
    o.RedPointManager.injection(new G),
    o.RedPointManager.injection(new V),
    o.RedPointManager.injection(new U),
    o.RedPointManager.injection(new H),
    o.RedPointManager.injection(new F("渡劫激励视频",{
        id: 29,
        type: "duJie"
    })),
    o.RedPointManager.injection(new F("宗门职位激励视频",{
        id: 30,
        type: "zongMenZhiWei"
    })),
    o.RedPointManager.injection(new F("酒肆激励视频",{
        id: 31,
        type: "jiuSi"
    })),
    o.RedPointManager.injection(new F("炼器激励视频",{
        id: 32,
        type: "qiShi"
    })),
    o.RedPointManager.injection(new F("炼丹激励视频",{
        id: 33,
        type: "danLu"
    })),
    o.RedPointManager.injection(new F("结缘激励视频",{
        id: 34,
        type: "shuangXiu"
    })),
    o.RedPointManager.injection(new F("海岛激励视频",{
        id: 36,
        type: "island"
    })),
    o.RedPointManager.injection(new F("海岛激励视频2",{
        id: 36,
        type: "island2"
    })),
    o.RedPointManager.injection(new F("材料不足激励视频",{
        id: 37,
        type: "resource"
    })),
    o.RedPointManager.injection(new F("灵山每日资源",{
        id: 43,
        type: "lingShanRes"
    })),
    o.RedPointManager.injection(new F("灵山每日道具",{
        id: 44,
        type: "lingShanItem"
    })),
    o.RedPointManager.injection(new o.RedPointGroup("灵山激励视频","灵山每日资源","灵山每日道具"));
    var z = n(114)
      , q = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , W = {
        suppressMonster: [10436, 10437, 10438, 10439],
        divine: [10440, 10441, 10442, 10443],
        mining: [10444, 10445, 10446, 10447],
        treasureHunt: [10448, 10449, 10450, 10451],
        divineTree: [10452, 10453, 10454, 10455],
        repairGate: [10456, 10457, 10458, 10459],
        holiday: [10564, 10565, 10566, 10567],
        holiday2: [15001, 15002, 15003, 15004],
        holiday3: [15006, 15007, 15008, 15009],
        nyBoss: [15192, 15193, 15194]
    }
      , X = function(t) {
        function e(e, n) {
            var i = t.call(this, e) || this;
            return i.actName = n,
            i
        }
        return q(e, t),
        e.prototype.init = function() {
            this.regWatch(this.actName),
            this.onUpdate(),
            Object(o.on)("refresh_funOpen", this.actUpdate, this)
        }
        ,
        e.prototype.regWatch = function(t) {
            if (!this._reged && Object(r.e)(t)) {
                this._reged = !0;
                for (var e = 0; e < W[t].length; e++)
                    z.e.watchNum(W[t][e], this.onUpdate, this)
            }
        }
        ,
        e.prototype.actUpdate = function(t) {
            t == this.actName && (this.regWatch(this.actName),
            this.onUpdate())
        }
        ,
        e.prototype.onUpdate = function() {
            if (Object(r.e)(this.actName))
                for (var t = 0; t < W[this.actName].length; t++)
                    if (z.e.getNum(W[this.actName][t]) > 0)
                        return this.updateVisible(!0);
            this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule);
    o.RedPointManager.injection(new X("修护山门","repairGate")),
    o.RedPointManager.injection(new X("占卜","divine")),
    o.RedPointManager.injection(new X("通天神木","divineTree")),
    o.RedPointManager.injection(new X("灵脉开采","mining")),
    o.RedPointManager.injection(new X("镇压妖兽","suppressMonster")),
    o.RedPointManager.injection(new X("秘境寻宝","treasureHunt")),
    o.RedPointManager.injection(new X("618活动","holiday")),
    o.RedPointManager.injection(new X("万能节日活动2","holiday2")),
    o.RedPointManager.injection(new X("万能节日活动3","holiday3"));
    var Y = n(169)
      , J = n(233)
      , $ = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , K = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , Q = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , Z = function(t) {
        function e() {
            var e = t.call(this, "包饺子") || this;
            return e.ACT_NAME = "sfDumpling",
            e
        }
        return $(e, t),
        e.prototype.init = function() {
            this.onUpdate(),
            Object(o.on)("refresh_funOpen", this.actUpdate, this),
            z.e.watchNum(10469, this.onUpdate, this)
        }
        ,
        e.prototype.actUpdate = function(t) {
            t == this.ACT_NAME && this.onUpdate()
        }
        ,
        e.prototype.onUpdate = function() {
            if (Object(r.e)(this.ACT_NAME))
                return this.updateVisible(z.e.getNum(10469) > 0);
            this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule)
      , tt = function(t) {
        function e() {
            var e = t.call(this, "护符奖励") || this;
            return e.ACT_NAME = "sfAmulet",
            e
        }
        return $(e, t),
        e.prototype.init = function() {
            this.onUpdate(),
            Object(o.on)("refresh_funOpen", this.actUpdate, this)
        }
        ,
        e.prototype.actUpdate = function(t) {
            t == this.ACT_NAME && this.onUpdate()
        }
        ,
        e.prototype.onUpdate = function() {
            return K(this, void 0, void 0, (function() {
                var t, e;
                return Q(this, (function(n) {
                    switch (n.label) {
                    case 0:
                        return Object(r.e)(this.ACT_NAME, !1, 1) ? [4, Object(s.a)("sfAmulet_json")] : [3, 2];
                    case 1:
                        for (n.sent(),
                        t = J.a.ins.getAmuletReward(),
                        e = 0; e < t.length; e++)
                            if (t[e].canReceive)
                                return [2, this.updateVisible(!0)];
                        n.label = 2;
                    case 2:
                        return this.updateVisible(!1),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule)
      , et = function(t) {
        function e() {
            var e = t.call(this, "护符任务") || this;
            return e.ACT_NAME = "sfAmuletTask",
            e
        }
        return $(e, t),
        e.prototype.init = function() {
            this.onUpdate(),
            Object(o.on)("refresh_funOpen", this.actUpdate, this)
        }
        ,
        e.prototype.actUpdate = function(t) {
            t == this.ACT_NAME && this.onUpdate()
        }
        ,
        e.prototype.onUpdate = function() {
            return K(this, void 0, void 0, (function() {
                var t, e;
                return Q(this, (function(n) {
                    switch (n.label) {
                    case 0:
                        return Object(r.e)(this.ACT_NAME, !1, 1) ? [4, Object(s.a)("sfAmuletTask_json")] : [3, 2];
                    case 1:
                        for (n.sent(),
                        t = J.a.ins.getAmuletTaskList(),
                        e = 0; e < t.length; e++)
                            if (t[e].canReceive)
                                return [2, this.updateVisible(!0)];
                        n.label = 2;
                    case 2:
                        return this.updateVisible(!1),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule);
    o.RedPointManager.injection(new Y.d("福气任务","sfTask1","festivalActivity_sf_json")),
    o.RedPointManager.injection(new Y.d("福气奖励","sfScoreReward","festivalActivity_sf_json",1)),
    o.RedPointManager.injection(new Y.b("福气礼包","sfGift1",13,"makeLotGift")),
    o.RedPointManager.injection(new o.RedPointGroup("福气获取道具","福气任务","福气礼包")),
    o.RedPointManager.injection(new o.RedPointGroup("抢福袋","福气获取道具","福气奖励")),
    o.RedPointManager.injection(new Z),
    o.RedPointManager.injection(new Y.d("饺子任务","sfTask2","festivalActivity_sf_json")),
    o.RedPointManager.injection(new Y.d("饺子奖励","sfDpReward","festivalActivity_sf_json",1)),
    o.RedPointManager.injection(new Y.d("煮饺子奖励","sfDpTask","festivalActivity_sf_json")),
    o.RedPointManager.injection(new Y.b("饺子礼包","sfGift2",13,"makeDumplGift")),
    o.RedPointManager.injection(new o.RedPointGroup("饺子奖励组","饺子奖励","煮饺子奖励")),
    o.RedPointManager.injection(new o.RedPointGroup("饺子获取道具","饺子任务","饺子礼包")),
    o.RedPointManager.injection(new o.RedPointGroup("吃饺子","饺子任务","饺子奖励","包饺子")),
    o.RedPointManager.injection(new Y.d("年兽奖励","sfBossLvReward","festivalActivity_sf_json",1)),
    o.RedPointManager.injection(new o.RedPointGroup("退年兽","年兽奖励")),
    o.RedPointManager.injection(new o.RedPointGroup("春节活动","抢福袋","吃饺子","退年兽")),
    o.RedPointManager.injection(new tt),
    o.RedPointManager.injection(new et),
    o.RedPointManager.injection(new o.RedPointGroup("新春护符","护符奖励","护符任务")),
    o.RedPointManager.injection(new Y.d("福袋任务","lfTask1","festivalActivity_lf_json")),
    o.RedPointManager.injection(new Y.d("福袋奖励","lfScoreReward","festivalActivity_lf_json",1)),
    o.RedPointManager.injection(new Y.b("福袋礼包","lfGift1",13,"yuanxiaoLotGift")),
    o.RedPointManager.injection(new o.RedPointGroup("福袋获取道具","福袋任务","福袋礼包")),
    o.RedPointManager.injection(new o.RedPointGroup("福袋节","福袋获取道具","福袋奖励"));
    var nt = function() {};
    o.RedPointManager.injection(new Y.c("组龙头","ltDumpling",10511)),
    o.RedPointManager.injection(new Y.d("龙头任务","ltTask","festivalActivity_lt_json")),
    o.RedPointManager.injection(new Y.d("龙头奖励","ltDpReward","festivalActivity_lt_json",1)),
    o.RedPointManager.injection(new Y.d("组龙头奖励","ltDpTask","festivalActivity_lt_json")),
    o.RedPointManager.injection(new Y.b("龙头礼包","ltGift",13,"fs0202Gift")),
    o.RedPointManager.injection(new o.RedPointGroup("龙头奖励组","龙头奖励","组龙头奖励")),
    o.RedPointManager.injection(new o.RedPointGroup("龙头获取道具","龙头任务","龙头礼包")),
    o.RedPointManager.injection(new o.RedPointGroup("龙头节","龙头任务","龙头奖励","组龙头"));
    var it = function() {};
    o.RedPointManager.injection(new Y.d("鲜花任务","vdTask1","festivalActivity_vd_json")),
    o.RedPointManager.injection(new Y.d("鲜花奖励","vdScoreReward","festivalActivity_vd_json",1)),
    o.RedPointManager.injection(new Y.b("鲜花礼包","vdGift1",13,"loverLotGift")),
    o.RedPointManager.injection(new o.RedPointGroup("鲜花获取道具","鲜花任务","鲜花礼包")),
    o.RedPointManager.injection(new o.RedPointGroup("赠鲜花","鲜花获取道具","鲜花奖励")),
    o.RedPointManager.injection(new Y.d("踏青任务","vdTask2","festivalActivity_vd_json")),
    o.RedPointManager.injection(new Y.d("踏青奖励","vdDmReward","festivalActivity_vd_json",1)),
    o.RedPointManager.injection(new Y.b("踏青礼包","vdGift2",13,"loverMapGift")),
    o.RedPointManager.injection(new o.RedPointGroup("踏青获取道具","踏青任务","踏青礼包")),
    o.RedPointManager.injection(new o.RedPointGroup("踏青图","踏青任务","踏青奖励","踏青礼包")),
    o.RedPointManager.injection(new Y.d("携手除妖奖励","vdBossLvReward","festivalActivity_vd_json",1)),
    o.RedPointManager.injection(new o.RedPointGroup("携手除妖","携手除妖奖励")),
    o.RedPointManager.injection(new o.RedPointGroup("情人节","赠鲜花","踏青图","携手除妖")),
    o.RedPointManager.injection(new o.RedPointGroup("清明节","赠鲜花","踏青图","携手除妖"));
    var ot = function() {};
    o.RedPointManager.injection(new Y.d("早春任务","mkTask2","festivalActivity_mk_json")),
    o.RedPointManager.injection(new Y.d("早春奖励","mkDmReward","festivalActivity_mk_json",1)),
    o.RedPointManager.injection(new Y.b("早春礼包","mkGift2",13,"springMapGift")),
    o.RedPointManager.injection(new o.RedPointGroup("早春获取道具","早春任务","早春礼包")),
    o.RedPointManager.injection(new o.RedPointGroup("早春","早春任务","早春奖励","早春礼包"));
    var rt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , at = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , st = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , ct = function(t) {
        function e() {
            return t.call(this, "绝地赛") || this
        }
        return rt(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.onUpdate, this)
        }
        ,
        e.prototype.onUpdate = function(t) {
            this.check()
        }
        ,
        e.prototype.check = function() {
            return at(this, void 0, void 0, (function() {
                return st(this, (function(t) {
                    return this.updateVisible(!1),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule);
    o.RedPointManager.injection(new ct);
    var ut = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , ht = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , lt = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , pt = function(t) {
        function e() {
            return t.call(this, "桃源幻境") || this
        }
        return ut(e, t),
        e.prototype.init = function() {
            o.cache.onChange("User.getInfo", this.check, this),
            Object(o.on)("refresh_funOpen", this.onUpdate, this);
            var t = Object(o.getCache)("Red.getInfo").wonder;
            this.updateVisible(t)
        }
        ,
        e.prototype.onUpdate = function(t) {
            this.check()
        }
        ,
        e.prototype.check = function() {
            return ht(this, void 0, void 0, (function() {
                var t, e, n, i, a, c, h, l, p, f;
                return lt(this, (function(d) {
                    switch (d.label) {
                    case 0:
                        for (i in t = !1,
                        n = [],
                        e = ["wonderlandFood", "wonderlandWood", "wonderlandIron", "wonderlandSc", "wonderlandGc"])
                            n.push(i);
                        a = 0,
                        d.label = 1;
                    case 1:
                        return a < n.length ? (c = n[a],
                        (h = Object(r.d)(e[c])) ? "wonderlandGc" != e[c] ? [3, 3] : [4, Object(s.a)("openActivity_json")] : [3, 4]) : [3, 5];
                    case 2:
                        return d.sent(),
                        l = Object(o.getConfig)("openActivity_json").wonderlandGc.list[0].detail,
                        p = h.count >= l.length,
                        h.num > 0 && !p && z.e.getNum(z.f.lingyu) >= l[h.count].num && (t = !0),
                        [3, 4];
                    case 3:
                        if (h.gearId && h.gearId > 0)
                            for (f in h.times)
                                u.a.getCurDay(f) == u.a.nowDay() && (h.times[f] || (t = !0));
                        d.label = 4;
                    case 4:
                        return a++,
                        [3, 1];
                    case 5:
                        return this.updateVisible(t),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule);
    o.RedPointManager.injection(new pt);
    var ft = n(106)
      , dt = n(110)
      , bt = n(125)
      , gt = n(128)
      , _t = n(148)
      , mt = n(108)
      , yt = n(126)
      , vt = n(157)
      , Ot = n(120)
      , jt = n(118)
      , wt = n(122)
      , xt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , kt = (function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        xt(e, t),
        e.prototype.onDataUpdate = function(t, e) {
            t && (this.__data = t,
            this.lbl_name.text = t.text,
            this.on("xianpu_buyOver", this.isOpen, this),
            this.isOpen())
        }
        ,
        e.prototype.isOpen = function() {
            this.mv && (this.mv.dispose(),
            this.mv = null);
            var t = Object(r.d)("fsGiftRecharge")
              , e = u.a.getNow();
            if (this.gp_buff.visible = !1,
            t && t.start < e && e < t.end)
                for (var n in t.l) {
                    var i = Object(o.getConfig)("festivalActivity_json").fsGiftRecharge.list[0].detail;
                    for (var a in i)
                        if (t.l[n].id == i[a].uniqId && t.l[n].rechargeId == this.__data.rechargeId) {
                            var s = !0
                              , c = Object(r.d)(this.__data.key);
                            if (c) {
                                for (var h = 0; h < c.l.length; h++)
                                    c.l[h].id == this.__data.id && (s = c.l[h].hasOwnProperty("limit") ? 0 != c.l[h].limit : 0 == c.l[h].awded);
                                if (!s)
                                    return
                            }
                            this.gp_buff.visible = s,
                            this.mv = o.Movie.create("festival_shop_1_ske_json"),
                            this.mv.x = this.tsdh.width / 2,
                            this.mv.y = this.tsdh.height / 2,
                            this.tsdh.addChild(this.mv),
                            this.mv.play("1")
                        }
                }
        }
        ,
        e.prototype.onExit = function() {
            this.mv && (this.mv.dispose(),
            this.mv = null)
        }
    }(o.Item),
    function(t) {
        function e() {
            var e = t.call(this) || this;
            return e._tickObj = null,
            Object(o.setSkin)(e, "XianPuPackageSkin"),
            e
        }
        return xt(e, t),
        e.prototype.onReady = function() {
            for (var t = [], e = 0; e < arguments.length; e++)
                t[e] = arguments[e];
            Object(o.put)("xianpuGift_show"),
            this.addBehavior(new jt.a),
            this.tap("btn_buy", this.onBuy, this),
            this._tick = Object(wt.b)(this.tick, 1e3, this),
            this.refresh()
        }
        ,
        e.prototype.tick = function() {
            for (var t in null == this._tickObj && (this._tickObj = {
                heroGift: Object(r.d)("heroGift")
            }),
            this._tickObj) {
                var n = this._tickObj[t];
                n && u.a.isOver(n.end) && (this._tick.dispose(),
                this._tick = null,
                o.UI.remove(this),
                e.show().then((function() {
                    Object(o.tooltip)(Object(o.tr)("main@packageRef"))
                }
                )))
            }
        }
        ,
        e.prototype.getProxyItem = function(t, e) {
            var n = Object(r.d)(t);
            if (n)
                for (var i = 0; i < n.l.length; i++)
                    if (n.l[i].id == e)
                        return n.l[i];
            return null
        }
        ,
        e.prototype.getConfigItem = function(t, e) {
            for (var n = Object(o.getConfig)("activity_json")[t].list, i = 0; i < n.length; i++)
                if (n[i].uniqId == e)
                    return n[i];
            return null
        }
        ,
        e.prototype.onBuy = function() {
            var t = (new Date).getTime()
              , n = this._type + "_" + this._id;
            if (e.timeMap[n] && t - e.timeMap[n] < 3e4)
                Object(o.tooltip)(Object(o.tr)("main@isRecharge"));
            else {
                e.timeMap[n] = t;
                var i = this.getConfigItem(this._type, this._id);
                Object(vt.d)(i.rechargeId)
            }
        }
        ,
        e.prototype.onExit = function() {
            this.w && (this.w.unwatch(),
            this.w = null),
            this._tick && (this._tick.dispose(),
            this._tick = null),
            this.clear()
        }
        ,
        e.prototype.refresh = function() {
            var t = this
              , e = Object(r.d)("heroGift");
            if (null == e || null == e.l || e.l.length < 1)
                o.UI.remove(this);
            else {
                this._type = "heroGift",
                this._id = e.l[0].id;
                var n = e.l[0]
                  , i = this.getConfigItem(this._type, this._id);
                this.lbl_oldPrice.text = Object(o.tr)("main@price", {
                    num: Object(vt.c)(i, "showMoney", !1)
                }),
                this.w && this.w.unwatch();
                var a = function() {
                    n.hasOwnProperty("limit") ? (t.gp_soldOut.visible = 0 == n.limit,
                    t.btn_buy.visible = 0 != n.limit) : (t.gp_soldOut.visible = 0 != n.awded,
                    t.btn_buy.visible = 0 == n.awded),
                    Object(o.put)("xianpu_buyOver", n)
                };
                a(),
                n.hasOwnProperty("limit") ? this.w = eui.Watcher.watch(n, ["limit"], (function() {
                    a(),
                    t.updateGrowGift({
                        proxy: n,
                        conf: i
                    })
                }
                ), this) : this.w = eui.Watcher.watch(n, ["awded"], (function() {
                    t.refresh()
                }
                ), this),
                this.btn_buy.label = Object(o.tr)("main@growGiftPrice", {
                    num: Object(vt.c)(i, "rechargeNum")
                });
                var s = Object(o.getConfig)("recharge_json")[i.rechargeId];
                this.exp1.text = Object(o.tr)("main@getExp", {
                    num: s.vipExp
                }),
                "heroGift" == this._type ? this.updateHeroGift({
                    proxy: n,
                    conf: i
                }) : this.updateGrowGift({
                    proxy: n,
                    conf: i
                })
            }
        }
        ,
        e.prototype.updateHeroGift = function(t) {
            this.clear();
            var e = t.conf.awards
              , n = Object(o.getConfig)("item_json")[e[0].itemId].ResultVal1;
            e = e.slice(1);
            var i = _t.a.create(n);
            Object(gt.e)(this, i, "VHalf"),
            this.lbl_zzAll.text = Object(o.tr)("hero@zizhi", {
                num: i.zizhi
            }),
            this.list.itemRenderer = yt.a,
            Object(mt.a)(this.list, e),
            this.showAdd(t)
        }
        ,
        e.prototype.clear = function() {
            this.countdown && (this.countdown.dispose(),
            this.countdown = null),
            this.limitCountdown && (this.limitCountdown.dispose(),
            this.limitCountdown = null)
        }
        ,
        e.prototype.updateGrowGift = function(t) {
            this.clear(),
            this.node2.visible = !0,
            this.lbl_name.text = Object(o.tr)(t.conf.desc),
            this.lbl_remain.text = Object(o.tr)("hero@remain", {
                num: t.proxy.limit
            }),
            this.countdown = new Ot.a({
                component: this.lbl_time,
                endTime: Object(r.d)("heroGrowGift").end,
                trKey: function(t) {
                    return o.time.leftCountdown(t, Object(o.tr)("hero@countdown"))
                }
            }),
            this.list.itemRenderer = yt.a,
            Object(mt.a)(this.list, t.conf.awards),
            this.showAdd(t)
        }
        ,
        e.prototype.showAdd = function(t) {
            this.gp_xsjl.visible = this.addlist.visible = !1;
            var e = Object(r.d)("fsGiftRecharge")
              , n = u.a.getNow();
            if (e && e.start < n && n < e.end)
                for (var i in e.l) {
                    var a = Object(o.getConfig)("festivalActivity_json").fsGiftRecharge.list[0].detail;
                    for (var s in a)
                        e.l[i].id == a[s].uniqId && e.l[i].rechargeId == t.conf.rechargeId && (this.limitCountdown = new Ot.a({
                            component: this.lbl_time2,
                            endTime: e.end,
                            trKey: function(t) {
                                return o.time.leftCountdown(t, Object(o.tr)("hero@limitCountdown"))
                            }
                        }),
                        this.gp_xsjl.visible = !0,
                        this.addlist.visible = !0,
                        this.addlist.y = 330,
                        Object(mt.a)(this.addlist, a[s].awards))
                }
        }
        ,
        e.checkPackageTime = function(t) {
            var e = Object(r.d)(t);
            return e && u.a.isOver(e.end) ? Object(r.o)(t) : Promise.resolve()
        }
        ,
        e.show = function() {
            var t = [Object(s.a)("hero_json"), Object(s.a)("recharge_json"), Object(s.a)("festivalActivity_json")].concat(Object(bt.a)("hero_1&hero_2"), [this.checkPackageTime("heroGift")]);
            return Object(dt.b)(t).then((function() {
                Object(ft.a)(new e)
            }
            ))
        }
        ,
        e.timeMap = {},
        e
    }(o.UIComponent));
    var It = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Pt = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e._minPage = 1,
            e._maxPage = 1,
            e._pageIdx = 1,
            Object(o.setSkin)(e, "PanelCommonPackageSkin"),
            e
        }
        return It(e, t),
        e.prototype.onReady = function(t) {
            var e = this;
            if (this._type = t,
            this._proxy = Object(r.d)(t),
            this._maxPage = this._proxy.l.length,
            "dayGift" == this._type) {
                Object(o.put)("dayGift_red_hide"),
                this.lbl_title.text = Object(o.tr)("main@dayGift"),
                this.countNode.visible = !1;
                for (var n = 0; n < this._proxy.l.length; n++)
                    if (0 == this._proxy.l[n].awded) {
                        this._pageIdx = n + 1;
                        break
                    }
                this.on("refresh_funOpen", (function(t) {
                    "dayGift" == t && (e._proxy = Object(r.d)(t),
                    e._maxPage = e._proxy.l.length,
                    e.updateView())
                }
                ))
            } else if ("dailyGift" == this._type) {
                Object(o.put)("dailyGift_red_hide"),
                this.lbl_title.text = Object(o.tr)("main@dayGift"),
                this.countNode.visible = !1;
                for (n = 0; n < this._proxy.l.length; n++)
                    if (0 == this._proxy.l[n].awded) {
                        this._pageIdx = n + 1;
                        break
                    }
                this.on("refresh_funOpen", (function(t) {
                    "dailyGift" == t && (e._proxy = Object(r.d)(t),
                    e._maxPage = e._proxy.l.length,
                    e.updateView())
                }
                ))
            } else
                "flyGift1" == this._type && (this._cd = new Ot.a({
                    component: this.lbl_time,
                    endTime: this._proxy.extime
                }));
            this.tap("btn_left", this.onLeft, this),
            this.tap("btn_right", this.onRight, this),
            this.tap(this.subcomp("btn_buy"), this.onBuy, this),
            this.updateView()
        }
        ,
        e.prototype.onBuy = function() {
            if ("flyGift1" == this._type && u.a.isOver(this._proxy.extime))
                Object(o.tooltip)(Object(o.tr)("main@flyGift1Tip"));
            else {
                var t = this._type + "_" + this._pageIdx
                  , n = (new Date).getTime();
                e.timeMap[t] && n - e.timeMap[t] < 3e4 ? Object(o.tooltip)(Object(o.tr)("main@isRecharge")) : (e.timeMap[t] = n,
                Object(vt.d)(this._confItem.rechargeId))
            }
        }
        ,
        e.prototype.subcomp = function(t) {
            return this.package[t]
        }
        ,
        e.prototype.onLeft = function() {
            this._pageIdx > this._minPage && (this._pageIdx--,
            this.updateView())
        }
        ,
        e.prototype.onRight = function() {
            this._pageIdx < this._maxPage && (this._pageIdx++,
            this.updateView())
        }
        ,
        e.prototype.getConfigItem = function() {
            var t, e;
            if ("dailyGift" == this._type) {
                t = Object(o.getConfig)("festivalActivity_json")[this._type];
                var n = Object(r.d)(this._type);
                for (var i in t.list)
                    t.list[i].turn == n.cId && (e = t.list[i].detail)
            } else
                e = (t = Object(o.getConfig)("activity_json")[this._type]).list;
            return e[this._pageIdx - 1]
        }
        ,
        e.prototype.updateView = function() {
            this._w && this._w.unwatch(),
            this._confItem = this.getConfigItem(),
            this._proxyItem = this._proxy.l[this._pageIdx - 1],
            this._w = eui.Watcher.watch(this._proxyItem, ["awded"], this.updatePackage, this),
            1 == this._maxPage ? this.btn_left.visible = this.btn_right.visible = !1 : (this.btn_left.visible = this._pageIdx > this._minPage,
            this.btn_right.visible = this._pageIdx < this._maxPage),
            this.updatePackage()
        }
        ,
        e.prototype.onExit = function() {
            this._cd && (this._cd.dispose(),
            this._cd = null),
            this._w && (this._w.unwatch(),
            this._w = null)
        }
        ,
        e.prototype.updatePackage = function() {
            var t = this
              , e = this.package
              , n = e.list;
            if (n.itemRenderer = yt.a,
            Object(mt.a)(n, this._confItem.awards),
            e.gp_soldOut.visible = this._proxyItem.awded > 0,
            e.btn_buy.visible = 0 == this._proxyItem.awded,
            e.lbl_content.text = Object(o.tr)(this._confItem.desc),
            "dailyGift" == this._type) {
                e.img_line.visible = !1,
                e.img_price.visible = !0;
                var i = Object(o.getConfig)("recharge_json")[this._confItem.rechargeId];
                Object(c.x)((function() {
                    e.btn_buy.label = Object(o.tr)("main@growGiftPrice", {
                        num: Object(vt.c)(i, "recharge")
                    }),
                    e.lbl_price.text = Object(o.tr)("main@oldPrice", {
                        num: Object(vt.c)(t._confItem, "showMoney", !1)
                    })
                }
                ))
            } else
                e.img_line.visible = !0,
                e.img_price.visible = !1,
                e.btn_buy.label = Object(o.tr)("main@growGiftPrice", {
                    num: Object(vt.c)(this._confItem, "rechargeNum")
                }),
                e.lbl_price.text = Object(o.tr)("main@price", {
                    num: Object(vt.c)(this._confItem, "showMoney", !1)
                })
        }
        ,
        e.show = function(t) {
            Object(dt.b)([Object(s.a)("festivalActivity_json"), Object(s.a)("activity_json"), Object(s.a)("recharge_json")]).then((function(n) {
                Object(ft.a)(new e, t)
            }
            ))
        }
        ,
        e.timeMap = {},
        e
    }(o.UIComponent);
    var Ct = function() {};
    o.RedPointManager.injection(new Y.d("晚春奖励","teaScoreReward","festivalActivity_tea_json",1)),
    o.RedPointManager.injection(new Y.d("晚春任务","teaTask","festivalActivity_tea_json")),
    o.RedPointManager.injection(new o.RedPointGroup("晚春活动","晚春奖励","晚春任务")),
    o.RedPointManager.injection(new o.RedPointGroup("五一黄金周","晚春活动","抢福袋","退年兽"));
    var St = n(291)
      , Rt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Tt = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , Lt = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , At = function(t) {
        function e() {
            return t.call(this, "告白日行动点") || this
        }
        return Rt(e, t),
        e.prototype.init = function() {
            var t = this;
            this.check(),
            this.numWatch = z.e.watchNum(z.f.loveDc, this.check, this);
            var e = Object(r.d)("loveMap")
              , n = u.a.getNow(!0);
            e && e.start > n && egret.setTimeout((function() {
                t.updateTime()
            }
            ), this, e.start - n)
        }
        ,
        e.prototype.updateTime = function() {
            return Tt(this, void 0, void 0, (function() {
                return Lt(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Object(r.o)("mapTask")];
                    case 1:
                        return t.sent(),
                        Object(o.put)("refresh_time_confess"),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.check = function() {
            var t = z.e.getNum(z.f.loveDc);
            this.updateVisible(t > 0)
        }
        ,
        e
    }(o.RedBaseRule);
    o.RedPointManager.injection(new At),
    o.RedPointManager.injection(new Y.d("告白日积分奖励","mapDmReward","festivalActivity_map_json",1)),
    o.RedPointManager.injection(new Y.d("告白日任务","mapTask","festivalActivity_map_json")),
    o.RedPointManager.injection(new St.f("告白日累计充值","mapTotalRecharge","festivalActivity_re_json")),
    o.RedPointManager.injection(new St.d("告白日每日充值","mapDailyRecharge","festivalActivity_re_json")),
    o.RedPointManager.injection(new St.e("告白日累天充值","mapRechargeDay","festivalActivity_re_json")),
    o.RedPointManager.injection(new o.RedPointGroup("云海佳缘","告白日每日充值","告白日累天充值")),
    o.RedPointManager.injection(new o.RedPointGroup("告白日","告白日积分奖励","告白日任务","云海佳缘","告白日行动点"));
    var Mt = n(190)
      , Nt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Bt = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , Et = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , Dt = function(t) {
        function e(e) {
            var n = t.call(this, e) || this;
            return n.actName = "fairyBless",
            n
        }
        return Nt(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.actUpdate, this)
        }
        ,
        e.prototype.actUpdate = function(t) {
            t == this.actName && this.check()
        }
        ,
        e.prototype.check = function() {
            return Bt(this, void 0, void 0, (function() {
                var t, e, n;
                return Et(this, (function(i) {
                    return Object(r.e)(this.actName, !1) ? !(t = Object(r.d)(this.actName)).isAwd && t.totalNum >= 30 ? (this.updateVisible(!0),
                    [2]) : ((e = u.a.getNow()) >= t.time1Start && e <= t.time1End ? (this.updateVisible(t.openTime1 < 5),
                    egret.setTimeout(this.check, this, 1e3 * (t.time1End - e))) : e >= t.time2Start && e <= t.time2End ? (this.updateVisible(t.openTime2 < 5),
                    egret.setTimeout(this.check, this, 1e3 * (t.time2End - e))) : (this.updateVisible(!1),
                    n = void 0,
                    e < t.time1Start ? n = t.time1Start : e < t.time2Start && (n = t.time2Start),
                    n && egret.setTimeout(this.check, this, 1e3 * (n - e))),
                    [2]) : [2, this.updateVisible(!1)]
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule);
    o.RedPointManager.injection(new Dt("神女赐福")),
    o.RedPointManager.injection(new Y.d("周年秘宝进度","ydTimes","festivalActivity_year_json")),
    o.RedPointManager.injection(new Y.d("周年秘宝任务","ydTask","festivalActivity_year_json")),
    o.RedPointManager.injection(new Y.d("周年秘宝奖励","ydScore","festivalActivity_year_json",1)),
    o.RedPointManager.injection(new Y.b("周年秘宝礼包","ydGift",13,"lotGift")),
    o.RedPointManager.injection(new o.RedPointGroup("周年秘宝获取道具","周年秘宝任务","周年秘宝礼包")),
    o.RedPointManager.injection(new o.RedPointGroup("周年秘宝","周年秘宝获取道具","周年秘宝奖励","周年秘宝进度")),
    o.RedPointManager.injection(new Y.d("迷宫探索任务","emTask","festivalActivity_year_json")),
    o.RedPointManager.injection(new Y.d("迷宫探索奖励","emScore","festivalActivity_year_json",1)),
    o.RedPointManager.injection(new Y.b("迷宫探索礼包","emGift",13,"annualMapGift")),
    o.RedPointManager.injection(new o.RedPointGroup("迷宫探索获取道具","迷宫探索任务","迷宫探索礼包")),
    o.RedPointManager.injection(new o.RedPointGroup("迷宫探索","迷宫探索任务","迷宫探索奖励","迷宫探索礼包","云海佳缘")),
    o.RedPointManager.injection(new Y.d("周年兽奖励","yearBossLvReward","festivalActivity_year_json",1)),
    o.RedPointManager.injection(new o.RedPointGroup("周年兽","周年兽奖励")),
    o.RedPointManager.injection(new o.RedPointGroup("周年庆","神女赐福","周年秘宝","迷宫探索","周年兽"));
    var Gt = n(127)
      , Vt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Ut = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , Ht = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , Ft = function(t) {
        function e() {
            return t.call(this, "刑天出战") || this
        }
        return Vt(e, t),
        e.prototype.init = function() {
            this.updateVisible(Object(o.getCache)("Red.getInfo", "xingTian")),
            this.check(),
            Object(o.on)("refresh_funOpen", this.actUpdate, this),
            o.cache.onCache("XingTian.getInfo", this.check, this),
            o.cache.onChange("XingTian.getInfo", this.check, this),
            o.cache.onCache("hero.getHeroNumList", this.check, this)
        }
        ,
        e.prototype.actUpdate = function(t) {
            "fly" == t && this.check()
        }
        ,
        e.prototype.setTimeout = function(t) {
            this._tid && (egret.clearTimeout(this._tid),
            this._tid = 0),
            this._tid = egret.setTimeout(this.check, this, 1e3 * (t - u.a.getNow()))
        }
        ,
        e.prototype.check = function() {
            return Ut(this, void 0, void 0, (function() {
                var t, e, n, i;
                return Ht(this, (function(r) {
                    if (!Object(a.a)("fly"))
                        return [2, this.updateVisible(!1)];
                    if (!(t = Object(o.getCache)("XingTian.getInfo")))
                        return [2];
                    if (e = u.a.getNow(),
                    n = o.cache.get("hero.getHeroNumList", "l"),
                    e < t.monsterStart ? this.setTimeout(t.monsterStart) : e < t.monsterEnd ? this.setTimeout(t.monsterEnd) : e < t.bossStart ? this.setTimeout(t.bossStart) : e < t.bossEnd && this.setTimeout(t.bossEnd),
                    e >= t.bossStart && e < t.bossEnd && t.boss.hp)
                        if (n) {
                            for (i = 0; i < n.length; i++)
                                if (n[i].xtBoss > 0)
                                    return [2, this.updateVisible(!0)];
                            this.updateVisible(!1)
                        } else
                            this.updateVisible(!0);
                    else if (e >= t.monsterStart && e < t.monsterEnd && t.monster[t.monster.length - 1].hp)
                        if (n) {
                            for (i = 0; i < n.length; i++)
                                if (n[i].xtMonster > 0)
                                    return [2, this.updateVisible(!0)];
                            this.updateVisible(!1)
                        } else
                            this.updateVisible(!0);
                    else
                        this.updateVisible(!1);
                    return [2]
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule)
      , zt = function(t) {
        function e() {
            return t.call(this, "刑天成就") || this
        }
        return Vt(e, t),
        e.prototype.init = function() {
            o.cache.onCache("XingTian.getInfo", this.check, this),
            o.cache.onChange("XingTian.getInfo", this.check, this)
        }
        ,
        e.prototype.check = function() {
            return Ut(this, void 0, void 0, (function() {
                var t, e, n, i, r, a;
                return Ht(this, (function(s) {
                    switch (s.label) {
                    case 0:
                        return [4, RES.getResAsync("worldBoss_json")];
                    case 1:
                        if (s.sent(),
                        !(t = Object(o.getCache)("XingTian.getInfo")))
                            return [2, this.updateVisible(!1)];
                        for (e = t.achieve,
                        n = Object(Gt.e)("xtTask", 1, "worldBoss_json").detail,
                        i = t.hasOwnProperty("num"),
                        r = 0; r < n.length; r++)
                            if (!i || t.num >= n[r].num) {
                                for (a = 0; a < e.length; a++)
                                    if (!e[a].awded && e[a].id == n[r].id && (i || e[a].num >= n[r].num))
                                        return this.updateVisible(!0),
                                        [2];
                                this.updateVisible(!1)
                            }
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule);
    o.RedPointManager.injection(new Ft),
    o.RedPointManager.injection(new zt),
    o.RedPointManager.injection(new o.RedPointGroup("刑天","刑天出战","刑天成就"));
    var qt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Wt = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , Xt = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , Yt = function(t) {
        function e(e, n) {
            var i = t.call(this, e) || this;
            return i.activity = n,
            i.actName = "lanternParty",
            i
        }
        return qt(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.actUpdate, this);
            var t = Object(r.d)(this.actName);
            if (t) {
                var e, n = t.end - u.a.getNow();
                if (n > 0 && egret.setTimeout(this.check, this, 1e3 * n),
                "lantern" == this.activity)
                    if (t.lightStart > u.a.getNow())
                        (e = t.lightStart - u.a.getNow()) > 0 && egret.setTimeout(this.check, this, 1e3 * e);
                    else
                        (e = t.lightStart + 7200 - u.a.getNow()) > 0 && egret.setTimeout(this.check, this, 1e3 * e)
            }
        }
        ,
        e.prototype.actUpdate = function(t) {
            t == this.actName && this.check()
        }
        ,
        e.prototype.check = function() {
            return Wt(this, void 0, void 0, (function() {
                var t, e;
                return Xt(this, (function(n) {
                    if (!Object(r.e)(this.actName, !1))
                        return [2, this.updateVisible(!1)];
                    if (t = Object(r.d)(this.actName),
                    e = u.a.getNow(),
                    t.start > e || e > t.end)
                        return [2, this.updateVisible(!1)];
                    if ("lantern" == this.activity) {
                        if (u.a.getNow() + 2 >= t.lightStart + 7200)
                            return [2, this.updateVisible(!1)];
                        if (t.lanterNum > 0 || 1 == t.lanterStatus)
                            return [2, this.updateVisible(!0)]
                    } else if ("riddle" == this.activity && t.guessFree + t.guessNum > 0)
                        return [2, this.updateVisible(!0)];
                    return [2, this.updateVisible(!1)]
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule)
      , Jt = function(t) {
        function e() {
            var e = t.call(this, "灵兽幻境") || this;
            return e.actName = "lanternDreamland",
            e
        }
        return qt(e, t),
        e.prototype.init = function() {
            return Wt(this, void 0, void 0, (function() {
                var t, e;
                return Xt(this, (function(n) {
                    switch (n.label) {
                    case 0:
                        return [4, Object(s.a)("festivalActivity_oc_json")];
                    case 1:
                        return n.sent(),
                        this.check(),
                        Object(o.on)("refresh_funOpen", this.actUpdate, this),
                        o.cache.onChange("Bag.getList", this.check, this),
                        (t = Object(r.d)(this.actName)) && (e = t.end - u.a.getNow()) > 0 && egret.setTimeout(this.check, this, 1e3 * e),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.actUpdate = function(t) {
            t == this.actName && this.check()
        }
        ,
        e.prototype.check = function() {
            return Wt(this, void 0, void 0, (function() {
                var t, e, n, i, a, s;
                return Xt(this, (function(c) {
                    if (!Object(r.e)(this.actName, !1))
                        return [2, this.updateVisible(!1)];
                    if (t = Object(r.d)(this.actName),
                    e = u.a.getNow(),
                    t.start > e || e > t.end)
                        return [2, this.updateVisible(!1)];
                    if (!u.a.isCurDayFirst("bringUp")) {
                        for (n = Object(r.d)("lanternDreamland"),
                        i = Object(o.getConfig)("festivalActivity_oc_json").lanternDreamland.list[0].detail,
                        a = 0; a < i.length; a++)
                            if (n.level + 1 == i[a].id)
                                for (s = 0; s < i[a].cost.length; s++)
                                    if (i[a].cost[s].label == n.num + 1 && !z.e.hasEnough(i[a].cost[s].itemId, i[a].cost[s].num, !1))
                                        return [2, this.updateVisible(!1)];
                        return [2, this.updateVisible(!0)]
                    }
                    return [2, this.updateVisible(!1)]
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule);
    o.RedPointManager.injection(new Y.d("天帝宝库任务","ocTask","festivalActivity_oc_json")),
    o.RedPointManager.injection(new Y.d("天帝宝库奖励","ocTreasuryReward","festivalActivity_oc_json",1)),
    o.RedPointManager.injection(new o.RedPointGroup("天帝宝库","天帝宝库任务","天帝宝库奖励")),
    o.RedPointManager.injection(new Yt("祈天灯","lantern")),
    o.RedPointManager.injection(new Yt("猜灯谜","riddle")),
    o.RedPointManager.injection(new o.RedPointGroup("中秋灯会","祈天灯","猜灯谜")),
    o.RedPointManager.injection(new Jt),
    o.RedPointManager.injection(new o.RedPointGroup("国庆双节","天帝宝库","中秋灯会","灵兽幻境"));
    var $t = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Kt = function(t) {
        function e(e) {
            var n = t.call(this, e) || this;
            return n.actName = "tgMap",
            n
        }
        return $t(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.actUpdate, this)
        }
        ,
        e.prototype.actUpdate = function(t) {
            t == this.actName && this.check()
        }
        ,
        e.prototype.check = function() {
            var t = Object(o.getLocalStorage)().getString("explore_red_date");
            if (!t || Object(c.e)() > t)
                this.updateVisible(!0);
            else {
                if (Object(r.c)("tgMap") != r.b.noOpen) {
                    if (25 == Object(r.d)("tgMap").step)
                        return void this.updateVisible(!1);
                    if (z.e.getNum(15164) > 0)
                        return void this.updateVisible(!0)
                }
                this.updateVisible(!1)
            }
        }
        ,
        e
    }(o.RedBaseRule)
      , Qt = function(t) {
        function e() {
            var e = t.call(this, "感恩节任务") || this;
            return e._actName = "tgTask",
            e
        }
        return $t(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_funOpen", this.check, this),
            this.refresh()
        }
        ,
        e.prototype.check = function(t) {
            t == this._actName && this.refresh()
        }
        ,
        e.prototype.refresh = function() {
            var t = Object(r.d)(this._actName);
            if (t)
                for (var e = 0; e < t.l.length; e++)
                    if (0 == t.l[e].awded && t.l[e].num >= t.l[e].cnum)
                        return void this.updateVisible(!0);
            this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule);
    o.RedPointManager.injection(new Kt("感恩节进度")),
    o.RedPointManager.injection(new Qt),
    o.RedPointManager.injection(new o.RedPointGroup("感恩节","感恩节进度","感恩节任务"));
    var Zt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , te = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , ee = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , ne = function(t) {
        function e() {
            var e = t.call(this, "春节签到") || this;
            return e.actName = "nySign",
            e
        }
        return Zt(e, t),
        e.prototype.init = function() {
            this.updateVisible(!1),
            this.check(),
            Object(o.on)("refresh_funOpen", this.actUpdate, this)
        }
        ,
        e.prototype.actUpdate = function(t) {
            t == this.actName && this.check()
        }
        ,
        e.prototype.check = function() {
            return te(this, void 0, void 0, (function() {
                var t, e;
                return ee(this, (function(n) {
                    return t = u.a.timeStamp(u.a.getNow(), "YMD"),
                    (e = Object(r.d)(this.actName)).l && e.l.filter((function(e) {
                        return e.day == t
                    }
                    )).some((function(t) {
                        return 0 == t.awded
                    }
                    )) ? [2, this.updateVisible(!0)] : [2, this.updateVisible(!1)]
                }
                ))
            }
            ))
        }
        ,
        e.isLoginShow = function() {
            if (Object(a.a)("lv") < 11)
                return !1;
            var t = u.a.timeStamp(u.a.getNow(), "YMD")
              , e = Object(r.d)("nySign");
            if (e.l && e.l.filter((function(e) {
                return e.day <= t
            }
            )).some((function(t) {
                return 0 == t.awded
            }
            )))
                return !0;
            return !1
        }
        ,
        e
    }(o.RedBaseRule);
    o.RedPointManager.injection(new ne),
    o.RedPointManager.injection(new o.RedPointGroup("春节预热签到","春节签到"));
    var ie = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , oe = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , re = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , ae = function(t) {
        function e() {
            var e = t.call(this, "春节红包可领取") || this;
            return e.actName = "nyHongBao",
            e
        }
        return ie(e, t),
        e.prototype.init = function() {
            this.updateVisible(!1),
            this.check(),
            Object(o.on)("refresh_funOpen", this.actUpdate, this),
            Object(o.on)("refresh_countDown", this.actUpdate, this)
        }
        ,
        e.prototype.actUpdate = function(t) {
            t == this.actName && this.check()
        }
        ,
        e.prototype.check = function() {
            return oe(this, void 0, void 0, (function() {
                var t, e, n, i, o;
                return re(this, (function(a) {
                    switch (a.label) {
                    case 0:
                        return (t = Object(r.d)(this.actName)) && t.l ? [4, RES.getResAsync("festivalActivity_ny_json")] : [3, 2];
                    case 1:
                        if (a.sent(),
                        e = Object(Gt.e)(this.actName, 1, "festivalActivity_ny_json"),
                        n = e.detail.map((function(e) {
                            return new se(e,t.l.find((function(t) {
                                return t.id == e.id
                            }
                            )))
                        }
                        )),
                        i = u.a.getNow(),
                        o = new Date(1e3 * i).getHours(),
                        n.filter((function(t) {
                            return t.c.param1 <= o
                        }
                        )).some((function(t) {
                            return 0 == t.p.awded && t.p.hasNum < t.p.num
                        }
                        )))
                            return [2, this.updateVisible(!0)];
                        a.label = 2;
                    case 2:
                        return [2, this.updateVisible(!1)]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule)
      , se = function(t, e) {
        this.c = t,
        this.p = e
    };
    o.RedPointManager.injection(new ae),
    o.RedPointManager.injection(new o.RedPointGroup("春节红包","春节红包可领取"));
    var ce = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , ue = function(t) {
        function e() {
            var e = t.call(this, "腊八节进入") || this;
            return e.ACT_NAME = "lbMap",
            e.ACT_TASK = "lbTask",
            e
        }
        return ce(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.actUpdate, this),
            z.e.watchNum(10792, this.check, this)
        }
        ,
        e.prototype.actUpdate = function(t) {
            t == this.ACT_NAME && this.check()
        }
        ,
        e.prototype.check = function() {
            return u.a.isCurDayFirst("laba") || Object(r.e)(this.ACT_NAME, !1, r.a.close) && z.e.getNum(10792) > 0 ? this.updateVisible(!0) : void this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule);
    o.RedPointManager.injection(new ue),
    o.RedPointManager.injection(new Y.d("腊八任务","lbTask","festivalActivity_lb_json")),
    o.RedPointManager.injection(new Y.b("腊八礼包","lbShop",13,"labaTask")),
    o.RedPointManager.injection(new o.RedPointGroup("腊八节","腊八节进入","腊八任务","腊八礼包"));
    var he = n(132)
      , le = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , pe = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , fe = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , de = function(t) {
        function e() {
            return t.call(this, "仙兽御礼") || this
        }
        return le(e, t),
        e.prototype.init = function() {
            Object(o.on)("refresh_funOpen", this.onUpdate, this),
            Object(o.on)("refresh_xianShouGift", this.check, this),
            this.check()
        }
        ,
        e.prototype.onUpdate = function(t) {
            this.check()
        }
        ,
        e.prototype.check = function() {
            return pe(this, void 0, void 0, (function() {
                var t, e, n, i, o, a, c, h, l;
                return fe(this, (function(p) {
                    switch (p.label) {
                    case 0:
                        return t = !1,
                        e = !1,
                        Object(r.e)("hoDraw") && (n = Object(r.d)("hoDraw"),
                        t = n.drawNum > 0),
                        i = Object(r.d)("hoDraw"),
                        o = u.a.getNow(),
                        i && i.start <= o && i.awardEnd > o ? (a = Object(r.d)("hoScoreReward"),
                        null != Object(he.a)("festivalActivity_json") ? [3, 2] : [4, Object(s.a)("festivalActivity_json")]) : [3, 3];
                    case 1:
                        p.sent(),
                        p.label = 2;
                    case 2:
                        for (c = Object(r.d)("hoScoreReward").cId || 1,
                        h = Object(Gt.e)("hoScoreReward", c, "festivalActivity_json"),
                        l = 0; l < 3; l++)
                            if (a.num > h.detail[l].num && 0 == a.l[l].awded) {
                                e = !0;
                                break
                            }
                        p.label = 3;
                    case 3:
                        return this.updateVisible(t || e),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule);
    o.RedPointManager.injection(new de);
    var be = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , ge = function(t) {
        function e() {
            var e = t.call(this, "元宵节小汤勺") || this;
            return e.ACT_NAME = "yxDumpling",
            e
        }
        return be(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_lantern_festival", this.check, this),
            Object(o.on)("refresh_funOpen", this.actUpdate, this),
            z.e.watchNum(10806, this.check, this)
        }
        ,
        e.prototype.actUpdate = function(t) {
            "yxDumpling" == t && this.check()
        }
        ,
        e.prototype.check = function() {
            return u.a.isCurDayFirst("yxDumpling") || Object(r.e)(this.ACT_NAME, !1, r.a.close) && z.e.getNum(10806) > 0 ? this.updateVisible(!0) : void this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule)
      , _e = function(t) {
        function e() {
            return t.call(this, "元宵节大汤勺") || this
        }
        return be(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_lantern_festival", this.check, this),
            Object(o.on)("refresh_funOpen", this.actUpdate, this),
            z.e.watchNum(10807, this.check, this)
        }
        ,
        e.prototype.actUpdate = function(t) {
            "yxDumpling" == t && this.check()
        }
        ,
        e.prototype.check = function() {
            if (Object(r.e)("yxDumpling", !1, r.a.close) && z.e.getNum(10807) > 0)
                return this.updateVisible(!0);
            this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule);
    o.RedPointManager.injection(new ge),
    o.RedPointManager.injection(new _e),
    o.RedPointManager.injection(new Y.d("元宵任务","yxTask","festivalActivity_yx_json",r.a.normal)),
    o.RedPointManager.injection(new o.RedPointGroup("元宵节","元宵任务","元宵节大汤勺","元宵节小汤勺"));
    var me = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , ye = function(t) {
        function e() {
            var e = t.call(this, "福利小奖") || this;
            return e.actName = "valentineBless",
            e
        }
        return me(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.actUpdate, this)
        }
        ,
        e.prototype.actUpdate = function(t) {
            t == this.actName && this.check()
        }
        ,
        e.prototype.check = function() {
            if (!Object(r.e)(this.actName, !1))
                return this.updateVisible(!1);
            var t = Object(r.d)(this.actName)
              , e = u.a.getNow();
            this._endTid || (this._endTid = egret.setTimeout(this.check, this, 1e3 * (t.end - e + 1))),
            e >= t.cd ? this.updateVisible(t.num > 0) : (this.updateVisible(!1),
            this._tid && (egret.clearTimeout(this._tid),
            this._tid = 0),
            t.num && t.cd && (this._tid = egret.setTimeout(this.check, this, 1e3 * (t.cd - e))))
        }
        ,
        e
    }(o.RedBaseRule)
      , ve = function(t) {
        function e() {
            var e = t.call(this, "福利大奖") || this;
            return e.actName = "valentineBless",
            e
        }
        return me(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.actUpdate, this)
        }
        ,
        e.prototype.actUpdate = function(t) {
            t == this.actName && this.check()
        }
        ,
        e.prototype.check = function() {
            if (!Object(r.e)(this.actName, !1, r.a.close))
                return this.updateVisible(!1);
            var t = Object(r.d)(this.actName);
            !t.isAwd && t.totalNum >= 25 ? this.updateVisible(!0) : this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule);
    o.RedPointManager.injection(new ye),
    o.RedPointManager.injection(new ve),
    o.RedPointManager.injection(new o.RedPointGroup("福利抽奖","福利小奖","福利大奖"));
    var Oe = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , je = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , we = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , xe = function(t) {
        function e() {
            var e = t.call(this, "合服活动每日签到") || this;
            return e.actName = "merge",
            e
        }
        return Oe(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.actUpdate, this);
            var t = Object(r.d)(this.actName);
            if (t) {
                var e = t.end - u.a.getNow();
                e > 0 && egret.setTimeout(this.check, this, 1e3 * (e + 1));
                var n = t.start - u.a.getNow();
                n > 0 && egret.setTimeout(this.check, this, 1e3 * (n + 1))
            }
        }
        ,
        e.prototype.actUpdate = function(t) {
            t == this.actName && this.check()
        }
        ,
        e.prototype.check = function() {
            return je(this, void 0, void 0, (function() {
                var t, e, n;
                return we(this, (function(i) {
                    if (Object(r.c)("merge") == r.b.noOpen)
                        return [2];
                    for (t = Object(r.d)(this.actName).mergeDailySign,
                    e = u.a.getNow(),
                    n = 0; n < t.length; n++)
                        if (0 == t[n].state && e > t[n].time && e < t[n].time + 86400)
                            return this.updateVisible(!0),
                            [2];
                    return this.updateVisible(!1),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule)
      , ke = function(t) {
        function e() {
            var e = t.call(this, "合服活动充值福利") || this;
            return e.actName = "mergeRechargeRebate",
            e
        }
        return Oe(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.actUpdate, this)
        }
        ,
        e.prototype.actUpdate = function(t) {
            t == this.actName && this.check()
        }
        ,
        e.prototype.check = function() {
            return je(this, void 0, void 0, (function() {
                var t, e;
                return we(this, (function(n) {
                    for (t = Object(r.d)(this.actName),
                    e = 0; e < t.l.length; e++)
                        if (0 == t.l[e].awded && t.num >= t.l[e].num)
                            return this.updateVisible(!0),
                            [2];
                    return this.updateVisible(!1),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule)
      , Ie = function(t) {
        function e() {
            var e = t.call(this, "五行消除") || this;
            return e.actName = "merge",
            e
        }
        return Oe(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.actUpdate, this);
            var t = Object(r.d)(this.actName);
            if (t) {
                var e = t.end - u.a.getNow();
                e > 0 && egret.setTimeout(this.check, this, 1e3 * (e + 1));
                var n = t.start - u.a.getNow();
                n > 0 && egret.setTimeout(this.check, this, 1e3 * (n + 1))
            }
        }
        ,
        e.prototype.actUpdate = function(t) {
            t == this.actName && this.check()
        }
        ,
        e.prototype.check = function() {
            return je(this, void 0, void 0, (function() {
                var t, e;
                return we(this, (function(n) {
                    if (!Object(r.e)(this.actName, !1, r.a.normal))
                        return [2, this.updateVisible(!1)];
                    if (1 == (t = Object(r.d)(this.actName).mergePairMatch).cards[12].get)
                        return this.updateVisible(!1),
                        [2];
                    for (e = 0; e < t.cards.length; e++) {
                        if (0 == t.cards[e].get && t.num > 0)
                            return this.updateVisible(!0),
                            [2];
                        if (0 == t.cards[e].get && 0 == t.num && 7 != t.cards[e].card)
                            return this.updateVisible(!1),
                            [2]
                    }
                    return this.updateVisible(!0),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule)
      , Pe = function(t) {
        function e() {
            var e = t.call(this, "天命轮盘") || this;
            return e.actName = "merge",
            e
        }
        return Oe(e, t),
        e.prototype.init = function() {
            o.cache.onChange("Activity.getList", (function() {
                Object(o.put)("refresh_getGift")
            }
            ), this),
            this.check(),
            Object(o.on)("refresh_funOpen", this.actUpdate, this);
            var t = Object(r.d)(this.actName);
            if (t) {
                var e = t.end - u.a.getNow();
                e > 0 && egret.setTimeout(this.check, this, 1e3 * (e + 1));
                var n = t.start - u.a.getNow();
                n > 0 && egret.setTimeout(this.check, this, 1e3 * (n + 1))
            }
        }
        ,
        e.prototype.actUpdate = function(t) {
            t == this.actName && this.check()
        }
        ,
        e.prototype.check = function() {
            if (!Object(r.e)(this.actName, !1, r.a.normal))
                return this.updateVisible(!1);
            this.updateVisible(!0)
        }
        ,
        e
    }(o.RedBaseRule);
    o.RedPointManager.injection(new xe),
    o.RedPointManager.injection(new ke),
    o.RedPointManager.injection(new Ie),
    o.RedPointManager.injection(new Pe),
    o.RedPointManager.injection(new o.RedPointGroup("合服回馈","合服活动每日签到","合服活动充值福利")),
    o.RedPointManager.injection(new Y.d("神殊谛听","mergeBossTask","serverMergeActivity_json",0)),
    o.RedPointManager.injection(new Y.d("天命轮盘任务","mergePrizeWheelTask","serverMergeActivity_json")),
    o.RedPointManager.injection(new Y.a("天命轮盘兑换","mergePrizeWheelExchange","serverMergeActivity_json")),
    o.RedPointManager.injection(new Y.b("天命轮盘礼包","mergePrizeWheelPackage",32,"luckySqureGift")),
    o.RedPointManager.injection(new o.RedPointGroup("天命钥匙","天命轮盘任务","天命轮盘兑换","天命轮盘礼包")),
    o.RedPointManager.injection(new o.RedPointGroup("天命轮盘","天命钥匙")),
    o.RedPointManager.injection(new o.RedPointGroup("合服活动","合服回馈","五行消除","神殊谛听","天命轮盘"));
    var Ce = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Se = function(t) {
        function e() {
            return t.call(this, "云海探缘行动点") || this
        }
        return Ce(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.check, this),
            this.numWatch = z.e.watchNum(10794, this.check, this)
        }
        ,
        e.prototype.check = function() {
            if (Object(r.e)("mazeMap", !1, r.a.normal)) {
                var t = z.e.getNum(10794);
                this.updateVisible(t > 0)
            } else
                this.updateVisible(!1)
        }
        ,
        e
    }(o.RedBaseRule);
    o.RedPointManager.injection(new Se),
    o.RedPointManager.injection(new Y.d("云海探缘积分奖励","mmScore","festivalActivity_json",1)),
    o.RedPointManager.injection(new Y.d("云海探缘探索任务","mmTask","festivalActivity_json")),
    o.RedPointManager.injection(new Y.b("云海探缘探索礼包","mmGift","13","aunuaGift")),
    o.RedPointManager.injection(new o.RedPointGroup("云海探缘获取道具","云海探缘探索任务","云海探缘探索礼包")),
    o.RedPointManager.injection(new o.RedPointGroup("云海探缘","云海探缘积分奖励","云海探缘行动点","云海探缘探索礼包","云海探缘探索任务"))
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return b
    }
    ));
    var i, o = n(124), r = n(219), a = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), s = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.paddingLeft = 0,
            e.paddingRight = 0,
            e.paddingTop = 0,
            e.paddingBottom = 0,
            e.gap = 0,
            e.horizontalGap = 0,
            e.verticalGap = 0,
            e.$elementsPos = {},
            e.$startIndex = 0,
            e._orientation = 1,
            e
        }
        return a(e, t),
        e.prototype.cloneSetting = function(t) {
            this.paddingLeft = t.paddingLeft,
            this.paddingRight = t.paddingRight,
            this.paddingTop = t.paddingTop,
            this.paddingBottom = t.paddingBottom,
            this.gap = t.gap,
            this.horizontalGap = t.horizontalGap,
            this.verticalGap = t.verticalGap
        }
        ,
        e.prototype.invalidateSize = function() {}
        ,
        e.prototype.measure = function() {}
        ,
        e.prototype.invalidateDisplayList = function() {}
        ,
        e.prototype.getItemPos = function(t) {
            return this.$elementsPos[t]
        }
        ,
        e.prototype.clearItemPos = function(t) {
            void 0 === t && (t = void 0),
            null == t ? this.$elementsPos = {} : this.$elementsPos[t] && delete this.$elementsPos[t]
        }
        ,
        e.prototype.getVirtualElementAt = function(t) {
            return this.$elementsPos[t] ? {
                width: this.$elementsPos[t].width,
                height: this.$elementsPos[t].height,
                visible: !1
            } : null
        }
        ,
        e.prototype.setVirtualElementIndicesInView = function(t, e) {
            (this.$startIndex != t || this.$endIndex != e || this.needUpdateVirtual(t, e)) && (this.$startIndex = t,
            this.$endIndex = e,
            this.target.setVirtualElementIndicesInView(t, e))
        }
        ,
        e.prototype.needUpdateVirtual = function(t, e) {
            for (var n = this.target.$indexToRenderer || this.target._indexToRenderer, i = this.target.numElements, o = 0; o < i; o++)
                if (o >= t && o <= e)
                    ;
                else if (n[o])
                    return !0;
            return !1
        }
        ,
        e.prototype.rectContains = function(t) {
            return t.x + t.width >= this.target.scrollH && t.x < this.target.scrollH + this.target.width && t.y + t.height >= this.target.scrollV && t.y < this.target.scrollV + this.target.height
        }
        ,
        e.prototype.getIndexInView = function() {
            for (var t = this.$startIndex, e = this.$endIndex, n = this.target.numElements, i = 0; i < n; i++)
                this.$elementsPos[i] && this.rectContains(this.$elementsPos[i]) && (this.$startIndex = Math.min(i, this.$startIndex),
                this.$endIndex = i);
            return t != this.$startIndex || e != this.$endIndex || 0 == this.$endIndex && n > 0
        }
        ,
        e.prototype.scrollPositionChanged = function() {
            this.getIndexInView() && (this.indexInViewCalculated = !0,
            this.target.invalidateDisplayList())
        }
        ,
        e.prototype.updateDisplayList = function(t, e) {
            if (this.target) {
                this.indexInViewCalculated && (this.indexInViewCalculated = !1);
                for (var n, i = this.target.numElements, o = 0, r = 0, a = 0, s = 0, c = 0, u = 0, h = 0, l = 0, p = 0, f = 0, d = 0, b = 0, g = i - 1, _ = 0, m = 0; m < i; m++)
                    (n = this.target.getVirtualElementAt(m)) && (d = n.width,
                    b = n.height,
                    1 == this._orientation ? ((a += d) > t && (a = d,
                    s += h + this.verticalGap,
                    h = 0),
                    h = Math.max(h, b),
                    p = a - d,
                    f = s,
                    o = t,
                    r = Math.max(r, s + b),
                    s + b > this.target.scrollV && (g = Math.min(g, m)),
                    f - this.target.scrollV < e && (_ = Math.max(_, m)),
                    f + b - this.target.scrollV > 0 && f - this.target.scrollV < e ? (n || (n = this.target.getVirtualElementAt(m)),
                    n.setLayoutBoundsPosition(p, f),
                    n.visible = !0) : n && (n.visible = !1),
                    a += this.horizontalGap) : 2 == this._orientation && ((c += b) > e && (c = b,
                    u += l + this.horizontalGap,
                    l = 0),
                    l = Math.max(l, d),
                    p = u,
                    f = c - b,
                    o = Math.max(o, u + d),
                    r = e,
                    u + d > this.target.scrollH && (g = Math.min(g, m)),
                    p - this.target.scrollH < t && (_ = Math.max(_, m)),
                    p + d - this.target.scrollH > 0 && p - this.target.scrollH < t ? (n || (n = this.target.getVirtualElementAt(m)),
                    n.setLayoutBoundsPosition(p, f),
                    n.visible = !0) : n && (n.visible = !1),
                    c += this.verticalGap),
                    n.visible || this.target.recycleItemRenderer(m));
                this.setVirtualElementIndicesInView(g, _),
                this.target.setContentSize(o, r)
            }
        }
        ,
        e
    }(egret.EventDispatcher), c = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), u = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return c(e, t),
        e.prototype.updateDisplayList = function(t, e) {
            if (this.target) {
                this.indexInViewCalculated && (this.indexInViewCalculated = !1);
                for (var n, i, o = this.target.numElements, a = 0, s = 0, c = 0, u = o - 1, h = 0, l = 0; l < o && !((n = this.getVirtualElementAt(l) || this.target.getVirtualElementAt(l)) && (c = n.height,
                (a = (s = 0 == a ? this.paddingTop : a + this.gap) + c) > this.target.scrollV && (u = Math.min(u, l)),
                s - this.target.scrollV < e && (h = Math.max(h, l)),
                a > this.target.scrollV && s - this.target.scrollV < e ? (n instanceof r.a || (n = this.target.getVirtualElementAt(l)),
                n.setLayoutBoundsPosition(this.paddingLeft, s),
                n.visible = !0) : n.visible = !1,
                this.$elementsPos[l] = {
                    x: this.paddingLeft,
                    y: s,
                    width: n.width,
                    height: c
                },
                !n.visible && (this.target.recycleItemRenderer(l),
                h > u))); l++)
                    ;
                this.setVirtualElementIndicesInView(u, h),
                i = h >= o - 1 ? a + this.paddingBottom : a + (o - h - 1) * (c + this.gap) + this.paddingBottom,
                this.target.setContentSize(t, i)
            }
        }
        ,
        e
    }(s), h = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), l = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return h(e, t),
        e.prototype.updateDisplayList = function(t, e) {
            if (this.target) {
                this.indexInViewCalculated && (this.indexInViewCalculated = !1);
                for (var n, i, o = this.target.numElements, a = 0, s = 0, c = 0, u = o - 1, h = 0, l = 0; l < o && !((n = this.getVirtualElementAt(l) || this.target.getVirtualElementAt(l)) && (c = n.width,
                (a = (s = 0 == a ? this.paddingLeft : a + this.gap) + c) > this.target.scrollH && (u = Math.min(u, l)),
                s - this.target.scrollH < t && (h = Math.max(h, l)),
                a > this.target.scrollH && s - this.target.scrollH < t ? (n instanceof r.a || (n = this.target.getVirtualElementAt(l)),
                n.setLayoutBoundsPosition(s, this.paddingTop),
                n.visible = !0) : n.visible = !1,
                this.$elementsPos[l] = {
                    x: s,
                    y: this.paddingTop,
                    width: c,
                    height: n.height
                },
                !n.visible && (this.target.recycleItemRenderer(l),
                h > u))); l++)
                    ;
                this.setVirtualElementIndicesInView(u, h),
                i = h >= o - 1 ? a + this.paddingRight : a + (o - h - 1) * (c + this.gap) + this.paddingRight,
                this.target.setContentSize(i, e)
            }
        }
        ,
        e
    }(s), p = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), f = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.orientation = "rows",
            e
        }
        return p(e, t),
        Object.defineProperty(e.prototype, "rowCount", {
            get: function() {
                return this.requestedRowCount || this._rowCount
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "columnCount", {
            get: function() {
                return this.requestedColumnCount || this._columnCount
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.cloneSetting = function(e) {
            t.prototype.cloneSetting.call(this, e),
            this.orientation = e.orientation,
            this.requestedRowCount = e.requestedRowCount,
            this.requestedColumnCount = e.requestedColumnCount
        }
        ,
        e.prototype.updateDisplayList = function(t, e) {
            if (this.target) {
                this.indexInViewCalculated && (this.indexInViewCalculated = !1);
                var n, i, o, a = this.target.numElements, s = 0, c = 0, u = 0, h = 0, l = 0, p = 0, f = a - 1, d = 0, b = 0, g = 0;
                this._rowCount = this._columnCount = a > 0 ? 1 : 0;
                for (var _ = 0; _ < a && !((n = this.getVirtualElementAt(_) || this.target.getVirtualElementAt(_)) && (l = n.width,
                p = n.height,
                0 == s && (u = this.paddingTop),
                0 == c && (h = this.paddingLeft),
                "rows" == this.orientation ? 0 != c && (b++,
                h = c + this.horizontalGap,
                (this.requestedColumnCount > 0 ? b >= this.requestedColumnCount : h + l > t && h > this.paddingLeft) && (h = this.paddingLeft,
                u = s + this.verticalGap,
                this._rowCount++,
                this._columnCount = b,
                b = 0)) : "columns" == this.orientation && 0 != s && (g++,
                u = s + this.verticalGap,
                (this.requestedRowCount > 0 ? g >= this.requestedRowCount : u + p > e && u > this.paddingTop) && (u = this.paddingTop,
                h = c + this.horizontalGap,
                this._columnCount++,
                this._rowCount = g,
                g = 0)),
                s = u + p,
                (c = h + l) > this.target.scrollH && s > this.target.scrollV && (f = Math.min(f, _)),
                h - this.target.scrollH < t && u - this.target.scrollV < e && (d = Math.max(d, _)),
                c > this.target.scrollH && h - this.target.scrollH < t && s > this.target.scrollV && u - this.target.scrollV < e ? (n instanceof r.a || (n = this.target.getVirtualElementAt(_)),
                n.setLayoutBoundsPosition(h, u),
                n.visible = !0) : n.visible = !1,
                this.$elementsPos[_] = {
                    x: h,
                    y: u,
                    width: l,
                    height: p
                },
                !n.visible && (this.target.recycleItemRenderer(_),
                d > f))); _++)
                    ;
                this.setVirtualElementIndicesInView(f, d),
                d >= a - 1 ? (i = c + this.paddingRight,
                o = s + this.paddingBottom) : "columns" == this.orientation ? (i = c + Math.ceil((a - d - 1) / this.rowCount) * (l + this.horizontalGap) + this.paddingRight,
                o = s + this.paddingBottom) : (i = c + this.paddingRight,
                o = s + Math.ceil((a - d - 1) / this.columnCount) * (p + this.verticalGap) + this.paddingBottom),
                this.target.setContentSize(i, o)
            }
        }
        ,
        e
    }(s), d = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), b = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.itemSkinComp = new eui.Component,
            e._onceAppear = !0,
            e._appearIndex = 0,
            e._indexToRenderer = {},
            e._freeRenderers = [],
            e._selectedIndices = [],
            e._selectedIndex = -1,
            e._imgLayers = [new egret.DisplayObjectContainer],
            e._fntLayers = [new egret.DisplayObjectContainer],
            e._textLayers = [new egret.DisplayObjectContainer],
            e._compLayers = [new egret.DisplayObjectContainer],
            e._layers = [],
            e._layerGroupIndex = -1,
            e.updateLayers(),
            e
        }
        return d(e, t),
        e.prototype.updateLayers = function() {
            this.removeChildren();
            for (var t = 0; t < this._imgLayers.length; t++)
                this._layers.push(this._imgLayers[t]),
                this.addChild(this._imgLayers[t]),
                this._fntLayers[t] && (this._layers.push(this._fntLayers[t]),
                this.addChild(this._fntLayers[t])),
                this._textLayers[t] && (this._layers.push(this._textLayers[t]),
                this.addChild(this._textLayers[t])),
                this._compLayers[t] && (this._layers.push(this._compLayers[t]),
                this.addChild(this._compLayers[t]))
        }
        ,
        e.prototype.$onAddToStage = function(e, n) {
            t.prototype.$onAddToStage.call(this, e, n),
            this.addEventListener(egret.TouchEvent.TOUCH_BEGIN, this.onTouchBegin, this),
            this.addEventListener(egret.TouchEvent.TOUCH_END, this.onTouchEnd, this),
            this.addEventListener(egret.TouchEvent.TOUCH_CANCEL, this.onTouchCancle, this)
        }
        ,
        e.prototype.$onRemoveFromStage = function() {
            this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN, this.onTouchBegin, this),
            this.removeEventListener(egret.TouchEvent.TOUCH_END, this.onTouchEnd, this),
            this.removeEventListener(egret.TouchEvent.TOUCH_CANCEL, this.onTouchCancle, this),
            this._dataProvider && this._dataProvider.removeEventListener(eui.CollectionEvent.COLLECTION_CHANGE, this.onCollectionChange, this),
            this.diposeItemRenderers(),
            t.prototype.$onRemoveFromStage.call(this)
        }
        ,
        e.prototype.onTouchBegin = function(t) {
            this._touchDownItemRenderer = this.getItemRendererByPos(t.stageX, t.stageY),
            this.$stage.addEventListener(egret.TouchEvent.TOUCH_END, this.onStageTouchEnd, this)
        }
        ,
        e.prototype.onTouchCancle = function(t) {
            this._touchDownItemRenderer = null,
            this.$stage && this.$stage.removeEventListener(egret.TouchEvent.TOUCH_END, this.onStageTouchEnd, this)
        }
        ,
        e.prototype.onTouchEnd = function(t) {
            if (this._touchDownItemRenderer) {
                var e = this.getItemRendererByPos(t.stageX, t.stageY);
                e == this._touchDownItemRenderer && (e && (e.onTap(),
                eui.ItemTapEvent.dispatchItemTapEvent(this, eui.ItemTapEvent.ITEM_TAP, e)),
                this._touchDownItemRenderer = null)
            }
        }
        ,
        e.prototype.onStageTouchEnd = function(t) {
            this.$stage && this.$stage.removeEventListener(egret.TouchEvent.TOUCH_END, this.onStageTouchEnd, this),
            this._touchDownItemRenderer = null
        }
        ,
        e.prototype.getItemRendererByPos = function(t, e) {
            var n, i = this.globalToLocal(t, e);
            for (var o in this._indexToRenderer)
                if ((n = this._indexToRenderer[o]) && this.rectContains(n, i.x, i.y))
                    return n;
            return null
        }
        ,
        e.prototype.rectContains = function(t, e, n) {
            var i = this.scaleX
              , o = this.scaleY;
            return t.x <= e && t.x + t.width * i >= e && t.y <= n && t.y + t.height * o >= n
        }
        ,
        Object.defineProperty(e.prototype, "onceAppear", {
            get: function() {
                return this._onceAppear
            },
            set: function(t) {
                this._onceAppear = t
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "dataProvider", {
            get: function() {
                return this._dataProvider
            },
            set: function(t) {
                this._dataProvider != t && (this._dataProvider && this._dataProvider.removeEventListener(eui.CollectionEvent.COLLECTION_CHANGE, this.onCollectionChange, this),
                this._dataProvider = t,
                this._dataProvider.addEventListener(eui.CollectionEvent.COLLECTION_CHANGE, this.onCollectionChange, this),
                this.invalidateDisplayList())
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.clearItemPos = function(t) {
            this.$layout && this.$layout.clearItemPos(t)
        }
        ,
        e.prototype.onCollectionChange = function(t) {
            switch (t.kind) {
            case eui.CollectionEventKind.ADD:
                break;
            case eui.CollectionEventKind.REMOVE:
                this.clearItemPos(t.location);
                break;
            case eui.CollectionEventKind.UPDATE:
            case eui.CollectionEventKind.REPLACE:
                this.clearItemPos(t.location);
                break;
            case eui.CollectionEventKind.RESET:
            case eui.CollectionEventKind.REFRESH:
                this.clearItemPos();
                break;
            default:
                egret.$warn(2204, t.kind)
            }
            this.invalidateDisplayList()
        }
        ,
        e.prototype.$setLayout = function(t) {
            var e;
            return t instanceof eui.VerticalLayout ? e = new u : t instanceof eui.HorizontalLayout ? e = new l : t instanceof eui.TileLayout ? e = new f : t instanceof s || (e = new s),
            e.cloneSetting(t),
            t = e,
            this._layout != t && (this._layout && (this._layout.target = null),
            this._layout = t,
            this.$layout = t,
            t && (t.target = this),
            this.invalidateSize(),
            this.invalidateDisplayList(),
            !0)
        }
        ,
        e.prototype.parseItemSkin = function() {
            this.itemSkinComp.addEventListener(egret.Event.COMPLETE, this.itemSkin, this),
            this.itemSkinComp.skinName = this.itemRendererSkinName
        }
        ,
        e.prototype.itemSkin = function() {
            this.itemSkinComp.skin && (this.itemSkinComp.skin.skinParts,
            this.itemSkinComp.skin.$elementsContent,
            this.getItemSkin(this.itemRendererSkinName))
        }
        ,
        e.prototype.getItemSkin = function(t) {
            var e;
            if (t.prototype)
                e = new t;
            else if ("string" == typeof t) {
                var n = void 0
                  , i = t.trim();
                (n = "<" == i.charAt(0) ? EXML.parse(i) : egret.getDefinitionByName(t)) && (e = new n)
            } else
                e = t;
            return e
        }
        ,
        e.prototype.apartSkinToLayer = function(t) {
            this._layerGroupIndex++;
            for (var e = t.$elementsContent, n = e.length, i = {
                img: -1,
                text: -1,
                comp: -1,
                fnt: -1
            }, o = 0; o < n; o++)
                this.addChildToLayer(e[o], i)
        }
        ,
        e.prototype.addChildToLayer = function(t, e) {
            void 0 === e && (e = {
                img: -1,
                text: -1,
                comp: -1,
                fnt: -1
            }),
            t instanceof egret.Bitmap || t instanceof eui.Group && 0 == t.numChildren ? (e.img++,
            this._imgLayers[0].addChildAt(t, (e.img + 1) * this._layerGroupIndex + e.img)) : t instanceof eui.BitmapLabel ? (e.fnt++,
            this._fntLayers[0].addChildAt(t, (e.fnt + 1) * this._layerGroupIndex + e.fnt)) : t instanceof egret.TextField ? (e.text++,
            this._textLayers[0].addChild(t)) : (t.$children && t.$children.length,
            e.comp++,
            this._compLayers[0].addChildAt(t, (e.comp + 1) * this._layerGroupIndex + e.comp))
        }
        ,
        e.prototype.createChildren = function() {
            this._layout || this.$setLayout(new s),
            this.initializeStates(this.$stage)
        }
        ,
        e.prototype.updateDisplayList = function(t, e) {
            this._layout && this._layout.updateDisplayList(t, e),
            this.updateScrollRect()
        }
        ,
        e.prototype.itemToRendererClass = function(t) {
            var e;
            return this.itemRendererFunction && (e = this.itemRendererFunction(t)),
            e || (e = this.itemRenderer),
            e || (e = r.a),
            e.$hashCode || (e.$hashCode = egret.$hashCount++),
            e
        }
        ,
        e.prototype.getFreeRenderer = function(t, e) {
            var n, i = -1, o = this._freeRenderers.length;
            if (o > 0) {
                for (var r = 0; r < o; r++)
                    if (this._freeRenderers[r]instanceof t) {
                        if (this._freeRenderers[r].data == e) {
                            n = this._freeRenderers.splice(r, 1)[0];
                            break
                        }
                        i = r
                    }
                !n && i >= 0 && (n = this._freeRenderers.splice(i, 1)[0])
            }
            return n
        }
        ,
        e.prototype.playItemEffect = function(t) {
            t.playEffect && t.playEffect()
        }
        ,
        e.prototype.defaultAppearFunction = function(t, e) {
            var n = this;
            return !this._defaultAppearArr && this.dataProvider && (this._defaultAppearArr = new Array(this.dataProvider.length),
            this._appearTid = egret.setInterval((function() {
                n._defaultAppearArr[++n._appearIndex] = !0,
                n._appearIndex >= n.dataProvider.length && (egret.clearInterval(n._appearTid),
                n._appearTid = 0),
                n.invalidateDisplayList()
            }
            ), this, 100)),
            this._defaultAppearArr[t]
        }
        ,
        e.prototype.getAppear = function(t, e) {
            return !!this.onceAppear || (0 == t || (this.itemAppearFunction ? this.itemAppearFunction(t, e) : this.defaultAppearFunction(t, e)))
        }
        ,
        e.prototype.getItemRenderer = function(t, e) {
            var n, i;
            void 0 === e && (e = !0);
            var o = this.itemToRendererClass(t);
            if (n = this.getFreeRenderer(o, t))
                n.__virtual__ && (n.__virtual__ = !1);
            else {
                n || (n = new o);
                var r = this.getItemSkin(n.skinName || this.itemRendererSkinName);
                r && (r.hostComponent = this,
                n.setSkin(r),
                this.apartSkinToLayer(r)),
                i = !0
            }
            return n.scaleX = n.scaleY = 1,
            n.x = n.y = 0,
            n.visible = !0,
            e && i && this.playItemEffect(n),
            n
        }
        ,
        e.prototype.updateRenderer = function(t, e, n, i) {
            return void 0 === i && (i = !0),
            t.itemIndex = e,
            t.data = n,
            this._selectedIndices && -1 != this._selectedIndices.indexOf(e) ? t.selected = !0 : t.selected = !1,
            t
        }
        ,
        e.prototype.getVirtualElementAt = function(t) {
            var e, n = this.dataProvider.getItemAt(t);
            return this.getAppear(t, n) ? (!this.itemRendererFunction || !this._indexToRenderer[t] || this._indexToRenderer[t]instanceof this.itemToRendererClass(n) || this.recycleItemRenderer(t),
            e = this._indexToRenderer[t] || this.getItemRenderer(n),
            this._indexToRenderer[t] = e,
            this.updateRenderer(e, t, n),
            e) : (this._tempRenderer || (this._tempRenderer = this.getItemRenderer(n, !1),
            this._tempRenderer.visible = !1,
            this._tempRenderer.__virtual__ = !0),
            this._tempRenderer)
        }
        ,
        e.prototype.setVirtualElementIndicesInView = function(t, e) {
            if (this._layout)
                for (var n = Object.keys(this._indexToRenderer), i = n.length, o = 0; o < i; o++) {
                    var r = +n[o];
                    (r < t || r > e) && this.recycleItemRenderer(r)
                }
        }
        ,
        e.prototype.recycleItemRenderer = function(t) {
            var e = this._indexToRenderer[t];
            this._indexToRenderer[t] = null,
            e && (e.visible = !1,
            this._freeRenderers.push(e))
        }
        ,
        e.prototype.diposeItemRenderers = function() {
            for (var t in this._indexToRenderer)
                this._indexToRenderer[t] && this._indexToRenderer[t].dispose();
            for (this._indexToRenderer = {}; this._freeRenderers.length; )
                this._freeRenderers.pop().dispose();
            this._tempRenderer && (this._tempRenderer.dispose(),
            this._tempRenderer = null)
        }
        ,
        e
    }(eui.Group);
    Object.defineProperty(b.prototype, "numElements", {
        get: function() {
            return this._dataProvider ? this._dataProvider.length : 0
        },
        enumerable: !0,
        configurable: !0
    }),
    Object(o.a)("FastList", b)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return F
    }
    ));
    var i, o = n(1), r = n(376), a = n(146), s = n(302), c = n(135), u = n(350), h = n(352), l = n(4), p = n(130), f = n(371), d = n(200), b = n(372), g = n(349), _ = n(381), m = n(181), y = n(364), v = n(361), O = n(108), j = n(107), w = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), x = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelShopGetRewardSkin"),
            e
        }
        return w(e, t),
        e.prototype.onReady = function(t, e, n) {
            var i = this
              , r = Object(o.getConfig)("blackShopItem_json")[t.id];
            this.lbl_rewardName.text = r.name,
            this.lbl_rewardDesc.text = r.des,
            this.lbl_rewardNum.text = Object(o.tr)("main@blankShopTip", {
                num: r.num
            });
            var a = "item_" + r.icon + "_png";
            1 == r.itemType && (a = "equip_" + r.icon + "_png");
            var s = {
                quality: r.quality,
                icon: a,
                num: 1
            };
            this.reward.data = s,
            this.reward.canPreview = !1,
            this.tap("btn_take", this.onTake, this),
            this.reward.visible = !1,
            this.btn_take.visible = !1;
            var c = o.Movie.create("heishi_2_ske_json");
            c.play("1", 1),
            this.contentNode.addChild(c),
            egret.callLater((function() {
                c.x = 320,
                c.y = 220
            }
            ), this),
            c.once(o.MovieEvent.COMPLETE, (function() {
                if (i.reward.visible = !0,
                i.btn_take.visible = !0,
                t.quality == n) {
                    var e = o.Movie.create("heishi_3_ske_json");
                    e.play("1"),
                    i._mv = e,
                    i.contentNode.addChildAt(i._mv, 1),
                    e.x = i.reward.x + 50,
                    e.y = i.reward.y + 50
                }
                c.dispose()
            }
            ), this)
        }
        ,
        e.prototype.onTake = function() {
            o.UI.remove(this),
            this._mv && this._mv.dispose()
        }
        ,
        e
    }(o.UIComponent), k = n(106), I = n(122), P = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), C = function(t) {
        function e(e, n, i) {
            var r = t.call(this) || this;
            return r.time = e,
            r.arr = n,
            r.cb = i,
            r.rndTickId = 0,
            Object(o.setSkin)(r, "BlackMarketSkin"),
            r
        }
        return P(e, t),
        e.prototype.onReady = function() {
            this.pgb_countdown.maximum = 3e5,
            this.time <= 0 ? (this.pgb_countdown.value = 0,
            this.update()) : (this.pgb_countdown.value = this.time / 30 * 3e5,
            egret.Tween.get(this.pgb_countdown).to({
                value: 0
            }, 3e4),
            egret.clearInterval(this.tickId),
            this.tickId = egret.setInterval(this.tick, this, 1e3),
            this.update()),
            this.disposeArr.push(Object(I.c)(this.list, this.onTapItem, this)),
            this.refreshList(),
            this.time > 0 && this.rand()
        }
        ,
        e.prototype.rand = function() {
            var t = this
              , e = o.numbers.getRandomInt(1, 10)
              , n = 3;
            e <= 5 ? n = 1 : e <= 8 && (n = 2),
            egret.clearTimeout(this.rndTickId),
            this.rndTickId = egret.setTimeout((function() {
                var e = 3
                  , n = o.numbers.getRandomInt(1, 10);
                n <= 5 ? e = 1 : n <= 9 && (e = 2);
                for (var i = new egret.Point, r = 1; r <= e; r++) {
                    var a = o.numbers.getRandomInt(0, 11)
                      , s = t.list.getElementAt(a);
                    if (s) {
                        i = s.localToGlobal(90, 110, i),
                        i = t.globalToLocal(i.x, i.y, i);
                        var c = s.data.quality;
                        if (c > 0) {
                            var u = o.Movie.create("heishi_1_ske_json");
                            u.play({
                                1: "3",
                                2: "4",
                                3: "5",
                                4: "1"
                            }[c], 1),
                            t.addChild(u),
                            u.x = i.x - 5,
                            u.y = i.y + 10,
                            t.disposeArr.push(t.removeMv(u))
                        }
                    }
                }
                t.rand()
            }
            ), this, 1e3 * n)
        }
        ,
        e.prototype.removeMv = function(t) {
            return {
                dispose: function() {
                    t.dispose()
                }
            }
        }
        ,
        e.prototype.getMaxQuality = function() {
            for (var t = -1, e = 0; e < this.arr.length; e++) {
                var n = this.arr[e].quality;
                4 != n && n > t && (t = n)
            }
            return t
        }
        ,
        e.prototype.onTapItem = function(t) {
            var e = this
              , n = t.item;
            Object(j.d)("s.e", {
                id: n.id
            }).then((function(t) {
                t && Object(k.a)(new x, n, t, e.getMaxQuality()).exit((function() {
                    o.display.removeFromParent(e)
                }
                ))
            }
            ))
        }
        ,
        e.prototype.refreshList = function() {
            this.list.itemNotice = "tap_blank_item",
            Object(O.a)(this.list, this.arr)
        }
        ,
        e.prototype.update = function() {
            this.label_time.textFlow = (new egret.HtmlTextParser).parser(Object(o.tr)("main@blankCountdown", {
                sec: this.time
            }))
        }
        ,
        e.prototype.onExit = function() {
            egret.clearInterval(this.tickId),
            egret.clearTimeout(this.rndTickId),
            this.cb && (this.cb(),
            this.cb = null)
        }
        ,
        e.prototype.tick = function() {
            this.time--,
            this.time < 0 && (this.time = 0,
            egret.clearTimeout(this.rndTickId)),
            this.update()
        }
        ,
        e
    }(o.Component), S = n(348), R = n(109), T = n(118), L = n(114), A = n(160), M = n(123), N = n(112), B = n(111), E = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), D = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, G = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, V = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "BlackRuleSkin"),
            e
        }
        return E(e, t),
        e.prototype.onReady = function(t) {
            this.addBehavior(new T.a),
            this.proxyData = t,
            this.refreshView(),
            this.tap("btn_open", this.onOpen, this),
            Object(o.put)("refresh_Shop_red"),
            this.tap("btn_adv", (function() {
                A.d.show({
                    isIcon: !1,
                    type: "blackMarketTwo",
                    state: "heishi",
                    confId: 12
                })
            }
            ), this),
            this.disposeArr.push(Object(M.b)("黑市入口激励视频", this.btn_adv)),
            this.on("refresh_advert_success", this.updateView, this)
        }
        ,
        e.prototype.refreshView = function() {
            var t = this.proxyData;
            Object(S.a)() && t && t.list && t.list.length > 0 ? this.openMarketView(0, t.list) : this.updateView()
        }
        ,
        e.prototype.updateView = function() {
            var t = this.proxyData;
            if (Object(S.a)()) {
                var e = t.num;
                0 == e ? (this.gp_open.visible = !1,
                this.gp_close.visible = !0,
                this.tip1.text = Object(o.tr)("main@blankLimit"),
                this.tip2.text = Object(o.tr)("main@blankReset")) : (this.gp_open.visible = !0,
                this.gp_close.visible = !1,
                this.openTip.textFlow = (new egret.HtmlTextParser).parser(Object(o.tr)("main@blankTime", {
                    num: e
                })))
            } else
                this.gp_open.visible = !1,
                this.gp_close.visible = !0,
                this.tip1.text = Object(o.tr)("main@blankUnlock"),
                this.tip2.text = Object(o.tr)("main@blankUnlockCond");
            this.refreshAdvert()
        }
        ,
        e.prototype.openMarketView = function(t, e) {
            var n = this
              , i = new C(t,e,(function() {
                n.updateView()
            }
            ));
            this.addChild(i),
            i.bottom = 0
        }
        ,
        e.prototype.onOpen = function() {
            var t = this;
            L.e.hasEnough(L.f.lingshi, 100) && Object(j.d)("s.f").then((function(e) {
                e && t.openMarketView(30, t.proxyData.list)
            }
            ))
        }
        ,
        e.prototype.refreshAdvert = function() {
            var t = Object(N.d)("shareSwitch");
            t && p.b.isOpen("advert") && Object(S.a)() ? this.btn_adv.visible = t.ids.blackMarketTwo.num > 0 && B.a.getNow() > t.ids.blackMarketTwo.time && this.proxyData.num < 3 : this.btn_adv.visible = !1
        }
        ,
        e.show = function() {
            return D(this, void 0, void 0, (function() {
                return G(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Object(R.a)("blackShopItem_json")];
                    case 1:
                        return t.sent(),
                        Object(S.a)() ? Object(o.hasCache)("blackShop.getList") ? Object(k.a)(new e, Object(o.getCache)("blackShop.getList")) : Object(j.d)("s.d").then((function(t) {
                            t && (o.cache.set("blackShop.getList", t),
                            Object(k.a)(new e, t))
                        }
                        )) : Object(k.a)(new e),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent), U = n(113), H = function(t, e, n, i) {
        var o, r = arguments.length, a = r < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
            a = Reflect.decorate(t, e, n, i);
        else
            for (var s = t.length - 1; s >= 0; s--)
                (o = t[s]) && (a = (r < 3 ? o(a) : r > 3 ? o(e, n, a) : o(e, n)) || a);
        return r > 3 && a && Object.defineProperty(e, n, a),
        a
    }, F = function() {
        function t() {}
        return t.prototype.close = function(t, e, n) {
            o.UI.remove(n)
        }
        ,
        t.prototype.help = function(t, e, n) {}
        ,
        t.prototype.getWay = function(t, e) {
            switch (console.log("跳转到功能" + t),
            t) {
            case 101:
                if (!Object(m.a)())
                    return void Object(o.tooltip)(Object(o.tr)("main@nobuy"));
                a.b.show(a.c.recharge);
                break;
            case 1001:
                a.b.show(a.c.xianyu).then((function(t) {
                    e && Object(l.injectionBtn)(t, "fshs", {
                        x: 46,
                        y: 56
                    })
                }
                ));
                break;
            case 1002:
                s.a.show(a.c.xianzhi);
                break;
            case 1003:
                c.a.zongMenDuihuan();
                break;
            case 1004:
                c.a.openGuildShop();
                break;
            case 1005:
                c.a.openFishShop();
                break;
            case 1006:
                c.a.openXiongshouShop();
                break;
            case 1007:
                c.a.openMenpaiJishi();
                break;
            case 1008:
                c.a.openYanwuDuihuan();
                break;
            case 1009:
                c.a.openRemainsShop();
                break;
            case 1010:
                c.a.openJiuyouShop();
                break;
            case 1011:
                c.a.openLing(2);
                break;
            case 1012:
                c.a.openGodPVPShop();
                break;
            case 1013:
                h.a.show("tab2");
                break;
            case 1014:
                a.b.show(a.c.cangjing);
                break;
            case 1015:
                c.a.openShopGift();
                break;
            case 1016:
                c.a.openActBossShop();
                break;
            case 1017:
                c.a.openCrossBossShop();
                break;
            case 1018:
                y.a.show();
                break;
            case 2001:
                c.a.openLingshan();
                break;
            case 2002:
                c.a.openGuildBuild();
                break;
            case 2003:
                c.a.openJiayan();
                break;
            case 2004:
                c.a.openChumo();
                break;
            case 2005:
                c.a.openWeidao();
                break;
            case 2006:
                c.a.openChuqiao();
                break;
            case 2007:
                c.a.openMystery();
                break;
            case 2008:
                c.a.openXiongshou();
                break;
            case 2009:
                c.a.openDigong();
                break;
            case 2010:
                c.a.openFish();
                break;
            case 2011:
                c.a.openMenpaDating();
                break;
            case 2012:
                c.a.openMenpaiLilian();
                break;
            case 2013:
                c.a.openYanwu();
                break;
            case 2014:
                _.a.show();
                break;
            case 1014:
                a.b.show(a.c.cangjing);
                break;
            case 2015:
                c.a.openLingqi();
                break;
            case 2016:
                c.a.openYouliChuqiao();
                break;
            case 2017:
                if (o.UI.hasUIComponent("MoyuView")) {
                    var n = o.UI.getUIComponent("MoyuView");
                    n.parent.addChild(n)
                } else
                    c.a.openJiuyou();
                break;
            case 2018:
                c.a.openSuoYaota();
                break;
            case 2019:
                c.a.openYouli(1);
                break;
            case 2020:
                c.a.openFengshentai();
                break;
            case 2021:
                c.a.openLingxiaodian();
                break;
            case 2022:
                c.a.openGodPVP();
                break;
            case 2023:
                c.a.openExplore();
                break;
            case 2024:
                c.a.openLing(1);
                break;
            case 2025:
                u.a.show();
                break;
            case 2026:
                c.a.openLundao();
                break;
            case 2027:
                c.a.openRemains();
                break;
            case 2028:
                f.a.show();
                break;
            case 2029:
                d.a.show();
                break;
            case 2030:
                c.a.openGuildBuild();
                break;
            case 2031:
                if (e) {
                    var i = {
                        2: {
                            host: o.ComponentType.Scene,
                            btn: "zongmen",
                            offset: {
                                x: 100,
                                y: 80
                            }
                        },
                        3: {
                            host: o.ComponentType.Scene,
                            sub: "menu_1",
                            btn: "bag",
                            offset: {
                                x: 45,
                                y: 55
                            }
                        },
                        4: {
                            host: o.ComponentType.Scene,
                            btn: "mainjiyuan",
                            offset: {
                                x: 46,
                                y: 56
                            }
                        },
                        5: {
                            host: o.ComponentType.Scene,
                            sub: "menu_1",
                            btn: "btnxianmeng",
                            offset: {
                                x: 46,
                                y: 56
                            }
                        }
                    };
                    i[e] && (i[e].host == o.ComponentType.Scene && Object(o.put)("resetScenePos"),
                    i[e].sub ? Object(l.injectionBtn)(o.UI.getUIComponent(i[e].host)[i[e].sub], i[e].btn, i[e].offset) : Object(l.injectionBtn)(o.UI.getUIComponent(i[e].host), i[e].btn, i[e].offset))
                }
                break;
            case 2032:
                f.a.show("2");
                break;
            case 2033:
                c.a.openRaid().then((function(t) {
                    if (e && t) {
                        var n = {
                            2: {
                                btn: "mission2",
                                offset: {
                                    x: 54,
                                    y: 77
                                }
                            },
                            3: {
                                btn: "mission3",
                                offset: {
                                    x: 54,
                                    y: 77
                                }
                            },
                            4: {
                                btn: "xiongshou",
                                offset: {
                                    x: 45,
                                    y: 57
                                }
                            },
                            5: {
                                btn: "mission5",
                                offset: {
                                    x: 54,
                                    y: 77
                                }
                            },
                            6: {
                                btn: "chuqiao",
                                offset: {
                                    x: 45,
                                    y: 57
                                }
                            },
                            7: {
                                btn: "diaoyu",
                                offset: {
                                    x: 45,
                                    y: 57
                                }
                            },
                            8: {
                                btn: "cave",
                                offset: {
                                    x: 45,
                                    y: 57
                                }
                            },
                            9: {
                                btn: "mission7",
                                offset: {
                                    x: 54,
                                    y: 77
                                }
                            },
                            10: {
                                btn: "mission10",
                                offset: {
                                    x: 54,
                                    y: 77
                                }
                            },
                            11: {
                                btn: "cddigong",
                                offset: {
                                    x: 45,
                                    y: 57
                                }
                            }
                        };
                        if (n[e]) {
                            var i = o.UI.getUIComponent(t.RaidPanel);
                            Object(l.injectionBtn)(i, n[e].btn, n[e].offset)
                        }
                    }
                }
                ));
                break;
            case 2034:
                c.a.openHome().then((function(t) {
                    if (t && e) {
                        var n = {
                            1: {
                                btn: "dfjy",
                                offset: {
                                    x: 150,
                                    y: 105
                                }
                            },
                            2: {
                                btn: "dfdl",
                                offset: {
                                    x: 95,
                                    y: 108
                                }
                            },
                            3: {
                                btn: "dfqs",
                                offset: {
                                    x: 90,
                                    y: 125
                                }
                            },
                            4: {
                                btn: "dfjs",
                                offset: {
                                    x: 150,
                                    y: 100
                                }
                            },
                            5: {
                                btn: "qfwf",
                                offset: {
                                    x: 150,
                                    y: 100
                                }
                            }
                        };
                        n[e] && Object(l.injectionBtn)(t, n[e].btn, n[e].offset)
                    }
                }
                ));
                break;
            case 2035:
                b.a.show();
                break;
            case 2036:
                c.a.zongMen().then((function(t) {
                    if (e) {
                        var n = {
                            1: {
                                btn: "zm",
                                offset: {
                                    x: 100,
                                    y: 175
                                }
                            },
                            2: {
                                btn: "zmrw",
                                offset: {
                                    x: 50,
                                    y: 55
                                }
                            },
                            3: {
                                btn: "zmzl",
                                offset: {
                                    x: 100,
                                    y: 175
                                }
                            },
                            4: {
                                btn: "zmcg",
                                offset: {
                                    x: 50,
                                    y: 55
                                }
                            }
                        };
                        if (n[e]) {
                            var i = o.UI.getUIComponent(t.UnionMainView);
                            Object(l.injectionBtn)(i, n[e].btn, n[e].offset)
                        }
                    }
                }
                ));
                break;
            case 2037:
                c.a.openGuildTech();
                break;
            case 2038:
                c.a.openHero();
                break;
            case 2039:
                c.a.onXunShou();
                break;
            case 2040:
                c.a.openYouli();
                break;
            case 2041:
                g.a.show();
                break;
            case 2042:
                c.a.openHonorList();
                break;
            case 2043:
                c.a.openHuanyige();
                break;
            case 2044:
                V.show();
                break;
            case 2045:
                c.a.openGuildTask();
                break;
            case 2046:
                if (Object(U.a)("lv") < 41)
                    return void Object(o.tooltip)(Object(o.tr)("main@lingmaiTip"));
                f.a.show("3");
                break;
            case 2047:
                a.b.show(a.c.lingbao);
                break;
            case 2048:
                a.b.show(a.c.cangjing);
                break;
            case 2049:
                a.b.show(a.c.xianyu);
                break;
            case 2050:
                a.b.show(a.c.weiwang);
                break;
            case 2051:
                a.b.show(a.c.recharge);
                break;
            case 2052:
                s.a.show(a.c.xianzhi);
                break;
            case 2053:
                s.a.show(a.c.jingshu);
                break;
            case 2054:
                s.a.show(a.c.qizhen);
                break;
            case 2055:
                s.a.show(a.c.lingyu);
                break;
            case 3001:
                p.b.isOpen("dayGift") ? l.CommonGiftPanel.show("dayGift") : p.b.isOpen("dailyGift") ? l.CommonGiftPanel.show("dailyGift") : Object(o.tooltip)(Object(o.tr)("main@nobuy"));
                break;
            case 3002:
                p.b.isOpen("heroGift") ? l.HeroPackagePanel.show() : Object(o.tooltip)(Object(o.tr)("main@nobuy"));
                break;
            case 3003:
                if (!Object(m.a)())
                    return void Object(o.tooltip)(Object(o.tr)("main@nobuy"));
                r.a.show();
                break;
            case 3004:
                r.a.show(r.b.pinshu);
                break;
            case 4001:
                c.a.onTreasure();
                break;
            case 4002:
                c.a.openThanksgiving();
                break;
            case 4003:
                c.a.openChristmas();
                break;
            case 4004:
                c.a.onMountain();
                break;
            case 4005:
                c.a.openLaba();
                break;
            case 4006:
                c.a.openSpring2021();
                break;
            case 5001:
                v.a.show(e)
            }
        }
        ,
        t = H([Object(o.controller)("common", !0)], t)
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return E
    }
    ));
    var i, o = n(1), r = n(106), a = n(152), s = n(114), c = n(113), u = n(121), h = n(108), l = n(110), p = n(227), f = n(187), d = n(146), b = n(117), g = n(231), _ = n(155), m = n(142), y = n(218), v = n(149), O = n(222), j = n(115), w = n(177), x = n(111), k = n(232), I = n(122), P = n(137), C = n(124), S = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), R = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return S(e, t),
        e.prototype.onReady = function() {
            this.maskImg && (this.commonBg3.mask = this.maskImg),
            this._msgList = ["비방/욕설/음란/광고 등 불건전 행위는 운영 정책에 의거 제재 대상이 되며, 피해가 발생 할 수 있으므로 결제정보 및 개인정보는 절대 타인에게 공개하지 마시기 바랍니다.", "비방/욕설/음란/광고 등 불건전 행위는 운영 정책에 의거 제재 대상이 되며, 피해가 발생 할 수 있으므로 결제정보 및 개인정보는 절대 타인에게 공개하지 마시기 바랍니다."],
            this.start()
        }
        ,
        e.prototype.start = function() {
            if (this._msgList.length > 0) {
                var t = this._msgList.shift()
                  , e = this.lbl_1.visible ? this.lbl_2 : this.lbl_1;
                e.textFlow = (new egret.HtmlTextParser).parser(t),
                this.led(e)
            } else
                this._msgList = ["비방/욕설/음란/광고 등 불건전 행위는 운영 정책에 의거 제재 대상이 되며, 피해가 발생 할 수 있으므로 결제정보 및 개인정보는 절대 타인에게 공개하지 마시기 바랍니다.", "비방/욕설/음란/광고 등 불건전 행위는 운영 정책에 의거 제재 대상이 되며, 피해가 발생 할 수 있으므로 결제정보 및 개인정보는 절대 타인에게 공개하지 마시기 바랍니다."],
                this.start()
        }
        ,
        e.prototype.led = function(t) {
            t.x = 750,
            t.visible = !0;
            var e = t.width
              , n = Math.max(e / 80 * 1e3, 8e3);
            egret.Tween.get(t).to({
                x: -e
            }, n).call((function(t) {
                t.visible = !1
            }
            ), this, [t]),
            egret.setTimeout(this.start, this, n - 1e3)
        }
        ,
        e
    }(o.Component);
    Object(C.a)("ChatNoticeBar", R);
    var T = n(118)
      , L = n(223)
      , A = n(140)
      , M = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , N = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , B = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , E = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.chatProp = 10287,
            e.mingpian = null,
            e.cbTotal = 0,
            e._prompt = "",
            Object(o.setSkin)(e, "ChatSkin"),
            e
        }
        return M(e, t),
        e.prototype.onReady = function(t, e) {
            var n = this;
            void 0 === t && (t = "tab5"),
            void 0 === e && (e = null),
            this.addBehavior(new T.a),
            this.mingpian = e,
            this.validateNow(),
            this._sysList = Object(o.singleton)(a.a).sysList,
            this._guildSysList = Object(o.singleton)(a.a).guildSysList,
            this._localList = Object(o.singleton)(a.a).localList,
            this.sc_chat.scrollPolicyV = eui.ScrollPolicy.ON,
            this.sc_xianmeng.scrollPolicyV = eui.ScrollPolicy.ON,
            this.updateNum(),
            this.disposeArr.push(s.e.watchNum(this.chatProp, this.updateNum, this)),
            this.list.itemRenderer = D,
            this.list_sys.itemRenderer = G,
            this.list_xianmeng.itemRenderer = D,
            this.list_dongtai.itemRenderer = G,
            this.list_local.itemRenderer = D,
            this.tap("btn_send", (function() {
                return n.onSend()
            }
            ), this),
            this.tap("bg_txt", this.checkcbTotal, this),
            this.tap("btn_blacklist", k.a.show),
            this.resetInput(),
            Object(o.singleton)(a.a).inGuild() && v.c.getInfo((function() {
                var t = o.cache.get("guild_member.home");
                n.cbTotal = t.cbTotal
            }
            ), this),
            this._state = new u.a({
                tab: this.tab,
                array: this.getTabArray(),
                onSelect: this.onSelect,
                context: this,
                defaultSelectName: t
            }),
            this.disposeArr.push(this._state),
            this.on("chat_head_click", this.onList, this),
            this.tap("gp_ext", this.onGpExt, this),
            this.tap("btn_sermon", this.onSermon, this),
            this.tap("btn_buff", this.onBuff, this),
            this.on("chatMsg", (function() {
                n.sc_chat.visible && Object(h.a)(n.list, Object(o.singleton)(a.a).showChatList, {
                    smart: !0
                })
            }
            ), this),
            this.on("sysMsg", (function() {
                n.sc_sys.visible && Object(h.a)(n.list_sys, n._sysList, {
                    smart: !0
                })
            }
            ), this),
            this.on("guildMsg", (function() {
                n.sc_xianmeng.visible && Object(h.a)(n.list_xianmeng, Object(o.singleton)(a.a).showGuildList, {
                    smart: !0
                })
            }
            ), this),
            this.on("guildSysMsg", (function() {
                n.sc_dongtai.visible && Object(h.a)(n.list_dongtai, n._guildSysList, {
                    smart: !0
                })
            }
            ), this),
            this.on("localMsg", (function() {
                n.sc_local.visible && Object(h.a)(n.list_local, n._localList, {
                    smart: !0
                })
            }
            ), this),
            this.on("user_guild_change", this.guildChange, this),
            this.guildChange();
            var i = Object(P.d)();
            this.Ko_Notice && (this.Ko_Notice.visible = "ko_kr" == i),
            this.updateSendBtn(),
            this.disposeArr.push(Object(o.setInterval)(this.updateSendBtn, this, 1e3)),
            this.disposeArr.push(Object(I.a)(this.sc_chat, eui.UIEvent.CHANGE, this.onChatChange, this)),
            this.disposeArr.push(Object(I.a)(this.sc_chat, eui.UIEvent.CHANGE_END, this.onChatChangeEnd, this)),
            this.disposeArr.push(Object(I.a)(this.sc_xianmeng, eui.UIEvent.CHANGE, this.onGuildChange, this)),
            this.disposeArr.push(Object(I.a)(this.sc_xianmeng, eui.UIEvent.CHANGE_END, this.onGuildChangeEnd, this))
        }
        ,
        e.prototype.positionList = function(t, e) {
            t.stopAnimation(),
            t.viewport.scrollV = 160 * e - 42
        }
        ,
        e.prototype.onChatChange = function() {
            this.sc_chat.viewport.scrollV < -100 && (this._needUpdateChat = !0)
        }
        ,
        e.prototype.getTabArray = function() {
            return [{
                label: Object(o.tr)("main@world2"),
                name: "tab1"
            }, {
                label: Object(o.tr)("main@local"),
                name: "tab5"
            }, {
                label: Object(o.tr)("main@guildChat"),
                name: "tab3"
            }, {
                label: Object(o.tr)("main@guildSys"),
                name: "tab4"
            }, {
                label: Object(o.tr)("main@sys"),
                name: "tab2"
            }, {
                label: Object(o.tr)("main@log"),
                name: "tab6"
            }]
        }
        ,
        e.prototype.onSelect = function(t) {
            var e = this
              , n = "tab1" == t
              , i = "tab2" == t
              , r = "tab3" == t
              , s = "tab4" == t
              , c = "tab5" == t
              , u = "tab6" == t;
            if ((r || s) && !Object(o.singleton)(a.a).inGuild())
                return Object(o.tooltip)(Object(o.tr)("main@noGuild")),
                !1;
            if (this.sc_chat.visible = n,
            this.sc_sys.visible = i,
            this.sc_xianmeng.visible = r,
            this.sc_dongtai.visible = s,
            this.sc_local.visible = c,
            this.sc_log.visible = u,
            this.input.touchEnabled = this.input.touchChildren = !0,
            n)
                this.currentState = "chat",
                Object(j.x)((function() {
                    Object(h.a)(e.list, Object(o.singleton)(a.a).showChatList, {
                        smart: !0
                    })
                }
                ), this);
            else if (i)
                this.currentState = "sys",
                Object(h.a)(this.list_sys, this._sysList, {
                    smart: !0
                });
            else if (r) {
                this.currentState = "xianmeng",
                egret.callLater((function() {
                    Object(h.a)(e.list_xianmeng, Object(o.singleton)(a.a).showGuildList, {
                        smart: !0
                    })
                }
                ), this);
                var l = this.cbTotal >= 2e3;
                this.input.touchEnabled = this.input.touchChildren = l
            } else
                s ? (this.currentState = "dongtai",
                Object(h.a)(this.list_dongtai, this._guildSysList, {
                    smart: !0
                })) : c ? (this.currentState = "local",
                Object(h.a)(this.list_local, this._localList, {
                    smart: !0
                })) : u && (this.currentState = "log",
                this.logList());
            return !0
        }
        ,
        e.prototype.onChatChangeEnd = function() {
            var t = this;
            if (this._needUpdateChat) {
                this._needUpdateChat = !1;
                var e = Object(o.singleton)(a.a).showChatList.length;
                Object(o.singleton)(a.a).addChatHistory().then((function(n) {
                    n.l && n.l.length > 0 ? (Object(h.a)(t.list, Object(o.singleton)(a.a).showChatList),
                    t.positionList(t.sc_chat, Object(o.singleton)(a.a).showChatList.length - e),
                    Object(o.tooltip)(Object(o.tr)("main@pullChatSuc"))) : n.l && Object(o.tooltip)(Object(o.tr)("main@historyMsgLimit"))
                }
                ))
            }
        }
        ,
        e.prototype.onGuildChange = function() {
            this.sc_xianmeng.viewport.scrollV < -100 && (this._needUpdateGuild = !0)
        }
        ,
        e.prototype.onGuildChangeEnd = function() {
            var t = this;
            if (this._needUpdateGuild) {
                this._needUpdateGuild = !1;
                var e = Object(o.singleton)(a.a).showGuildList.length;
                Object(o.singleton)(a.a).addGuildHistory().then((function(n) {
                    n.l && n.l.length > 0 ? (Object(h.a)(t.list_xianmeng, Object(o.singleton)(a.a).showGuildList),
                    t.positionList(t.sc_xianmeng, Object(o.singleton)(a.a).showGuildList.length - e),
                    Object(o.tooltip)(Object(o.tr)("main@pullChatSuc"))) : n.l && Object(o.tooltip)(Object(o.tr)("main@historyMsgLimit"))
                }
                ))
            }
        }
        ,
        e.prototype.logList = function() {
            this.list_log.itemRenderer = O.a;
            var t = o.cache.get("Main.getList", "l")
              , e = [{
                type: 1,
                status: 3
            }, {
                type: 2,
                status: 3
            }, {
                type: 3,
                status: 3
            }, {
                type: 4,
                status: 3
            }].concat(t);
            e = e.slice(-4),
            Object(j.D)(e);
            var n = Object(j.g)();
            Object(h.a)(this.list_log, n, {
                smart: !0
            })
        }
        ,
        e.prototype.checkcbTotal = function() {
            if ("xianmeng" == this.currentState) {
                var t = this.cbTotal >= 2e3;
                this.input.touchEnabled = this.input.touchChildren = t,
                t || Object(o.tooltip)(Object(o.tr)("main@noCbTotal"))
            }
        }
        ,
        e.prototype.resetInput = function() {
            if (this.mingpian) {
                var t = Object(o.tr)("main@chatMingpian1", {
                    name: this.mingpian.name
                });
                this._prompt = this.input.prompt,
                this.input.prompt = "",
                this.input.text = t,
                this.input.touchEnabled = this.input.touchChildren = !1,
                this.input.textColor = 65280
            } else
                this.input.prompt = this._prompt,
                this.input.text = "",
                this.input.touchEnabled = this.input.touchChildren = !0,
                this.input.textColor = 16777215
        }
        ,
        e.prototype.onExit = function() {
            t.prototype.onExit.call(this)
        }
        ,
        e.prototype.guildChange = function() {
            return N(this, void 0, void 0, (function() {
                return B(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return o.cache.get("User.getInfo", "i.guildId") > 0 ? [4, Object(l.b)([Object(o.singleton)(a.a).checkGuildList(), Object(o.singleton)(a.a).checkGuildSysList()])] : [3, 2];
                    case 1:
                        return t.sent(),
                        [3, 3];
                    case 2:
                        "xianmeng" != this.currentState && "dongtai" != this.currentState || (this.tab.selectedIndex = 0,
                        this._state.onChange()),
                        t.label = 3;
                    case 3:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.updateNum = function() {
            this.lbl_num.text = "" + s.e.getNum(this.chatProp)
        }
        ,
        e.prototype.onList = function(t) {
            if (t && t.data && t.data.p) {
                var e = t.localToGlobal();
                if (this.expand.x = e.x + 100,
                this.expand.y = e.y * Math.max(1, 1334 / o.display.stageH) - this.gp_ext.y - Object(w.a)().top,
                this.gp_ext.visible = !0,
                Object(c.a)("fly") && t.data.p.skin[10] && t.data.p.skin[10] < 1e3 && t.data.p.skin[13] != Object(c.a)("uId")) {
                    var n = 0
                      , i = Object(c.a)("xianbuff").filter((function(t) {
                        return 2 == t.id
                    }
                    ));
                    i > 0 && i[0].hasOwnProperty("lv") && (n = Number(i[0].lv)),
                    !t.data.fly || t.data.lv < n ? (this.btn_buff.visible = !0,
                    this.btn_sermon.y = 16) : (this.btn_buff.visible = !1,
                    this.btn_sermon.y = 38)
                } else
                    this.btn_buff.visible = !1,
                    this.btn_sermon.y = 38
            }
        }
        ,
        e.prototype.onGpExt = function() {
            this.gp_ext.visible = !1
        }
        ,
        e.prototype.onSermon = function() {
            "chat" == this.currentState ? this.list.selectedItem && this.list.selectedItem.p && y.a.show(this.list.selectedItem.p.uId) : "xianmeng" == this.currentState ? this.list_xianmeng.selectedItem && this.list_xianmeng.selectedItem.p && y.a.show(this.list_xianmeng.selectedItem.p.uId) : "sandtableChat" == this.currentState && this.list_chatSandTable.selectedItem && this.list_chatSandTable.selectedItem.p && y.a.show(this.list_chatSandTable.selectedItem.p.uId, !1, !1)
        }
        ,
        e.prototype.onBuff = function() {
            "chat" == this.currentState ? g.a.show(this.list.selectedItem.p) : "xianmeng" == this.currentState ? g.a.show(this.list_xianmeng.selectedItem.p) : "sandtableChat" == this.currentState && g.a.show(this.list_chatSandTable.selectedItem.p)
        }
        ,
        e.prototype.updateSendBtn = function() {
            var t = 5e3 - (egret.getTimer() - Object(o.singleton)(a.a).lastChat.time);
            t > 0 ? (this.btn_send.enabled = !1,
            this.btn_send.label = Math.ceil(.001 * t) + "s") : (this.btn_send.enabled = !0,
            this.btn_send.label = Object(o.tr)("main@send"))
        }
        ,
        e.prototype.onSend = function(t) {
            var e = this;
            if (void 0 === t && (t = !1),
            "xianmeng" == this.currentState && this.cbTotal < 2e3)
                Object(o.tooltip)(Object(o.tr)("main@noCbTotal"));
            else {
                var n = this.input.text.trim();
                if (n = (n = n.replace(/\r\n/g, " ")).replace(/\n/g, " "),
                "" == (n = t ? n.substring(0, 70) : n))
                    return Object(o.tooltip)(Object(o.tr)("main@chatNeedChar"));
                if (this.mingpian && (n = "_~.1q"),
                ("chat" == this.currentState || "local" == this.currentState) && this.mingpian && s.e.getNum(this.chatProp) < 1)
                    return Object(o.tooltip)(Object(o.tr)("main@chatPropNo")),
                    void Object(o.singleton)(f.a).checkRes(d.c.xianyu).then((function() {
                        Object(o.singleton)(f.a).getShopData(d.c.xianyu).then((function() {
                            var t = Object(o.singleton)(f.a).getShopModel(d.c.xianyu, 10287);
                            t && Object(r.a)(new p.a, t)
                        }
                        ))
                    }
                    ));
                if (!(n.length > 70) || t)
                    return Object(c.a)("lv") < 31 ? Object(o.tooltip)(Object(o.tr)("main@chatNeedLv", {
                        lv: Object(o.tr)(Object(o.getConfig)("level_json")[31].name)
                    })) : void (Object(o.singleton)(a.a).send(n, this.currentState, null != this.mingpian) && (this.mingpian = null,
                    this.resetInput()));
                Object(o.confirm)({
                    title: Object(o.tr)("common@tip"),
                    text: Object(o.tr)("main@chatMax")
                }).then((function(t) {
                    "yes" == t && e.onSend(!0)
                }
                ))
            }
        }
        ,
        e.show = function(t, n) {
            return void 0 === t && (t = "tab5"),
            void 0 === n && (n = null),
            N(this, void 0, void 0, (function() {
                return B(this, (function(i) {
                    switch (i.label) {
                    case 0:
                        return [4, Object(l.b)([Object(o.singleton)(a.a).checkChatList(), Object(o.singleton)(a.a).checkGuildList(), Object(o.singleton)(a.a).checkGuildSysList(), Object(o.singleton)(a.a).checkSysList(), Object(o.singleton)(a.a).checkLocalList()])];
                    case 1:
                        return i.sent(),
                        Object(o.put)("guildMsg"),
                        Object(r.a)(new e, t, n),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
      , D = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.Tstatus = 0,
            e
        }
        return M(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (t && t.p) {
                this.currentState = t.p.uId == Object(c.a)("uId") ? "me" : "other",
                Object(A.a)(this.head, t.p.skin),
                this.lbl_name.text = t.p.name,
                this.lbl_lv.text = Object(b.h)(t.p.lv),
                this.lbl_time && (this.lbl_time.text = t.p.time ? x.a.isToday(t.p.time) ? x.a.getLocaleFormat(t.p.time, "HH:MM:ss") : x.a.timestampFormat(t.p.time) : "");
                try {
                    this.lbl_content.textFlow = (new egret.HtmlTextParser).parser(t.text)
                } catch (e) {
                    this.lbl_content.text = t.text
                }
                if (t.p.title ? (this.img_title.source = "icon_player_title_" + t.p.title + "_png",
                this.img_title.visible = !0) : this.img_title.visible = !1,
                Object(L.a)(this, t.p.titleLv),
                this.lbl_position && (this.lbl_position.textColor = Object(_.a)(t.p.role),
                this.lbl_position.text = Object(m.e)(t.p.role)),
                this.btn_translate) {
                    var e = void 0
                      , n = !1;
                    if ("gcatenIos" == Object(o.getPlatform)().name || "gcathkIos1" == Object(o.getPlatform)().name)
                        n = (e = Number(o.cache.get("get_ios_version"))) && e >= 3;
                    else {
                        var i = location.href;
                        e = Number(o.cache.get("get_android_version")),
                        n = i.indexOf("global.html") > 0 ? e && e >= 33 : e && e >= 23
                    }
                    1 == t.type && !t.isMingPian() && n ? this.btn_translate.visible = !0 : this.btn_translate.visible = !1
                }
            }
        }
        ,
        e.prototype.onReady = function() {
            this.tap("lbl_content", this.onClick, this),
            this.tap("expandBtn", this.onHeadClick, this),
            this.btn_translate && this.tap("btn_translate", this.translate, this),
            this.on("chat_translate_refresh", this.refreshTranslate, this)
        }
        ,
        e.prototype.onExit = function() {
            t.prototype.onExit.call(this)
        }
        ,
        e.prototype.onClick = function() {
            this.data.isMingPian() && y.a.show(this.data.p.uId)
        }
        ,
        e.prototype.onHeadClick = function() {
            Object(o.put)("chat_head_click", this)
        }
        ,
        e.prototype.translate = function() {
            if (0 == this.Tstatus || 1 == this.Tstatus)
                egret.ExternalInterface.call("doTranslation", JSON.stringify({
                    sourceText: this.data.text,
                    extra: this.data.time
                })),
                this.Tstatus = 1;
            else if (2 == this.Tstatus) {
                try {
                    this.lbl_content.textFlow = (new egret.HtmlTextParser).parser(this.data.text)
                } catch (t) {
                    this.lbl_content.text = this.data.text
                }
                this.Tstatus = 3
            } else if (3 == this.Tstatus) {
                var t = o.cache.get("chat_translate");
                if (!t)
                    return;
                for (var e = 0; e < t.length; e++)
                    t[e].extra == this.data.time && (console.log(JSON.stringify(t[e])),
                    this.lbl_content.text = t[e].targetText,
                    this.Tstatus = 2)
            }
        }
        ,
        e.prototype.refreshTranslate = function() {
            if (console.log("监听翻译"),
            1 == this.Tstatus)
                for (var t = o.cache.get("chat_translate"), e = 0; e < t.length; e++)
                    t[e].extra == this.data.time && (console.log(JSON.stringify(t[e])),
                    this.lbl_content.text = t[e].targetText,
                    this.Tstatus = 2)
        }
        ,
        e
    }(o.Item)
      , G = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return M(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (t && t.p)
                try {
                    this.lbl_content.textFlow = (new egret.HtmlTextParser).parser(t.sysText)
                } catch (e) {
                    this.lbl_content.text = t.sysText
                }
        }
        ,
        e
    }(o.Item)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "c", (function() {
        return u
    }
    )),
    n.d(e, "a", (function() {
        return h
    }
    )),
    n.d(e, "d", (function() {
        return l
    }
    )),
    n.d(e, "b", (function() {
        return p
    }
    ));
    var i = n(1)
      , o = n(150)
      , r = n(107)
      , a = n(116)
      , s = n(114)
      , c = n(167);
    function u() {
        return Object(i.singleton)(o.a).diziArr.filter((function(t) {
            return 0 == t.p.gift
        }
        ))
    }
    function h(t) {
        var e = this
          , n = t.length;
        if (n <= 0)
            return Object(i.tooltip)(Object(i.tr)("sect@noGift")),
            Promise.resolve(null);
        var o = function() {
            return Object(r.d)("se.g").then((function(t) {
                if (t) {
                    a.a.show(t.awds);
                    var n = t.cIds
                      , i = egret.setInterval((function() {
                        !function(t) {
                            c.e.write({
                                id: 4,
                                cId: t
                            }),
                            c.e.write({
                                id: 3,
                                num: 50
                            })
                        }(n.shift()),
                        0 == n.length && egret.clearInterval(i)
                    }
                    ), e, 150);
                    return t
                }
            }
            ))
        };
        return s.e.hasEnough(1028, n, !1) ? Object(i.confirm)(Object(i.tr)("sect@giftTip2", {
            num: n
        })).then((function(t) {
            if ("yes" == t)
                return o()
        }
        )) : s.e.getNum(1028) > 0 ? Object(i.confirm)(Object(i.tr)("sect@giftTip1", {
            num: n
        })).then((function(t) {
            if ("yes" == t)
                return o()
        }
        )) : (s.e.hasEnough(1028, n),
        Promise.resolve(null))
    }
    function l() {
        var t = Object(i.singleton)(o.a);
        return 0 == t.info.trainSt && t.diziArr.length > 0
    }
    function p(t) {
        var e = this;
        void 0 === t && (t = 0);
        var n = Object(i.singleton)(o.a);
        return 1 == n.info.trainSt ? (Object(i.tooltip)(Object(i.tr)("sect@trainSt")),
        Promise.resolve(null)) : 0 == n.diziArr.length ? (Object(i.tooltip)(Object(i.tr)("sect@noDizi")),
        Promise.resolve(null)) : Object(r.d)("se.h", {
            isWatch: t
        }).then((function(t) {
            if (t) {
                a.a.show(t.awds);
                var n = Object(i.singleton)(o.a).diziArr;
                if (n.length > 0)
                    var r = egret.setInterval((function() {
                        var e = n.shift();
                        c.e.write({
                            id: 1,
                            cId: e.c.id
                        }),
                        0 == n.length && (egret.clearInterval(r),
                        c.e.write({
                            id: 2
                        }),
                        c.e.write({
                            id: 3,
                            num: t.awds[0].num
                        }))
                    }
                    ), e, 150)
            }
        }
        ))
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return r
    }
    )),
    n.d(e, "b", (function() {
        return f
    }
    ));
    var i, o, r, a = n(1), s = n(106), c = n(121), u = n(110), h = n(108), l = n(191), p = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    );
    !function(t) {
        t[t.jishi = 0] = "jishi",
        t[t.shuku = 1] = "shuku"
    }(r || (r = {}));
    var f = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            return n.mode = e,
            Object(a.setSkin)(n, "SectShopSkin"),
            n
        }
        return p(e, t),
        e.prototype.onReady = function() {
            var t, e = this;
            this.list.itemRenderer = l.a,
            this.mode == r.jishi ? (this.setState("jishi"),
            t = "sect",
            this.tab.itemRenderer = c.b,
            this.disposeArr.push(new c.a({
                tab: this.tab,
                array: [{
                    text: Object(a.tr)("sect@shop1"),
                    name: "1"
                }, {
                    text: Object(a.tr)("sect@shop2"),
                    name: "2"
                }, {
                    text: Object(a.tr)("sect@shop3"),
                    name: "3"
                }, {
                    text: Object(a.tr)("sect@shop4"),
                    name: "4"
                }],
                onSelect: function(t) {
                    e._array = Object(l.c)("sect", t),
                    Object(h.a)(e.list, e._array)
                }
            }))) : (t = "sectBook",
            this.setState("shuku"),
            this._array = Object(l.c)("sectBook"),
            Object(h.a)(this.list, this._array)),
            this.on("refresh_" + t + "Shop", (function() {
                Object(h.a)(e.list, e._array)
            }
            ))
        }
        ,
        e.show = function(t) {
            Object(u.b)(Object(l.d)(this.map[t])).then((function() {
                Object(s.a)(new e(t))
            }
            ))
        }
        ,
        e.map = ((o = {})[r.jishi] = "sect",
        o[r.shuku] = "sectBook",
        o),
        e
    }(a.UIComponent)
}
, function(t, e, n) {
    "use strict";
    function i(t, e) {
        var n = 0
          , i = t
          , o = e;
        return s(t) && (n = (i = t.toString()).split(".")[1].length,
        i = Number(i.replace(".", ""))),
        s(e) && (n += (o = e.toString()).split(".")[1].length,
        o = Number(o.replace(".", ""))),
        i * o / Math.pow(10, n)
    }
    function o(t, e) {
        var n = t
          , o = e
          , r = 0
          , a = 0;
        if (s(t)) {
            var c = t.toString();
            r = c.split(".")[1].length,
            n = Number(c.replace(".", ""))
        }
        if (s(e)) {
            var u = e.toString();
            a = u.split(".")[1].length,
            o = Number(u.replace(".", ""))
        }
        return i(n / o, Math.pow(10, a - r))
    }
    function r(t, e) {
        var n, o = 0, r = 0;
        return s(t) && (o = t.toString().split(".")[1].length),
        s(e) && (r = e.toString().split(".")[1].length),
        (i(t, n = Math.pow(10, Math.max(o, r))) + i(e, n)) / n
    }
    function a(t, e) {
        var n, o = 0, r = 0;
        return s(t) && (o = t.toString().split(".")[1].length),
        s(e) && (r = e.toString().split(".")[1].length),
        (i(t, n = Math.pow(10, Math.max(o, r))) - i(e, n)) / n
    }
    function s(t) {
        return t > 2147483647 ? t % 1 != 0 : t !== (0 | t)
    }
    n.d(e, "c", (function() {
        return i
    }
    )),
    n.d(e, "b", (function() {
        return o
    }
    )),
    n.d(e, "a", (function() {
        return r
    }
    )),
    n.d(e, "d", (function() {
        return a
    }
    ))
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return h
    }
    ));
    var i, o = n(1), r = n(106), a = n(131), s = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), c = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, u = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, h = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "FeishengAnimSkin"),
            e
        }
        return s(e, t),
        e.prototype.onReady = function() {
            var t = this;
            this.roleImg.setHideOpts(a.c.fazhen),
            this.bgY = this.gp_bg.y,
            this.bgEndY = this.gp_bg.y + 500,
            this.on("showFeisheng", (function() {
                t.showFeisheng()
            }
            ), this),
            this.createMv()
        }
        ,
        e.prototype.createMv = function() {
            this._fsMv = o.Movie.create("feisheng_ske_json"),
            this._fsMv.x = this.roleImg.width / 2,
            this._fsMv.y = this.roleImg.height / 2 + 500,
            this._fsMv.scaleX = this._fsMv.scaleY = 3,
            this._fsMv.atLast = !0,
            this.roleImg.addChild(this._fsMv),
            this._bgMv = o.Movie.create("feisheng_ske_json"),
            this._bgMv.x = o.display.stage.stageWidth / 2,
            this._bgMv.y = o.display.stage.stageHeight / 2,
            this._bgMv.scaleY = 1.5,
            this._bgMv.atLast = !0,
            this.addChild(this._bgMv),
            this.showFeisheng()
        }
        ,
        e.prototype.showFeisheng = function() {
            var t = this;
            this.gp_bg.y = this.bgY,
            this.roleImg.gp_body.scaleX = this.roleImg.gp_body.scaleY = 1,
            this._fsMv.play("1", 1),
            setTimeout((function() {
                egret.Tween.removeTweens(t.roleImg.gp_body),
                egret.Tween.get(t.roleImg.gp_body).to({
                    scaleX: 0,
                    scaleY: 0
                }, 400)
            }
            ), 400),
            this._fsMv.once(o.MovieEvent.COMPLETE, (function() {
                t._fsMv.play("2", 1),
                t._fsMv.once(o.MovieEvent.COMPLETE, (function() {
                    t._fsMv.play("3_1", 4),
                    t._bgMv.play("3_2", 6),
                    egret.Tween.removeTweens(t.gp_bg),
                    egret.Tween.get(t.gp_bg).to({
                        y: t.bgEndY
                    }, 500),
                    egret.Tween.removeTweens(t.mvBg),
                    egret.Tween.get(t.mvBg).to({
                        alpha: 1
                    }, 500).call((function() {
                        t.bg1.source = "bg_main_xj_3_jpg",
                        t.bg2.source = "bg_main_xj_2_png",
                        t.bg3.source = "bg_main_xj_1_png",
                        o.UI.remove("RaidPanel"),
                        t._fsMv.once(o.MovieEvent.COMPLETE, (function() {
                            egret.Tween.removeTweens(t.mvBg),
                            egret.Tween.get(t.mvBg).to({
                                alpha: 0
                            }, 500),
                            egret.Tween.removeTweens(t._bgMv),
                            egret.Tween.get(t._bgMv).to({
                                alpha: 0
                            }, 500),
                            egret.Tween.removeTweens(t.gp_bg),
                            egret.Tween.get(t.gp_bg).to({
                                y: t.bgY
                            }, 500),
                            t._fsMv.play("4", 1),
                            egret.Tween.removeTweens(t.roleImg.gp_body),
                            egret.Tween.get(t.roleImg.gp_body).to({
                                scaleX: 1,
                                scaleY: 1
                            }, 400),
                            t.animEnd()
                        }
                        ), t)
                    }
                    ))
                }
                ), t)
            }
            ), this)
        }
        ,
        e.prototype.animEnd = function() {
            var t = this;
            Object(o.put)("feisheng_refresh_view"),
            Object(o.put)("ClearBeastJieyin"),
            egret.Tween.removeTweens(this.roleImg),
            egret.Tween.get(this.roleImg).to({
                alpha: 0
            }, 2e3),
            egret.Tween.removeTweens(this.gp_bg),
            egret.Tween.get(this.gp_bg).to({
                alpha: 0
            }, 2e3).call((function() {
                t._fsMv && (o.display.removeFromParent(t._fsMv),
                t._fsMv.dispose()),
                t._bgMv && (o.display.removeFromParent(t._bgMv),
                t._bgMv.dispose()),
                o.UI.remove(t)
            }
            ))
        }
        ,
        e.show = function() {
            return c(this, void 0, void 0, (function() {
                return u(this, (function(t) {
                    return Object(r.a)(new e),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return f
    }
    ));
    var i, o = n(1), r = n(106), a = n(219), s = n(117), c = n(156), u = n(114), h = n(203), l = n(201), p = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), f = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.propType = "prop",
            e._num = null,
            e._showCollect = !0,
            e
        }
        return p(e, t),
        Object.defineProperty(e.prototype, "num", {
            get: function() {
                return this._num
            },
            set: function(t) {
                this._num = t
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "showCollect", {
            get: function() {
                return this._showCollect
            },
            set: function(t) {
                this._showCollect = t
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.getProp = function(t) {
            var e = Object(o.getConfig)("item_json")[t];
            return e.armType > 0 ? {
                quality: e.quality,
                icon: Object(s.b)(t),
                itemId: t,
                num: u.e.getNum(t),
                canDaZao: e.IsDaZao
            } : u.e.get(t)
        }
        ,
        e.prototype.getHero = function(t) {
            var e = Object(o.getConfig)("hero_json")[t];
            return {
                quality: e.quality,
                icon: Object(s.d)(e, "head"),
                num: 1
            }
        }
        ,
        e.prototype.$setData = function(t) {
            if (t instanceof u.e)
                this.$data = t;
            else if (t instanceof l.a)
                this.$data = t;
            else if (t && t.icon)
                this.$data = t;
            else if (t) {
                t.hasOwnProperty("num") && (this.num = t.num),
                t.hasOwnProperty("showCollect") && (this.showCollect = t.showCollect),
                t.need ? this._need = t.need : this._need = 0;
                var e = t.propId || t.itemId || t.cId || t.saleId;
                t.saleId && (this.num = t.num),
                e ? this.$data = this.getProp(e) : t.heroId && (this.propType = "hero",
                this.$data = this.getHero(t.heroId))
            } else
                this.$data = null
        }
        ,
        e.prototype.onDataUpdate = function(t) {
            if (t) {
                if (this.img.source = t.icon,
                this.up && (this.up.visible = 1 == this.data.highQuality),
                this.lbl_name && (this.lbl_name.text = this.data instanceof u.e ? this.data.c.name : ""),
                this.quality) {
                    var e = this.data.quality;
                    this.quality.source = "bg_item_" + Object(s.i)(e) + "_png"
                }
                this.updateNum()
            } else
                this.visible = !1
        }
        ,
        e.prototype.updateNum = function() {
            if (this.showCollect) {
                var t = this.data.num;
                this.lbl_num.visible = !0,
                null != this._num && (t = this._num),
                this._need ? (Object(c.a)(this.lbl_num, t >= this._need),
                this.lbl_num.text = Object(s.a)(t, 1) + "/" + Object(s.a)(this._need, 1)) : this.lbl_num.text = Object(s.a)(t, 1) + ""
            } else
                this.lbl_num.visible = !1
        }
        ,
        e.prototype.onTap = function() {
            "prop" == this.propType && this.data && (o.audio.playEffect("bg_common_click_mp3"),
            Object(r.a)(new h.a, this.data))
        }
        ,
        e
    }(a.a)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return f
    }
    ));
    var i, o = n(1), r = n(106), a = n(108), s = n(148), c = n(255), u = n(128), h = n(147), l = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), p = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return l(e, t),
        e.prototype.onDataUpdate = function(t, e) {
            t && Object(u.e)(this, t, "VHalf")
        }
        ,
        e
    }(o.Item), f = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "XianPuPropChooseSkin"),
            e
        }
        return l(e, t),
        e.prototype.onReady = function(t, e, n) {
            var i = this;
            Object(o.singleton)(h.a).checkRes().then((function() {
                i._propId = t,
                i._num = e,
                i._extraId = n;
                var o = s.a.getList().filter((function(t) {
                    return 0 == t.p.lock
                }
                ));
                i._arr = o,
                i.list.itemRenderer = p,
                o.sort((function(t, e) {
                    return e.power - t.power
                }
                )),
                Object(a.a)(i.list, o),
                i.tap("btn_yes", i.onYes, i)
            }
            ))
        }
        ,
        e.prototype.onYes = function() {
            var t = this
              , e = this.list;
            e.selectedItem ? (c.a.recordArr(this._arr),
            Object(u.g)(this._propId, e.selectedItem.c.id, this._num, this._extraId).then((function(n) {
                n && (t.success = !0,
                t.heroId = e.selectedItem.c.id,
                n.reData && (t.extraData = n.reData),
                o.UI.remove(t),
                c.a.showArr(t._arr))
            }
            ))) : Object(o.tooltip)(Object(o.tr)("hero@noSelect"))
        }
        ,
        e.show = function(t, n, i) {
            return Object(r.a)(new e, t, n, i)
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return l
    }
    ));
    var i, o = n(1), r = n(109), a = n(132), s = n(108), c = n(110), u = n(158), h = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), l = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "CommonClothesPreviewSkin"),
            e
        }
        return h(e, t),
        e.prototype.onReady = function(t) {
            this.bgMv = o.Movie.create("linglongge_bg_1_ske_json"),
            this.anime_bg.addChild(this.bgMv),
            this.bgMv.play("1"),
            this.img_mask.visible = !0,
            this.list_sx.itemRenderer = p;
            var e = Object(a.a)("heroSkin_json")[t];
            e.lv <= 5 && !Object(u.i)() ? (this.skinMv = o.Movie.create("hero_skin_full_" + e.res + "_ske_json"),
            this.anime_skin.addChild(this.skinMv),
            this.skinMv.play("1"),
            this.skinMv.mask = this.img_mask,
            this.skinMv.x = 0,
            "1046" == e.res && (this.skinMv.x = 120)) : (this.img_xianpu.source = "role_full_" + e.res + "_png",
            this.img_xianpu.mask = this.img_mask),
            e.title ? this.img_title.source = "title_skin_" + e.title + "_png" : this.img_title.visible = !1,
            this.img_lv.source = "hero_skinlv_" + e.class + "_png",
            this.lbl_skinName.text = Object(o.tr)(e.name),
            this.lbl_hqtj.text = Object(o.tr)(e.getWay),
            Object(s.a)(this.list_sx, e.attr)
        }
        ,
        e.show = function(t) {
            Object(c.b)([Object(r.a)("heroSkin_json")]).then((function() {
                o.UI.openBox(new e, t)
            }
            ))
        }
        ,
        e
    }(o.UIComponent), p = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return h(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (t) {
                var e;
                switch (t.type) {
                case "atk":
                    e = Object(o.tr)("main@hero_atk_zizhi", {
                        num: t.value
                    });
                    break;
                case "matk":
                    e = Object(o.tr)("main@hero_matk_zizhi", {
                        num: t.value
                    });
                    break;
                case "datk":
                    e = Object(o.tr)("main@hero_datk_zizhi", {
                        num: t.value
                    });
                    break;
                case "travel":
                    e = Object(o.tr)("main@hero_travel_zizhi", {
                        num: t.value
                    })
                }
                this.lbl_value.text = e
            }
        }
        ,
        e
    }(o.Item)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return u
    }
    )),
    n.d(e, "a", (function() {
        return h
    }
    ));
    var i = n(124)
      , o = n(112)
      , r = n(132)
      , a = n(1)
      , s = n(114)
      , c = n(130)
      , u = function() {
        function t(e) {
            this.p = e,
            a.types.isUndefined(this.p.num) && (this.p.num = 0),
            this.c = t.getConfig(e.id)
        }
        return t.initTaskConfig = function() {
            null == this.taskConfig && (this.taskConfig = h.ins.getDetialConf("islandTask"))
        }
        ,
        t.getConfig = function(t) {
            var e = this.taskConfig.filter((function(e) {
                return e.id == t
            }
            ));
            return e.length > 0 ? e[0] : null
        }
        ,
        Object.defineProperty(t.prototype, "num", {
            get: function() {
                var t = this
                  , e = h.ins.actionName
                  , n = Object(o.d)(e).type.filter((function(e) {
                    return e.id == t.c.type
                }
                ));
                return n.length > 0 ? n[0].num : 0
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "id", {
            get: function() {
                return this.c.id
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "day", {
            get: function() {
                return Math.floor(this.c.id / 1e3)
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "canReceive", {
            get: function() {
                return this.p.num < this.c.param1 && !this.p.isAwd && this.num >= this.c.num
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "receiveStatus", {
            get: function() {
                return this.canReceive ? 1 : this.num < this.c.num && this.p.num < this.c.param1 ? 2 : 3
            },
            enumerable: !0,
            configurable: !0
        }),
        t.someTaskRecive = function() {
            return this.initTask(),
            this._allTask.some((function(t) {
                return t.canReceive
            }
            ))
        }
        ,
        t.getTaskList = function() {
            return this.initTask(),
            this._allTask
        }
        ,
        t.initTask = function() {
            if (this.initTaskConfig(),
            null == this._allTask) {
                var e = h.ins.actionName
                  , n = Object(o.d)(e);
                this._allTask = [];
                for (var i = 0; i < n.task.length; i++) {
                    var r;
                    "12" == (r = new t(n.task[i])).c.type ? c.b.isOpen("recharge") && this._allTask.push(r) : this._allTask.push(r)
                }
            }
        }
        ,
        t._allTask = null,
        t.taskConfig = null,
        t
    }()
      , h = function() {
        function t() {}
        return Object.defineProperty(t.prototype, "actionName", {
            get: function() {
                return Object(o.d)("island") ? "island" : "island2"
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t, "ins", {
            get: function() {
                return Object(a.singleton)(t)
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "PointId", {
            get: function() {
                return "island" == this.actionName ? 15115 : 15141
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "canMove", {
            get: function() {
                var t = this.actionName
                  , e = Object(o.d)(t);
                return (e ? e.freePoint : 0) > 0 || s.e.getNum(this.PointId) > 0
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "canTenMove", {
            get: function() {
                var t = this.actionName
                  , e = Object(o.d)(t)
                  , n = e ? e.freePoint : 0;
                return s.e.getNum(this.PointId) + n >= 10
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.hasBoxRecive = function() {
            for (var t = Object(o.d)(this.actionName), e = t ? t.awds : [], n = t.num, i = this.getDetialConf("islandReward"), r = function(t) {
                var e = i.filter((function(e) {
                    return e.id == t
                }
                ));
                return e.length > 0 ? e[0].num : 0
            }, a = 0; a < e.length; a++)
                if (!e[a].isAwd) {
                    var s = r(e[a].id);
                    if (s > 0 && n >= s)
                        return !0
                }
            return !1
        }
        ,
        t.prototype.getC = function() {
            var t = this.actionName;
            return Object(r.a)("festivalActivity_island_json", t)
        }
        ,
        t.prototype.getDetialConf = function(t) {
            var e, n, i = 1 == Object(o.d)(this.actionName).turn ? t : t + "2";
            return (n = Object(r.a)("festivalActivity_island_json", i).list).length > 0 && (e = n[0].detail),
            e
        }
        ,
        t
    }();
    Object(i.a)("IsLandTaskModel", u)
}
, , , , function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return A
    }
    ));
    var i, o = n(1), r = n(118), a = n(106), s = n(108), c = n(159), u = n(107), h = n(110), l = n(109), p = n(214), f = n(185), d = n(123), b = n(119), g = n(113), _ = n(141), m = n(139), y = n(112), v = n(114), O = n(4), j = n(178), w = n(244), x = n(128), k = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), I = function(t) {
        function e(e, n) {
            var i = t.call(this) || this;
            return i.p = e,
            i.option = n,
            Object(o.setSkin)(i, "CommonHeroPveSkin"),
            i
        }
        return k(e, t),
        e.prototype.onReady = function() {
            this.addBehavior(new r.a),
            this.updateView(),
            this.tap("btn_start", this.onFight, this),
            this.tap("btn_change", this.onChange, this),
            this.on("hero_fight_select", this.selectHero, this),
            this.on("update_commBoss", this.updateView, this),
            this._hero = this.recHero(),
            this.refreshView()
        }
        ,
        e.prototype.updateView = function() {
            var t = this.p
              , e = Object(o.getConfig)("festivalBoss_json")[t.bossId];
            this.btn_back.label = this.option.txtMap.title,
            this.bosshead.img_boss.source = "icon_bosshead_on_" + e.icon + "_png",
            this.bosshead.no.visible = !1,
            this.lbl_name.text = Object(o.tr)(e.name) + t.lv,
            this.bar.maximum = t.maxHp,
            this.bar.value = t.hp,
            this.bar.labelFunction = this.labelFunction,
            this.img_boss.source = "img_boss_" + e.icon + "_png"
        }
        ,
        e.prototype.onExit = function() {
            this.removeTime(),
            egret.Tween.removeTweens(this.bar),
            t.prototype.onExit.call(this)
        }
        ,
        e.prototype.labelFunction = function(t, e) {
            return t + "/" + e + "(" + Math.floor(100 * t / e) + "%)"
        }
        ,
        e.prototype.recHero = function() {
            var t = o.cache.get("hero.getHeroNumList", "l")
              , e = this.option
              , n = O.HeroModel.getEnableList().filter((function(n) {
                return function(n) {
                    for (var i in t)
                        if (t[i].cId == n.c.id)
                            return t[i][e.heroTimes.last] > 0;
                    return !0
                }(n)
            }
            ));
            return n.sort((function(t, e) {
                return e.power - t.power
            }
            )),
            n[0]
        }
        ,
        e.prototype.removeTime = function() {
            this._time && (this._time.dispose(),
            this._time = null)
        }
        ,
        e.prototype.autoHide = function() {
            this.talk1.visible = !1,
            this.talk2.visible = !1
        }
        ,
        e.prototype.refreshView = function() {
            this.removeTime(),
            this._time = Object(o.setTimeout)(this.autoHide, this, 2e3),
            this.talk1.visible = !0,
            Object(j.a)(this.lbl_talk1),
            Object(j.a)(this.lbl_talk2);
            var t = Object(o.getConfig)("battleTalk_json")
              , e = o.numbers.getRandomInt(21, 25)
              , n = o.numbers.getRandomInt(11, 14);
            if (this.lbl_talk1.text = Object(o.tr)(t[e].talk),
            this._hero) {
                this.talk2.visible = !0,
                this.anime_skin1.visible = !0;
                var i = this._hero.power
                  , r = Object(y.d)(this.option.nameMap.main);
                this.lbl_shenwei.text = "" + Math.floor(i * (1 + .1 * r.buyBuffNum)),
                this.lbl_talk2.text = Object(o.tr)(t[n].talk),
                Object(x.d)(this, this._hero.p.skin, "full", "1"),
                this.lbl_talk2.visible = !0,
                this.lbl_shenwei.visible = !0
            } else
                this.talk2.visible = !1,
                this.anime_skin1.visible = !1,
                this.img_xianpu1.source = "role_xianpu_no_png",
                this.img_xianpu1.skewY = 0,
                this.lbl_talk2.visible = !1,
                this.lbl_shenwei.visible = !1
        }
        ,
        e.prototype.onFight = function() {
            var t = this;
            if (this._hero) {
                if (!Object(O.leftPackage)(1)) {
                    this.p.hp;
                    Object(o.getSocket)().request({
                        route: this.option.routeMap.fight,
                        p: {
                            hId: this._hero.c.id
                        }
                    }, {
                        mask: !0
                    }).then((function(e) {
                        if (e) {
                            if (2054 == e.code || 2055 == e.code)
                                return Object(o.tooltip)(Object(o.tr)("mid@killBossErr")),
                                void o.UI.remove(t);
                            t._mv || (t._mv = o.Movie.create("bosszhandou_ske_json", !0),
                            t._mv.once(o.MovieEvent.COMPLETE, (function() {
                                t._mv && (t._mv.dispose(),
                                t._mv = null),
                                t.afterFight(e)
                            }
                            ), t),
                            t._mv.play("1", 1),
                            t.ani.addChild(t._mv));
                            t.p;
                            egret.Tween.removeTweens(t.bar),
                            egret.Tween.get(t.bar).to({
                                value: e.fightLog.monsterBattle
                            }, 1500)
                        }
                    }
                    )).catch(o.errorHandler)
                }
            } else
                Object(o.tooltip)(Object(o.tr)("mid@fightNoHero"))
        }
        ,
        e.prototype.afterFight = function(t) {
            w.a.show(t, {
                win: this.option.txtMap.fightWin,
                fail: this.option.txtMap.fightFail,
                result: this.option.txtMap.fightResult
            }),
            t.isWin ? o.UI.remove(this) : (this._hero = this.recHero(),
            this.refreshView())
        }
        ,
        e.prototype.selectHero = function(t) {
            this._hero = t,
            this.refreshView()
        }
        ,
        e.prototype.onChange = function() {
            O.FightChooseHeroPanel.show({
                activityId: this.option.nameMap.main,
                useKey: this.option.heroTimes.last,
                reKey: this.option.heroTimes.restore
            })
        }
        ,
        e.show = function(t, n) {
            return Object(h.b)([Object(u.a)("x.h", "hero.getHeroNumList"), Object(l.a)("monster_json"), Object(l.a)("battleTalk_json"), Object(l.a)("festivalBoss_json")]).then((function(i) {
                return o.UI.openBox(new e(t,n))
            }
            ))
        }
        ,
        e
    }(o.UIComponent), P = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), C = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            return n.option = e,
            Object(o.setSkin)(n, "PanelCommonFesBossEnterSkin"),
            n
        }
        return P(e, t),
        e.prototype.onReady = function() {
            this.lbl_title.text = this.option.txtMap.buffT,
            this.lbl_desc1.text = this.option.txtMap.buffC1,
            this.lbl_desc2.text = this.option.txtMap.buffC2,
            this.updateView(),
            this.tap("btn_battle", this.onBattle, this),
            this.tap("btn_buy", this.onBuyBuff, this)
        }
        ,
        e.prototype.updateView = function() {
            var t = Object(y.d)(this.option.nameMap.main);
            this.lbl_buff.text = Object(o.tr)(this.option.trMap.buffDesc, {
                n: 10 * t.buyBuffNum
            }),
            t.buyBuffLimit ? this.lbl_num.text = t.buyBuffNum + "/" + t.buyBuffLimit : this.lbl_num.text = t.buyBuffNum,
            this.btn_buy.label = 10 * (t.buyBuffNum + 1)
        }
        ,
        e.prototype.onBuyBuff = function() {
            var t = this
              , e = Object(y.d)(this.option.nameMap.main);
            if (Object(y.e)(this.option.nameMap.main, !0, y.a.normal)) {
                var n = 10 * (e.buyBuffNum + 1);
                v.e.hasEnough(v.f.lingyu, n) && Object(o.confirm)(Object(o.tr)(this.option.trMap.buyBuffConfirm, {
                    num: n
                })).then((function(e) {
                    "yes" == e && Object(u.d)(t.option.routeMap.buyBuff).then((function(e) {
                        e && t.updateView()
                    }
                    ))
                }
                ))
            }
        }
        ,
        e.prototype.onBattle = function() {
            if (Object(y.e)(this.option.nameMap.main, !0, y.a.normal)) {
                var t = Object(o.getCache)(this.option.cacheMap.info).boss;
                I.show(t, this.option).then((function(t) {
                    t.exit((function() {
                        Object(o.put)("update_commBoss")
                    }
                    ))
                }
                )),
                o.UI.remove(this)
            }
        }
        ,
        e.show = function(t) {
            Object(a.a)(new e(t))
        }
        ,
        e
    }(o.UIComponent), S = n(127), R = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), T = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, L = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, A = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            n.option = e;
            var i = e.skinMap.main ? e.skinMap.main : "CommonFesBossMainSkin";
            return Object(o.setSkin)(n, i),
            n
        }
        return R(e, t),
        e.prototype.onReady = function() {
            var t = this;
            this.addBehavior(new r.a),
            this.list.itemRenderer = c.a,
            this.bg.source = this.option.resMap.bg,
            this.btn_back.label = this.option.txtMap.title,
            this.lbl_desc.text = this.option.txtMap.content,
            this.lbl_talk.text = this.option.txtMap.bossTalk,
            this.img_boss.source = "";
            var e = o.Movie.create(this.option.mvMap.boss + "_ske_json");
            if (this.animeNode.addChild(e),
            e.play("1"),
            this.disposeArr.push(e),
            this.option.mvMap.ohter) {
                var n = o.Movie.create(this.option.mvMap.ohter + "_ske_json");
                this.anime_extra.addChild(n),
                n.play("1"),
                this.disposeArr.push(n)
            }
            this.updateView(),
            this.tap("btn_go", this.onGo, this),
            this.tap("btn_reward", this.onReward, this),
            this.tap("btn_rank", this.onRank, this),
            this.on("update_commBoss", this.updateView, this),
            this.tap("btn_help", (function() {
                b.a.show({
                    title: t.option.txtMap.helpT,
                    content: t.option.txtMap.helpC
                })
            }
            ), this),
            this.disposeArr.push(Object(d.b)(this.option.redMap.reward, this.btn_reward))
        }
        ,
        e.prototype.updateView = function() {
            var t = this
              , e = Object(o.getCache)(this.option.cacheMap.info).boss
              , n = Object(o.getConfig)("festivalBoss_json")[e.bossId];
            this.lbl_bossName.text = n.name,
            this.lbl_level.text = e.lv,
            this.progress.maximum = e.maxHp,
            this.progress.value = e.hp;
            var i = Object(o.getCache)(this.option.cacheMap.log).l;
            i = i.map((function(e) {
                return {
                    log: Object(o.tr)(t.option.trMap.log, {
                        name: e.name.replace(/>/gi, "&gt;").replace(/</gi, "&lt;"),
                        n: e.score
                    })
                }
            }
            )),
            Object(s.a)(this.list, i)
        }
        ,
        e.prototype.onGo = function() {
            if (!Object(g.a)("fly"))
                return Object(o.tooltip)(Object(o.tr)("commact@flyOpenBoss"));
            Object(y.e)(this.option.nameMap.main, !0) && C.show(this.option)
        }
        ,
        e.prototype.onReward = function() {
            _.b.show(this.option.txtMap.rewardT, this.getTaskData.bind(this), null, this.option.txtMap.rewardNote)
        }
        ,
        e.prototype.getTaskData = function() {
            return m.a.ins.getActTaskList(this.option.nameMap.scoreReward, this.option.routeMap.rewardGet, this.option.conf, this.option.trMap.itemRewardDesc)
        }
        ,
        e.prototype.onRank = function() {
            p.b.show(this.option.nameMap.rank, Object(o.tr)("mid@rank"), Object(o.tr)("commact@hurt_bkt"), Object(y.d)(this.option.nameMap.main).end, this.rankReward.bind(this))
        }
        ,
        e.prototype.rankReward = function() {
            f.a.show(Object(S.e)(this.option.nameMap.rank, Object(y.d)(this.option.nameMap.main).cId, this.option.conf).detail)
        }
        ,
        e.prototype.onExit = function() {
            Object(u.d)("u.sa", {
                type: this.option.nameMap.main
            }),
            RES.destroyRes(this.option.resMap.bg),
            t.prototype.onExit.call(this)
        }
        ,
        e.show = function(t) {
            return T(this, void 0, void 0, (function() {
                return L(this, (function(n) {
                    switch (n.label) {
                    case 0:
                        return Object(y.e)(t.nameMap.main, !0, y.a.close) ? [4, Object(h.b)([Object(u.c)(t.routeMap.info, t.cacheMap.info), Object(u.c)(t.routeMap.log, t.cacheMap.log), Object(l.a)("festivalBoss_json"), Object(l.a)(t.resMap.bg)])] : [2];
                    case 1:
                        return n.sent(),
                        Object(a.a)(new e(t)),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return P
    }
    )),
    n.d(e, "a", (function() {
        return C
    }
    ));
    var i, o = n(1), r = n(110), a = n(4), s = n(118), c = n(109), u = n(106), h = n(107), l = n(119), p = n(114), f = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), d = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelBlackMarketRewardSkin"),
            e
        }
        return f(e, t),
        e.prototype.onReady = function(t) {
            this.tap(this.btn_receive, this.onReceive, this),
            this.refreshView(t)
        }
        ,
        e.prototype.refreshView = function(t) {
            this.item.propId = p.f.lingshi,
            this.item.num = t,
            this.lbl_result.text = Object(o.tr)("blackMarket@getLingShi", {
                num: t
            });
            this.lbl_talk.text = Object(o.tr)("blackMarket@lingKuangType1", {
                num: t
            })
        }
        ,
        e.prototype.onReceive = function() {
            o.UI.remove(this)
        }
        ,
        e.show = function(t) {
            Object(u.a)(new e, t)
        }
        ,
        e
    }(o.UIComponent), b = n(113), g = n(108), _ = n(310), m = n(276), y = n(135), v = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), O = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelNewBuySkin"),
            e
        }
        return v(e, t),
        e.prototype.onReady = function(t) {
            this._conf = t,
            this._item = p.e.get(t.itemId),
            this.tap(this.btn_buy, this.onBuy, this),
            this.tap(this.btn_preview, this.onPre, this),
            this.tap(this.btn_minus, this.onMinus, this),
            this.tap(this.btn_plus, this.onPlus, this),
            this.updateView()
        }
        ,
        e.prototype.updateView = function() {
            var t = this;
            this.goods.propId = this._conf.itemId,
            this.goods.num = this._conf.num,
            this.lbl_price.text = this._conf.costNum,
            this.img_money.source = p.e.get(this._conf.costItemId).icon,
            this.lbl_desc.text = Object(o.tr)(p.e.get(this._conf.itemId).desc),
            this.lbl_goodsName.text = p.e.getName(this._conf.itemId);
            var e = o.cache.get("Special.getList", "l").filter((function(e) {
                return e.id == t._conf.id
            }
            ));
            this._remain = this._conf.limit - e[0].num,
            this.lbl_inventory.text = Object(o.tr)("blackMarket@remain", {
                num: this._remain
            }),
            this._num = 1,
            this.lbl_num.text = this._num,
            this.btn_preview.visible = 21 == this._item.c.resultID || 19 == this._item.c.resultID || 53 == this._item.c.resultID
        }
        ,
        e.prototype.onMinus = function() {
            this._num > 1 && (this._num--,
            this.lbl_num.text = this._num)
        }
        ,
        e.prototype.onPlus = function() {
            this._num < this._remain && (this._num++,
            this.lbl_num.text = this._num)
        }
        ,
        e.prototype.onPre = function() {
            if (53 == this._item.c.resultID)
                m.a.show(this._item.c.ResultVal1);
            else if (21 == this._item.c.resultID)
                y.a.openHandBookInfo(this._item.c.ResultVal1);
            else {
                var t = this._item.c.ResultVal1.split(",");
                if (1 == t.length) {
                    var e = Object(o.getConfig)("fashion_json")[t[0]]
                      , n = Object(o.getCache)("User.getInfo", "i.fashion");
                    1 == e.type ? t = {
                        manId: t[0]
                    } : 3 == e.type ? t = {
                        manId: n.now,
                        fazhenId: t[0]
                    } : 2 == e.type && (t = {
                        manId: n.now,
                        mianjuId: t[0]
                    })
                }
                _.a.show(t)
            }
        }
        ,
        e.prototype.onBuy = function() {
            var t = this;
            p.e.hasEnough(this._conf.costItemId, this._conf.costNum) && Object(h.d)("sps.c", {
                id: this._conf.id,
                num: this._num
            }).then((function(e) {
                e && (o.UI.remove(t),
                Object(o.put)("specialShop_buy_success", e))
            }
            ))
        }
        ,
        e
    }(o.UIComponent), j = n(120), w = n(115), x = n(145), k = n(129), I = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), P = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e._talkInterval = {},
            Object(x.b)("NewBlackMarketMain", e),
            Object(o.setSkin)(e, "NewBlackMarketMainSkin"),
            e
        }
        return I(e, t),
        e.prototype.onReady = function(t) {
            this._data = t,
            Object(w.H)("blackMarket_refresh_time", this._data.time),
            Object(o.put)("refresh_newBlackMarKet"),
            this.addBehavior(new s.a),
            this.tap("btn_help", (function() {
                l.a.show({
                    title: Object(o.tr)("blackMarket@helpTitle"),
                    content: Object(o.tr)("blackMarket@helpContent")
                })
            }
            ), this),
            this.tap(this.btn_draw, this.onDraw, this),
            this.tap("btn_refresh", this.onFresh, this),
            this.on("specialShop_buy_success", this.showSuccess, this),
            o.cache.onChange("Special.getList", this.refreshData, this, this.disposeArr),
            this.refreshView(),
            this.img_mask.visible = !1
        }
        ,
        e.prototype.refreshView = function() {
            if (this.lbl_times.text = Object(o.tr)("main@laveTimes", {
                n: this._data.num - this._data.hasNum
            }),
            this.updateRedMv(),
            this.lbl_refresh.text = this._data.refreCost,
            this.lbl_desc.textFlow = (new egret.HtmlTextParser).parser(Object(o.tr)(this._data.num > 0 ? "blackMarket@desc" : "blackMarket@desc2")),
            this._state = this._data.hasNum == this._data.num ? 2 : 1,
            this.showTalkAnim(),
            this.list.itemRenderer = C,
            0 == Object(b.a)("fly"))
                Object(g.a)(this.list, []),
                this.noFly.visible = !0,
                this.lbl_countDown.visible = !1,
                this.gp_refresh.visible = !1;
            else {
                if (0 == this._data.l.length)
                    return void this.requestShop();
                this.gp_refresh.visible = !0,
                this.noFly.visible = !1;
                for (var t = [], e = void 0, n = 0; n < this._data.l.length; n++)
                    e = Object(o.getConfig)("specialShop_json")[this.data.l[n].id],
                    t.push(e);
                t.sort((function(t, e) {
                    return t.type == e.type ? e.costNum - t.costNum : t.type - e.type
                }
                )),
                this.clean(),
                this._countdown = new j.a({
                    component: this.lbl_countDown,
                    endTime: this._data.time,
                    trKey: Object(o.tr)("blackMarket@shopRefreshCD"),
                    complete: this.countDownComplete.bind(this)
                }),
                Object(g.a)(this.list, t),
                this.lbl_countDown.visible = !0
            }
        }
        ,
        e.prototype.updateRedMv = function() {
            this._data.num != this._data.hasNum ? this._redMv || (this._redMv = o.Movie.create("act_spring_3_ske_json", !0),
            this.anime_tips.addChild(this._redMv),
            this._redMv.play("1"),
            this.disposeArr.push(this._redMv)) : this.removeRedMv()
        }
        ,
        e.prototype.removeRedMv = function() {
            this._redMv && (this._redMv.dispose(),
            this._redMv = null)
        }
        ,
        e.prototype.refreshData = function() {
            this._data = o.cache.get("Special.getList"),
            this.refreshView()
        }
        ,
        e.prototype.showSuccess = function(t) {
            var e = this
              , n = o.Movie.create("bounty_common_1_ske_json", !0);
            this.img_mask.visible = !0,
            this.animeNode.addChild(n),
            n.once(o.MovieEvent.COMPLETE, (function() {
                e.img_mask.visible = !1,
                k.a.show(t, Object(o.tr)("blackMarket@shopBuySuccess", {
                    name: a.PropModel.getName(t.awds[0].propId)
                }))
            }
            ), this),
            n.play("1", 1)
        }
        ,
        e.prototype.onDraw = function() {
            var t = this;
            Object(b.a)("druglv") < 1 && Object(b.a)("refinlv") < 1 ? Object(o.tooltip)(Object(o.tr)("blackMarket@shopCondition")) : this._data.num != this._data.hasNum ? Object(h.d)("sps.b").then((function(e) {
                e && e.awds && (t.img_mask.visible = !0,
                t._mv || (t._mv = o.Movie.create("blackMarket_draw_ske_json"),
                t._mv.once(o.MovieEvent.COMPLETE, (function() {
                    t._mv.dispose(),
                    t._mv = null,
                    d.show(e.awds[0].num),
                    t.refreshData(),
                    Object(o.put)("refresh_newBlackMarKet"),
                    t.img_mask.visible = !1
                }
                ), t),
                t._mv.play("1", 1),
                t.animeNode.addChild(t._mv)))
            }
            )) : Object(o.tooltip)(Object(o.tr)("blackMarket@shopTimeLimit"))
        }
        ,
        e.prototype.onFresh = function() {
            var t = this;
            a.PropModel.hasEnough(a.PropType.lingyu, this._data.refreCost) && Object(o.confirm)(Object(o.tr)("blackMarket@sureFreshShop", {
                num: this._data.refreCost
            })).then((function(e) {
                "yes" == e && Object(h.d)("sps.d").then((function(e) {
                    e && t.refreshData()
                }
                ))
            }
            ))
        }
        ,
        e.prototype.clean = function() {
            this._countdown && (this._countdown.dispose(),
            this._countdown = null)
        }
        ,
        e.prototype.countDownComplete = function() {
            var t = this;
            Object(h.d)("sps.a").then((function(e) {
                e && (o.cache.set("Special.getList", e),
                t.refreshView())
            }
            ))
        }
        ,
        e.prototype.showTalkAnim = function() {
            var t, e = o.numbers.getRandomInt(1, 2);
            1 == this._state ? t = 1 == e ? "blackMarket@luckDog" : "blackMarket@lingShi" : 2 == this._state && (t = 1 == e ? "blackMarket@manyItem" : "blackMarket@qiHuo"),
            this.lbl_talk.text = Object(o.tr)(t)
        }
        ,
        e.prototype.requestShop = function(t) {
            var e = this;
            void 0 === t && (t = !0),
            Object(h.d)("sps.a").then((function(t) {
                t && (o.cache.set("Special.getList", t),
                e.refreshData())
            }
            ))
        }
        ,
        e.prototype.onExit = function() {
            this.clean(),
            this.removeRedMv(),
            t.prototype.onExit.call(this)
        }
        ,
        e.show = function() {
            Object(r.b)([Object(c.a)("blackShopItem_json"), Object(c.a)("specialShop_json"), Object(o.getLocale)().init("blackMarket")]).then((function(t) {
                t && (Object(o.hasCache)("Special.getList") ? Object(u.a)(new e, Object(o.getCache)("Special.getList")) : Object(h.d)("sps.a").then((function(t) {
                    t && (o.cache.set("Special.getList", t),
                    Object(u.a)(new e, t))
                }
                )))
            }
            ))
        }
        ,
        e
    }(o.UIComponent), C = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return I(e, t),
        e.prototype.onReady = function() {
            this.tap("img_item", this.onDo, this)
        }
        ,
        e.prototype.onDo = function() {
            var t = this;
            o.cache.get("Special.getList", "l").filter((function(e) {
                return e.id == t._item.id
            }
            ))[0].num >= this._item.limit ? Object(o.tooltip)(Object(o.tr)("blackMarket@sellOut")) : Object(u.a)(new O, this._item)
        }
        ,
        e.prototype.onDataUpdate = function(t) {
            var e = this;
            if (t) {
                this._item = t,
                this.img_item.icon.source = a.PropModel.get(t.itemId).icon,
                this.lbl_name.text = a.PropModel.getName(t.itemId),
                this.img_cost.source = a.PropModel.get(t.costItemId).icon,
                this.lbl_price.text = t.costNum,
                this.lbl_num.text = t.num;
                var n = o.cache.get("Special.getList", "l").filter((function(t) {
                    return t.id == e._item.id
                }
                ));
                this._buyTime = n[0].num,
                this.img_bg.source = 1 == this._item.type ? "img_blackMarket_1_png" : "img_blackMarket_2_png",
                this.sold.visible = this._buyTime >= this._item.limit,
                1 == this._item.type ? this._mv || (this._mv = o.Movie.create("new_item_icon_Light_1_ske_json"),
                this.animeNode.addChild(this._mv),
                this._mv.play("1"),
                this.disposeArr.push(this._mv)) : this.removeMv()
            }
        }
        ,
        e.prototype.removeMv = function() {
            this._mv && (this._mv.dispose(),
            this._mv = null)
        }
        ,
        e
    }(o.Item)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "f", (function() {
        return m
    }
    )),
    n.d(e, "h", (function() {
        return y
    }
    )),
    n.d(e, "c", (function() {
        return v
    }
    )),
    n.d(e, "b", (function() {
        return O
    }
    )),
    n.d(e, "e", (function() {
        return j
    }
    )),
    n.d(e, "g", (function() {
        return w
    }
    )),
    n.d(e, "d", (function() {
        return x
    }
    )),
    n.d(e, "a", (function() {
        return k
    }
    ));
    var i, o = n(150), r = n(107), a = n(116), s = n(1), c = n(167), u = n(114), h = n(335), l = n(336), p = n(106), f = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), d = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return f(e, t),
        e.prototype.updateView = function(t) {
            t.title && (this.lbl_title.text = t.title),
            this.des.text = t.desc,
            this.lbl_price.text = Object(s.tr)("sect@consume", {
                name: Object(s.tr)(Object(s.getConfig)("item_json")[t.propId].name),
                num: t.price
            })
        }
        ,
        e.show = function(t) {
            return Object(p.a)(new e, t).getPromise()
        }
        ,
        e
    }(l.a), b = n(117), g = n(113), _ = n(229);
    function m() {
        var t = Object(s.singleton)(o.a).diziArr;
        return t = t.filter((function(t) {
            return 0 == t.p.chuangong && !t.hasTalent(23)
        }
        ))
    }
    var y = 24e4;
    function v(t) {
        var e = this
          , n = t.length * y;
        if (Object(g.a)("exp") < n)
            return Object(s.tooltip)(Object(s.tr)("sect@noExp")),
            Promise.resolve(null);
        if (0 == t.length)
            return Object(s.tooltip)(Object(s.tr)("sect@noTransmit")),
            Promise.resolve();
        for (var i in t)
            if (!t[i] || !t[i].c)
                return Object(s.tooltip)(Object(s.tr)("sect@noTransmit")),
                Promise.resolve();
        var o = t.map((function(t) {
            return t.c.id
        }
        ));
        return Object(r.d)("se.n", {
            cId: o
        }).then((function(t) {
            if (t) {
                a.a.show(t.awds),
                Object(s.tooltip)(Object(s.tr)("sect@transferOk"));
                var n = egret.setInterval((function() {
                    var t = o.shift();
                    c.j.write({
                        id: 1,
                        cId: t
                    }),
                    c.j.write({
                        id: 2,
                        cId: t
                    }),
                    0 == o.length && egret.clearInterval(n)
                }
                ), e, 1e3);
                return t
            }
        }
        ))
    }
    function O() {
        var t = Object(s.singleton)(o.a);
        return t.diziArr.length == Object(o.b)().pupilLimit ? (Object(s.tooltip)(Object(s.tr)("sect@diziFull")),
        Promise.resolve(null)) : u.e.hasEnough(u.f.lingshi, 5e3) ? t.info.diziNum <= 0 && 0 == t.info.todoDizi ? (Object(s.tooltip)(Object(s.tr)("sect@diziNum")),
        Promise.resolve(null)) : t.info.todoDizi > 0 ? Promise.resolve(h.b.show(h.a.recruit)) : d.show({
            title: Object(s.tr)("sect@recruitTitle"),
            price: 5e3,
            propId: u.f.lingshi,
            desc: Object(s.tr)("sect@tip1", {
                uname: Object(b.c)(Object(g.a)("i.name")),
                name: t.info.name
            })
        }).then((function(t) {
            if ("yes" == t)
                return h.b.show(h.a.recruit)
        }
        )) : Promise.resolve(null)
    }
    function j() {
        var t = Object(s.singleton)(o.a).diziArr;
        return t = t.filter((function(t) {
            return 1 == t.p.soul
        }
        ))
    }
    function w() {
        var t = Object(s.singleton)(o.a).diziArr;
        return t = t.filter((function(t) {
            return 1 == t.p.wage && !t.hasTalent(20)
        }
        ))
    }
    function x(t) {
        var e = this
          , n = t.map((function(t) {
            return t.c.id
        }
        ));
        if (0 == t.length)
            return Object(s.tooltip)(Object(s.tr)("sect@noWage")),
            Promise.resolve();
        var i = 100 * t.length;
        return u.e.hasEnough(u.f.lingshi, i) ? Object(r.d)("se.m", {
            cId: n
        }).then((function(t) {
            if (t) {
                Object(s.tooltip)(Object(s.tr)("sect@wageOk"));
                var i = egret.setInterval((function() {
                    var t = n.shift();
                    c.c.write({
                        id: 6,
                        cId: t
                    }),
                    0 == n.length && egret.clearInterval(i)
                }
                ), e, 150);
                return t
            }
        }
        )) : Promise.resolve()
    }
    function k(t) {
        return Object(_.c)(t) ? (Object(s.tooltip)(Object(s.tr)("sect@dimissTip")),
        Promise.resolve(null)) : Object(s.confirm)(Object(s.tr)("sect@dimissConfirm")).then((function(e) {
            if ("yes" == e)
                return Object(r.d)("se.l", {
                    cId: t
                }).then((function(e) {
                    return e ? (c.c.write({
                        id: 7,
                        cId: t
                    }),
                    c.c.write({
                        id: 8,
                        cId: t
                    }),
                    Object(s.tooltip)(Object(s.tr)("sect@dimissOk")),
                    Object(s.singleton)(o.a).setDiziDirty(),
                    e) : null
                }
                ))
        }
        ))
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return B
    }
    ));
    var i, o = n(1), r = n(174), a = n(4), s = n(113), c = n(354), u = n(107), h = n(116), l = n(357), p = n(106), f = n(155), d = n(238), b = n(235), g = n(171), _ = n(256), m = n(109), y = n(194), v = n(326), O = n(135), j = n(356), w = n(108), x = n(117), k = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), I = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.arr = [],
            e
        }
        return k(e, t),
        e.prototype.onReady = function() {
            this.addEvent(this.btn_minus),
            this.addEvent(this.btn_plus)
        }
        ,
        e.prototype.onDataUpdate = function(t) {
            var e = this;
            t && Object(m.a)("pet_json").then((function() {
                if (1 == t.type) {
                    var n = Object(o.getConfig)("item_json")[e.data.reward[0].itemId].ResultVal1
                      , i = Object(o.getConfig)("pet_json")[n].name;
                    e.lbl_petName.text = Object(o.tr)(i),
                    e.img_icon.source = "icon_selectBox_" + n + "_png"
                } else if (2 == t.type) {
                    var r = e.data.reward[0].itemId;
                    e.lbl_petName.text = a.PropModel.getName(r),
                    e.img_icon.source = Object(x.b)(r)
                }
                e.img_icon.scaleX = e.img_icon.scaleY = 2 == t.type ? 1.2 : .6,
                e.on("refresh_sel_num", e.changeNum, e)
            }
            ))
        }
        ,
        e.prototype.changeNum = function(t, e) {
            t == this.data.groupId && (this.lbl_num.text = e)
        }
        ,
        e.prototype.down = function() {
            Object(o.put)("down_sel_UseNum", this.data.groupId)
        }
        ,
        e.prototype.up = function() {
            Object(o.put)("up_sel_UseNum", this.data.groupId)
        }
        ,
        e.prototype.dispose = function() {
            this._id && egret.clearTimeout(this._id),
            this._intervalId && egret.clearInterval(this._intervalId),
            this.arr = Object(o.dispose)(this.arr)
        }
        ,
        e.prototype.addEvent = function(t) {
            var e = this;
            t && (t.addEventListener(egret.TouchEvent.TOUCH_BEGIN, this.touchBegin, this),
            this.arr.push({
                dispose: function() {
                    t.removeEventListener(egret.TouchEvent.TOUCH_BEGIN, e.touchBegin, e)
                }
            }))
        }
        ,
        e.prototype.touchBegin = function(t) {
            t.currentTarget == this.btn_minus ? this._type = "sub" : t.currentTarget == this.btn_plus && (this._type = "add"),
            o.display.stage.addEventListener(egret.TouchEvent.TOUCH_END, this.touchEnd, this),
            this._id = egret.setTimeout(this.timeout, this, 600)
        }
        ,
        e.prototype.touchEnd = function() {
            o.display.stage.removeEventListener(egret.TouchEvent.TOUCH_END, this.touchEnd, this),
            egret.clearTimeout(this._id),
            this._intervalId && (egret.clearInterval(this._intervalId),
            this._intervalId = 0),
            this.change()
        }
        ,
        e.prototype.timeout = function() {
            this._intervalId = egret.setInterval(this.tick, this, 50)
        }
        ,
        e.prototype.tick = function() {
            this.change()
        }
        ,
        e.prototype.change = function() {
            "sub" == this._type ? this.down() : "add" == this._type && this.up()
        }
        ,
        e
    }(o.Item), P = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e._curUseProp = [],
            Object(o.setSkin)(e, "CommonPanelSelectBoxSkin"),
            e
        }
        return k(e, t),
        e.prototype.onReady = function(t, e) {
            var n = this;
            Object(m.a)("itemBox_json").then((function() {
                n._pModel = t,
                n._maxUseNum = e;
                var i = Object(o.getConfig)("itemBox_json")[t.c.id]
                  , r = i.detail;
                for (var a in r.forEach((function(t) {
                    return t.type = i.type ? i.type : 1
                }
                )),
                Object(w.a)(n.list, r, {
                    smart: !0
                }),
                n.list.itemRenderer = I,
                n.lbl_select.text = Object(o.tr)(Object(o.getConfig)("item_json")[t.c.id].name),
                r)
                    n._curUseProp.push({
                        groupId: r[a].groupId,
                        num: 0
                    });
                n.on("up_sel_UseNum", n.upUseNum, n),
                n.on("down_sel_UseNum", n.downUseNum, n),
                n.tap("btn_use", n.onUse, n),
                n.tap("btn_cancel", (function() {
                    o.UI.remove(n)
                }
                ), n)
            }
            ))
        }
        ,
        e.prototype.curUseNum = function() {
            var t = 0;
            for (var e in this._curUseProp)
                t += this._curUseProp[e].num;
            return t
        }
        ,
        e.prototype.curProp = function(t) {
            for (var e in this._curUseProp)
                if (this._curUseProp[e].groupId == t)
                    return this._curUseProp[e];
            return null
        }
        ,
        e.prototype.isMax = function() {
            return this.curUseNum() >= this._maxUseNum
        }
        ,
        e.prototype.upUseNum = function(t) {
            if (!this.isMax()) {
                for (var e in this._curUseProp)
                    this._curUseProp[e].groupId == t && (this._curUseProp[e].num += 1);
                var n = this.curProp(t);
                Object(o.put)("refresh_sel_num", n.groupId, n.num)
            }
        }
        ,
        e.prototype.downUseNum = function(t) {
            for (var e in this._curUseProp)
                this._curUseProp[e].groupId == t && this._curUseProp[e].num > 0 && (this._curUseProp[e].num -= 1);
            var n = this.curProp(t);
            Object(o.put)("refresh_sel_num", n.groupId, n.num)
        }
        ,
        e.prototype.onUse = function() {
            var t = this;
            this.curUseNum() <= 0 ? Object(o.tooltip)(Object(o.tr)("main@noSelProp")) : Object(u.d)("prp.a", {
                cId: this._pModel.c.id,
                num: this.curUseNum(),
                secGroup: this._curUseProp
            }).then((function(e) {
                e && (h.a.show(e.awds),
                Object(o.put)("refresh_bag"),
                o.UI.remove("BagItemInfoPanel"),
                o.UI.remove(t))
            }
            ))
        }
        ,
        e.prototype.onExit = function() {}
        ,
        e
    }(o.UIComponent), C = n(129), S = n(134), R = n(115), T = n(236), L = n(359), A = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), M = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, N = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, B = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "ItemInfoSkin"),
            e
        }
        return A(e, t),
        e.prototype.onReady = function(t, e) {
            var n = this;
            void 0 === e && (e = !1),
            this._canUse = e,
            this.model = t,
            this.controller = new r.a(null,this.maxBtn,this.prevBtn,this.nextBtn,t.num,(function(t, e) {
                n.inputBtn.label = t + "/" + e,
                n.btn_use.enabled = n.canUse()
            }
            )),
            this.setName("BagItemInfoPanel"),
            Object(T.a)(t, this),
            this.nameLabel.text = t.c.name,
            Object(f.c)(this.nameLabel, t),
            this.des.text = t.desc,
            this.item.data = t,
            this.tap("inputBtn", this.onInput, this),
            this.tap("btn_use", this.onUse, this),
            this.tap("btn_sell", this.onSell, this),
            this.btn_sell.enabled = t.c.sellMoney > 0,
            this.btn_use.enabled = this.canUse()
        }
        ,
        e.prototype.getDuJieRate = function() {
            var t = Object(s.a)()
              , e = Object(o.getConfig)("level_json")[t.lv].succRate
              , n = Object(R.n)();
            return t.tqInfo.tq2 > 0 ? e = Object(o.getConfig)("privilegeCard_json")[1072].duJiePer + e : n > 0 && (e = Object(o.getConfig)("privilegeCard_json")[1071].duJiePer + e),
            Math.min(1e4, e + t.lvRate)
        }
        ,
        e.prototype.getUseMax = function(t) {
            switch (this.model.c.resultID) {
            case 1:
                if (this.getDuJieRate() >= 1e4)
                    return Object(o.tooltip)(Object(o.tr)("main@dujieUse2")),
                    0;
                var e = this.model.num;
                return e = Math.min(e, Math.ceil((1e4 - this.getDuJieRate()) / this.model.c.ResultVal1)),
                Math.min(t, e);
            case 6:
                if (this.model.c.useLimit > 0) {
                    var n = Object(_.b)(this.model.c.id);
                    return n.use >= n.limit && Object(o.tooltip)(Object(o.tr)("main@danFull")),
                    Math.min(t, n.limit - n.use)
                }
            }
            return t
        }
        ,
        e.prototype.onInput = function() {
            var t = this;
            Object(p.a)(new d.a(this.model)).exit((function(e) {
                null != e.num && (t.controller.num = e.num)
            }
            ))
        }
        ,
        e.prototype.canUse = function() {
            if (2 == this.model.c.resultID)
                return this.model.c.id == Object(s.a)("extBag.cId");
            if (this._canUse)
                return !0;
            if (1 == this.model.c.IsUse) {
                if (this.model.c.useLimit) {
                    var t = this.model.c.useLimit + (Object(s.a)("limits")[this.model.c.id] || 0);
                    return (Object(s.a)("uses")[this.model.c.id] || 0) < t
                }
                return !0
            }
            return !1
        }
        ,
        e.prototype.onUse = function() {
            var t, e = this, n = this.model.c.resultID;
            if (0 == this.controller.num)
                return Object(o.tooltip)(Object(o.tr)("common@noHasNum"));
            switch (n) {
            case 13:
                Object(p.a)(new l.a).exit((function(t) {
                    t.succeed && (o.UI.remove(e),
                    Object(o.put)("refresh_bag"))
                }
                ));
                break;
            case 19:
                if (-1 == Object(s.a)("fashion.has").indexOf(this.model.c.ResultVal1))
                    this.commonUse("fa.it", {
                        cId: this.model.c.id,
                        num: 1
                    });
                else {
                    var i = this.model.c.ResultVal1;
                    Object(m.a)("fashion_json").then((function(t) {
                        Object(o.getConfig)("fashion_json")[i] && Object(o.confirm)({
                            text: Object(o.tr)("main@hasFashion"),
                            showNo: !1
                        })
                    }
                    ))
                }
                break;
            case 2:
                Object(c.a)(this, this.controller.num).then((function() {
                    0 == e.model.num ? o.UI.remove(e) : (e.controller.setMaxNum(e.model.num),
                    e.item.data = e.model)
                }
                ));
                break;
            case 11:
                if (Object(b.a)(this.model.c.skillId))
                    return void Object(o.tooltip)(Object(o.tr)("main@hasLearnSkill"));
                this.learnSkill();
                break;
            case 14:
                if (215 == Object(s.a)("skin")[8])
                    return void Object(o.tooltip)(Object(o.tr)("main@blackStop2"));
                O.a.openAvatarScene().then((function(t) {
                    t && (o.UI.remove(e),
                    Object(o.put)("refresh_bag"))
                }
                ));
                break;
            case 15:
                this.commonUse2("wdao.b", {
                    propId: this.model.c.id,
                    num: this.controller.num
                });
                break;
            case 33:
                this.commonUse("u.va", {
                    cId: this.model.c.id,
                    num: this.controller.num
                });
                break;
            case 5:
            case 25:
            case 26:
            case 36:
                this.commonUse("h.it", {
                    cId: this.model.c.id,
                    num: this.controller.num
                });
                break;
            case 18:
                this.commonUse("un.it", {
                    cId: this.model.c.id,
                    num: this.controller.num
                });
                break;
            case 1:
                (t = this.getUseMax(this.controller.num)) > 0 && this.commonUse("u.aa", {
                    userItemId: this.model.c.id,
                    number: t
                });
                break;
            case 6:
            case 31:
                (t = this.getUseMax(this.controller.num)) > 0 && this.use(t);
                break;
            case 20:
                this.addBeastNum();
                break;
            case 21:
                this.addBeast();
                break;
            case 37:
                var r = Object(o.getConfig)("weapon_json")[this.model.c.ResultVal1];
                y.b.get(r.type) ? Object(o.tooltip)(Object(o.tr)("main@fb4")) : this.commonUse("wp.a", {
                    propId: this.model.c.id
                });
                break;
            case 46:
                Object(o.singleton)(v.a).use(this.model);
                break;
            case 48:
                this.commonUse("wo.w", {
                    propId: this.model.c.id,
                    num: this.controller.num
                });
                break;
            case 49:
                Object(p.a)(new P, this.model, this.controller.num);
                break;
            case 51:
                this.commonUse("wo.w", {
                    propId: this.model.c.id,
                    num: this.controller.num
                });
                break;
            case 55:
                Object(L.a)() ? this.commonUse("sand.v", {
                    propId: this.model.c.id,
                    num: this.controller.num
                }) : Object(o.tooltip)(Object(o.tr)("main@usedInST"));
                break;
            case 22:
                Object(o.put)("refresh_bag"),
                Object(o.put)("beast_feedOver", this.controller.num),
                o.UI.remove(this);
                break;
            case 56:
                this.commonUse("cst.b", {
                    propId: this.model.c.id,
                    num: this.controller.num
                });
                break;
            case 57:
                this.commonUse("cst.c", {
                    propId: this.model.c.id,
                    num: this.controller.num
                });
                break;
            default:
                this.model.c && this.use()
            }
        }
        ,
        e.prototype.addBeastNum = function() {
            return M(this, void 0, void 0, (function() {
                var t;
                return N(this, (function(e) {
                    switch (e.label) {
                    case 0:
                        return [4, Object(u.a)("p.a", "Pet.getInfo")];
                    case 1:
                        return (t = e.sent()).petNum ? [4, Object(m.a)("petFun_json")] : (Object(o.tooltip)(Object(o.tr)("main@beastNoOpen")),
                        [2]);
                    case 2:
                        return e.sent(),
                        Object(o.getConfig)("petFun_json") || Object(o.getConfig)("petFun_json")[1] ? t.petNum >= Object(o.getConfig)("petFun_json")[1].maxPosition ? (Object(o.tooltip)(Object(o.tr)("main@beastBoxMax")),
                        [2]) : (this.commonUse("p.d", {
                            propId: this.model.c.id,
                            num: this.model.num
                        }),
                        [2]) : [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.addBeast = function() {
            return M(this, void 0, void 0, (function() {
                var t;
                return N(this, (function(e) {
                    switch (e.label) {
                    case 0:
                        return [4, Object(u.a)("p.a", "Pet.getInfo")];
                    case 1:
                        if (!(t = e.sent()).petNum)
                            return Object(o.tooltip)(Object(o.tr)("main@beastNoOpen")),
                            [2];
                        if (t.pets.length >= t.petNum)
                            return Object(o.tooltip)(Object(o.tr)("main@beastHasMax")),
                            [2];
                        switch (this.commonUse("p.c", {
                            propId: this.model.c.id
                        }),
                        t.pets.length + 1) {
                        case 1:
                            Object(S.a)("get_1_beast");
                            break;
                        case 3:
                            Object(S.a)("get_3_beast");
                            break;
                        case 5:
                            Object(S.a)("get_5_beast");
                            break;
                        case 8:
                            Object(S.a)("get_8_beast");
                            break;
                        case 10:
                            Object(S.a)("get_10_beast");
                            break;
                        case 15:
                            Object(S.a)("get_15_beast");
                            break;
                        case 20:
                            Object(S.a)("get_20_beast")
                        }
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.learnSkill = function() {
            var t = this;
            Object(u.d)("skl.a", {
                propId: this.model.c.id
            }).then((function(e) {
                e && (Object(o.tooltip)(Object(o.tr)("main@learnSkill")),
                Object(o.put)("refresh_bag"),
                o.UI.remove(t))
            }
            ))
        }
        ,
        e.prototype.commonUse = function(t, e) {
            var n = this;
            Object(u.d)(t, e).then((function(t) {
                t && n.useDone(t)
            }
            ))
        }
        ,
        e.prototype.useDone = function(t) {
            var e = [16024, 16025, 16026, 16027];
            switch (-1 == e.indexOf(this.model.c.id) && h.a.show(t.awds),
            Object(o.put)("refresh_bag"),
            this.model.c.resultID) {
            case 1:
                t.addRate && Object(o.tooltip)(Object(o.tr)("main@dujieUse1", {
                    num: t.addRate
                }));
                break;
            case 5:
                Object(o.tooltip)(Object(o.tr)("main@use_5"));
                break;
            case 7:
            case 9:
                Object(o.tooltip)(Object(o.tr)("main@use_7", {
                    name: Object(o.tr)(this.model.c.name)
                }));
                break;
            case 8:
            case 10:
                Object(o.tooltip)(Object(o.tr)("main@use_8", {
                    name: Object(o.tr)(this.model.c.name)
                }));
                break;
            case 12:
                e.indexOf(this.model.c.id) > -1 && C.b.show(t.awds);
                break;
            case 18:
                Object(o.tooltip)(Object(o.tr)("main@use_18"));
                break;
            case 20:
                Object(o.tooltip)(Object(o.tr)("main@use_20"));
                break;
            case 21:
                Object(o.tooltip)(Object(o.tr)("main@use_21"));
                break;
            case 25:
                Object(o.tooltip)(Object(o.tr)("main@use_25", {
                    n: this.controller.num * this.model.c.ResultVal1
                }));
                break;
            case 19:
                var n = this.model.c.ResultVal1;
                Object(m.a)("fashion_json").then((function(t) {
                    var e = Object(o.getConfig)("fashion_json")[n];
                    if (!e)
                        return Object(o.tooltip)(Object(o.tr)("main@useClothProp"));
                    e.type < 4 ? Object(o.tooltip)(Object(o.tr)("main@useClothProp")) : e.type <= 6 ? Object(o.tooltip)(Object(o.tr)("main@useClothProp2")) : Object(o.tooltip)(Object(o.tr)("main@useClothProp"))
                }
                ));
                break;
            case 26:
                Object(o.tooltip)(Object(o.tr)("main@use_26", {
                    n: this.controller.num * this.model.c.ResultVal1
                }));
                break;
            case 33:
                Object(o.tooltip)(Object(o.tr)("main@useOk"));
                break;
            case 48:
                j.a.show(t);
                break;
            case 51:
                j.a.show(t, 51);
                break;
            case 55:
                Object(o.tooltip)(Object(o.tr)("main@usePtSuccess"));
                break;
            case 56:
                Object(o.tooltip)(Object(o.tr)("main@useChristmasProp1", {
                    num: t.addNum
                }));
                break;
            case 57:
                Object(o.tooltip)(Object(o.tr)("main@useChristmasProp2", {
                    num: t.addNum
                }))
            }
            o.UI.remove(this)
        }
        ,
        e.prototype.commonUse2 = function(t, e) {
            var n = this;
            Object(u.d)(t, e).then((function(t) {
                t && n.useDone2(t)
            }
            ))
        }
        ,
        e.prototype.useDone2 = function(t) {
            g.a.show(t.awds),
            Object(o.put)("refresh_bag"),
            o.UI.remove(this)
        }
        ,
        e.prototype.use = function(t) {
            var e = t || this.controller.num;
            e > 0 ? this.commonUse("prp.a", {
                cId: this.model.c.id,
                num: e
            }) : Object(o.tooltip)(Object(o.tr)("common@noHasNum"))
        }
        ,
        e.prototype.onSell = function() {
            var t = this
              , e = {
                cId: this.model.c.id,
                num: this.controller.num
            };
            46 == this.model.c.resultID && (e.aId = this.model.p.aId),
            Object(o.confirm)(Object(o.tr)("main@sellPropConfirm", {
                name: Object(o.tr)(this.model.c.name),
                num: this.controller.num,
                color: Object(f.b)(this.model.quality),
                name2: a.PropModel.getName(this.model.c.sellItemId),
                num2: this.controller.num * this.model.c.sellMoney
            })).then((function(n) {
                "yes" == n && Object(u.d)("prp.b", e).then((function(e) {
                    e && (h.a.show(e.awds),
                    Object(o.put)("refresh_bag"),
                    o.UI.remove(t))
                }
                ))
            }
            ))
        }
        ,
        e.prototype.onExit = function() {
            this.controller.dispose()
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return v
    }
    ));
    var i, o = n(1), r = n(133), a = n(148), s = n(111), c = n(107), u = n(116), h = n(106), l = n(110), p = n(174), f = n(155), d = n(238), b = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), g = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "ItemInfoSkin"),
            e
        }
        return b(e, t),
        e.prototype.onReady = function(t, e) {
            var n = this;
            this.type = e,
            this.model = t,
            this.controller = new p.a(null,this.maxBtn,this.prevBtn,this.nextBtn,t.num,(function(t, e) {
                n.inputBtn.label = t + "/" + e,
                n.btn_use.enabled = !0
            }
            )),
            this.nameLabel.text = t.c.name,
            Object(f.c)(this.nameLabel, t),
            this.des.text = t.c.desc,
            this.item.data = t,
            this.tap("inputBtn", this.onInput, this),
            this.tap("btn_use", this.onUse, this),
            this.tap("btn_sell", this.onSell, this),
            this.btn_sell.enabled = t.c.sellMoney > 0,
            this.btn_use.enabled = !0
        }
        ,
        e.prototype.getUseMax = function(t) {
            return t
        }
        ,
        e.prototype.onInput = function() {
            var t = this;
            Object(h.a)(new d.a(this.model)).exit((function(e) {
                null != e.num && (t.controller.num = e.num)
            }
            ))
        }
        ,
        e.prototype.onUse = function() {
            var t = this
              , e = this.controller.num;
            Object(c.d)("sp.d", {
                itemNum: e,
                type: this.type
            }).then((function(e) {
                e && t.useDone(e)
            }
            ))
        }
        ,
        e.prototype.useDone = function(t) {
            u.a.show(t.awds),
            Object(o.put)("refresh_bag"),
            o.UI.remove(this)
        }
        ,
        e.prototype.onSell = function() {
            var t = this;
            Object(o.confirm)(Object(o.tr)("main@sellConfirm", {
                name: Object(o.tr)(this.model.c.name),
                num: this.controller.num,
                color: Object(f.b)(this.model.quality),
                sc: this.controller.num * this.model.c.sellMoney
            })).then((function(e) {
                "yes" == e && Object(c.d)("prp.b", {
                    cId: t.model.c.id,
                    num: t.controller.num
                }).then((function(e) {
                    e && (u.a.show(e.awds),
                    Object(o.put)("refresh_bag"),
                    o.UI.remove(t))
                }
                ))
            }
            ))
        }
        ,
        e.prototype.onExit = function() {
            this.controller.dispose()
        }
        ,
        e
    }(o.UIComponent), _ = n(113), m = n(147), y = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), v = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "LingQiSkin"),
            e
        }
        return y(e, t),
        e.prototype.onReady = function() {
            this.tap("btn_makeAll", this.makeAll, this),
            this.tap("btn_make1", this.make1, this),
            this.tap("btn_make2", this.make2, this),
            this.tap("btn_cure1", this.recover1, this),
            this.tap("btn_cure2", this.recover2, this),
            this.tap("ruleBtn", this.showRule, this),
            this.tap("rectRule", this.hideRule, this),
            this.refreshView()
        }
        ,
        e.prototype.onExit = function() {
            this.disposeTime(),
            this.disposeTime1(),
            Object(o.put)("lingjun_change"),
            t.prototype.onExit.call(this)
        }
        ,
        e.prototype.hideRule = function() {
            this.disposeTime1(),
            this.ruleNode.visible = !1
        }
        ,
        e.prototype.disposeTime1 = function() {
            this._timeId && (this._timeId.dispose(),
            this._timeId = null),
            this.ruleNode.alpha = 1,
            egret.Tween.removeTweens(this.ruleNode)
        }
        ,
        e.prototype.showRule = function() {
            var t = this;
            this.disposeTime1(),
            this.ruleNode.visible = !0,
            this._timeId = Object(o.setTimeout)((function() {
                egret.Tween.get(t.ruleNode).to({
                    alpha: 0
                }, 500).call((function() {
                    t.ruleNode.visible = !1
                }
                ))
            }
            ), this, 2e3)
        }
        ,
        e.prototype.disposeTime = function() {
            this._time && (this._time.dispose(),
            this._time = null)
        }
        ,
        e.prototype.refreshView = function() {
            this.lbl_lingqiNow.text = "" + r.b.getNum(r.c.lingQi),
            this.lbl_lingjunNow.text = "" + r.b.getNum(r.c.lingJun);
            o.cache.get("SpiritArmy.getInfo");
            var t = a.a.getHeroValue("matkAttr");
            this.lbl_fashu.text = "" + t,
            this.lbl_lingqiGet.text = "" + t;
            var e = a.a.getHeroValue("datkAttr");
            this.lbl_daoshu.text = "" + e,
            this.lbl_lingjunGet.text = "" + e,
            this.lbl_lingqiCost.text = "" + e,
            this.disposeTime();
            var n = this.lingQiTime()
              , i = this.lingJunTime();
            0 != n && 0 != i || (this._time = Object(o.setInterval)(this.onTick, this, 1e3)),
            this.onTick()
        }
        ,
        e.prototype.onTick = function() {
            var t = s.a.getNow(!0)
              , e = o.cache.get("SpiritArmy.getInfo")
              , n = this.lingQiTime();
            n > 0 ? (this.btn_make1.visible = !0,
            this.btn_cure1.visible = !1,
            this.lbl_lingqiTime.text = n + "/" + this.lingQiMax()) : (this.btn_make1.visible = !1,
            this.btn_cure1.visible = !0,
            this.lbl_lingqiTime.text = o.time.leftCountdown(e.qiRefTime - t, "hh:mm:ss"));
            var i = this.lingJunTime();
            i > 0 ? (this.btn_make2.visible = !0,
            this.btn_cure2.visible = !1,
            this.lbl_lingjunTime.text = i + "/" + this.lingJunMax()) : (this.btn_make2.visible = !1,
            this.btn_cure2.visible = !0,
            this.lbl_lingjunTime.text = o.time.leftCountdown(e.junRefTime - t, "hh:mm:ss"))
        }
        ,
        e.prototype.lingQiMax = function() {
            return o.cache.get("SpiritArmy.getInfo").limitQiNum + Math.max(0, Math.floor((Object(_.a)("lv") - 71) / 2))
        }
        ,
        e.prototype.lingJunMax = function() {
            return o.cache.get("SpiritArmy.getInfo").limitJunNum + Math.max(0, Math.floor((Object(_.a)("lv") - 71) / 2))
        }
        ,
        e.prototype.lingQiTime = function() {
            var t = o.cache.get("SpiritArmy.getInfo");
            if (t.collectQiNum >= this.lingQiMax())
                return t.collectQiNum;
            var e = s.a.getNow(!0)
              , n = 0;
            return t.qiRefTime > 0 && (n = Math.floor((e - t.qiRefTime) / 1800) + 1),
            n < 0 && (n = 0),
            Math.min(t.collectQiNum + n, this.lingQiMax())
        }
        ,
        e.prototype.lingJunTime = function() {
            var t = o.cache.get("SpiritArmy.getInfo");
            if (t.collectJunNum >= this.lingJunMax())
                return t.collectJunNum;
            var e = s.a.getNow(!0)
              , n = 0;
            return t.junRefTime > 0 && (n = Math.floor((e - t.junRefTime) / 1800) + 1),
            n < 0 && (n = 0),
            Math.min(t.collectJunNum + n, this.lingJunMax())
        }
        ,
        e.prototype.makeAll = function() {
            var t = this
              , e = this.lingQiTime()
              , n = this.lingJunTime();
            if (e <= 0 && n <= 0)
                Object(o.tooltip)(Object(o.tr)("main@numLimit"));
            else {
                var i = a.a.getHeroValue("datkAttr");
                (0 != e || r.b.hasEnough(r.c.lingQi, i)) && Object(c.d)("sp.e").then((function(e) {
                    e && u.a.show(e.awds),
                    t.refreshView()
                }
                ))
            }
        }
        ,
        e.prototype.make1 = function() {
            var t = this;
            Object(c.d)("sp.b").then((function(e) {
                e && u.a.show(e.awds),
                t.refreshView()
            }
            ))
        }
        ,
        e.prototype.recover1 = function() {
            r.b.hasEnough(10273, 1) && Object(h.a)(new g, r.b.get(10273), 1)
        }
        ,
        e.prototype.make2 = function() {
            var t = this
              , e = a.a.getHeroValue("datkAttr");
            r.b.hasEnough(r.c.lingQi, e) && Object(c.d)("sp.c").then((function(e) {
                e && u.a.show(e.awds),
                t.refreshView()
            }
            ))
        }
        ,
        e.prototype.recover2 = function() {
            r.b.hasEnough(10273, 1) && Object(h.a)(new g, r.b.get(10273), 2)
        }
        ,
        e.show = function() {
            a.a.getEnableList().length <= 0 ? Object(o.tooltip)(Object(o.tr)("main@lingqiLock")) : Object(l.b)([Object(c.a)("sp.a", "SpiritArmy.getInfo", (function(t) {
                return !1
            }
            )), Object(o.singleton)(m.a).checkRes()]).then((function(t) {
                Object(h.a)(new e)
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return p
    }
    ));
    var i, o = n(1), r = n(154), a = n(108), s = function(t) {
        __extends(i, t);
        var e = function(t) {
            function e() {
                t.call(this),
                this.skinParts = ["labelDisplay"],
                this.elementsContent = [this._Image1_i(), this.labelDisplay_i()],
                this.states = [new eui.State("up",[]), new eui.State("down",[]), new eui.State("disabled",[])]
            }
            __extends(e, t);
            var n = e.prototype;
            return n._Image1_i = function() {
                var t = new eui.Image;
                return t.percentHeight = 100,
                t.source = "btn_common_yellow_png",
                t.percentWidth = 100,
                t
            }
            ,
            n.labelDisplay_i = function() {
                var t = new solar.Label;
                return this.labelDisplay = t,
                t.fontFamily = "黑体",
                t.horizontalCenter = 0,
                t.size = 30,
                t.text = "确 定",
                t.textColor = 4926749,
                t.verticalCenter = 0,
                t.wordWrap = !0,
                t
            }
            ,
            e
        }(eui.Skin)
          , n = function(t) {
            function e() {
                t.call(this),
                this.skinParts = ["lbl_title", "lbl_text"],
                this.width = 610,
                this.elementsContent = [this._Group2_i()]
            }
            __extends(e, t);
            var n = e.prototype;
            return n._Group2_i = function() {
                var t = new eui.Group;
                return t.horizontalCenter = 0,
                t.layout = this._VerticalLayout1_i(),
                t.elementsContent = [this._Group1_i(), this.lbl_text_i()],
                t
            }
            ,
            n._VerticalLayout1_i = function() {
                var t = new eui.VerticalLayout;
                return t.gap = 35,
                t.horizontalAlign = "center",
                t
            }
            ,
            n._Group1_i = function() {
                var t = new eui.Group;
                return t.horizontalCenter = 0,
                t.layout = this._HorizontalLayout1_i(),
                t.elementsContent = [this._Image1_i(), this.lbl_title_i(), this._Image2_i()],
                t
            }
            ,
            n._HorizontalLayout1_i = function() {
                var t = new eui.HorizontalLayout;
                return t.verticalAlign = "middle",
                t
            }
            ,
            n._Image1_i = function() {
                var t = new eui.Image;
                return t.scaleX = .8,
                t.scaleY = .8,
                t.source = "splitline_6_png",
                t.x = 31,
                t.y = 14,
                t
            }
            ,
            n.lbl_title_i = function() {
                var t = new solar.Label;
                return this.lbl_title = t,
                t.fontFamily = "黑体",
                t.left = 229,
                t.size = 26,
                t.text = "@滕王阁序",
                t.textColor = 16773325,
                t.top = 0,
                t.wordWrap = !0,
                t
            }
            ,
            n._Image2_i = function() {
                var t = new eui.Image;
                return t.rotation = 180,
                t.scaleX = .8,
                t.scaleY = .8,
                t.source = "splitline_6_png",
                t.x = 76,
                t.y = 22,
                t
            }
            ,
            n.lbl_text_i = function() {
                var t = new solar.Label;
                return this.lbl_text = t,
                t.fontFamily = "黑体",
                t.left = 10,
                t.lineSpacing = 4,
                t.size = 24,
                t.text = "@豫章故郡，洪都新府。星分翼轸，地接衡庐。襟三江而带五湖，控蛮荆而引瓯越。物华天宝，龙光射牛斗之墟；人杰地灵，徐孺下陈蕃之榻。雄州雾列，俊采星驰。台隍枕夷夏之交，宾主尽东南之美。",
                t.textColor = 16777215,
                t.top = 30,
                t.width = 610,
                t.wordWrap = !0,
                t
            }
            ,
            e
        }(eui.Skin);
        function i() {
            t.call(this),
            this.skinParts = ["rect", "btn_confirm", "list", "lbl_noticeTitle", "contentNode"],
            this.height = 1334,
            this.width = 750,
            this.elementsContent = [this.rect_i(), this.contentNode_i()]
        }
        var o = i.prototype;
        return o.rect_i = function() {
            var t = new eui.Image;
            return this.rect = t,
            t.bottom = 0,
            t.left = 0,
            t.right = 0,
            t.source = "bg_common_rect_png",
            t.top = 0,
            t
        }
        ,
        o.contentNode_i = function() {
            var t = new eui.Group;
            return this.contentNode = t,
            t.horizontalCenter = 0,
            t.verticalCenter = 0,
            t.elementsContent = [this._Image1_i(), this._Image2_i(), this._Image3_i(), this.btn_confirm_i(), this._Scroller1_i(), this._Group2_i()],
            t
        }
        ,
        o._Image1_i = function() {
            var t = new eui.Image;
            return t.height = 770,
            t.horizontalCenter = 0,
            t.scale9Grid = new egret.Rectangle(274,120,25,20),
            t.source = "bg_common_panel_1_png",
            t.verticalCenter = 0,
            t
        }
        ,
        o._Image2_i = function() {
            var t = new eui.Image;
            return t.horizontalCenter = 0,
            t.source = "img_common_title_1_png",
            t.top = -64,
            t
        }
        ,
        o._Image3_i = function() {
            var t = new eui.Image;
            return t.anchorOffsetY = 0,
            t.height = 648,
            t.horizontalCenter = .5,
            t.scale9Grid = new egret.Rectangle(36,36,36,36),
            t.source = "bg_common_frame_1_png",
            t.verticalCenter = -45,
            t.width = 652,
            t
        }
        ,
        o.btn_confirm_i = function() {
            var t = new solar.Button;
            return this.btn_confirm = t,
            t.horizontalCenter = 0,
            t.label = "",
            t.notice = "common.close",
            t.scaleX = .9,
            t.scaleY = .9,
            t.verticalCenter = 325.5,
            t.skinName = e,
            t
        }
        ,
        o._Scroller1_i = function() {
            var t = new eui.Scroller;
            return t.height = 590,
            t.horizontalCenter = .5,
            t.verticalCenter = -47,
            t.width = 610,
            t.viewport = this.list_i(),
            t
        }
        ,
        o.list_i = function() {
            var t = new eui.List;
            return this.list = t,
            t.x = 0,
            t.y = -2,
            t.itemRendererSkinName = n,
            t.layout = this._VerticalLayout1_i(),
            t
        }
        ,
        o._VerticalLayout1_i = function() {
            var t = new eui.VerticalLayout;
            return t.gap = 50,
            t.horizontalAlign = "center",
            t.paddingBottom = 20,
            t
        }
        ,
        o._Group2_i = function() {
            var t = new eui.Group;
            return t.horizontalCenter = 0,
            t.top = -61,
            t.elementsContent = [this._Image4_i(), this._Group1_i()],
            t
        }
        ,
        o._Image4_i = function() {
            var t = new eui.Image;
            return t.left = 0,
            t.right = 0,
            t.scale9Grid = new egret.Rectangle(89,3,538,22),
            t.scaleX = 1,
            t.scaleY = 1,
            t.source = "img_common_title_1_2_png",
            t.y = 37,
            t
        }
        ,
        o._Group1_i = function() {
            var t = new eui.Group;
            return t.horizontalCenter = 0,
            t.scaleX = 1,
            t.scaleY = 1,
            t.x = 148,
            t.y = 0,
            t.elementsContent = [this._Image5_i(), this.lbl_noticeTitle_i()],
            t
        }
        ,
        o._Image5_i = function() {
            var t = new eui.Image;
            return t.left = -86,
            t.right = -86,
            t.source = "img_common_title_1_png",
            t.y = 0,
            t
        }
        ,
        o.lbl_noticeTitle_i = function() {
            var t = new solar.Label;
            return this.lbl_noticeTitle = t,
            t.fontFamily = "黑体",
            t.horizontalCenter = 0,
            t.size = 28,
            t.text = "公  告",
            t.textColor = 16773325,
            t.top = 9,
            t.wordWrap = !0,
            t
        }
        ,
        i
    }(eui.Skin), c = n(122), u = n(107), h = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), l = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return h(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.lbl_title.textFlow = (new egret.HtmlTextParser).parser(t.title),
            this.lbl_text.textFlow = (new egret.HtmlTextParser).parser(t.content))
        }
        ,
        e.prototype.onReady = function() {
            for (var t = [], e = 0; e < arguments.length; e++)
                t[e] = arguments[e];
            this.disposeArr.push(Object(c.a)(this.lbl_text, egret.TextEvent.LINK, this.onTextLink, this))
        }
        ,
        e.prototype.onTextLink = function(t) {
            var e = t.text;
            e.indexOf("copy_") > -1 && (Object(o.getPlatComp)("clipboard").copy(e.replace("copy_", "")),
            Object(o.tooltip)(Object(o.tr)("common@copy")))
        }
        ,
        e
    }(o.Item), p = function(t) {
        function e(e) {
            void 0 === e && (e = !1);
            var n = t.call(this) || this;
            return n.isSelf = e,
            n.skinName = s,
            n
        }
        return h(e, t),
        e.prototype.onReady = function() {
            var t = this;
            this.lbl_noticeTitle.text = Object(o.tr)("common@noticeTitle"),
            this.btn_confirm.label = Object(o.tr)("common@ok"),
            this.list.itemRenderer = l,
            this.tap("btn_confirm", this.onConfirm, this);
            var e = Object(r.a)().serverInfo.gonggao
              , n = e.l;
            e.ol && this.isSelf ? Object(u.d)("u.x").then((function(n) {
                var i = n.l.concat(e.l);
                Object(a.a)(t.list, i)
            }
            )) : Object(a.a)(this.list, n)
        }
        ,
        e.prototype.onConfirm = function() {
            o.UI.remove(this)
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "c", (function() {
        return u
    }
    )),
    n.d(e, "d", (function() {
        return h
    }
    )),
    n.d(e, "b", (function() {
        return l
    }
    )),
    n.d(e, "a", (function() {
        return p
    }
    ));
    var i, o = n(1), r = n(124), a = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), s = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, c = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, u = function() {
        function t() {}
        return t.getItem = function(t, e) {
            var n = egret.getQualifiedClassName(t)
              , i = this._itmePool[n];
            if (i && i.length > 0) {
                if (e)
                    for (var o = 0; o < i.length; o++)
                        if (i[o].data == e)
                            return i.splice(o, 1)[0];
                return i.pop()
            }
            return null
        }
        ,
        t.recycleItem = function(t) {
            if (t && t instanceof l) {
                var e = egret.getQualifiedClassName(t);
                this._itmePool[e] || (this._itmePool[e] = []),
                t.parent && t.parent.removeChild(t),
                t.visible = !1,
                t.selected = !1,
                this._itmePool[e].push(t)
            }
        }
        ,
        t._itmePool = {},
        t
    }();
    window.WholeItemManager = u;
    var h = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e._selectedIndices = [],
            e._selectedIndex = -1,
            e._indexToRenderer = {},
            e._freeRenderers = [],
            e._playRemoveQueue = [],
            e._playMoveQueue = [],
            e._playAddQueue = [],
            e._appearIndex = 0,
            e._oriTouchEnabled = e.$touchEnabled,
            e._oriTouchChildren = e.$touchChildren,
            e
        }
        return a(e, t),
        e.prototype.$onAddToStage = function(e, n) {
            t.prototype.$onAddToStage.call(this, e, n),
            this.addEventListener(egret.TouchEvent.TOUCH_BEGIN, this.onTouchBegin, this),
            this.addEventListener(egret.TouchEvent.TOUCH_END, this.onTouchEnd, this),
            this.addEventListener(egret.TouchEvent.TOUCH_CANCEL, this.onTouchCancle, this)
        }
        ,
        e.prototype.$onRemoveFromStage = function() {
            this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN, this.onTouchBegin, this),
            this.removeEventListener(egret.TouchEvent.TOUCH_END, this.onTouchEnd, this),
            this.removeEventListener(egret.TouchEvent.TOUCH_CANCEL, this.onTouchCancle, this),
            this._dataProvider && this._dataProvider.removeEventListener(eui.CollectionEvent.COLLECTION_CHANGE, this.onCollectionChange, this),
            this.diposeItemRenderers(),
            t.prototype.$onRemoveFromStage.call(this)
        }
        ,
        e.prototype.onTouchBegin = function(t) {
            this._touchDownItemRenderer = this.getItemRendererByPos(t.stageX, t.stageY),
            this.$stage.addEventListener(egret.TouchEvent.TOUCH_END, this.onStageTouchEnd, this),
            this._touchDownItemRenderer && console.log("TouchBegin:", this._touchDownItemRenderer.itemIndex, this._touchDownItemRenderer.data)
        }
        ,
        e.prototype.onTouchCancle = function(t) {
            this._touchDownItemRenderer = null,
            this.$stage && this.$stage.removeEventListener(egret.TouchEvent.TOUCH_END, this.onStageTouchEnd, this)
        }
        ,
        e.prototype.onTouchEnd = function(t) {
            if (this._touchDownItemRenderer) {
                var e = this.getItemRendererByPos(t.stageX, t.stageY);
                e == this._touchDownItemRenderer && (e && (console.log("onTouchEnd:", e.itemIndex, e.data),
                !this.swapSelect && e.selected || this.setSelectedIndex(e.itemIndex, !0, !0),
                eui.ItemTapEvent.dispatchItemTapEvent(this, eui.ItemTapEvent.ITEM_TAP, e)),
                this._touchDownItemRenderer = null)
            }
        }
        ,
        e.prototype.onStageTouchEnd = function(t) {
            this.$stage && this.$stage.removeEventListener(egret.TouchEvent.TOUCH_END, this.onStageTouchEnd, this),
            this._touchDownItemRenderer = null
        }
        ,
        e.prototype.getItemRendererByPos = function(t, e) {
            var n;
            for (var i in this._indexToRenderer)
                if ((n = this._indexToRenderer[i]) && this.rectContains(n, t, e))
                    return n;
            return null
        }
        ,
        e.prototype.rectContains = function(t, e, n) {
            var i = this.scaleX
              , o = this.scaleY
              , r = t.localToGlobal();
            return r.x <= e && r.x + t.width * i >= e && r.y <= n && r.y + t.height * o >= n
        }
        ,
        Object.defineProperty(e.prototype, "dataProvider", {
            get: function() {
                return this._dataProvider
            },
            set: function(t) {
                if (this._dataProvider != t) {
                    if (this._dataProvider && this._dataProvider.removeEventListener(eui.CollectionEvent.COLLECTION_CHANGE, this.onCollectionChange, this),
                    this._dataProvider = t,
                    this._dataProvider.addEventListener(eui.CollectionEvent.COLLECTION_CHANGE, this.onCollectionChange, this),
                    this._initSize = !1,
                    this.initDefaultAppearParam(),
                    this.initSize(),
                    this._selectedIndices) {
                        var e = t.length;
                        this._selectedIndices = this._selectedIndices.filter((function(t) {
                            if (t < e)
                                return !0
                        }
                        ))
                    }
                    this.invalidateDisplayList()
                }
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "selectedIndices", {
            get: function() {
                return this._selectedIndices
            },
            set: function(t) {
                if (this.allowMultipleSelection && t.length) {
                    var e = function(e) {
                        n._indexToRenderer[e] && (n._indexToRenderer[e].selected = null != t.find((function(t) {
                            return String(t) == e
                        }
                        )))
                    }
                      , n = this;
                    for (var i in this._indexToRenderer)
                        e(i);
                    this._selectedIndices = t,
                    this._selectedIndex = t[t.length - 1]
                } else if (t.length > 0) {
                    var o = t.pop();
                    for (var i in this._indexToRenderer)
                        this._indexToRenderer[i] && (this._indexToRenderer[i].selected = String(o) == i);
                    this._selectedIndices = [o],
                    this._selectedIndex = o
                } else {
                    for (var r = 0; r < this._selectedIndices.length; r++)
                        this._indexToRenderer[this._selectedIndices[r]] && (this._indexToRenderer[this._selectedIndices[r]].selected = !1);
                    this._selectedIndices = t,
                    this._selectedIndex = -1
                }
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.initSize = function() {
            if (!this._initSize && this._dataProvider.length > 0) {
                var t = this.getVirtualElementAt(0);
                t.validateNow();
                var e = new egret.Rectangle;
                t.getPreferredBounds(e),
                this.$layout && e.width && e.height && this.$layout.setTypicalSize(e.width, e.height),
                this._initSize = !0
            }
        }
        ,
        e.prototype.onCollectionChange = function(t) {
            this.initSize(),
            this.invalidateDisplayList()
        }
        ,
        e.prototype.setDataProvider = function(t, e) {
            this._displayOption = e,
            this.dataProvider = t
        }
        ,
        e.prototype.itemToRendererClass = function(t) {
            var e;
            return this.itemRendererFunction && (e = this.itemRendererFunction(t)),
            e || (e = this.itemRenderer),
            e || (e = l),
            e.$hashCode || (e.$hashCode = egret.$hashCount++),
            e
        }
        ,
        e.prototype.getFreeRenderer = function(t, e) {
            var n, i = -1, o = this._freeRenderers.length;
            if (o > 0) {
                for (var r = 0; r < o; r++)
                    if (this._freeRenderers[r]instanceof t) {
                        if (this._freeRenderers[r].data == e) {
                            n = this._freeRenderers.splice(r, 1)[0];
                            break
                        }
                        i = r
                    }
                !n && i >= 0 && (n = this._freeRenderers.splice(i, 1)[0])
            }
            return n
        }
        ,
        e.prototype.getItemRenderer = function(t, e) {
            var n, i;
            void 0 === e && (e = !0);
            var o = this.itemToRendererClass(t);
            return (n = this.getFreeRenderer(o, t)) || ((n = u.getItem(o, t)) || (n = new o),
            this.itemRendererSkinName && !n.skinName && (n.skinName = this.itemRendererSkinName),
            this.addChild(n),
            i = !0),
            n.scaleX = n.scaleY = 1,
            n.x = n.y = 0,
            n.visible = !0,
            e && i && this.playItemEffect(n),
            n
        }
        ,
        Object.defineProperty(e.prototype, "onceAppear", {
            get: function() {
                return this._onceAppear
            },
            set: function(t) {
                this._onceAppear = t
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.getAppear = function(t, e) {
            return !!this.onceAppear || (0 == t || (this.itemAppearFunction ? this.itemAppearFunction(t, e) : this.defaultAppearFunction(t, e)))
        }
        ,
        e.prototype.initDefaultAppearParam = function() {
            this._appearIndex = 0,
            this._defaultAppearArr = null,
            this._appearTid && (egret.clearInterval(this._appearTid),
            this._appearTid = 0)
        }
        ,
        e.prototype.defaultAppearFunction = function(t, e) {
            var n = this;
            return !this._defaultAppearArr && this.dataProvider && (this._defaultAppearArr = new Array(this.dataProvider.length),
            this._appearTid = egret.setInterval((function() {
                n._defaultAppearArr[++n._appearIndex] = !0,
                n._appearIndex >= n.dataProvider.length && (egret.clearInterval(n._appearTid),
                n._appearTid = 0),
                n.invalidateDisplayList()
            }
            ), this, 100)),
            this._defaultAppearArr[t]
        }
        ,
        e.prototype.getVirtualElementAt = function(t) {
            var e, n = this.dataProvider.getItemAt(t);
            return this.getAppear(t, n) ? (e = this._indexToRenderer[t] || this.getItemRenderer(n),
            this._indexToRenderer[t] = e,
            this.updateRenderer(e, t, n),
            e) : (this._tempRenderer || (this._tempRenderer = this.getItemRenderer(n, !1),
            this._tempRenderer.visible = !1),
            this._tempRenderer)
        }
        ,
        e.prototype.setVirtualElementIndicesInView = function(t, e) {
            if (this.$layout && this.$layout.$useVirtualLayout)
                for (var n = Object.keys(this._indexToRenderer), i = n.length, o = 0; o < i; o++) {
                    var r = +n[o];
                    if (r < t || r > e) {
                        var a = this._indexToRenderer[r];
                        this._indexToRenderer[r] = null,
                        a && (a.visible = !1,
                        this._freeRenderers.push(a))
                    }
                }
        }
        ,
        e.prototype.$setLayout = function(e) {
            return e != this.$layout && (this.$layout && this.$layout.setTypicalSize(0, 0),
            e.setTypicalSize(750, 1334),
            e.useVirtualLayout = !0,
            t.prototype.$setLayout.call(this, e))
        }
        ,
        e.prototype.updateRenderer = function(t, e, n, i) {
            return void 0 === i && (i = !0),
            t.itemIndex = e,
            i && t.parent == this && this.setChildIndex(t, e),
            t.data = n,
            this._selectedIndices && -1 != this._selectedIndices.indexOf(e) ? t.selected = !0 : t.selected = !1,
            t
        }
        ,
        e.prototype.playItemEffect = function(t) {
            t.playEffect && t.playEffect()
        }
        ,
        Object.defineProperty(e.prototype, "selectedItem", {
            get: function() {
                return this._selectedIndex >= 0 ? this._dataProvider.getItemAt(this._selectedIndex) : void 0
            },
            set: function(t) {
                var e = this._dataProvider.source.indexOf(t);
                -1 != e && (this.selectedIndex = e)
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "selectedIndex", {
            get: function() {
                return this._selectedIndex
            },
            set: function(t) {
                this._selectedIndex != t && (t >= 0 && this._dataProvider && t < this._dataProvider.length ? this.setSelectedIndex(t, !0) : this.requireSelection ? this.setSelectedIndex(0, !0) : this.setSelectedIndex(-1, !1))
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.setSelectedIndex = function(t, e, n) {
            if (n) {
                var i = this._selectedIndices ? this._selectedIndices.indexOf(t) : -1;
                this.itemSelected(t, -1 == i)
            } else
                this.itemSelected(t, !0);
            e && this.dispatchEventWith(egret.Event.CHANGE, !1, !0, !0)
        }
        ,
        e.prototype.setSelectedItem = function(t, e) {
            var n = this.dataProvider.source.indexOf(t);
            this.setSelectedIndex(n, e)
        }
        ,
        e.prototype.itemSelected = function(t, e) {
            if (e) {
                if (this._selectedIndices || (this._selectedIndices = []),
                -1 == this._selectedIndices.indexOf(t)) {
                    if (!this.allowMultipleSelection && this._selectedIndices.length > 0) {
                        for (var n = 0; n < this._selectedIndices.length; n++)
                            this._indexToRenderer[this._selectedIndices[n]] && (this._indexToRenderer[this._selectedIndices[n]].selected = !1);
                        this._selectedIndices = []
                    }
                    this._indexToRenderer[t] && (this._indexToRenderer[t].selected = !0),
                    this._selectedIndices.push(t)
                }
                this._selectedIndex = t
            } else {
                var i = this._selectedIndices ? this._selectedIndices.indexOf(t) : -1;
                -1 != i && (this._selectedIndices.splice(i, 1),
                this._indexToRenderer[t] && (this._indexToRenderer[t].selected = !1)),
                !this.requireSelection || this._selectedIndices && 0 != this._selectedIndices.length || (this._selectedIndices = [0],
                this._selectedIndex = 0,
                this._indexToRenderer[0] && (this._indexToRenderer[0].selected = !0))
            }
        }
        ,
        e.prototype.locateIndex = function(t) {
            this.scrollH,
            this.scrollV
        }
        ,
        e.prototype.defaultRemoveItemEffect = function(t, e) {
            egret.Tween.get(t).to({
                x: this.width
            }, 300).call(e)
        }
        ,
        e.prototype.afterAniRenderer = function(t, e, n) {
            var i = this;
            t.visible = !1,
            this._freeRenderers.push(t);
            var o = e.scaleX
              , r = e.scaleY;
            egret.Tween.get(e).to({
                scaleX: 0,
                scaleY: 0
            }, 500).call((function() {
                i.deleteItem(n),
                i.playing = !1,
                i.playNext()
            }
            ), this).set({
                scaleX: o,
                scaleY: r
            })
        }
        ,
        e.prototype.deleteItem = function(t) {
            this.dataProvider.source.splice(t, 1);
            var e = this.dataProvider.source.length;
            this._indexToRenderer[t] && this._freeRenderers.push(this._indexToRenderer[t]);
            for (var n = t; n <= e; n++)
                this._indexToRenderer[n] = this._indexToRenderer[n + 1];
            this._selectedIndices || (this._selectedIndices = []);
            var i = this._selectedIndices.indexOf(t);
            if (i >= 0 && this._selectedIndices.splice(i, 1),
            e > 0) {
                if (this.requireSelection && 0 == this._selectedIndices.length)
                    this._selectedIndices.push(0),
                    this._selectedIndex = 0,
                    this._indexToRenderer[0] && (this._indexToRenderer[0].selected = !0);
                else if (this._selectedIndices.length > 0) {
                    for (n = 0; n < this._selectedIndices.length; n++)
                        this._selectedIndices[n] > t && (this._selectedIndices[n] -= 1);
                    this._selectedIndex = this._selectedIndices[this._selectedIndices.length - 1]
                }
            } else
                this._selectedIndex = -1
        }
        ,
        e.prototype.playRemoveItem = function(t) {
            if (this._playing)
                return this._playRemoveQueue.push(t),
                !1;
            this.playing = !0;
            var e = this._indexToRenderer[t];
            if (e) {
                var n = this.getItemRenderer(e.data, !1);
                n.data = e.data,
                n.x = e.x,
                n.y = e.y,
                e.visible = !1,
                this.removeItemEffect ? this.removeItemEffect(n, this.afterAniRenderer.bind(this, n, e, t)) : this.defaultRemoveItemEffect(n, this.afterAniRenderer.bind(this, n, e, t))
            } else
                this.deleteItem(t),
                this.playing = !1
        }
        ,
        e.prototype.$setTouchEnabled = function(e) {
            this._oriTouchEnabled = e,
            t.prototype.$setTouchEnabled.call(this, e)
        }
        ,
        e.prototype.$setTouchChildren = function(e) {
            return this._oriTouchChildren = e,
            t.prototype.$setTouchChildren.call(this, e)
        }
        ,
        Object.defineProperty(e.prototype, "playing", {
            get: function() {
                return this._playing
            },
            set: function(t) {
                this._playing = t,
                this._oriTouchEnabled && (this.$touchEnabled = !t),
                this._oriTouchChildren && (this.$touchChildren = !t),
                t && this.scrollEnabled && this.parent && this.parent.stopAnimation && this.parent.stopAnimation()
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.playNext = function() {
            if (this._playRemoveQueue.length)
                this.playRemoveItem(this._playRemoveQueue.shift());
            else if (this._playMoveQueue.length) {
                var t = this._playMoveQueue.shift();
                this.playMoveItem(t.from, t.to)
            } else if (this._playAddQueue.length) {
                var e = this._playAddQueue.shift();
                this.playAddItem(e.index, e.items)
            }
        }
        ,
        e.prototype.playAddItem = function(t, e) {
            if (this._playing)
                return this._playAddQueue.push({
                    index: t,
                    items: e
                }),
                !1;
            var n, i;
            this.playing = !0;
            for (var o, r = [], a = t; a < t + e.length; a++)
                if (this._indexToRenderer[a]) {
                    o = !0;
                    break
                }
            if (o) {
                var s = []
                  , c = [];
                for (a = 0; a < e.length; a++)
                    (n = this.getItemRenderer(e[a], !1)).x = this.scrollH - n.width,
                    n.y = this.scrollV - n.height,
                    s.push(n),
                    i = this.getItemRenderer(e[a], !1),
                    this.updateRenderer(i, t + a, e[a]),
                    i.scaleX = i.scaleY = 0,
                    i.visible = !1,
                    c.push(i),
                    this._indexToRenderer[t + a] ? r.push({
                        x: this._indexToRenderer[t + a].x,
                        y: this._indexToRenderer[t + a].x
                    }) : r.push({
                        x: this.scrollH - i.width,
                        y: this.scrollV - i.height
                    });
                this.addItems(t, e);
                for (a = 0; a < e.length; a++)
                    this._indexToRenderer[t + a] = c[a];
                this.addItemsEffect ? this.addItemsEffect(c, s, r, this.afterAddAniRenderer.bind(this, c, s, t, e)) : this.defaultAddItemsEffect(c, s, r, this.afterAddAniRenderer.bind(this, c, s, t, e))
            } else
                this.addItems(t, e),
                this.playing = !1
        }
        ,
        e.prototype.defaultAddItemsEffect = function(t, e, n, i) {
            return s(this, void 0, void 0, (function() {
                var r, a;
                return c(this, (function(s) {
                    switch (s.label) {
                    case 0:
                        for (r = 0; r < t.length; r++)
                            egret.Tween.get(t[r]).to({
                                scaleX: 1,
                                scaleY: 1
                            }, 300).wait(200).set({
                                visible: !0
                            });
                        return [4, o.functions.delay(200)];
                    case 1:
                        for (s.sent(),
                        a = 0; a < e.length; a++)
                            0 == a ? egret.Tween.get(e[a]).to({
                                x: n[a].x,
                                y: n[a].y
                            }, 300).call(i) : egret.Tween.get(e[a]).to({
                                x: n[a].x,
                                y: n[a].y
                            }, 300);
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.afterAddAniRenderer = function(t, e, n, i) {
            for (var o = 0; o < e.length; o++)
                e[o].visible = !1,
                this._freeRenderers.push(e[o]);
            this.playing = !1,
            this.playNext()
        }
        ,
        e.prototype.addItems = function(t, e) {
            for (var n, i = e.length, o = this.dataProvider.source.length - 1; o >= t; o--)
                this._indexToRenderer[o] && (this._indexToRenderer[o + i] = this._indexToRenderer[o],
                this._indexToRenderer[o] = null);
            this._selectedIndex >= t && (this._selectedIndex += i);
            for (var r = 0; r < this._selectedIndices.length; r++)
                this._selectedIndices[r] >= t && (this._selectedIndices[r] += i);
            (n = this.dataProvider.source).splice.apply(n, [t, 0].concat(e))
        }
        ,
        e.prototype.playMoveItem = function(t, e) {
            var n = this._dataProvider.length - 1;
            if ((t = Math.max(Math.min(t, n), 0)) != (e = Math.max(Math.min(e, n), 0))) {
                if (this._playing)
                    return this._playMoveQueue.push({
                        from: t,
                        to: e
                    }),
                    !1;
                this.playing = !0,
                this._indexToRenderer[t] && this._indexToRenderer[e] ? this.moveItemEffect(t, e) : (this.moveItem(t, e),
                this.playing = !1)
            }
        }
        ,
        e.prototype.moveItemEffect = function(t, e) {
            var n, i, o, r, a = this, s = this._dataProvider.source[t], c = this.scrollH, u = this.scrollV;
            if (this._indexToRenderer[t] && this._indexToRenderer[e]) {
                if (n = this._indexToRenderer[t],
                i = this.getItemRenderer(s, !1),
                this.updateRenderer(i, t, s, !1),
                i.x = n.x,
                i.y = n.y,
                o = this.getItemRenderer(s, !1),
                this.updateRenderer(o, t, s),
                c = this._indexToRenderer[e].x,
                u = this._indexToRenderer[e].y,
                t < e) {
                    this._dataProvider.source.splice(e + 1, 0, s);
                    for (var h = this._dataProvider.length - 1; h > e + 1; h--)
                        this._indexToRenderer[h] = this._indexToRenderer[h - 1],
                        -1 != (r = this._selectedIndices.indexOf(h - 1)) && (this._selectedIndices[r] += 1);
                    this._indexToRenderer[e + 1] = o,
                    this._selectedIndex > t && this._selectedIndex <= e ? this._selectedIndex -= 1 : this._selectedIndex == t && (this._selectedIndex = e)
                } else {
                    this._dataProvider.source.splice(e, 0, s);
                    var l = this._selectedIndices.indexOf(t);
                    for (h = this._dataProvider.length - 1; h > e; h--)
                        this._indexToRenderer[h] = this._indexToRenderer[h - 1],
                        -1 != (r = this._selectedIndices.indexOf(h - 1)) && (this._selectedIndices[r] += 1);
                    this._indexToRenderer[e] = o,
                    -1 != l && (this._selectedIndices[l] = e),
                    this._selectedIndex >= e && this._selectedIndex < t ? this._selectedIndex += 1 : this._selectedIndex == t && (this._selectedIndex = e)
                }
                n.visible = !1,
                o.visible = !1
            } else
                this._indexToRenderer[t] || this._indexToRenderer[e];
            o.scaleX = o.scaleY = 0,
            egret.Tween.get(o).to({
                scaleX: 1,
                scaleY: 1
            }, 300),
            egret.Tween.get(i).to({
                scaleX: 1.1,
                scaleY: 1.1
            }, 30).wait(240).to({
                scaleX: 1,
                scaleY: 1
            }, 30),
            egret.Tween.get(i).to({
                x: c,
                y: u
            }, 300),
            egret.Tween.get(n).to({
                scaleX: 0,
                scaleY: 0
            }, 300).call((function() {
                var r = -1
                  , h = a._selectedIndices.indexOf(t);
                if (t < e) {
                    a._dataProvider.source.splice(t, 1);
                    for (var l = t; l < a._dataProvider.length - 1; l++)
                        a._indexToRenderer[l] = a._indexToRenderer[l + 1],
                        l > t && -1 != (r = a._selectedIndices.indexOf(l)) && (a._selectedIndices[r] -= 1);
                    -1 != h && (a._selectedIndices[h] = e)
                } else {
                    a._dataProvider.source.splice(t + 1, 1);
                    for (l = t + 1; l <= a._dataProvider.length; l++)
                        a._indexToRenderer[l] = a._indexToRenderer[l + 1],
                        -1 != (r = a._selectedIndices.indexOf(l)) && (a._selectedIndices[r] -= 1)
                }
                n.x = c,
                n.y = u,
                n.scaleX = n.scaleY = 1,
                n.visible = !0,
                a._indexToRenderer[e] = n,
                a.updateRenderer(n, e, s, !1),
                i.visible = !1,
                o.visible = !1,
                a._freeRenderers.push(i),
                a._freeRenderers.push(o),
                a.playing = !1,
                a.playNext()
            }
            ), this)
        }
        ,
        e.prototype.moveItem = function(t, e) {
            var n, i = this._dataProvider.source.splice(t, 1)[0];
            this._dataProvider.source.splice(e, 0, i);
            var o = this._selectedIndices.indexOf(t);
            if (t < e) {
                for (var r = t + 1; r < e; r++)
                    -1 != (n = this._selectedIndices.indexOf(r - 1)) && (this._selectedIndices[n] -= 1);
                this._selectedIndex > t && this._selectedIndex < e && (this._selectedIndex -= 1)
            } else if (t > e) {
                for (r = e; r < t; r++)
                    -1 != (n = this._selectedIndices.indexOf(r - 1)) && (this._selectedIndices[n] += 1);
                this._selectedIndex >= e && this._selectedIndex < t && (this._selectedIndex += 1)
            }
            -1 != o && (this._selectedIndices[o] = e),
            this._selectedIndex == t && (this._selectedIndex = e),
            this.invalidateDisplayList()
        }
        ,
        e.prototype.diposeItemRenderers = function() {
            for (var t in this._indexToRenderer)
                this._indexToRenderer[t] && u.recycleItem(this._indexToRenderer[t]);
            for (this._indexToRenderer = {}; this._freeRenderers.length; )
                u.recycleItem(this._freeRenderers.pop());
            this._tempRenderer && (u.recycleItem(this._tempRenderer),
            this._tempRenderer = null)
        }
        ,
        e
    }(eui.Group);
    Object.defineProperty(h.prototype, "numElements", {
        get: function() {
            return this._dataProvider ? this._dataProvider.length : 0
        },
        enumerable: !0,
        configurable: !0
    }),
    Object(r.a)("WholeList", h);
    var l = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return a(e, t),
        e.prototype.$getWidth = function() {
            return this._playing ? this._fixedW : t.prototype.$getWidth.call(this)
        }
        ,
        e.prototype.$getHeight = function() {
            return this._playing ? this._fixedH : t.prototype.$getHeight.call(this)
        }
        ,
        e.prototype.playEffect = function(t) {
            var e = this;
            if (!this._playing) {
                this._fixedW = this.width,
                this._fixedH = this.height,
                this._playing = !0;
                var n = this.scaleX
                  , i = this.scaleY;
                this.scaleX *= .2,
                this.scaleY *= .2,
                egret.Tween.get(this).to({
                    scaleX: n,
                    scaleY: i
                }, 200).call((function() {
                    e._playing = !1
                }
                ), this)
            }
        }
        ,
        e
    }(o.Item)
      , p = function() {
        function t() {}
        return t.fadeoutRight = function(t, e) {
            egret.Tween.get(t).to({
                x: t.parent.width
            }, 300).call(e)
        }
        ,
        t.fadeoutLeft = function(t, e) {
            egret.Tween.get(t).to({
                x: -t.parent.width
            }, 300).call(e)
        }
        ,
        t.fadeoutTop = function(t, e) {
            egret.Tween.get(t).to({
                y: -t.parent.height
            }, 300).call(e)
        }
        ,
        t.fadeoutBottom = function(t, e) {
            egret.Tween.get(t).to({
                y: t.parent.height
            }, 300).call(e)
        }
        ,
        t.fadeoutScale = function(t, e) {
            egret.Tween.get(t).to({
                scaleX: 0,
                scaleY: 0
            }, 300).call(e)
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return r
    }
    ));
    var i = n(1)
      , o = n(113)
      , r = function() {
        function t(t) {
            this._fashionId = t,
            this._c = Object(i.getConfig)("fashion_json")[t]
        }
        return Object.defineProperty(t.prototype, "c", {
            get: function() {
                return this._c
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "icon", {
            get: function() {
                var t = "";
                switch (this._c.type) {
                case 1:
                    t = "preview_clothes_" + this._c.gender + "_" + this._c.icon + "_png";
                    break;
                case 2:
                    t = "preview_head_" + this._c.icon + "_" + Object(o.a)("skin")[0] + "_png";
                    break;
                case 3:
                    t = "preview_light_" + this._c.icon + "_png"
                }
                return t
            },
            enumerable: !0,
            configurable: !0
        }),
        t.create = function(e) {
            return this.map[e] || (this.map[e] = new t(e)),
            this.map[e]
        }
        ,
        t.map = {},
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return r
    }
    )),
    n.d(e, "b", (function() {
        return a
    }
    ));
    var i = n(1)
      , o = n(112);
    function r() {
        var t = Object(i.getConfig)("festivalActivity_json");
        if (null == t)
            return RES.getResAsync("festivalActivity_json").then((function(t) {
                Object(i.put)("refresh_funOpen")
            }
            )),
            !1;
        var e = t.gcTotalRecharge.list[0].detail
          , n = Object(o.d)("gcTotalRecharge");
        return !!n && !(e[e.length - 1].num <= n.num && n.stage >= e[e.length - 1].num)
    }
    function a() {
        var t = Object(i.getConfig)("festivalActivity_json").gcTotalRecharge.list[0]
          , e = Object(o.d)("gcTotalRecharge");
        if (0 == e.stage)
            return t.detail.filter((function(t) {
                return 1 == t.id
            }
            ))[0];
        var n = t.detail.filter((function(t) {
            return t.num == e.stage
        }
        ));
        if (n.length > 0) {
            var r = t.detail.filter((function(t) {
                return t.id == n[0].id + 1
            }
            ));
            return r.length > 0 ? r[0] : n[0]
        }
        return null
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return i
    }
    ));
    var i = ["jin", "mu", "shui", "huo", "tu", "lingli", "tipo", "zhenqi", "shenfa", "gengu"]
}
, function(t, e, n) {
    "use strict";
    n.d(e, "f", (function() {
        return b
    }
    )),
    n.d(e, "d", (function() {
        return g
    }
    )),
    n.d(e, "e", (function() {
        return _
    }
    )),
    n.d(e, "g", (function() {
        return m
    }
    )),
    n.d(e, "c", (function() {
        return y
    }
    )),
    n.d(e, "a", (function() {
        return v
    }
    )),
    n.d(e, "b", (function() {
        return O
    }
    )),
    n.d(e, "h", (function() {
        return j
    }
    )),
    n.d(e, "l", (function() {
        return w
    }
    )),
    n.d(e, "i", (function() {
        return x
    }
    )),
    n.d(e, "k", (function() {
        return k
    }
    )),
    n.d(e, "j", (function() {
        return I
    }
    )),
    n.d(e, "m", (function() {
        return P
    }
    )),
    n.d(e, "n", (function() {
        return C
    }
    ));
    var i, o = n(1), r = n(130), a = n(112), s = n(111), c = n(113), u = n(137), h = n(109), l = n(4), p = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), f = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, d = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, b = function(t) {
        function e(e, n, i) {
            var o = t.call(this, e) || this;
            return o.actName = n,
            o.confName = i,
            o
        }
        return p(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.onUpdate, this)
        }
        ,
        e.prototype.onUpdate = function(t) {
            t == this.actName && this.check()
        }
        ,
        e.prototype.check = function() {
            return f(this, void 0, void 0, (function() {
                var t, e, n, i, c;
                return d(this, (function(u) {
                    switch (u.label) {
                    case 0:
                        return r.b.isOpen("recharge") ? (this._fsData = Object(a.d)(this.actName),
                        t = s.a.getNow(),
                        this._fsData && this._fsData.l && t >= this._fsData.start && t <= this._fsData.end ? [4, RES.getResAsync(this.confName)] : [3, 2]) : (this.updateVisible(!1),
                        [2]);
                    case 1:
                        for (u.sent(),
                        e = Object(o.getConfig)(this.confName)[this.actName],
                        n = void 0,
                        (i = this._fsData.cId - 1) > e.list.length && (i = 0),
                        c = 0; c < this._fsData.l.length; c++)
                            if (n = e.list[i].detail[c] ? e.list[i].detail[c].num : Number.MAX_VALUE,
                            !this._fsData.l[c].awded && this._fsData.num > n)
                                return [2, this.updateVisible(!0)];
                        return this.updateVisible(!1),
                        [3, 3];
                    case 2:
                        this.updateVisible(!1),
                        u.label = 3;
                    case 3:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule), g = function(t) {
        function e(e, n, i) {
            var o = t.call(this, e) || this;
            return o.actName = n,
            o.confName = i,
            o
        }
        return p(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.onUpdate, this)
        }
        ,
        e.prototype.onUpdate = function(t) {
            t == this.actName && this.check()
        }
        ,
        e.prototype.check = function() {
            return f(this, void 0, void 0, (function() {
                var t, e, n, i, c;
                return d(this, (function(u) {
                    switch (u.label) {
                    case 0:
                        return r.b.isOpen("recharge") ? (this._fsData = Object(a.d)(this.actName),
                        t = s.a.getNow(),
                        this._fsData && this._fsData.l && t >= this._fsData.start && t <= this._fsData.end ? [4, RES.getResAsync(this.confName)] : [3, 2]) : (this.updateVisible(!1),
                        [2]);
                    case 1:
                        for (u.sent(),
                        e = Object(o.getConfig)(this.confName)[this.actName],
                        n = void 0,
                        (i = this._fsData.cId - 1) > e.list.length && (i = 0),
                        c = 0; c < this._fsData.l.length; c++)
                            if (n = e.list[i].detail[c] ? e.list[i].detail[c].num : Number.MAX_VALUE,
                            !this._fsData.l[c].awded && this._fsData.num >= n)
                                return [2, this.updateVisible(!0)];
                        return this.updateVisible(!1),
                        [3, 3];
                    case 2:
                        this.updateVisible(!1),
                        u.label = 3;
                    case 3:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule), _ = function(t) {
        function e(e, n, i) {
            var o = t.call(this, e) || this;
            return o.actName = n,
            o.confName = i,
            o
        }
        return p(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.onUpdate, this)
        }
        ,
        e.prototype.onUpdate = function(t) {
            t == this.actName && this.check()
        }
        ,
        e.prototype.check = function() {
            return f(this, void 0, void 0, (function() {
                var t, e, n, i, c;
                return d(this, (function(u) {
                    switch (u.label) {
                    case 0:
                        return r.b.isOpen("recharge") ? (this._fsData = Object(a.d)(this.actName),
                        t = s.a.getNow(),
                        this._fsData && this._fsData.l && t >= this._fsData.start && t <= this._fsData.end ? [4, RES.getResAsync(this.confName)] : [3, 2]) : (this.updateVisible(!1),
                        [2]);
                    case 1:
                        for (u.sent(),
                        e = Object(o.getConfig)(this.confName)[this.actName],
                        n = void 0,
                        (i = this._fsData.cId - 1) > e.list.length && (i = 0),
                        c = 0; c < this._fsData.l.length; c++)
                            if (n = e.list[i].detail[c] ? e.list[i].detail[c].num : Number.MAX_VALUE,
                            !this._fsData.l[c].awded && this._fsData.num >= n)
                                return [2, this.updateVisible(!0)];
                        return this.updateVisible(!1),
                        [3, 3];
                    case 2:
                        this.updateVisible(!1),
                        u.label = 3;
                    case 3:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule), m = function(t) {
        function e() {
            return t.call(this, "充值转盘") || this
        }
        return p(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.onUpdate, this)
        }
        ,
        e.prototype.onUpdate = function(t) {
            "luckyWheel" == t && this.check()
        }
        ,
        e.prototype.check = function() {
            return f(this, void 0, void 0, (function() {
                var t, e;
                return d(this, (function(n) {
                    return r.b.isOpen("recharge") && Object(c.a)("fly") ? (t = Object(u.d)(),
                    "gcatenAnd" == Object(o.getPlatform)().name || "gcatenIos" == Object(o.getPlatform)().name || "en_us" == t || "ko_kr" == t || "vi_vn" == t ? (this.updateVisible(!1),
                    [2]) : (this._fsData = Object(a.d)("luckyWheel"),
                    e = s.a.getNow(),
                    this._fsData && e >= this._fsData.start && e <= this._fsData.end ? this.updateVisible(this._fsData.freeNum + this._fsData.luckNum > 0) : this.updateVisible(!1),
                    [2])) : (this.updateVisible(!1),
                    [2])
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule), y = function(t) {
        function e() {
            return t.call(this, "蓬莱累计充值") || this
        }
        return p(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.onUpdate, this)
        }
        ,
        e.prototype.onUpdate = function(t) {
            "spTotalRecharge" == t && this.check()
        }
        ,
        e.prototype.check = function() {
            return f(this, void 0, void 0, (function() {
                var t, e, n, i;
                return d(this, (function(c) {
                    switch (c.label) {
                    case 0:
                        return r.b.isOpen("recharge") ? (this._fsData = Object(a.d)("spTotalRecharge"),
                        t = s.a.getNow(),
                        this._fsData && this._fsData.l && t >= this._fsData.start && t <= this._fsData.end ? [4, RES.getResAsync("festivalActivity_json")] : [3, 2]) : (this.updateVisible(!1),
                        [2]);
                    case 1:
                        for (c.sent(),
                        e = Object(o.getConfig)("festivalActivity_json").spTotalRecharge,
                        n = void 0,
                        i = 0; i < this._fsData.l.length; i++)
                            if (n = e.list[0].detail[i] ? e.list[0].detail[i].num : Number.MAX_VALUE,
                            !this._fsData.l[i].awded && this._fsData.num > n)
                                return [2, this.updateVisible(!0)];
                        return this.updateVisible(!1),
                        [3, 3];
                    case 2:
                        this.updateVisible(!1),
                        c.label = 3;
                    case 3:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule), v = function(t) {
        function e() {
            return t.call(this, "每日返利") || this
        }
        return p(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.onUpdate, this)
        }
        ,
        e.prototype.onUpdate = function(t) {
            "spRechargeDay" == t && this.check()
        }
        ,
        e.prototype.check = function() {
            return f(this, void 0, void 0, (function() {
                var t, e, n, i;
                return d(this, (function(c) {
                    switch (c.label) {
                    case 0:
                        return r.b.isOpen("recharge") ? (this._fsData = Object(a.d)("spRechargeDay"),
                        t = s.a.getNow(),
                        this._fsData && this._fsData.l && t >= this._fsData.start && t <= this._fsData.end ? [4, RES.getResAsync("festivalActivity_json")] : [3, 2]) : (this.updateVisible(!1),
                        [2]);
                    case 1:
                        for (c.sent(),
                        e = Object(o.getConfig)("festivalActivity_json").spRechargeDay,
                        n = void 0,
                        i = 0; i < this._fsData.l.length; i++)
                            if (n = e.list[0].detail[i] ? e.list[0].detail[i].num : Number.MAX_VALUE,
                            !this._fsData.l[i].awded && this._fsData.num >= n)
                                return [2, this.updateVisible(!0)];
                        return this.updateVisible(!1),
                        [3, 3];
                    case 2:
                        this.updateVisible(!1),
                        c.label = 3;
                    case 3:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule), O = function(t) {
        function e(e, n) {
            var i = t.call(this, e) || this;
            return i.type = n,
            i
        }
        return p(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.onUpdate, this)
        }
        ,
        e.prototype.onUpdate = function(t) {
            "spSingleRechargeDay" == t && this.check()
        }
        ,
        e.prototype.check = function() {
            return f(this, void 0, void 0, (function() {
                var t, e, n, i;
                return d(this, (function(c) {
                    switch (c.label) {
                    case 0:
                        return r.b.isOpen("recharge") ? (this._fsData = Object(a.d)("spSingleRechargeDay"),
                        t = s.a.getNow(),
                        this._fsData && this._fsData.l && t >= this._fsData.start && t <= this._fsData.end ? [4, RES.getResAsync("festivalActivity_json")] : [3, 2]) : (this.updateVisible(!1),
                        [2]);
                    case 1:
                        for (c.sent(),
                        e = Object(o.getConfig)("festivalActivity_json").spSingleRechargeDay,
                        n = void 0,
                        i = 0; i < this._fsData.l.length; i++)
                            if (this._fsData.l[i].type == this.type && (n = e.list[0].detail[i] ? e.list[0].detail[i].num : Number.MAX_VALUE,
                            !this._fsData.l[i].awded && this._fsData.l[i].num >= n))
                                return [2, this.updateVisible(!0)];
                        return this.updateVisible(!1),
                        [3, 3];
                    case 2:
                        this.updateVisible(!1),
                        c.label = 3;
                    case 3:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule), j = function(t) {
        function e(e, n, i) {
            var o = t.call(this, e) || this;
            return o.actName = n,
            o.confName = i,
            o
        }
        return p(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.onUpdate, this)
        }
        ,
        e.prototype.onUpdate = function(t) {
            t == this.actName && this.check()
        }
        ,
        e.prototype.check = function() {
            return f(this, void 0, void 0, (function() {
                var t, e, n, i, c, u;
                return d(this, (function(h) {
                    switch (h.label) {
                    case 0:
                        return r.b.isOpen("recharge") ? (this._fsData = Object(a.d)(this.actName),
                        t = s.a.getNow(),
                        this._fsData && this._fsData.l && t >= this._fsData.start && t <= this._fsData.end ? [4, RES.getResAsync(this.confName)] : [3, 2]) : (this.updateVisible(!1),
                        [2]);
                    case 1:
                        for (h.sent(),
                        e = Object(o.getConfig)(this.confName)[this.actName],
                        n = this._fsData.cId - 1,
                        i = void 0,
                        c = e.list.length >= this._fsData.cId ? e.list[n].detail : e.list[0].detail,
                        u = 0; u < this._fsData.l.length; u++)
                            if (i = c[u] ? c[u].num : Number.MAX_VALUE,
                            !this._fsData.l[u].awded && this._fsData.num > i)
                                return [2, this.updateVisible(!0)];
                        return this.updateVisible(!1),
                        [3, 3];
                    case 2:
                        this.updateVisible(!1),
                        h.label = 3;
                    case 3:
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule), w = function(t) {
        function e() {
            return t.call(this, "天降霓裳") || this
        }
        return p(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.check, this)
        }
        ,
        e.prototype.check = function(t) {
            return f(this, void 0, void 0, (function() {
                var e, n, i, r;
                return d(this, (function(s) {
                    switch (s.label) {
                    case 0:
                        return t && "fashionTotalRecharge" != t ? [2] : Object(o.getConfig)("festivalActivity_json") ? [3, 2] : [4, Object(h.a)("festivalActivity_json")];
                    case 1:
                        s.sent(),
                        s.label = 2;
                    case 2:
                        if (e = Object(o.getConfig)("festivalActivity_json").fashionTotalRecharge,
                        n = Object(a.d)("fashionTotalRecharge"),
                        !e || !n)
                            return [2];
                        for (i = 0; i < e.list[0].detail.length; i++)
                            for (r = 0; r < n.l.length; r++)
                                if (e.list[0].detail[i].id == n.l[r].id && n.num >= e.list[0].detail[i].num && 1 != n.l[r].awded)
                                    return this.updateVisible(!0),
                                    [2];
                        return this.updateVisible(!1),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule), x = function(t) {
        function e(e, n) {
            var i = t.call(this, e) || this;
            return i.actName = n,
            i
        }
        return p(e, t),
        e.prototype.init = function() {
            this.check(),
            o.cache.onChange("Activity.getList", this.check, this)
        }
        ,
        e.prototype.check = function() {
            return f(this, void 0, void 0, (function() {
                var t, e, n, i, r;
                return d(this, (function(s) {
                    switch (s.label) {
                    case 0:
                        return [4, Object(h.a)("returnActivity_json")];
                    case 1:
                        if (s.sent(),
                        !Object(a.d)("recallSystem"))
                            return this.updateVisible(!1),
                            [2];
                        if (t = Object(a.d)("recallSystem"),
                        "recallNum" == this.actName)
                            t = Object(a.d)("recallSystem").active.l,
                            e = Object(a.d)("recallSystem").active.num;
                        else if ("returnLogin" == this.actName) {
                            if (!t.recall)
                                return this.updateVisible(!1),
                                [2];
                            t = Object(a.d)("recallSystem").recall.login,
                            e = Object(a.d)("recallSystem").recall.loginDays
                        }
                        for (n = Object(o.getConfig)("returnActivity_json")[this.actName],
                        [],
                        i = 0; i < t.length; i++)
                            for (r = 0; r < n.detail.length; r++)
                                if (t[i].id == n.detail[r].id)
                                    if ("recallNum" == this.actName) {
                                        if (0 == t[i].isAwd && e >= n.detail[r].num)
                                            return this.updateVisible(!0),
                                            [2]
                                    } else if ("returnLogin" == this.actName) {
                                        if (0 == t[i].isAwd && e >= n.detail[r].days)
                                            return this.updateVisible(!0),
                                            [2]
                                    } else if ("returnTask" == this.actName && 0 == t[i].isAwd && t[i].vaule >= n.detail[r].value)
                                        return this.updateVisible(!0),
                                        [2];
                        return this.updateVisible(!1),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule), k = function(t) {
        function e() {
            return t.call(this, "回归进阶活跃奖励") || this
        }
        return p(e, t),
        e.prototype.init = function() {
            this.check(),
            o.cache.onChange("Activity.getList", this.check, this)
        }
        ,
        e.prototype.check = function() {
            return f(this, void 0, void 0, (function() {
                var t, e, n, i, r, s;
                return d(this, (function(c) {
                    switch (c.label) {
                    case 0:
                        return [4, Object(h.a)("returnActivity_json")];
                    case 1:
                        if (c.sent(),
                        !(t = Object(a.d)("recallSystem")) || !t.recall)
                            return this.updateVisible(!1),
                            [2];
                        for (e = Object(a.d)("recallSystem").recall.task,
                        n = function(t) {
                            var n = Object(o.getConfig)("returnActivity_json").returnTask.detail;
                            n = n.filter((function(e) {
                                return e.id == t
                            }
                            ))[0];
                            var r = e.activeTask.filter((function(t) {
                                return t.id == n.id
                            }
                            ));
                            if (r && r.length >= 0 && (r = r[0],
                            e.activeNum >= n.value && 1 != r.isAwd))
                                return i.updateVisible(!0),
                                {
                                    value: void 0
                                }
                        }
                        ,
                        i = this,
                        r = 21; r < 26; r++)
                            if ("object" == typeof (s = n(r)))
                                return [2, s.value];
                        return this.updateVisible(!1),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule), I = function(t) {
        function e(e, n) {
            var i = t.call(this, e) || this;
            return i.key = e,
            i.day = n,
            i
        }
        return p(e, t),
        e.prototype.init = function() {
            this.check(),
            o.cache.onChange("Activity.getList", this.check, this)
        }
        ,
        e.prototype.check = function() {
            return f(this, void 0, void 0, (function() {
                var t, e, n, i, r, s, c, u = this;
                return d(this, (function(l) {
                    switch (l.label) {
                    case 0:
                        return [4, Object(h.a)("returnActivity_json")];
                    case 1:
                        if (l.sent(),
                        !(t = Object(a.d)("recallSystem")) || !t.recall)
                            return this.updateVisible(!1),
                            [2];
                        if (e = Object(a.d)("recallSystem").recall.loginDays,
                        this.day > e)
                            return this.updateVisible(!1),
                            [2];
                        if (n = Object(a.d)("recallSystem").recall.task.dailyTask,
                        (i = Object(o.getConfig)("returnActivity_json").returnTask.detail) && i.length > 0)
                            for (r = i.filter((function(t) {
                                return u.day == t.days
                            }
                            )),
                            s = 0; s < r.length; s++)
                                for (c = 0; c < n.length; c++)
                                    if (r[s].id == n[c].id && n[c].value >= r[s].value && 1 != n[c].isAwd)
                                        return this.updateVisible(!0),
                                        [2];
                        return [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule), P = function(t) {
        function e() {
            return t.call(this, "玲珑宝藏钥匙") || this
        }
        return p(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.check, this),
            o.cache.onChange("Bag.getList", this.check, this)
        }
        ,
        e.prototype.check = function(t) {
            if (!t || "linglongTreasure" == t) {
                var e = Object(a.d)("linglongTreasure");
                if (!e || !e.key || s.a.getNow() < e.start || s.a.getNow() > e.end)
                    return !e.key && Object(o.tooltip)("玲珑宝藏 NO KEY"),
                    void this.updateVisible(!1);
                l.PropModel.getNum(e.key) >= e.cost ? this.updateVisible(!0) : this.updateVisible(!1)
            }
        }
        ,
        e
    }(o.RedBaseRule), C = function(t) {
        function e(e, n) {
            var i = t.call(this, e) || this;
            return i._type = n,
            i
        }
        return p(e, t),
        e.prototype.init = function() {
            this.check(),
            Object(o.on)("refresh_funOpen", this.check, this)
        }
        ,
        e.prototype.check = function(t) {
            if (!t || "linglongTreasureTask" == t) {
                var e = Object(a.d)("linglongTreasureTask");
                if (!e || s.a.getNow() < e.start || s.a.getNow() > e.end)
                    this.updateVisible(!1);
                else {
                    for (var n = 0; n < e.l.length; n++) {
                        if (0 == e.l[n].isAwd && this._type == e.l[n].type)
                            if (("1" == e.l[n].type ? e.sl[0].num : e.sl[1].num) >= e.l[n].num)
                                return void this.updateVisible(!0)
                    }
                    this.updateVisible(!1)
                }
            }
        }
        ,
        e
    }(o.RedBaseRule)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return o
    }
    ));
    var i = n(1)
      , o = function() {
        function t() {
            this._list = []
        }
        return t.prototype.getList = function() {
            if (0 == this._list.length) {
                var t = Object(i.getConfig)("guildSkill_json");
                if (t)
                    for (var e in t)
                        this._list.push(new r(t[e]))
            }
            return this._list
        }
        ,
        t.prototype.unionBuildAdd = function() {
            return 0
        }
        ,
        t.prototype.getSkillModel = function(t) {
            for (var e = this.getList(), n = 0; n < e.length; n++)
                if (e[n].c.type == "per_" + t)
                    return e[n];
            return null
        }
        ,
        t.prototype.getPropertyAdd = function(t) {
            var e = this.getSkillModel(t);
            return e ? e.addValue : 0
        }
        ,
        t.prototype.getHeroProperty = function(t) {
            for (var e = this.getList(), n = 0; n < e.length; n++)
                if (e[n].c.type == t)
                    return e[n].addValue;
            return 0
        }
        ,
        t
    }()
      , r = function() {
        function t(t) {
            this.c = t
        }
        return Object.defineProperty(t.prototype, "addValue", {
            get: function() {
                return 0 == this.lv ? 0 : this.c.detail[this.lv - 1].value
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "lvUpNeed", {
            get: function() {
                return this.c.detail[this.lv].costNum
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "lvLimit", {
            get: function() {
                var t = i.cache.get("guild_member.home") || {};
                return this.needLv > t.lv
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "needLv", {
            get: function() {
                return this.c.detail[this.lv].unionLv
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "maxLv", {
            get: function() {
                for (var t = (i.cache.get("guild_member.home") || {}).lv, e = 0, n = 0; n < this.c.detail.length; n++)
                    if (this.c.detail[n].unionLv > t) {
                        e = n;
                        break
                    }
                return e
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "isMaxLv", {
            get: function() {
                return this.lv >= this.maxLv
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "desc", {
            get: function() {
                var t = Object(i.tr)(this.c.desc)
                  , e = this.addValue;
                return t = -1 == this.c.type.indexOf("per_") ? t.replace("{num}", e) : t.replace("{num}", Math.floor(100 * e))
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "lv", {
            get: function() {
                return (i.cache.get("User.getInfo", "i.guildSkills") || {})[this.c.id] || 0
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "icon", {
            get: function() {
                return "icon_guildskill_" + this.c.icon + "_png"
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "quality", {
            get: function() {
                return 1
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return s
    }
    )),
    n.d(e, "a", (function() {
        return c
    }
    )),
    n.d(e, "c", (function() {
        return u
    }
    ));
    var i, o = n(1), r = n(108), a = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return a(e, t),
        e.prototype.onDataUpdate = function(t, e) {
            t && (this.des.textFlow = (new egret.HtmlTextParser).parser(t))
        }
        ,
        e
    }(o.Item), c = function() {
        function t(t, e) {
            void 0 === e && (e = 4),
            this.logType = t,
            this.maxRecord = e
        }
        return t.prototype.getStorageKey = function() {
            return "comlog_" + this.logType
        }
        ,
        t.prototype.getLogArray = function() {
            var t = this;
            return this.logArr.map((function(e) {
                return t.parse(e)
            }
            ))
        }
        ,
        Object.defineProperty(t.prototype, "logArr", {
            get: function() {
                return JSON.parse(Object(o.getLocalStorage)().getString(this.getStorageKey(), "[]"))
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.parse = function(t) {
            return ""
        }
        ,
        t.prototype.write = function(t) {
            var e = this.logArr;
            e.push(t),
            e.length > this.maxRecord && e.shift(),
            Object(o.getLocalStorage)().setString(this.getStorageKey(), JSON.stringify(e)),
            Object(o.put)(this.evtName())
        }
        ,
        t.prototype.evtName = function() {
            return "comlog_change_" + this.logType
        }
        ,
        t.prototype.show = function(t, e) {
            var n = this;
            return Object(r.a)(t, this.getLogArray(), e),
            Object(o.on)(this.evtName(), (function() {
                Object(r.a)(t, n.getLogArray(), e)
            }
            ))
        }
        ,
        t
    }(), u = function() {
        function t(t) {
            this.route = t
        }
        return t.prototype.getLogArr = function() {
            return []
        }
        ,
        t.prototype.getLogArray = function() {
            var t = this;
            return this.getLogArr().map((function(e) {
                return t.parse(e)
            }
            )).filter((function(t) {
                return !!t
            }
            ))
        }
        ,
        t.prototype.parse = function(t) {
            return ""
        }
        ,
        t.prototype.show = function(t, e) {
            var n = this;
            return Object(r.a)(t, this.getLogArray(), e),
            Object(o.onChange)(this.route, (function() {
                Object(r.a)(t, n.getLogArray(), e)
            }
            ), this)
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return r
    }
    ));
    var i = n(1)
      , o = n(150);
    function r() {
        var t = Object(i.singleton)(o.a);
        return t && t.info && t.info.question ? t.info.question.filter((function(e) {
            return !!t.getDizi(e.dzId)
        }
        )) : []
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return w
    }
    ));
    var i, o = n(1), r = n(107), a = n(106), s = n(108), c = n(116), u = n(118), h = n(114), l = n(122), p = n(115), f = n(110), d = n(109), b = n(151), g = n(132), _ = n(125), m = n(130), y = n(137), v = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    );
    function O(t, e) {
        if (void 0 === e && (e = "content"),
        t) {
            if (t.params && t.params.url) {
                Object(o.put)("url_mail_arr", t);
                var n = "<font strokecolor=0x1f3b11 stroke=2 color=0x70ff07 href=event:copy_" + t.params.url + "><u>" + t.params.url + "</u></font>";
                return Object(o.tr)(t[e], {
                    url: n
                })
            }
            if (t[e].indexOf("@") > -1) {
                var i = {}
                  , r = Object(g.a)("systemInfo_json", t.mtype);
                for (var a in t.params) {
                    var s = t.params[a];
                    if ("string" == typeof s && s.indexOf("@") > -1)
                        i[a] = Object(o.tr)(s).replace(/>/gi, "&gt;").replace(/</gi, "&lt;");
                    else if (r && r.func && m.a.sandTable >> r.func == 1)
                        if ("bossId" == a && Number(s) > 0)
                            i[a] = Object(o.tr)(Object(o.getConfig)("festivalBoss_json")[s].name);
                        else if ("coor" == a && Number(s) > 0) {
                            var c = b.a.toArr(Number(s));
                            i[a] = "(" + c.mapX + "," + c.mapY + ")"
                        } else
                            "mapId" == a && Number(s) > 0 ? i[a] = Object(o.tr)(Object(g.a)("sandTableMap_json", Number(s))[0].mapname) : i[a] = s;
                    else
                        i[a] = "date" == a ? o.time.format(1e3 * s, "mm-dd HH:MM:ss") : s
                }
                return Object(o.tr)(t[e], i)
            }
            return t[e]
        }
        return ""
    }
    var j = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return v(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (void 0 === t && (t = this.data),
            t) {
                this.lbl_title.text = O(t, "title");
                var e = O(t);
                try {
                    this.lbl_content.textFlow = (new egret.HtmlTextParser).parser(e)
                } catch (t) {
                    this.lbl_content.text = e
                }
                this.btn_receive.visible = 0 == t.isAw && (t.award || []).length > 0,
                this.btn_del.visible = !this.btn_receive.visible
            }
        }
        ,
        e.prototype.onEnter = function() {
            this.tap("btn_receive", this.onReceive, this),
            this.tap("btn_del", this.onDel, this),
            "gcatenIos" != Object(o.getPlatform)().name && "gcatenAnd" != Object(o.getPlatform)().name || (this.lbl_content.visible = !1)
        }
        ,
        e.prototype.onDel = function() {
            Object(o.put)("del_mail", this.data)
        }
        ,
        e.prototype.onReceive = function() {
            var t = this;
            this.data.award && Object(h.m)(this.data.award) || Object(r.d)("ml.c", {
                id: this.data.mId
            }).then((function(e) {
                e && (c.a.show(e.awds),
                t.onDataUpdate(),
                Object(o.put)("refresh_mail_selected"))
            }
            ))
        }
        ,
        e
    }(o.Item)
      , w = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.urlArr = [],
            Object(o.setSkin)(e, "MailSkin"),
            e
        }
        return v(e, t),
        e.prototype.onReady = function() {
            var t = this;
            this.addBehavior(new u.a),
            this.mailList.itemRenderer = j,
            this.disposeArr.push(Object(l.c)(this.mailList, this.tapItem, this)),
            this.on("del_mail", this.delOneMail, this),
            this.on("url_mail_arr", this.urlMail, this),
            this.tap("btn_receiveAll", this.receiveAll, this),
            this.tap("Btn_delAll", this.delAllMail, this),
            this.on("refresh_mail_selected", (function() {
                var e = t.refreshList();
                Object(p.x)((function() {
                    t.selectItem(e[t.mailList.selectedIndex])
                }
                ))
            }
            ), this),
            this.urlArr = [],
            this.refreshList(!0),
            this.disposeArr.push(Object(l.a)(this.lbl_mailText, egret.TextEvent.LINK, this.copyUrl, this))
        }
        ,
        e.prototype.copyUrl = function(t) {
            var e = t.text;
            if (e.indexOf("copy_") > -1) {
                var n = e.replace("copy_", "");
                Object(y.i)() ? (o.cache.set("open_url", n),
                Object(o.getPlatComp)("phase").phase("goCommunity")) : (Object(o.getPlatComp)("clipboard").copy(n),
                Object(o.tooltip)(Object(o.tr)("common@wxCopyUrl")))
            }
        }
        ,
        e.prototype.urlMail = function(t) {
            if (t.mId) {
                for (var e in this.urlArr)
                    if (this.urlArr[e].mId == t.mId)
                        return;
                this.urlArr.push(t)
            }
        }
        ,
        e.prototype.onExit = function() {
            if (console.log(this.urlArr),
            this.urlArr.length > 0 && Object(p.s)())
                for (var t in this.urlArr)
                    this.delOneMail(this.urlArr[t])
        }
        ,
        Object.defineProperty(e.prototype, "mailArr", {
            get: function() {
                var t = Object(o.getCache)("Mail.getList").l.concat();
                return (t = t.sort((function(t, e) {
                    return t.isAw == e.isAw ? e.time - t.time : t.isAw - e.isAw
                }
                ))).slice(0, 30)
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.refreshList = function(t) {
            var e = this;
            void 0 === t && (t = !1);
            var n = this.mailArr;
            return Object(s.a)(this.mailList, n),
            this.lbl_mailNum.text = n.length + "/30",
            this.gp_content.visible = n.length > 0,
            this.lbl_none.visible = 0 == n.length,
            t && Object(p.x)((function() {
                e.mailList.selectedIndex = 0,
                e.selectItem(n[0])
            }
            )),
            n
        }
        ,
        e.prototype.receiveAll = function() {
            var t = this
              , e = this.mailArr;
            if (e.length > 0) {
                var n = [];
                for (var i in e)
                    if (e[i].award)
                        for (var a = 0; a < e[i].award.length; a++)
                            n.push(e[i].award[a]);
                if (Object(h.m)(n))
                    return;
                Object(r.d)("ml.d").then((function(e) {
                    e && (c.a.show(e.awds),
                    t.refreshList(),
                    Object(o.put)("refresh_mail_selected"))
                }
                ))
            }
        }
        ,
        e.prototype.delOneMail = function(t) {
            this.del([t.mId])
        }
        ,
        e.prototype.selectItem = function(t) {
            if (t) {
                t.isRe || Object(r.d)("ml.b", {
                    id: t.mId
                }).then((function() {}
                )),
                this.received.visible = !1,
                t.award && t.award.length > 0 && (this.received.visible = t.isAw > 0),
                Object(s.a)(this.giftList, t.award || [], {
                    resetScrollerHV: !0
                });
                var e = O(t)
                  , n = O(t, "title");
                try {
                    this.lbl_mailText.textFlow = (new egret.HtmlTextParser).parser(e),
                    this.lbl_title.textFlow = (new egret.HtmlTextParser).parser(n)
                } catch (t) {
                    this.lbl_mailText.text = e,
                    this.lbl_title.text = n
                }
            } else
                Object(s.a)(this.giftList, []),
                this.lbl_mailText.text = ""
        }
        ,
        e.prototype.tapItem = function(t) {
            this.selectItem(t.item)
        }
        ,
        e.prototype.del = function(t) {
            var e = this;
            0 != t.length && Object(r.d)("ml.e", {
                ids: t
            }).then((function(t) {
                t && e.checkSelected()
            }
            ))
        }
        ,
        e.prototype.delAllMail = function() {
            this.del(Object(o.getCache)("Mail.getList").l.filter((function(t) {
                return t.isAw > 0
            }
            )).map((function(t) {
                return t.mId
            }
            )))
        }
        ,
        e.prototype.checkSelected = function() {
            var t = this.mailList.selectedIndex
              , e = this.mailArr;
            t >= e.length ? (this.mailList.selectedIndex = e.length - 1,
            this.selectItem(e[e.length - 1]),
            Object(o.put)("refresh_mail_selected")) : 0 == e.length ? this.selectItem(null) : this.selectItem(e[t]),
            this.refreshList()
        }
        ,
        e.show = function() {
            Object(f.b)([Object(o.getLocale)().init("mail"), Object(r.d)("ml.a"), Object(d.a)("sandTableMap_json"), Object(d.a)("festivalBoss_json")].concat(Object(_.a)("stmap&mid_2"))).then((function(t) {
                t && t[1] && (o.cache.set("Mail.getList", t[1]),
                Object(a.a)(new e))
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return b
    }
    )),
    n.d(e, "a", (function() {
        return g
    }
    )),
    n.d(e, "c", (function() {
        return o
    }
    ));
    var i, o, r = n(1), a = n(106), s = n(108), c = n(112), u = n(116), h = n(111), l = n(109), p = n(165), f = n(113), d = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), b = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(r.setSkin)(e, "FirstShareSkin"),
            e
        }
        return d(e, t),
        e.prototype.onReady = function() {
            var t = this;
            Object(l.a)("share_json").then((function() {
                var e = Object(c.d)("moduoShare");
                e || (Object(r.tooltip)(Object(r.tr)("数据出错")),
                r.UI.remove(t));
                var n = Object(r.getConfig)("share_json").firstShare.list[0].awards;
                Object(s.a)(t.list, n),
                t.tap("btn_share", (function() {
                    return t.setBtn(e.status)
                }
                ), t),
                t.tap("rect2", (function() {
                    r.UI.remove(t)
                }
                ), t),
                t.tap("close", (function() {
                    r.UI.remove(t)
                }
                ), t),
                t.setView(),
                r.cache.onChange("Activity.getList", t.setView, t, t.disposeArr),
                Object(r.on)("modoxyx_share_success", t.onSend, t)
            }
            ))
        }
        ,
        e.prototype.onExit = function() {
            var e = Object(c.d)("moduoShare");
            e && 2 == e.status ? Object(r.put)("switch_share_icon") : Object(r.getSocket)().request({
                route: "at.al"
            }).then((function() {
                Object(r.put)("first_open_share_30min")
            }
            )),
            t.prototype.onExit.call(this)
        }
        ,
        e.prototype.setView = function() {
            var t = Object(c.d)("moduoShare");
            t.status ? 1 == t.status ? this.btn_share.label = "领取" : (this.btn_share.label = "已领取",
            this.btn_share.enabled = !1) : this.btn_share.label = "分享"
        }
        ,
        e.prototype.setBtn = function(t) {
            var e = this;
            2 != t && (1 == t ? Object(r.getSocket)().request("at.ak").then((function(t) {
                u.a.show(t.awds, e.btn_share),
                e.btn_share.label = "已领取",
                e.btn_share.enabled = !1
            }
            )).catch(r.errorHandler) : r.is.wx() && Object(p.b)({
                shareTime: h.a.getNow()
            }))
        }
        ,
        e.prototype.onSend = function() {
            Object(r.getSocket)().request("at.am").then((function(t) {
                console.log(t)
            }
            )).catch(r.errorHandler)
        }
        ,
        e.show = function() {
            Object(a.a)(new e)
        }
        ,
        e
    }(r.UIComponent), g = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.shareId = 0,
            Object(r.setSkin)(e, "FirstShareSkin"),
            e
        }
        return d(e, t),
        e.prototype.onReady = function(t) {
            var e = this;
            this.self = this,
            this.shareType = t,
            Object(l.a)("share_json").then((function() {
                if (e.setState(t),
                t == o.bLv || t == o.lv) {
                    var n = Object(r.getConfig)("share_json")[t]
                      , i = t == o.bLv ? Object(f.a)("blv") : Object(f.a)("lv")
                      , a = n.list.filter((function(t) {
                        return t.identity == i
                    }
                    ))[0];
                    e.shareId = a.id;
                    var c = a.awards;
                    Object(s.a)(e.list, c)
                } else if (t == o.daolv) {
                    c = (n = Object(r.getConfig)("share_json")[t]).list[0].awards;
                    e.shareId = n.list[0].id,
                    Object(s.a)(e.list, c)
                }
                e.tap("btn_share", e.setBtn, e),
                e.tap("rect2", e.closeUI, e),
                e.tap("close", e.closeUI, e),
                e.on("modoxyx_share_success", e.onSend, e)
            }
            ))
        }
        ,
        e.prototype.onExit = function() {
            t.prototype.onExit.call(this)
        }
        ,
        e.prototype.setBtn = function() {
            r.is.wx() && Object(p.b)({
                shareTime: h.a.getNow()
            })
        }
        ,
        e.prototype.onSend = function() {
            var t, e = this;
            if (this.shareType == o.daolv) {
                var n = Object(c.d)("moduoTotalShare");
                if (n) {
                    var i = n.daolvId;
                    t = {
                        type: this.shareType,
                        daolvId: i,
                        id: this.shareId
                    }
                }
            } else
                t = {
                    type: this.shareType,
                    id: this.shareId
                };
            t && Object(r.getSocket)().request({
                route: "at.an",
                p: t
            }).then((function(t) {
                u.a.show(t.awds),
                r.UI.remove(e.self)
            }
            )).catch(r.errorHandler)
        }
        ,
        e.prototype.closeUI = function() {
            var t = this;
            Object(r.confirm)(Object(r.tr)("main@shareClose")).then((function(e) {
                "yes" == e && r.UI.remove(t)
            }
            ))
        }
        ,
        e.show = function(t) {
            Object(a.a)(e, t)
        }
        ,
        e
    }(r.UIComponent);
    !function(t) {
        t.lv = "lvShare",
        t.bLv = "bLvShare",
        t.daolv = "daolvShare",
        t.lvFail = "lvFailShare"
    }(o || (o = {}))
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return u
    }
    ));
    var i, o = n(1), r = n(117), a = n(133), s = n(107), c = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), u = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.succeed = !1,
            Object(o.setSkin)(e, "RaidSaodangAutoBuySkin"),
            e
        }
        return c(e, t),
        e.prototype.onReady = function(t) {
            this.propId = t;
            var n = e.propMap[t];
            1059 == t ? (this.group2.visible = this.group2.includeInLayout = !0,
            this.costLabel2.text = n.stone2,
            this.icon2.source = Object(r.b)(n.propId2),
            this.tap("buyBtn2", this.onBuyLingshi, this)) : this.group2.visible = this.group2.includeInLayout = !1,
            this.des1.text = Object(o.tr)(n.desc),
            this.des2.text = Object(o.tr)(n.effect),
            this.costLabel1.text = n.stone,
            this.nameLabel.text = a.b.getName(t),
            this.icon1.source = Object(r.b)(n.propId),
            this.tap("buyBtn1", this.onBuy, this)
        }
        ,
        e.prototype.onBuy = function() {
            var t = e.propMap[this.propId];
            a.b.hasEnough(t.propId, t.stone) && this.onBuyRequest(!1)
        }
        ,
        e.prototype.onBuyLingshi = function() {
            var t = e.propMap[this.propId];
            a.b.hasEnough(t.propId2, t.stone2) && this.onBuyRequest(!0)
        }
        ,
        e.prototype.onBuyRequest = function(t) {
            var e = this
              , n = {
                id: this.propId
            };
            1059 == this.propId && (n = {
                id: this.propId,
                type: t ? "sc" : "gc"
            }),
            Object(s.d)("m.k", n).then((function(t) {
                t && (e.succeed = !0,
                Object(o.tooltip)(Object(o.tr)("main@learnOk", {
                    name: a.b.getName(e.propId)
                })),
                o.UI.remove(e))
            }
            ))
        }
        ,
        e.propMap = {
            1057: {
                desc: "main@desc1057",
                effect: "main@effect1057",
                propId: 20010,
                stone: 3e4
            },
            1058: {
                desc: "main@desc1058",
                effect: "main@effect1058",
                propId: 20010,
                stone: 2e4
            },
            1059: {
                desc: "main@desc1059",
                effect: "main@effect1059",
                propId: 20009,
                stone: 98,
                propId2: 20010,
                stone2: 5e4
            }
        },
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return p
    }
    )),
    n.d(e, "b", (function() {
        return b
    }
    ));
    var i, o = n(1), r = n(106), a = n(140), s = n(108), c = n(113), u = n(110), h = n(107), l = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), p = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelGiftRankSkin"),
            e
        }
        return l(e, t),
        e.prototype.onReady = function(t) {
            void 0 === t && (t = null);
            var e = Object(o.getCache)("GiftRank.getList")
              , n = Object(o.getCache)("GiftRankLog.getList");
            this.tab.itemRenderer = b,
            Object(s.a)(this.tab, [{
                text: Object(o.tr)("main@giftRank"),
                name: "tab1"
            }, {
                text: Object(o.tr)("main@prayLog"),
                name: "tab2"
            }]),
            this.tabType = t,
            1 == t ? this.setState("down") : this.setState("up"),
            this.list.itemRenderer = f,
            this.list_record.itemRenderer = d,
            Object(s.a)(this.list, e.rank),
            Object(s.a)(this.list_record, n.record),
            this.lbl_top.text = 0 != e.self.rank ? e.self.rank : Object(o.tr)("main@rankNo"),
            this.lbl_name.text = Object(c.a)("uNa"),
            this.lbl_donate.text = e.self.score,
            Object(a.a)(this.head, Object(c.a)("skin")),
            this.img_top.visible = !1,
            this.lbl_top.visible = !1,
            0 == e.self.rank ? (this.lbl_top.text = Object(o.tr)("main@rankNo"),
            this.lbl_top.visible = !0) : e.self.rank < 4 ? (this.img_top.visible = !0,
            this.img_top.source = "rank_" + e.self.rank + "_png") : e.self.rank < 11 ? (this.img_top.visible = !0,
            this.img_top.source = "rank_4_png",
            this.lbl_top.text = e.self.rank,
            this.lbl_top.visible = !0) : (this.lbl_top.text = e.self.rank,
            this.lbl_top.visible = !0),
            this.tab.addEventListener(eui.ItemTapEvent.ITEM_TAP, this.onTab, this)
        }
        ,
        e.prototype.onTab = function(t) {
            0 == t.itemIndex ? 1 == this.tabType ? this.setState("down") : this.setState("up") : this.setState("record")
        }
        ,
        e.prototype.onExit = function() {}
        ,
        e.show = function(t) {
            void 0 === t && (t = null),
            Object(u.b)([Object(h.c)("wi.g", "GiftRank.getList"), Object(h.c)("wi.a", "GiftRankLog.getList")]),
            Object(o.getSocket)().request({
                route: "wi.g"
            }).then((function(n) {
                Object(r.a)(new e, t)
            }
            ))
        }
        ,
        e
    }(o.UIComponent), f = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return l(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.lbl_top.text = t.rank,
            this.lbl_name.text = t.name,
            this.lbl_donate.text = t.score,
            Object(a.a)(this.head, t.skin),
            this.img_top.visible = !1,
            this.lbl_top.visible = !1,
            t.rank < 4 ? (this.img_top.visible = !0,
            this.img_top.source = "rank_" + t.rank + "_png") : t.rank < 11 ? (this.img_top.visible = !0,
            this.img_top.source = "rank_4_png",
            this.lbl_top.text = t.rank,
            this.lbl_top.visible = !0) : (this.lbl_top.text = t.rank,
            this.lbl_top.visible = !0))
        }
        ,
        e
    }(o.Item), d = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return l(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (t) {
                var e = Object(o.getConfig)("item_json")[t.awards.propId];
                this.desc.textFlow = (new egret.HtmlTextParser).parser(Object(o.tr)("main@giveRecord", {
                    name: t.desire,
                    name2: t.wish,
                    item: Object(o.tr)(e.name),
                    num: t.awards.num
                }))
            }
        }
        ,
        e
    }(o.Item), b = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return l(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.img_up.scaleX = this.img_down.scaleX = "tab1" == t.name ? -1 : 1)
        }
        ,
        e
    }(o.Item)
}
, function(t, e, n) {
    "use strict";
    var i, o, r = n(1), a = n(110), s = n(109), c = n(122), u = n(108), h = n(114), l = n(107), p = n(116), f = n(125), d = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    );
    !function(t) {
        t[t.Ordeal = 1] = "Ordeal",
        t[t.Change = 2] = "Change"
    }(o || (o = {}));
    var b = function(t, e, n) {
        this.info = t,
        this.selected = e,
        this.sex = n
    }
      , g = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return d(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.img_face.source = "ingame_img_facialMakeup_" + this.data.info.icon + "_" + this.data.sex + "_png",
            this.img_down.visible = 1 == this.data.selected,
            this.lbl_faceName.text = Object(r.tr)(this.data.info.name))
        }
        ,
        e
    }(r.Item)
      , _ = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.isSure = !1,
            Object(r.setSkin)(e, "PanelChangeFacialMakeupSkin"),
            e
        }
        return d(e, t),
        Object.defineProperty(e.prototype, "selectId", {
            get: function() {
                return this._selectInfo ? this._selectInfo.id : 0
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.onReady = function(t) {
            this._opt = t,
            this._opt.sex = this._opt.sex ? this._opt.sex : 1,
            this._facialList = [];
            var e = Object(r.getConfig)("faceChange_json");
            for (var n in e)
                this._facialList.push(e[n]);
            this.lbl_tital.text = Object(r.tr)("sect@cfTital"),
            this.list.itemRenderer = g,
            this._selectInfo = this._facialList[0];
            var i = this;
            t.oldId && (this._facialList = this._facialList.filter((function(e) {
                return e.id != t.oldId
            }
            ))),
            Object(u.a)(this.list, this._facialList.map((function(t) {
                return new b(t,i.getState(t),i._opt.sex)
            }
            ))),
            this.disposeArr.push(Object(c.c)(this.list, this.tapItem, this)),
            this.gp_victim.visible = 2 == this._opt.type,
            this.gp_Spellcaster.visible = 1 == this._opt.type,
            this.tap(this.btn_affirm2, this.ordeal, this),
            this.tap(this.btn_affirm1, this.changeFacial, this),
            this.disposeArr.push(Object(c.a)(this.rdo_0.group, egret.Event.CHANGE, this.onChange, this)),
            this.updateView()
        }
        ,
        e.prototype.onChange = function() {
            this.updateView()
        }
        ,
        e.prototype.getDoType = function() {
            var t;
            return this.gp_select.$children.forEach((function(e) {
                1 != e.selected || (t = Number(e.value) + 2)
            }
            )),
            t
        }
        ,
        e.prototype.getState = function(t) {
            return t.id == this._selectInfo.id ? 1 : 0
        }
        ,
        e.prototype.ordeal = function() {
            var t = this
              , e = this.getCost();
            Object(r.confirm)(Object(r.tr)("sect@buffConfirm2", {
                num: e
            })).then((function(e) {
                if ("yes" == e) {
                    if (!h.e.hasEnough(h.f.lingyu, 10))
                        return;
                    Object(l.d)("wj.b", {
                        type: t.getDoType(),
                        fId: t._selectInfo.id
                    }).then((function(e) {
                        e && (p.a.show(e.awds),
                        Object(r.tooltip)(Object(r.tr)("sect@doBuff2")),
                        t.isSure = !0,
                        r.UI.remove(t))
                    }
                    ))
                }
            }
            ))
        }
        ,
        e.prototype.changeFacial = function() {
            var t = this
              , e = this.getCost();
            Object(r.confirm)(Object(r.tr)("sect@cbuffConfirm1", {
                num: e
            })).then((function(e) {
                if ("yes" == e) {
                    if (!h.e.hasEnough(h.f.lingyu, 10))
                        return;
                    t._opt.hasOwnProperty("toUid") ? Object(l.d)("wj.f", {
                        id: t._opt.toUid,
                        fId: t._selectInfo.id
                    }).then((function(e) {
                        e && e.cst ? t._opt.toName && Object(r.tooltip)(Object(r.tr)("sect@cDebuffConfirm1", {
                            name: t._opt.toName
                        })) : e && !e.cst && Object(r.tooltip)(Object(r.tr)("sect@cDebuffConfirm2")),
                        t.isSure = !0,
                        r.UI.remove(t)
                    }
                    )) : Object(l.d)("wj.c", {
                        fId: t._selectInfo.id
                    }).then((function(e) {
                        e && (Object(r.tooltip)(Object(r.tr)("sect@cDebuffConfirm3")),
                        Object(r.put)("refresh_funOpen", "xianbuff")),
                        t.isSure = !0,
                        r.UI.remove(t)
                    }
                    ))
                }
            }
            ))
        }
        ,
        e.prototype.tapItem = function(t) {
            var e = this;
            e._selectInfo = e._facialList[t.itemIndex],
            Object(u.a)(e.list, e._facialList.map((function(t) {
                return new b(t,e.getState(t),e._opt.sex)
            }
            ))),
            e.updateView()
        }
        ,
        e.prototype.updateView = function() {
            this._opt.type == o.Ordeal ? this.lbl_lyNum2.text = String("x" + this.getCost()) : this.lbl_lyNum1.text = String("x" + this.getCost())
        }
        ,
        e.prototype.getCost = function() {
            return this._opt.type == o.Ordeal ? 2 == this.getDoType() ? this._selectInfo.cost1 : this._selectInfo.cost2 : this._selectInfo.cost3
        }
        ,
        e.show = function(t) {
            return Object(a.b)(Object(f.a)("sect_1&sect_2").concat([Object(s.a)("faceChange_json")])).then((function() {
                return new Promise((function(n) {
                    r.UI.openBox(new e, t).exit((function(t) {
                        t.isSure && n(t.selectId)
                    }
                    ))
                }
                ))
            }
            ))
        }
        ,
        e
    }(r.UIComponent);
    e.a = _
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        var e = 1;
        return t >= 21 ? e = 3 : t >= 11 ? e = 2 : 0 == t && (e = 0),
        e
    }
    n.d(e, "a", (function() {
        return i
    }
    ))
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return a
    }
    ));
    var i = n(107)
      , o = n(113)
      , r = n(1)
      , a = function() {
        function t() {}
        return t.prototype.record = function() {
            this.tickId = egret.setInterval(this.tick, this, 1e4)
        }
        ,
        t.prototype.tick = function() {
            if (0 != Object(o.a)("tqInfo.tq2")) {
                var t = this.autoSkill
                  , e = Object.keys(t).filter((function(e) {
                    return t[e] > 0
                }
                ))
                  , n = Object(r.getCache)("Skill.getList").l.filter((function(t) {
                    if (10 == t.lv)
                        return !1;
                    var n = Object(r.getConfig)("skill_json")[t.cId];
                    return e.indexOf(n.type.toString()) > -1
                }
                )).sort((function(t, e) {
                    return t.needExp - e.needExp
                }
                ));
                n[0] && Object(o.a)("lExp") >= n[0].needExp && Object(r.getSocket)().request({
                    route: "skl.b",
                    p: {
                        cId: n[0].cId
                    }
                }).then((function(t) {
                    t && Object(r.put)("update_skilUpList")
                }
                )).catch((function(t) {
                    console.log(t)
                }
                ))
            }
        }
        ,
        t.prototype.dispose = function() {
            egret.clearInterval(this.tickId)
        }
        ,
        t.prototype.changeAuto = function(t, e) {
            Object(i.d)("u.t", {
                skType: t,
                type: "autoSkill",
                sw: e ? 1 : 0
            }).then((function(t) {}
            ))
        }
        ,
        t.prototype.isAutoSkill = function(t) {
            return 1 == this.autoSkill[t]
        }
        ,
        Object.defineProperty(t.prototype, "autoSkill", {
            get: function() {
                return Object(o.a)("switch.autoSkill")
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return j
    }
    ));
    var i, o = n(1), r = n(146), a = n(118), s = n(115), c = n(133), u = n(130), h = n(187), l = n(108), p = n(117), f = n(106), d = (n(124),
    n(350)), b = n(123), g = n(111), _ = n(112), m = n(160), y = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), v = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, O = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, j = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "StoreSkin"),
            e
        }
        return y(e, t),
        e.prototype.getIdx = function(t) {
            return t - 6
        }
        ,
        e.prototype.onReady = function(t) {
            var e = this;
            this.addBehavior(new a.a);
            var n = this.shop1.group;
            this._curType = t,
            n.addEventListener(egret.Event.CHANGE, this.onChange, this),
            Object(s.x)((function() {
                e["shop" + e.getIdx(t)].selected = !0
            }
            ));
            for (var i = 1; i <= 4; i++)
                this["shop" + i].label = Object(o.tr)("main@shopType" + (i + 6));
            this.disposeArr.push({
                dispose: function() {
                    n.removeEventListener(egret.Event.CHANGE, e.onChange, e)
                }
            }),
            this.selectView(),
            this.tap("btn_down", this.onDown, this),
            this.tap("btn_up", this.onUp, this),
            this.tap("btn_yunxianchi", this.onGoldStone, this),
            this.tap("btn_adv", (function() {
                m.d.show({
                    isIcon: !0,
                    type: "xianGe",
                    state: "xiange",
                    confId: 10
                })
            }
            ), this),
            this.tap("btn_adv1", this.openAdvert, this),
            this.cash1.propId = c.c.lingshi,
            this.on("refresh_shop_list", this.refreshList, this),
            this.shop5.visible = u.b.isOpen("recharge"),
            this.disposeArr.push(Object(b.b)("节日充值", this.shop5)),
            this.disposeArr.push(Object(b.b)("仙阁激励视频", this.btn_adv)),
            this.on("refresh_advert_success", this.advertSucc, this),
            this.refreshAdvert()
        }
        ,
        e.prototype.onDown = function() {
            Object(o.singleton)(h.a).changeFloor(this._curType, -1),
            this.selectView()
        }
        ,
        e.prototype.onUp = function() {
            Object(o.singleton)(h.a).changeFloor(this._curType, 1),
            this.selectView()
        }
        ,
        e.prototype.onGoldStone = function() {
            d.a.show()
        }
        ,
        e.prototype.onChange = function() {
            for (var t = 1; t <= 5; t++)
                if (this["shop" + t] == this.shop1.group.selection) {
                    this.selectView(t + 6);
                    break
                }
        }
        ,
        e.prototype.selectView = function(t) {
            var e = this;
            if (void 0 === t && (t = this._curType),
            this._curType = t,
            t == r.c.xianzhi || t == r.c.jingshu ? this.cash2.propId = c.c.xianshi : (t == r.c.qizhen || t == r.c.lingyu) && (this.cash2.propId = c.c.lingyu),
            this.list.itemRenderer = r.a,
            this.refreshAdvert2(),
            t != r.c.recharge1) {
                this.gp_floor.visible = !0,
                this.img_activity.visible = !1,
                this.lbl_time.visible = t != r.c.lingyu;
                var n = Object(o.singleton)(h.a);
                n.getShopData(t).then((function(i) {
                    e._list = i,
                    e.lbl_floor.text = Object(o.tr)("main@shop" + t, {
                        floor: Object(o.tr)("main@floor" + n.getFloor(t))
                    }),
                    e.refreshList(),
                    e.refreshFloor(t)
                }
                ))
            } else {
                this.gp_floor.visible = !1,
                this.btn_down.visible = !1,
                this.btn_up.visible = !1,
                this.lbl_time.visible = !1,
                this.lbl_levelLimit.visible = !1,
                Object(o.singleton)(h.a).getShopData(t).then((function(t) {
                    e._list = t,
                    e.refreshList()
                }
                )),
                Object(o.put)("gift_seen");
                var i = Object(_.d)("fsSingleRecharge");
                if (i) {
                    var a = g.a.getNow();
                    i.l && i.l.length && a >= i.start && a <= i.end && (this.img_activity.visible = !0)
                }
            }
        }
        ,
        e.prototype.refreshList = function() {
            var t = [].concat(this._list)
              , e = this.list.height - 180 * t.length
              , n = 1;
            e > 180 && (n = 1 + e / 180 >> 0);
            for (var i = 0; i < n; i++)
                t.push({
                    first: null,
                    second: null,
                    third: null
                });
            Object(l.a)(this.list, t)
        }
        ,
        e.prototype.refreshFloor = function(t) {
            var e = Object(o.singleton)(h.a)
              , n = e.getFloor(t);
            this.btn_down.visible = n > 1,
            e.isMaxFloor(t) ? (this.lbl_levelLimit.visible = !1,
            this.btn_up.visible = !1) : e.hasLimit(t, n + 1) || e.rmbEnough(t, n + 1) ? (this.lbl_levelLimit.visible = !1,
            this.btn_up.visible = !0) : (this.lbl_levelLimit.visible = !0,
            this.lbl_levelLimit.text = Object(o.tr)("main@shopNextTip", {
                lv: Object(p.h)(e.getFloorLimit(t, n + 1)),
                floor: n + 1
            }),
            this.btn_up.visible = !1)
        }
        ,
        e.prototype.refreshAdvert = function() {
            var t = Object(_.d)("shareSwitch");
            t && u.b.isOpen("advert") ? this.btn_adv.visible = t.ids.xianGe.num > 0 && g.a.getNow() > t.ids.xianGe.time : this.btn_adv.visible = !1
        }
        ,
        e.prototype.refreshAdvert2 = function() {
            var t = Object(_.d)("shareSwitch")
              , e = !1;
            this._curType == r.c.xianzhi ? e = u.b.isOpen("advert") && t && t.ids.xianzhi.num > 0 && g.a.getNow() - t.ids.xianzhi.time >= 0 : this._curType == r.c.jingshu ? e = u.b.isOpen("advert") && t && t.ids.jingshu.num > 0 && g.a.getNow() - t.ids.jingshu.time >= 0 : this._curType == r.c.qizhen ? e = u.b.isOpen("advert") && t && t.ids.qizhen.num > 0 && g.a.getNow() - t.ids.qizhen.time >= 0 : this._curType == r.c.lingyu && (e = u.b.isOpen("advert") && t && t.ids.lingyu.num > 0 && g.a.getNow() - t.ids.lingyu.time >= 0),
            this.btn_adv1.visible = e
        }
        ,
        e.prototype.openAdvert = function() {
            switch (this._curType) {
            case r.c.xianzhi:
                m.d.show({
                    isIcon: !1,
                    type: "xianzhi",
                    state: "shoprefresh",
                    confId: 25,
                    text: Object(o.tr)("main@advertRefresh", {
                        name: Object(o.tr)("main@shopType" + this._curType)
                    })
                });
                break;
            case r.c.jingshu:
                m.d.show({
                    isIcon: !1,
                    type: "jingshu",
                    state: "shoprefresh",
                    confId: 26,
                    text: Object(o.tr)("main@advertRefresh", {
                        name: Object(o.tr)("main@shopType" + this._curType)
                    })
                });
                break;
            case r.c.qizhen:
                m.d.show({
                    isIcon: !1,
                    type: "qizhen",
                    state: "shoprefresh",
                    confId: 27,
                    text: Object(o.tr)("main@advertRefresh", {
                        name: Object(o.tr)("main@shopType" + this._curType)
                    })
                });
                break;
            case r.c.lingyu:
                m.d.show({
                    isIcon: !1,
                    type: "lingyu",
                    state: "shoprefresh",
                    confId: 28,
                    text: Object(o.tr)("main@advertRefresh", {
                        name: Object(o.tr)("main@shopType" + this._curType)
                    })
                })
            }
        }
        ,
        e.prototype.advertSucc = function(t) {
            var e = this;
            "xianGe" == t || "yunXianChi" == t ? this.refreshAdvert() : (Object(o.singleton)(h.a).getShopData(this._curType, !0).then((function(t) {
                e._list = t,
                e.refreshList()
            }
            )),
            this.refreshAdvert2(),
            Object(o.tooltip)(Object(o.tr)("main@refreshSucc")))
        }
        ,
        e.show = function(t) {
            return v(this, void 0, void 0, (function() {
                return O(this, (function(n) {
                    return Object(o.singleton)(h.a).checkRes(t).then((function() {
                        Object(f.a)(new e, t)
                    }
                    )),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "d", (function() {
        return i
    }
    )),
    n.d(e, "a", (function() {
        return o
    }
    )),
    n.d(e, "c", (function() {
        return r
    }
    )),
    n.d(e, "b", (function() {
        return f
    }
    ));
    var i, o, r, a = n(1), s = n(117), c = n(113), u = n(130), h = n(114);
    !function(t) {
        t[t.ji = 1] = "ji",
        t[t.xian = 2] = "xian"
    }(i || (i = {})),
    function(t) {
        t[t.daolv = 1] = "daolv",
        t[t.union = 2] = "union",
        t[t.dubo = 3] = "dubo",
        t[t.guding = 4] = "guding",
        t[t.share_event = 5] = "share_event"
    }(o || (o = {})),
    function(t) {
        t[t.exchange = 1] = "exchange",
        t[t.get = 2] = "get",
        t[t.use = 3] = "use",
        t[t.nothing = 4] = "nothing",
        t[t.fight = 5] = "fight"
    }(r || (r = {}));
    var l = function() {
        function t(t) {
            if (this._p = t,
            t.advenId)
                this._type = i.xian,
                this._c = Object(a.getConfig)("adventure_json")[t.advenId];
            else if (t.type)
                switch (this._type = i.ji,
                this.jiyuanType) {
                case o.daolv:
                    this._c = Object(a.getConfig)("daoLvEve_json")[t.id];
                    break;
                case o.union:
                    this._c = Object(a.getConfig)("unionEvent_json")[t.id];
                    break;
                case o.dubo:
                    this._c = Object(a.getConfig)("duBoEvent_json")[t.id];
                    break;
                case o.guding:
                    this._c = Object(a.getConfig)("event_json")[t.id];
                    break;
                case o.share_event:
                    this._c = Object(a.getConfig)("shareEvent_json")[t.id]
                }
        }
        return Object.defineProperty(t.prototype, "p", {
            get: function() {
                return this._p
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "type", {
            get: function() {
                return this._type
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "jiyuanType", {
            get: function() {
                return o[this._p.type]
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "c", {
            get: function() {
                return this._c
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "id", {
            get: function() {
                return this.p.id
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "title", {
            get: function() {
                return this._c.title
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "name", {
            get: function() {
                return this._c.name
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "npcConf", {
            get: function() {
                if (!this._c_npc)
                    if (this.type == i.ji)
                        switch (this.jiyuanType) {
                        case o.guding:
                        case o.dubo:
                        case o.share_event:
                            this._c_npc = Object(a.getConfig)("npc_json")[this._c.npcId];
                            break;
                        case o.daolv:
                            this._c_npc = Object(a.getConfig)("daoLvNpc_json")[this.p.npcId];
                            break;
                        case o.union:
                            if (Object(c.a)("unionId")) {
                                var t = Object(a.getConfig)("union_json");
                                if (t) {
                                    var e = (t = t[Object(c.a)("unionId")]).npc[this._c.npcPos - 1];
                                    this._c_npc = Object(a.getConfig)("npc_json")[e.npcId]
                                }
                            }
                        }
                    else
                        this._c_npc = this._c;
                return this._c_npc
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "npcIcon", {
            get: function() {
                return Object(s.d)(this.npcConf ? this.npcConf : 4052, "NewHalf")
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "role", {
            get: function() {
                return this._c.name1
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "desc", {
            get: function() {
                return this.type == i.ji ? this._c.eventDesc : this.cur ? this.cur.talk : this._c.desc
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "awdText", {
            get: function() {
                return this.cur.awdText
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.select = function(t, e) {
            this.options && (this._curOption = this.options[t],
            this._curOption.proxyData = e)
        }
        ,
        Object.defineProperty(t.prototype, "cur", {
            get: function() {
                return this._curOption
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "options", {
            get: function() {
                var t = this;
                if (!this._options)
                    if (this.type == i.ji) {
                        this._options = [];
                        for (var e = 1; e <= 3; e++) {
                            var n = this._c["option" + e];
                            n && this._options.push(new p(this,n[0],e))
                        }
                    } else
                        this._options = this._c.option.map((function(e, n) {
                            return new p(t,e,n + 1)
                        }
                        ));
                return this._options
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , p = function() {
        function t(t, e, n) {
            this.eventModel = t,
            this.optionConf = e,
            this.index = n,
            this.eventModel.type == i.xian ? this._c = Object(a.getConfig)("adventureOption_json")[this.optionConf.optionId] : this._c = e
        }
        return Object.defineProperty(t.prototype, "c", {
            get: function() {
                return this._c
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "resultId", {
            get: function() {
                return this.c.resultId
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "text", {
            get: function() {
                return this.eventModel.type == i.xian ? this._text = Object(a.tr)(this.c.desc1) : this._text = Object(a.tr)(this.c.optionDesc),
                this._text
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "talk", {
            get: function() {
                if (this.eventModel.type == i.xian)
                    return this.c.type == r.fight ? this._proxyData && this._proxyData.fightLog && 1 == this._proxyData.fightLog.w ? this.c.desc2 : this.c.fightTalk1 : this.c.desc2;
                switch (this.eventModel.jiyuanType) {
                case o.union:
                case o.dubo:
                case o.guding:
                case o.share_event:
                    this._talk = Object(a.tr)(this.c.talkId);
                    break;
                case o.daolv:
                    var t = Object(a.getConfig)("daoLvNpc_json")[this.eventModel.p.npcId];
                    this._talk = 1 == t.sex ? Object(a.tr)(this.c.maleTalkId) : Object(a.tr)(this.c.femaleTalkId)
                }
                return this._talk
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "optionId", {
            get: function() {
                return this.eventModel.type == i.xian ? this.c.id : this.c.optionId
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "num", {
            get: function() {
                var t = this;
                if (!this.proxyData.awds || 0 == this.proxyData.awds.length)
                    return 0;
                if (this.eventModel.type == i.xian) {
                    if (e = this.proxyData.awds.filter((function(e) {
                        return e.propId == t.c.getItemId && e.num > 0
                    }
                    ))[0])
                        return e.num
                } else {
                    var e, n = Object(a.getConfig)("eventResult_json")[this.c.resultId].award;
                    if (n && n.length)
                        return (e = n.find((function(t) {
                            if (parseInt(t.itemId))
                                return !0
                        }
                        ))) ? e.num : 0
                }
                return 0
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "itemId", {
            get: function() {
                if (this.eventModel.type == i.xian)
                    return this.proxyData && this.proxyData.fightLog && 0 == this.proxyData.fightLog.w ? null : this.c.getItemId;
                var t = Object(a.getConfig)("eventResult_json")[this.c.resultId].award;
                if (t && t.length) {
                    var e = t.find((function(t) {
                        if (parseInt(t.itemId))
                            return !0
                    }
                    ));
                    return e ? e.itemId : 0
                }
                return null
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "awdText", {
            get: function() {
                if (this.eventModel.type == i.xian)
                    return this.c.type == r.fight && this.proxyData && this.proxyData.fightLog && 0 == this.proxyData.fightLog.w ? this.c.fightTalk2 : this.c.desc3;
                if (this.eventModel.type == i.ji) {
                    if (5 == this.eventModel.jiyuanType)
                        return h.e.getName(this.proxyData.awds[0].propId) + " +" + this.proxyData.awds[0].num;
                    var t = Object(a.getConfig)("eventResult_json")[this.c.resultId]
                      , e = t.award;
                    if (e && e.length)
                        for (var n = 0; n < e.length; n++)
                            if (e[n].type && (!e[n].itemId || "0" == e[n].itemId))
                                return Object(a.tr)("main@mainEvent" + e[n].type, {
                                    num: e[n].num,
                                    name: this.eventModel.npcConf ? Object(a.tr)(this.eventModel.npcConf.name) : ""
                                });
                    return t.name
                }
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "proxyData", {
            get: function() {
                return this._proxyData
            },
            set: function(t) {
                this._proxyData = t
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , f = function() {
        function t() {
            this._yuanList = []
        }
        return t.prototype.init = function() {
            var t = Object(a.getCache)("LuckChange.getList").list;
            this._jiList = t.filter((function(t) {
                return "share_event" != t.type || !!u.b.isOpen("advert")
            }
            ));
            var e = Object(a.getCache)("Map.getInfo").adven;
            this._jiList = this._jiList.map((function(t) {
                return new l(t)
            }
            )),
            this._xianList = e.map((function(t) {
                return new l(t)
            }
            )),
            this.updateYuanList()
        }
        ,
        t.prototype.updateYuanList = function() {
            this._yuanList = [].concat(this._jiList),
            this._xianList && this._xianList[0] && this._yuanList.push(this._xianList[0])
        }
        ,
        Object.defineProperty(t.prototype, "list", {
            get: function() {
                return this._yuanList
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.getYuanList = function(t) {
            return t == i.ji ? this._jiList : t == i.xian ? this._xianList && this._xianList[0] ? [this._xianList[0]] : [] : this._yuanList
        }
        ,
        t.prototype.removeXian = function(t) {
            if (t.type == i.xian) {
                for (var e = 0; e < this._xianList.length; e++)
                    if (this._xianList[e].id == t.id) {
                        this._xianList.splice(e, 1);
                        break
                    }
            } else if (t.type == i.ji) {
                var n = Object(a.getCache)("LuckChange.getList").list;
                this._jiList = n.filter((function(t) {
                    return "share_event" != t.type || !!u.b.isOpen("advert")
                }
                )),
                this._jiList = this._jiList.map((function(t) {
                    return new l(t)
                }
                ))
            }
            return this.updateYuanList(),
            this._yuanList.length
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return a
    }
    ));
    var i = n(133)
      , o = n(1)
      , r = function(t) {
        return 4 == t.itemType || 5 == t.itemType || 3 == t.itemType || t.itemType >= 100
    };
    function a(t) {
        return t instanceof i.b ? r(t.c) : r("number" == typeof t ? Object(o.getConfig)("item_json")[t] : t)
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return a
    }
    ));
    var i = n(1)
      , o = n(358)
      , r = n(137);
    function a(t, e) {
        void 0 === e && (e = !0);
        var n = t.trim();
        if (!n)
            return e && Object(i.tooltip)(Object(i.tr)("common@needName")),
            !1;
        var a, s = Object(r.d)();
        return a = "en_us" == s || "vi_vn" == s ? 18 : "ta_ta" == s ? 15 : 6,
        n.length > a ? (console.log(a),
        e && Object(i.tooltip)(Object(i.tr)("common@nameLen", {
            num: a
        })),
        !1) : Object(o.a)(n) ? (e && Object(i.tooltip)(Object(i.tr)("common@emoji")),
        !1) : !new RegExp(/[\uff00-\uffff_\u0021-\u0040_\u005b-\u0060_\u007b-\u007e]/).test(n) || (e && Object(i.tooltip)(Object(i.tr)("common@invalidStr")),
        !1)
    }
}
, function(t, e, n) {
    "use strict";
    function i(t, e) {
        t.source = 3 == e ? "icon_service_smooth_png" : 4 == e ? "icon_service_close_png" : "icon_service_hot_png"
    }
    n.d(e, "a", (function() {
        return i
    }
    ))
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return p
    }
    )),
    n.d(e, "a", (function() {
        return d
    }
    ));
    var i = n(1)
      , o = n(109)
      , r = n(107)
      , a = n(117)
      , s = n(146)
      , c = n(113)
      , u = n(114)
      , h = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , l = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , p = function() {
        function t(t, e) {
            if (this._p = t,
            e)
                this._c = e;
            else if (t.id)
                this._c = Object(i.getConfig)("skinPrize_json")[t.id];
            else if (t.fashionId) {
                var n = Object(i.getConfig)("skinPrize_json");
                for (var o in n)
                    if (n[o].fashionId && n[o].fashionId == t.fashionId) {
                        this._c = n[o];
                        break
                    }
            }
            (t.propId || t.itemId) && (t.propId ? this._c_item = Object(i.getConfig)("item_json")[t.propId] : t.itemId && (this._c_item = Object(i.getConfig)("item_json")[t.itemId])),
            19 == this._c_item.resultID && (this._c_fashion = Object(i.getConfig)("fashion_json")[this._c_item.ResultVal1])
        }
        return Object.defineProperty(t.prototype, "p", {
            get: function() {
                return this._p
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "c", {
            get: function() {
                return this._c
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "c_item", {
            get: function() {
                return this._c_item
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "c_fashion", {
            get: function() {
                return this._c_fashion
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "icon", {
            get: function() {
                return Object(a.b)(this._c_item.id)
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "num", {
            get: function() {
                return this._p.num || 0
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "quality", {
            get: function() {
                return this._c_item.quality
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "propId", {
            get: function() {
                return this._p.propId || this._p.itemId || 0
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "fashionId", {
            get: function() {
                return this._p.fashionId || (this._c_fashion ? this._c_fashion.id : 0) || 0
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , f = function() {
        function t(t) {
            this._c = t,
            this._c_item = Object(i.getConfig)("item_json")[t.itemId],
            19 == this._c_item.resultID && (this._c_fashion = Object(i.getConfig)("fashion_json")[this._c_item.ResultVal1])
        }
        return Object.defineProperty(t.prototype, "p", {
            get: function() {
                return this._p
            },
            set: function(t) {
                this._p = t
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "c", {
            get: function() {
                return this._c
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "c_fashion", {
            get: function() {
                return this._c_fashion
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "limit", {
            get: function() {
                var t = this._c.dayLimit ? this._c.dayLimit : 1;
                return {
                    num: t - (this._p && this._p.limit ? this._p.limit : 0),
                    max: t
                }
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "fashionId", {
            get: function() {
                return this._c_fashion ? this._c_fashion.id : 0
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "has", {
            get: function() {
                var e = 0;
                if (this._c_fashion) {
                    var n = Object(c.a)("fashion.has");
                    if (n && n.length && -1 != n.indexOf(this._c_fashion.id))
                        e = 1;
                    else {
                        var i = t.getFashionItems()[this._c_fashion.id];
                        e = u.e.getNum(i) > 0 ? 1 : 0
                    }
                }
                return e
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "sameSex", {
            get: function() {
                return this._c_fashion && (0 == this._c_fashion.gender || Object(c.a)("skin")[0] == this._c_fashion.gender)
            },
            enumerable: !0,
            configurable: !0
        }),
        t.getFashionItems = function() {
            if (!this.fashionItems) {
                this.fashionItems = {};
                var t = Object(i.getConfig)("item_json");
                for (var e in t)
                    19 == t[e].resultID && (this.fashionItems[t[e].ResultVal1] = t[e].id)
            }
            return this.fashionItems
        }
        ,
        t
    }()
      , d = function() {
        function t() {}
        return Object.defineProperty(t, "ins", {
            get: function() {
                return Object(i.singleton)(t)
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.checkRes = function() {
            return h(this, void 0, void 0, (function() {
                return l(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Promise.all([Object(o.a)("skinPrize_json"), Object(o.a)("fashion_json"), Object(r.a)("fan.a", "Fantasy.getInfo")])];
                    case 1:
                        return [2, t.sent()]
                    }
                }
                ))
            }
            ))
        }
        ,
        Object.defineProperty(t.prototype, "info", {
            get: function() {
                return Object(i.getCache)("Fantasy.getInfo")
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.getSkinList = function() {
            if (!this._skinList) {
                this._skinList = [];
                var t = Object(i.getConfig)("skinPrize_json");
                for (var e in t)
                    1 == t[e].type && this._skinList.push(new p(t[e],t[e]))
            }
            return this._skinList
        }
        ,
        t.prototype.getCommonList = function() {
            if (!this._commonList) {
                this._commonList = [];
                var t = Object(i.getConfig)("skinPrize_json")
                  , e = void 0;
                for (var n in t)
                    1 != t[n].type && 1 == t[n].IsHide && ((!e || e.items.length >= 4) && (e = {
                        items: []
                    },
                    this._commonList.push(e)),
                    e.items.push(new p(t[n],t[n])))
            }
            return this._commonList
        }
        ,
        t.prototype.getShopList = function(t) {
            var e;
            if (!this._shopList) {
                this._shopList = {};
                var n, o = Object(i.getConfig)("skinPrizeShop_json"), r = Object(i.getCache)(s.c[s.c.skin] + "Shop.getList", "list"), a = void 0;
                for (var c in o)
                    n = o[c],
                    e = new f(n),
                    this._shopList[n.type] || (this._shopList[n.type] = []),
                    this._shopList[n.type].push(e),
                    (a = r.find((function(t) {
                        if (t.id == n.id)
                            return t
                    }
                    ))) && (e.p = a)
            }
            return this._shopList[t] || []
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return g
    }
    )),
    n.d(e, "b", (function() {
        return m
    }
    ));
    var i, o = n(1), r = n(108), a = n(111), s = n(120), c = n(110), u = n(106), h = n(153), l = n(117), p = n(162), f = n(113), d = n(140), b = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), g = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return b(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (t.sId ? (this.currentState = "kuafu",
            this.lbl_subdivide.text = t.sId) : this.currentState = "benfu",
            Object(h.a)(this.img_top, this.lbl_top, t.rank),
            this.lbl_guildName.text = Object(l.c)(t.name),
            this.lbl_score && (this.lbl_score.text = t.score + ""),
            t.hasOwnProperty("oldName") ? (this.btn_guildYm.visible = this.btn_guildYm.includeInLayout = !0,
            this.lbl_guildYm.text = Object(o.tr)("main@oldGuildName", {
                name: t.oldName
            })) : this.btn_guildYm.visible = this.btn_guildYm.includeInLayout = !1)
        }
        ,
        e.prototype.onGuildYm = function() {
            var t = this;
            this.gp_tips.visible = this.gp_tips.includeInLayout = !0,
            this.gp_tips.alpha = 1,
            egret.Tween.removeTweens(this.gp_tips),
            egret.Tween.get(this.gp_tips).wait(1500).to({
                alpha: 0
            }, 2e3).call((function() {
                t.gp_tips.visible = t.gp_tips.includeInLayout = !1
            }
            ))
        }
        ,
        e.prototype.onReady = function() {
            this.gp_tips.visible = this.gp_tips.includeInLayout = !1,
            this.tap("btn_guildYm", this.onGuildYm, this)
        }
        ,
        e
    }(o.Item), _ = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return b(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (Object(h.a)(this.img_top, this.lbl_top, t.rank),
            this.lbl_name.text = Object(l.c)(t.name),
            this.lbl_score && (this.lbl_score.text = t.hasOwnProperty("score") || t.score ? t.score + "" : ""),
            t.skin && Object(d.a)(this.head, t.skin))
        }
        ,
        e
    }(o.Item), m = function(t) {
        function e(e, n) {
            var i = t.call(this) || this;
            return i.rankType = e,
            i.proxyData = n,
            Object(o.setSkin)(i, "PanelCommonGuildRankSkin"),
            i
        }
        return b(e, t),
        e.prototype.onReady = function(t) {
            var e = this
              , n = Object(o.getConfig)(t.confName)[t.id];
            if (this.currentState = Object(f.a)("guildId") ? t.rankType == p.b.guildCross ? "kfopen" : "open" : t.rankType == p.b.guildCross ? "kfnone" : "none",
            this.list.itemRenderer = g,
            this.list_member.itemRenderer = _,
            Object(r.a)(this.list, this.proxyData.l),
            Object(f.a)("guildId")) {
                var i = this.proxyData.members;
                if (i) {
                    i = i.sort((function(t, e) {
                        return e.score - t.score
                    }
                    ));
                    var c = 1;
                    for (var u in i)
                        i[u].rank = c,
                        c += 1;
                    Object(r.a)(this.list_member, i)
                }
            }
            this.RankName.text = n.name,
            this.rankingName.text = t.rankText,
            this.rankingName_2.text = "";
            var h = this.proxyData.self;
            this.lbl_ourGuild.text = "" == h.guildName ? Object(o.tr)("main@none") : h.guildName,
            this.lbl_ourRank.text = h.rank,
            this.lbl_ourScore.text = h.score,
            !t.et || a.a.isOver(t.et) ? this.gp_countdown.visible = !1 : this.disposeArr.push(new s.a({
                component: this.countLabel,
                endTime: t.et,
                complete: function() {
                    e.gp_countdown.visible = !1
                }
            }))
        }
        ,
        e.show = function(t) {
            Object(c.b)([p.a.getRankData(t)]).then((function(n) {
                Object(u.a)(new e(t.rankType,n[0]), t)
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return p
    }
    )),
    n.d(e, "a", (function() {
        return f
    }
    ));
    var i, o = n(1), r = n(109), a = n(113), s = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), c = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, u = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, h = function(t) {
        function e(e, n) {
            var i = t.call(this, e) || this;
            return i.__type = n,
            i.disposeArr = [],
            i
        }
        return s(e, t),
        e.prototype.init = function() {
            var t = Object(a.a)();
            this.check();
            var e = eui.Watcher.watch(t, ["mainPet"], this.check, this);
            this.disposeArr.push(Object(o.on)("refresh_mainPetTasks", this.check, this)),
            this.disposeArr.push({
                dispose: function() {
                    e.unwatch()
                }
            })
        }
        ,
        e.prototype.check = function() {
            return c(this, void 0, void 0, (function() {
                var t, e, n, i, s, c, h, l;
                return u(this, (function(u) {
                    switch (u.label) {
                    case 0:
                        return null == (t = Object(a.a)("mainPet")) || t.up > 0 || 0 == t.id || t.lv >= 30 ? (this.updateVisible(!1),
                        t && 1 == t.up && (this.disposeArr = Object(o.dispose)(this.disposeArr)),
                        [2]) : null != (e = Object(o.getConfig)("mainPetTask_json")) ? [3, 2] : [4, Object(r.a)("mainPetTask_json")];
                    case 1:
                        u.sent(),
                        e = Object(o.getConfig)("mainPetTask_json"),
                        u.label = 2;
                    case 2:
                        for (i in n = this.__type,
                        e)
                            if ((s = e[i]).type == n)
                                if (c = 0,
                                h = 1 == n ? t.dayTask : t.task,
                                l = t.awardTask,
                                !o.types.isArray(h) && h.hasOwnProperty(s.id) && (c = h[s.id]),
                                l.indexOf(s.id) >= 0)
                                    ;
                                else if (c >= s.value)
                                    return this.updateVisible(!0),
                                    [2];
                        return this.updateVisible(!1),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.RedBaseRule), l = function(t) {
        function e() {
            return t.call(this, "选择仙兽灵宠") || this
        }
        return s(e, t),
        e.prototype.init = function() {
            this.updateVisible(!0)
        }
        ,
        e
    }(o.RedBaseRule);
    function p() {
        o.RedPointManager.injection(new h("仙兽灵宠每日任务",1)),
        o.RedPointManager.injection(new h("仙兽灵宠阶段任务",2)),
        o.RedPointManager.injection(new o.RedPointGroup("仙兽灵宠","仙兽灵宠每日任务","仙兽灵宠阶段任务"))
    }
    function f() {
        o.RedPointManager.injection(new l)
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return l
    }
    ));
    var i, o = n(1), r = n(109), a = n(164), s = n(132), c = n(131), u = n(110), h = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), l = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "CommonFesClothesShowSkin"),
            e
        }
        return h(e, t),
        e.prototype.onReady = function(t) {
            this._data = t,
            this.tap("btn_male", this.updateView.bind(this, 0), this),
            this.tap("btn_female", this.updateView.bind(this, 1), this),
            this._data.womenId && 0 != this._data.womenId || (this.gp_sex.visible = !1),
            this.gp_role.mask = this.img_mask,
            this.updateView(0)
        }
        ,
        e.prototype.updateView = function(t) {
            var e = 0 == t ? Object(s.a)("fashion_json")[this._data.manId] : Object(s.a)("fashion_json")[this._data.womenId];
            this.updateViewData(e);
            var n = [1, 0, 1, 1, 1, 1, 1, 1, 1];
            if (n[a.b.gender] = e.gender,
            n[8] = Number(e.icon),
            this._data.fazhenId && 0 != this._data.fazhenId) {
                var i = Object(s.a)("fashion_json")[this._data.fazhenId];
                n[a.b.fazhen] = Number(i.icon),
                this._data.isFazhen && this.updateViewData(i)
            }
            if (this._data.mianjuId && 0 != this._data.mianjuId) {
                var o = Object(s.a)("fashion_json")[this._data.mianjuId];
                n = n.concat([1, 0, Number(o.icon)]),
                this.updateViewData(o)
            }
            Object(c.f)(n, this.img_role, {
                diyMode: !0,
                cloth: c.a.body,
                eye: c.b.open
            })
        }
        ,
        e.prototype.updateViewData = function(t) {
            this.lbl_dress.text = Object(o.tr)(t.name),
            this.lbl_info.text = Object(o.tr)(t.desc),
            this.lbl_get.text = Object(o.tr)(t.duiHuanDesc)
        }
        ,
        e.show = function(t) {
            Object(u.b)([Object(r.a)("fashion_json")]).then((function() {
                o.UI.openBox(new e, t)
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return u
    }
    )),
    n.d(e, "a", (function() {
        return l
    }
    ));
    var i = n(1)
      , o = n(132)
      , r = n(124)
      , a = n(117)
      , s = n(112)
      , c = n(114)
      , u = function() {
        function t(e, n) {
            this.p = e,
            this.c = t.getConfig(e.id),
            this._index = n
        }
        return t.getConfig = function(t) {
            var e = Math.floor(t / 1e3)
              , n = Object(o.a)("openActiveTask_json", e).detail.filter((function(e) {
                return e.id == t
            }
            ));
            return n.length > 0 ? n[0] : null
        }
        ,
        Object.defineProperty(t.prototype, "way", {
            get: function() {
                var t = Math.floor(this.c.id / 1e3)
                  , e = Object(o.a)("openActiveTask_json", t);
                return 1 == this.c.tab ? e.way1 : e.way2
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "num", {
            get: function() {
                var t = this
                  , e = Object(s.d)("openActiveTask").nums.filter((function(e) {
                    return e.id == t.p.type
                }
                ));
                return e.length > 0 ? e[0].num : 0
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "index", {
            get: function() {
                return this._index
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "id", {
            get: function() {
                return this.c.id
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "stateStr", {
            get: function() {
                return 3 == this.tab ? "gift" : "task"
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "day", {
            get: function() {
                return Math.floor(this.c.id / 1e3)
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "canReceive", {
            get: function() {
                return this.tab < 3 && !this.p.isAwd && this.num >= this.c.value1
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "tab", {
            get: function() {
                return this.c.tab
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "receiveStatus", {
            get: function() {
                return 3 == this.tab ? this.canBuy ? 1 : 2 : this.canReceive ? 1 : this.num < this.c.value1 ? 2 : 3
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "canBuy", {
            get: function() {
                return this.p.isAwd <= 0 || this.p.isAwd < this.c.totalLimit
            },
            enumerable: !0,
            configurable: !0
        }),
        t.unLockDay = function() {
            var t = Object(s.d)("openActiveTask");
            return Object.keys(t.l).length
        }
        ,
        t.isSomeRecive = function(t, e) {
            return void 0 === t && (t = -1),
            this.initTask(),
            t < 0 ? this._allTask.some((function(t) {
                return t.canReceive
            }
            )) : !!this._taskDic[t] && this._taskDic[t].some((function(t) {
                var n = !0;
                return e && (n = t.tab == e),
                t.canReceive && n
            }
            ))
        }
        ,
        t.getTaskList = function(t, e) {
            this.initTask();
            var n = this._taskDic[t].filter((function(t) {
                return t.tab == e
            }
            ));
            return n.sort((function(t, e) {
                return t.receiveStatus - e.receiveStatus
            }
            )),
            n
        }
        ,
        t.initTask = function() {
            var e = this;
            if (null == this._taskDic) {
                var n = Object(s.d)("openActiveTask");
                this._taskDic = {},
                this._allTask = [];
                for (var i = Object.keys(n.l), o = function(o) {
                    var a, s = i[o], c = n.l[s], u = r._taskDic[s] = [], h = 0;
                    c.forEach((function(n) {
                        a = new t(n,h),
                        u.push(a),
                        e._allTask.push(a),
                        h++
                    }
                    ))
                }, r = this, a = 0; a < i.length; a++)
                    o(a)
            }
        }
        ,
        t._taskDic = null,
        t._allTask = null,
        t
    }();
    Object(r.a)("ActTaskModel", u);
    var h = function() {
        function t(t, e) {
            this.c = t,
            this.unlockValue = e
        }
        return Object.defineProperty(t.prototype, "id", {
            get: function() {
                return this.c.id
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "type", {
            get: function() {
                return this.c.type
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "value", {
            get: function() {
                return this.c.value
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.isCanMove = function() {
            return 2 != this.type && l.ins.isUnlock(this.unlockValue)
        }
        ,
        t.prototype.isCanRecive = function() {
            return !!this.isCanMove() && (1 == this.type && this.c.reward.length > 0 && Object(s.d)("openActiveTask").map.indexOf(this.c.id) <= -1)
        }
        ,
        t.prototype.rewards = function() {
            return this.c.reward && this.c.reward.length > 0 ? {
                propId: this.c.reward[0].itemId,
                num: this.c.reward[0].num
            } : null
        }
        ,
        Object.defineProperty(t.prototype, "icon", {
            get: function() {
                return 1 == this.type ? Object(s.d)("openActiveTask").map.indexOf(this.c.id) <= -1 && this.c.reward.length > 0 ? Object(a.b)(this.c.reward[0].itemId) : null : 2 == this.type ? "img_activeMap_item_2_png" : 3 == this.type && "0" == Object(i.getLocalStorage)().getString("acttile_" + this.id, "0") ? "img_activeMap_item_1_png" : null
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , l = function() {
        function t() {
            this._tileList = null,
            this._scorePoints = null,
            this._awardMap = null,
            this._unlockValues = []
        }
        return Object.defineProperty(t, "ins", {
            get: function() {
                return Object(i.singleton)(t)
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.getAwardMap = function() {
            if (null == this._awardMap) {
                this._awardMap = {};
                for (var t = Object(o.a)("openActiveMap_json"), e = Object.keys(t), n = void 0, i = 0; i < e.length; i++) {
                    var r = t[e[i]];
                    if (0 == i ? n = this._awardMap[0] = [] : 3 == r.type && (n = this._awardMap[r.value] = []),
                    1 == r.type) {
                        for (var a = r.reward[0], s = null, c = 0; c < n.length; c++)
                            if (n[c].itemId == a.itemId) {
                                (s = n[c]).num += a.num;
                                break
                            }
                        null == s && (s = {
                            itemId: a.itemId,
                            num: a.num
                        },
                        n.push(s))
                    }
                }
            }
            return this._awardMap
        }
        ,
        t.prototype.getScorePoints = function() {
            if (null == this._scorePoints) {
                this._scorePoints = [0];
                var t = Object(o.a)("openActiveMap_json");
                for (var e in t) {
                    var n = t[e];
                    3 == n.type && this._scorePoints.push(n.value)
                }
            }
            return this._scorePoints.sort((function(t, e) {
                return t - e
            }
            )),
            this._scorePoints
        }
        ,
        t.prototype.isUnlock = function(t) {
            return c.e.getNum(16039) >= t
        }
        ,
        t.prototype.getTileList = function() {
            if (null == this._tileList) {
                this._tileList = [];
                var t = Object(o.a)("openActiveMap_json")
                  , e = 0;
                for (var n in this._unlockValues = [0],
                t) {
                    var i = t[n];
                    3 == i.type && (e = i.value,
                    this._unlockValues.push(i.value)),
                    this._tileList.push(new h(i,e))
                }
            }
            return this._tileList
        }
        ,
        t.prototype.hasSomeTileRecive = function(t) {
            var e = this;
            return void 0 === t && (t = -1),
            this.getTileList(),
            !!this._tileList && this._tileList.some((function(n) {
                var i = !0;
                return -1 != t && (i = e._unlockValues[t] == n.unlockValue),
                n.isCanRecive() && i
            }
            ))
        }
        ,
        t.prototype.getTileItem = function(t) {
            var e = this.getTileList().filter((function(e) {
                return e.id == t
            }
            ));
            return e.length > 0 ? e[0] : null
        }
        ,
        t.prototype.getShowOpenTile = function() {
            var t = []
              , e = c.e.getNum(16039);
            return this.getTileList().forEach((function(n) {
                3 == n.c.type && e >= n.c.value && ("0" == Object(i.getLocalStorage)().getString("acttile_" + n.id, "0") && t.push(n.id))
            }
            )),
            t
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return s
    }
    ));
    var i, o = n(1), r = n(4), a = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), s = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return a(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (t && t.type) {
                var e = Object(r.mul)(t.value, t.num || 1);
                this.lbl_value.textFlow = (new egret.HtmlTextParser).parser(Object(o.tr)("hero@zzType" + {
                    atk: 1,
                    matk: 2,
                    datk: 3,
                    travel: 4
                }[t.type]) + ": <font color=#08a77c> + " + e + "</font>")
            }
        }
        ,
        e
    }(o.Item)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return a
    }
    ));
    var i, o = n(1), r = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), a = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return r(e, t),
        e.prototype.onDataUpdate = function(t, e) {
            t && (this.des.textFlow = (new egret.HtmlTextParser).parse(t))
        }
        ,
        e
    }(o.Item)
}
, , , , , , , , , function(t, e, n) {
    "use strict";
    n.d(e, "c", (function() {
        return y
    }
    )),
    n.d(e, "a", (function() {
        return c
    }
    )),
    n.d(e, "f", (function() {
        return P
    }
    )),
    n.d(e, "g", (function() {
        return M
    }
    )),
    n.d(e, "d", (function() {
        return H
    }
    )),
    n.d(e, "e", (function() {
        return tt
    }
    )),
    n.d(e, "k", (function() {
        return et
    }
    )),
    n.d(e, "l", (function() {
        return ot
    }
    )),
    n.d(e, "b", (function() {
        return lt
    }
    )),
    n.d(e, "h", (function() {
        return mt
    }
    )),
    n.d(e, "i", (function() {
        return wt
    }
    )),
    n.d(e, "j", (function() {
        return Ct
    }
    ));
    var i, o = n(1), r = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), a = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.callbackMap = {},
            e
        }
        return r(e, t),
        e.prototype.regCallback = function(t, e) {
            this.callbackMap[t] || (this.addCallback(t),
            this.callbackMap[t] = {
                resolve: null
            }),
            this.callbackMap[t].resolve = e
        }
        ,
        e.prototype.call = function(t, e) {
            void 0 === e && (e = ""),
            "string" != typeof e && (e = JSON.stringify(e)),
            egret.ExternalInterface.call(t, e)
        }
        ,
        e.prototype.addCallback = function(t) {
            var e = this;
            egret.ExternalInterface.addCallback(t + "Done", (function(n) {
                var i = e.callbackMap[t];
                i && i.resolve && (i.resolve(n),
                i.resolve = null)
            }
            ))
        }
        ,
        e.prototype.init = function(e) {
            var n = t.prototype.init.call(this, e);
            return this.regComponent("reload", {
                support: !0,
                reload: function() {
                    if (o.is.xyx() || o.is.baidu())
                        Object(o.getPlatform)().exit();
                    else {
                        var t = Object(o.getOption)("shortUrl");
                        location.href = t ? decodeURIComponent(t) : location.href
                    }
                },
                confirm: function(t) {
                    Object(o.reloadConfirm)(t)
                }
            }),
            n
        }
        ,
        e.prototype.getInfo = function(t, e) {
            var n = this;
            return void 0 === e && (e = ""),
            new Promise((function(i) {
                "string" != typeof e && (e = JSON.stringify(e)),
                n.regCallback(t, i),
                egret.ExternalInterface.call(t, e)
            }
            ))
        }
        ,
        e
    }(o.PlatformBase), s = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), c = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(a), u = function(t) {
        __extends(s, t);
        var e = function(t) {
            function e() {
                t.call(this),
                this.skinParts = ["labelDisplay"],
                this.height = 80,
                this.width = 240,
                this.elementsContent = [this._Image1_i(), this.labelDisplay_i()],
                this.states = [new eui.State("up",[]), new eui.State("down",[]), new eui.State("disabled",[])]
            }
            __extends(e, t);
            var n = e.prototype;
            return n._Image1_i = function() {
                var t = new eui.Image;
                return t.horizontalCenter = -5,
                t.source = "btn_gamestart_png",
                t.verticalCenter = -2,
                t
            }
            ,
            n.labelDisplay_i = function() {
                var t = new solar.Label;
                return this.labelDisplay = t,
                t.fontFamily = "黑体",
                t.horizontalCenter = -5,
                t.size = 32,
                t.textColor = 7558993,
                t.verticalCenter = 7,
                t.wordWrap = !0,
                t
            }
            ,
            e
        }(eui.Skin)
          , n = function(t) {
            function e() {
                t.call(this),
                this.skinParts = [],
                this.elementsContent = [this._Label1_i()],
                this.states = [new eui.State("up",[]), new eui.State("down",[]), new eui.State("disabled",[])]
            }
            return __extends(e, t),
            e.prototype._Label1_i = function() {
                var t = new solar.Label;
                return t.bold = !0,
                t.fontFamily = "黑体",
                t.horizontalCenter = 0,
                t.size = 20,
                t.text = "注册账号",
                t.textColor = 4216408,
                t.verticalCenter = 0,
                t.wordWrap = !0,
                t
            }
            ,
            e
        }(eui.Skin)
          , i = function(t) {
            function e() {
                t.call(this),
                this.skinParts = [],
                this.elementsContent = [this._Label1_i()],
                this.states = [new eui.State("up",[]), new eui.State("down",[]), new eui.State("disabled",[])]
            }
            return __extends(e, t),
            e.prototype._Label1_i = function() {
                var t = new solar.Label;
                return t.bold = !0,
                t.fontFamily = "黑体",
                t.horizontalCenter = 0,
                t.size = 20,
                t.text = "一键注册",
                t.textColor = 4216408,
                t.verticalCenter = 0,
                t.wordWrap = !0,
                t
            }
            ,
            e
        }(eui.Skin)
          , o = function(t) {
            function e() {
                t.call(this),
                this.skinParts = ["textDisplay", "promptDisplay"],
                this.height = 50,
                this.elementsContent = [this._Image1_i(), this.textDisplay_i()],
                this.promptDisplay_i(),
                this.states = [new eui.State("normal",[]), new eui.State("disabled",[]), new eui.State("normalWithPrompt",[new eui.AddItems("promptDisplay","",1,"")]), new eui.State("disabledWithPrompt",[new eui.AddItems("promptDisplay","",1,"")])]
            }
            __extends(e, t);
            var n = e.prototype;
            return n._Image1_i = function() {
                var t = new eui.Image;
                return t.bottom = 0,
                t.left = 0,
                t.right = 0,
                t.scale9Grid = new egret.Rectangle(4,4,24,24),
                t.source = "",
                t.top = 0,
                t
            }
            ,
            n.textDisplay_i = function() {
                var t = new eui.EditableText;
                return this.textDisplay = t,
                t.left = "15",
                t.right = "15",
                t.size = 24,
                t.textAlign = "center",
                t.textColor = 16775400,
                t.verticalCenter = "0",
                t.percentWidth = 100,
                t
            }
            ,
            n.promptDisplay_i = function() {
                var t = new solar.Label;
                return this.promptDisplay = t,
                t.fontFamily = "黑体",
                t.height = 24,
                t.left = 15,
                t.right = 14,
                t.size = 24,
                t.textAlign = "center",
                t.textColor = 16775400,
                t.touchEnabled = !1,
                t.verticalCenter = 1,
                t.percentWidth = 100,
                t.wordWrap = !0,
                t
            }
            ,
            e
        }(eui.Skin)
          , r = function(t) {
            function e() {
                t.call(this),
                this.skinParts = ["textDisplay", "promptDisplay"],
                this.height = 50,
                this.elementsContent = [this._Image1_i(), this.textDisplay_i()],
                this.promptDisplay_i(),
                this.states = [new eui.State("normal",[]), new eui.State("disabled",[]), new eui.State("normalWithPrompt",[new eui.AddItems("promptDisplay","",1,"")]), new eui.State("disabledWithPrompt",[new eui.AddItems("promptDisplay","",1,"")])]
            }
            __extends(e, t);
            var n = e.prototype;
            return n._Image1_i = function() {
                var t = new eui.Image;
                return t.bottom = 0,
                t.left = 0,
                t.right = 0,
                t.scale9Grid = new egret.Rectangle(4,4,24,24),
                t.source = "",
                t.top = 0,
                t
            }
            ,
            n.textDisplay_i = function() {
                var t = new eui.EditableText;
                return this.textDisplay = t,
                t.left = "15",
                t.right = "15",
                t.size = 24,
                t.textAlign = "center",
                t.textColor = 16775400,
                t.verticalCenter = "0",
                t.percentWidth = 100,
                t
            }
            ,
            n.promptDisplay_i = function() {
                var t = new solar.Label;
                return this.promptDisplay = t,
                t.fontFamily = "黑体",
                t.height = 24,
                t.left = 15,
                t.right = 14,
                t.size = 24,
                t.textAlign = "center",
                t.textColor = 16775400,
                t.touchEnabled = !1,
                t.verticalCenter = 1,
                t.percentWidth = 100,
                t.wordWrap = !0,
                t
            }
            ,
            e
        }(eui.Skin)
          , a = function(t) {
            function e() {
                t.call(this),
                this.skinParts = [],
                this.elementsContent = [this._Image1_i()],
                this.states = [new eui.State("up",[]), new eui.State("down",[]), new eui.State("disabled",[])]
            }
            return __extends(e, t),
            e.prototype._Image1_i = function() {
                var t = new eui.Image;
                return t.percentHeight = 100,
                t.source = "btn_common_close_1_png",
                t.percentWidth = 100,
                t
            }
            ,
            e
        }(eui.Skin);
        function s() {
            t.call(this),
            this.skinParts = ["rect2", "btn_login", "btn_register", "btn_oneKey", "txt_1", "txt_2", "retBtn"],
            this.height = 1334,
            this.width = 750,
            this.elementsContent = [this.rect2_i(), this._Group3_i()],
            this.btn_oneKey_i(),
            this.retBtn_i(),
            this.states = [new eui.State("login",[]), new eui.State("register",[new eui.AddItems("btn_oneKey","_Group3",2,"_Group1"), new eui.AddItems("retBtn","_Group3",1,""), new eui.SetProperty("_Label1","text","账号注册"), new eui.SetProperty("btn_login","label","注 册"), new eui.SetProperty("btn_register","visible",!1)])]
        }
        var c = s.prototype;
        return c.rect2_i = function() {
            var t = new eui.Image;
            return this.rect2 = t,
            t.bottom = 0,
            t.left = 0,
            t.right = 0,
            t.source = "bg_common_rect_png",
            t.top = 0,
            t
        }
        ,
        c._Group3_i = function() {
            var t = new eui.Group;
            return this._Group3 = t,
            t.height = 392,
            t.horizontalCenter = 0,
            t.verticalCenter = 0,
            t.width = 506,
            t.elementsContent = [this._Image1_i(), this._Image2_i(), this._Label1_i(), this.btn_login_i(), this.btn_register_i(), this._Group1_i(), this._Group2_i(), this._Label2_i(), this._Label3_i()],
            t
        }
        ,
        c._Image1_i = function() {
            var t = new eui.Image;
            return t.horizontalCenter = 0,
            t.scale9Grid = new egret.Rectangle(80,80,345,237),
            t.source = "bg_common_panel_2_png",
            t.verticalCenter = 0,
            t
        }
        ,
        c._Image2_i = function() {
            var t = new eui.Image;
            return t.bottom = -39,
            t.horizontalCenter = .5,
            t.source = "img_common_bottom_1_png",
            t
        }
        ,
        c._Label1_i = function() {
            var t = new solar.Label;
            return this._Label1 = t,
            t.fontFamily = "楷体",
            t.horizontalCenter = 1,
            t.text = "账号登录",
            t.textColor = 1847093,
            t.top = 4,
            t.wordWrap = !0,
            t
        }
        ,
        c.btn_login_i = function() {
            var t = new solar.Button;
            return this.btn_login = t,
            t.horizontalCenter = 11,
            t.label = "登 录",
            t.verticalCenter = 126,
            t.skinName = e,
            t
        }
        ,
        c.btn_register_i = function() {
            var t = new solar.Button;
            return this.btn_register = t,
            t.bottom = 14,
            t.label = "Button",
            t.right = -30,
            t.skinName = n,
            t
        }
        ,
        c.btn_oneKey_i = function() {
            var t = new solar.Button;
            return this.btn_oneKey = t,
            t.bottom = 15,
            t.label = "Button",
            t.right = -34,
            t.skinName = i,
            t
        }
        ,
        c._Group1_i = function() {
            var t = new eui.Group;
            return this._Group1 = t,
            t.horizontalCenter = 50,
            t.verticalCenter = -61,
            t.elementsContent = [this._Image3_i(), this.txt_1_i()],
            t
        }
        ,
        c._Image3_i = function() {
            var t = new eui.Image;
            return t.height = 50,
            t.horizontalCenter = 0,
            t.scale9Grid = new egret.Rectangle(26,16,162,12),
            t.source = "img_common_chat_input_png",
            t.verticalCenter = 0,
            t.width = 310,
            t
        }
        ,
        c.txt_1_i = function() {
            var t = new solar.TextInput;
            return this.txt_1 = t,
            t.anchorOffsetX = 0,
            t.anchorOffsetY = 0,
            t.height = 40,
            t.horizontalCenter = 0,
            t.verticalCenter = 0,
            t.width = 300,
            t.skinName = o,
            t
        }
        ,
        c._Group2_i = function() {
            var t = new eui.Group;
            return t.horizontalCenter = 50,
            t.verticalCenter = 6,
            t.elementsContent = [this._Image4_i(), this.txt_2_i()],
            t
        }
        ,
        c._Image4_i = function() {
            var t = new eui.Image;
            return t.height = 50,
            t.horizontalCenter = 0,
            t.scale9Grid = new egret.Rectangle(26,16,162,12),
            t.source = "img_common_chat_input_png",
            t.verticalCenter = 0,
            t.width = 310,
            t
        }
        ,
        c.txt_2_i = function() {
            var t = new solar.TextInput;
            return this.txt_2 = t,
            t.anchorOffsetX = 0,
            t.anchorOffsetY = 0,
            t.height = 40,
            t.horizontalCenter = -2,
            t.verticalCenter = 0,
            t.width = 300,
            t.skinName = r,
            t
        }
        ,
        c._Label2_i = function() {
            var t = new solar.Label;
            return t.fontFamily = "黑体",
            t.horizontalCenter = -157,
            t.size = 24,
            t.text = "账号：",
            t.textColor = 4216408,
            t.verticalCenter = -45,
            t.wordWrap = !0,
            t
        }
        ,
        c._Label3_i = function() {
            var t = new solar.Label;
            return t.fontFamily = "黑体",
            t.horizontalCenter = -157,
            t.size = 24,
            t.text = "密码：",
            t.textColor = 4216408,
            t.verticalCenter = 25,
            t.wordWrap = !0,
            t
        }
        ,
        c.retBtn_i = function() {
            var t = new solar.Button;
            return this.retBtn = t,
            t.right = -107,
            t.top = -164,
            t.skinName = a,
            t
        }
        ,
        s
    }(eui.Skin), h = n(154), l = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, p = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    };
    function f(t) {
        var e = Object(o.getOption)(t);
        return e || Object(o.getLocalStorage)().getString(t, "")
    }
    function d(t, e) {
        Object(o.getLocalStorage)().setString("guestName", t),
        Object(o.getLocalStorage)().setString("guestPass", e)
    }
    var b = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , g = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.skinName = u,
            e
        }
        return b(e, t),
        e.prototype.onReady = function() {
            this.setState("login");
            var t = {
                uName: f("guestName"),
                uPass: f("guestPass")
            };
            this.txt_1.text = t.uName,
            this.txt_2.text = t.uPass,
            this.tap("btn_oneKey", this.oneReg, this),
            this.tap("btn_login", this.onLogin, this),
            this.tap("btn_register", this.onReg, this),
            this.tap("retBtn", this.retLogin, this)
        }
        ,
        e.prototype.setResolve = function(t) {
            this._resolve = t
        }
        ,
        e.prototype.onLogin = function() {
            var t = this.txt_1.text.trim()
              , e = this.txt_2.text.trim();
            t && e ? "register" == this.currentState ? this.doResolve(function(t, e) {
                return l(this, void 0, void 0, (function() {
                    var n;
                    return p(this, (function(i) {
                        switch (i.label) {
                        case 0:
                            return [4, Object(o.request)({
                                url: Object(h.a)().getUrl("signUp.php"),
                                query: {
                                    uName: t,
                                    uPass: e
                                }
                            })];
                        case 1:
                            return (n = i.sent()).uName && n.uPass ? (d(t, e),
                            [2, {
                                uName: t,
                                uPass: e
                            }]) : [2]
                        }
                    }
                    ))
                }
                ))
            }(t, e)) : this.doResolve({
                uName: t,
                uPass: e
            }) : Object(o.tooltip)(Object(o.tr)("common@needAccount"))
        }
        ,
        e.prototype.retLogin = function() {
            this.setState("login")
        }
        ,
        e.prototype.onReg = function() {
            this.setState("register")
        }
        ,
        e.prototype.oneReg = function() {
            this.doResolve(function(t) {
                return void 0 === t && (t = !1),
                l(this, void 0, void 0, (function() {
                    var e, n, i;
                    return p(this, (function(r) {
                        switch (r.label) {
                        case 0:
                            return e = f("guestName"),
                            n = f("guestPass"),
                            "" == e || "" == n || t ? [4, Object(o.request)({
                                url: Object(h.a)().getUrl("signUp.php"),
                                query: {
                                    action: "fast"
                                }
                            })] : [3, 2];
                        case 1:
                            i = r.sent(),
                            e = i.uName,
                            n = i.uPass,
                            r.label = 2;
                        case 2:
                            return e && n ? (d(e, n),
                            [2, {
                                uName: e,
                                uPass: n
                            }]) : [2]
                        }
                    }
                    ))
                }
                ))
            }(!0))
        }
        ,
        e.prototype.doResolve = function(t) {
            d(t.uName, t.uPass),
            this._resolve(t),
            o.UI.remove(this)
        }
        ,
        e.show = function() {
            return new Promise((function(t) {
                o.UI.remove(e),
                o.UI.openBox(new e).setResolve(t)
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
      , _ = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , m = function(t, e, n, i) {
        var o, r = arguments.length, a = r < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
            a = Reflect.decorate(t, e, n, i);
        else
            for (var s = t.length - 1; s >= 0; s--)
                (o = t[s]) && (a = (r < 3 ? o(a) : r > 3 ? o(e, n, a) : o(e, n)) || a);
        return r > 3 && a && Object.defineProperty(e, n, a),
        a
    }
      , y = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.eventData = {
                guideDone: "guideComplete",
                server: "serverList",
                clickServerBtn: "clickServerBtn",
                createRole: "indexCreate",
                createRoleOk: "clickCreateRole",
                initBegin: "indexEnter",
                enterGame: "enterGame"
            },
            e
        }
        return _(e, t),
        e.prototype.init = function(e) {
            var n = this;
            t.prototype.init.call(this, e),
            console.log("init bearjoy"),
            "bearjoy" == this.name && egret.Capabilities.isMobile,
            this.regComponent("kefu", {
                support: !0,
                open: function() {
                    window.KeFuPanel.show()
                },
                getText: function() {
                    return ""
                }
            }),
            this.regComponent("phase", {
                phase: function(t) {
                    n.tagEvent(t)
                }
            }),
            this.setConstant("query_balance", (function(t) {
                return new Promise((function(t) {
                    Object(o.getOption)("modoBalance") ? t(Object(o.getOption)("modoBalance")) : t(0)
                }
                ))
            }
            ))
        }
        ,
        e.prototype.tagEvent = function(t) {
            this.eventData[t] && console.log("统计打点事件 ===>>>" + this.eventData[t])
        }
        ,
        e.prototype.login = function(t) {
            return g.show()
        }
        ,
        Object.defineProperty(e.prototype, "loginType", {
            get: function() {
                return "youke"
            },
            enumerable: !0,
            configurable: !0
        }),
        e = m([Object(o.regPlatform)("bearjoy union")], e)
    }(c);
    function v(t) {
        return new Promise((function(e, n) {
            var i = document.createElement("script");
            i.src = t,
            i.onload = function() {
                e()
            }
            ,
            i.onerror = function(t) {
                n(t)
            }
            ,
            document.head.appendChild(i)
        }
        ))
    }
    var O, j = n(117), w = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), x = function(t, e, n, i) {
        var o, r = arguments.length, a = r < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
            a = Reflect.decorate(t, e, n, i);
        else
            for (var s = t.length - 1; s >= 0; s--)
                (o = t[s]) && (a = (r < 3 ? o(a) : r > 3 ? o(e, n, a) : o(e, n)) || a);
        return r > 3 && a && Object.defineProperty(e, n, a),
        a
    }, k = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, I = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, P = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.isNew = !1,
            e
        }
        return w(e, t),
        e.prototype.init = function(e) {
            return k(this, void 0, void 0, (function() {
                var n;
                return I(this, (function(i) {
                    switch (i.label) {
                    case 0:
                        return [4, t.prototype.init.call(this, e)];
                    case 1:
                        return n = i.sent(),
                        [4, v("https://weixinhlmj.37gjw.com/mqim/game/v3.3/ISV.min.js")];
                    case 2:
                        return i.sent(),
                        this,
                        this.regComponent("phase", {
                            phase: function(t) {}
                        }),
                        this.regComponent("kefu", {
                            support: !0,
                            open: function() {
                                window.KeFuPanel.show()
                            },
                            getText: function() {
                                return ""
                            }
                        }),
                        [2, n]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.login = function(t) {
            return k(this, void 0, void 0, (function() {
                var t;
                return I(this, (function(e) {
                    switch (e.label) {
                    case 0:
                        return [4, new Promise((function(t) {
                            AH_mqim_isv.get_user_info((function(e, n) {
                                t(e)
                            }
                            ))
                        }
                        ))];
                    case 1:
                        return t = e.sent(),
                        console.log("isv_user_info"),
                        console.log(t),
                        [2, {
                            uid: t.isv_uid,
                            name: "noHas",
                            token: (new o.md5).hex_md5(t.isv_uid + "D0CPbwkahuRSByIg")
                        }]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.payment = function(t) {
            return k(this, void 0, void 0, (function() {
                var e;
                return I(this, (function(n) {
                    switch (n.label) {
                    case 0:
                        return [4, Object(o.getSocket)().request({
                            route: "pay.f",
                            p: {
                                id: t.id,
                                channel: this.name
                            }
                        })];
                    case 1:
                        return (e = n.sent()).payData.servername = Object(j.j)(),
                        AH_mqim_isv.consume_laoyoubi(e.payData.isv_uid, e.payData.game_id, e.payData.shop_id, e.payData.isv_order_info, (function(t, e) {
                            t.laoyoubi,
                            t.order_id
                        }
                        )),
                        [2, {
                            awds: []
                        }]
                    }
                }
                ))
            }
            ))
        }
        ,
        e = x([Object(o.regPlatform)("mengqi")], e)
    }(a), C = n(113), S = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), R = function(t, e, n, i) {
        var o, r = arguments.length, a = r < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
            a = Reflect.decorate(t, e, n, i);
        else
            for (var s = t.length - 1; s >= 0; s--)
                (o = t[s]) && (a = (r < 3 ? o(a) : r > 3 ? o(e, n, a) : o(e, n)) || a);
        return r > 3 && a && Object.defineProperty(e, n, a),
        a
    }, T = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, L = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    };
    function A(t, e) {
        return console.log("modo===>>>" + t),
        new Promise((function(n, i) {
            modosdk[t](e, (function(t) {
                1 == t.status ? n(t) : i("modo sdk: " + t.status)
            }
            ))
        }
        ))
    }
    !function(t) {
        t[t.accountCreate = 1] = "accountCreate",
        t[t.accountLogin = 2] = "accountLogin",
        t[t.roleCreate = 3] = "roleCreate",
        t[t.roleLogin = 4] = "roleLogin"
    }(O || (O = {}));
    var M = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.isNew = !1,
            e.eventData = {
                guideDone: "guideComplete",
                server: "serverList",
                clickServerBtn: "clickServerBtn",
                createRole: "indexCreate",
                createRoleOk: "clickCreateRole",
                initBegin: "indexEnter",
                enterGame: "enterGame"
            },
            e
        }
        return S(e, t),
        e.prototype.init = function(e) {
            return T(this, void 0, void 0, (function() {
                var n, i, r, a, s, c = this;
                return L(this, (function(u) {
                    switch (u.label) {
                    case 0:
                        return [4, t.prototype.init.call(this, e)];
                    case 1:
                        return n = u.sent(),
                        [4, v("https://sdk.xunlegame.com/native/v1.0.5/native.js")];
                    case 2:
                        return u.sent(),
                        [4, v("https://sdk.xunlegame.com/xunlegame/v3.0.0/modosdk.js")];
                    case 3:
                        return u.sent(),
                        this.setConstant("isHasBg", "true"),
                        i = this,
                        o.res.setResAlias("icon_logo_png", "icon_logo_1_png"),
                        (o.is.ios() || "modoIos" == this.name || "modoIos2" == this.name) && o.res.setResAlias("bg_login_jpg", "bg_login_1_jpg"),
                        mo.NT.doJsReady(),
                        this.regComponent("phase", {
                            phase: function(t) {
                                "initBegin" == t ? (mo.NT.closeLoading(),
                                c.tagEvent(t)) : "createRoleOk" == t ? (i.isNew = !0,
                                console.log("createRoleOk>>>" + i.isNew)) : "start" == t ? i.stat(O.roleLogin) : "accountLogin" == t ? i.stat(O.accountLogin) : "accountCreate" == t ? i.stat(O.accountCreate) : c.tagEvent(t)
                            }
                        }),
                        [4, A("init", {})];
                    case 4:
                        return u.sent(),
                        [4, mo.NT.runProgress({
                            tipText: "资源加载中，请耐心等待...",
                            proText: "",
                            total: 100,
                            cur: 0
                        })];
                    case 5:
                        return u.sent(),
                        this.regComponent("kefu", {
                            open: function() {
                                A("openCustService", {})
                            },
                            getText: function() {
                                return ""
                            },
                            support: !0
                        }),
                        r = modosdk.has_share(),
                        console.log("has_share=>" + r),
                        this.setConstant("has_share", r),
                        a = modosdk.has_bindPhone(),
                        console.log("has_bindPhone=>" + a),
                        this.setConstant("has_bindPhone", a),
                        s = modosdk.has_certification(),
                        console.log("has_certification=>" + s),
                        this.setConstant("has_certification", s),
                        this.setConstant("query_bindPhone", (function() {
                            return new Promise((function(t) {
                                modosdk.query_bindPhone({}, (function(e) {
                                    1 == e.status && console.log("绑定手机号===>>>" + e.phoneNumber),
                                    console.log("isBindPhone===>>>" + e.status),
                                    t(e)
                                }
                                ))
                            }
                            ))
                        }
                        )),
                        this.setConstant("query_certification", (function() {
                            return new Promise((function(t) {
                                modosdk.query_certification({}, (function(e) {
                                    console.log("isBindCertification===>>> " + e.status),
                                    t(e)
                                }
                                ))
                            }
                            ))
                        }
                        )),
                        this.regComponent("clipboard", {
                            copy: function(t, e) {
                                var n = {};
                                n.data = t.toString(),
                                A("setClipboardData", n).then((function(t) {
                                    1 == t.status && e("succes")
                                }
                                ), this)
                            },
                            get: function() {
                                return i.getInfo("getPasteboard")
                            }
                        }),
                        Object(o.on)("user_lv_change", this.onLvChange, this),
                        [2, n]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.onLvChange = function() {
            var t = {}
              , e = Object(C.a)("lv");
            t.level = e,
            modosdk.setRoleLevel(t)
        }
        ,
        e.prototype.tagEvent = function(t) {
            this.eventData[t] && modosdk.tagEvent(this.eventData[t])
        }
        ,
        e.prototype.stat = function(t) {
            var e = Object(o.getLocalStorage)().getString("accountCreateId", "");
            if (console.log("modoType===>>>" + t),
            t == O.accountCreate)
                (n = {}).accountid = e,
                modosdk.accountCreate(n);
            else if (t == O.accountLogin) {
                var n;
                (n = {}).accountid = e,
                modosdk.accountLogin(n)
            } else if (t == O.roleLogin) {
                var i = {}
                  , r = Object(C.a)();
                if (!r)
                    return;
                i.serverid = r.sId,
                i.serverindex = r.sId,
                i.servername = Object(j.j)(),
                i.rolename = r.uNa,
                i.roleid = r.uId,
                i.accountid = e,
                console.log("createRoleOk>>>" + this.isNew),
                this.isNew && modosdk.roleCreate(i),
                t == O.roleLogin && (i.rolelevel = r.lv,
                i.vip = 0,
                modosdk.roleLogin(i))
            }
        }
        ,
        e.prototype.share = function(t) {
            var e = this;
            return new Promise((function(n) {
                return T(e, void 0, void 0, (function() {
                    var e;
                    return L(this, (function(i) {
                        return console.log(t),
                        modosdk.has_share() && ((e = {}).ext = {
                            sharefrom: Object(C.a)("uId")
                        },
                        modosdk.share(e, (function(t) {
                            1 == t.status ? (console.log("分享成功"),
                            setTimeout((function() {
                                Object(o.put)("modoxyx_share_success"),
                                n()
                            }
                            ), 2500)) : (console.log("分享失败"),
                            n())
                        }
                        ), this)),
                        [2]
                    }
                    ))
                }
                ))
            }
            ))
        }
        ,
        e.prototype.login = function(t) {
            return A("login", {}).then((function(t) {
                return Promise.resolve({
                    token: t.token
                })
            }
            ))
        }
        ,
        e.prototype.payment = function(t) {
            return T(this, void 0, void 0, (function() {
                var e;
                return L(this, (function(n) {
                    switch (n.label) {
                    case 0:
                        return [4, Object(o.getSocket)().request({
                            route: "pay.f",
                            p: {
                                id: t.id,
                                channel: this.name
                            }
                        })];
                    case 1:
                        return (e = n.sent()).payData.servername = Object(j.j)(),
                        A("pay", e.payData),
                        [2, {
                            awds: []
                        }]
                    }
                }
                ))
            }
            ))
        }
        ,
        e = R([Object(o.regPlatform)("modo modoIos modoIos2")], e)
    }(a);
    function N() {
        return ("local" == Object(o.getPlatform)().version || "dev" == Object(o.getPlatform)().version) && !Object(o.getOption)("noyouke")
    }
    var B, E = n(107), D = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), G = function(t, e, n, i) {
        var o, r = arguments.length, a = r < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
            a = Reflect.decorate(t, e, n, i);
        else
            for (var s = t.length - 1; s >= 0; s--)
                (o = t[s]) && (a = (r < 3 ? o(a) : r > 3 ? o(e, n, a) : o(e, n)) || a);
        return r > 3 && a && Object.defineProperty(e, n, a),
        a
    }, V = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, U = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    };
    !function(t) {
        t[t.create = 1] = "create",
        t[t.guide = 2] = "guide",
        t[t.lv = 3] = "lv",
        t[t.server = 10] = "server",
        t[t.start = 11] = "start",
        t[t.createRole = 12] = "createRole",
        t[t.createRoleOk = 13] = "createRoleOk"
    }(B || (B = {}));
    var H = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return D(e, t),
        e.prototype.init = function(e) {
            return V(this, void 0, void 0, (function() {
                var n;
                return U(this, (function(i) {
                    switch (i.label) {
                    case 0:
                        return t.prototype.init.call(this, e),
                        [4, v("gcathk" == Object(o.getPlatform)().name ? "https://g.hkpctimes.com/js/open.js?v=20181221001" : "https://g.gm88.com/js/open.js?v=20190415001")];
                    case 1:
                        return i.sent(),
                        n = this,
                        this.regComponent("kefu", {
                            open: function() {
                                OPEN.kefu()
                            },
                            getText: function() {
                                return ""
                            },
                            support: "sipu" != n.name
                        }),
                        "gcatmlHtml" != this.name || egret.Capabilities.isMobile || o.display.getStage().then((function(t) {
                            t.setContentSize(750, 1334),
                            t.scaleMode = egret.StageScaleMode.SHOW_ALL,
                            t.orientation = egret.OrientationMode.AUTO
                        }
                        )),
                        this.setConstant("tokenExpire", (function() {
                            OPEN.logout()
                        }
                        )),
                        this.regComponent("phase", {
                            phase: function(t) {
                                console.log("====event===="),
                                console.log(t),
                                "initBegin" == t && OPEN.loadComplete ? OPEN.loadComplete() : "guideDone" == t ? n.stat(B.guide) : "server" == t ? n.stat(B.server) : "createRole" == t ? n.stat(B.createRole) : "createRoleOk" == t ? n.stat(B.createRoleOk) : "start" == t ? n.stat(B.start) : "create" == t && n.stat(B.create)
                            }
                        }),
                        Object(o.on)("user_lv_change", this.onLvChange, this),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.onLvChange = function() {
            this.stat(B.lv)
        }
        ,
        Object.defineProperty(e.prototype, "loginType", {
            get: function() {
                return N() ? "youke" : this.name
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.stat = function(t) {
            var e = t
              , n = ""
              , i = Object(C.a)("");
            i && (n = JSON.stringify({
                roleName: i.uNa,
                roleServer: i.sId,
                roleLevel: i.lv,
                roleId: i.uId
            }));
            var r = o.is.ios() ? "2895" : "2892";
            this.gcatId && (r = this.gcatId),
            OPEN.spot(r, e, n, "")
        }
        ,
        Object.defineProperty(e.prototype, "gcatId", {
            get: function() {
                return Object(o.getOption)("gcatId") || ""
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.login = function() {
            return V(this, void 0, void 0, (function() {
                return U(this, (function(t) {
                    return N() ? [2, g.show()] : [2, {
                        accessToken: Object(o.getOption)("accessToken"),
                        gcatId: this.gcatId
                    }]
                }
                ))
            }
            ))
        }
        ,
        e.prototype.payment = function(t) {
            return V(this, void 0, void 0, (function() {
                var e, n, i, r, a, s;
                return U(this, (function(c) {
                    switch (c.label) {
                    case 0:
                        return "gcat2" != (e = this.name) && "gcat" != e || (e = o.is.ios() ? "gcat2" : "gcat"),
                        [4, Object(E.d)("pay.f", {
                            id: t.id,
                            gcatId: this.gcatId,
                            channel: e
                        })];
                    case 1:
                        return (n = c.sent()) ? (i = n.payData,
                        console.log("PAY:" + JSON.stringify(n)),
                        r = Object(o.getConfig)("recharge_json")[t.id],
                        a = Object(C.a)(""),
                        s = JSON.stringify({
                            roleId: a.uId,
                            roleName: a.uNa,
                            roleServer: a.sId,
                            roleLevel: a.lv
                        }),
                        OPEN.goToPay(i.appId, t.id, r.name, i.price, i.extra, i.sign, i.notifyUrl, s),
                        [2, {
                            awds: []
                        }]) : [2, {
                            awds: []
                        }]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.share = function(t) {
            return V(this, void 0, void 0, (function() {
                return U(this, (function(t) {
                    return OPEN.share(),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e = G([Object(o.regPlatform)("gcat gcat2 gcatxyx huixuan tanwan sipu kaiying gcathk gcatmlHtml")], e)
    }(c);
    window.CatPlatform = H;
    var F, z = n(112), q = n(137), W = n(168), X = n(158), Y = n(173), J = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), $ = function() {
        return ($ = Object.assign || function(t) {
            for (var e, n = 1, i = arguments.length; n < i; n++)
                for (var o in e = arguments[n])
                    Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
            return t
        }
        ).apply(this, arguments)
    }, K = function(t, e, n, i) {
        var o, r = arguments.length, a = r < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
            a = Reflect.decorate(t, e, n, i);
        else
            for (var s = t.length - 1; s >= 0; s--)
                (o = t[s]) && (a = (r < 3 ? o(a) : r > 3 ? o(e, n, a) : o(e, n)) || a);
        return r > 3 && a && Object.defineProperty(e, n, a),
        a
    }, Q = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, Z = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    };
    !function(t) {
        t[t.create = 1] = "create",
        t[t.finishGuide = 2] = "finishGuide",
        t[t.lvChange = 3] = "lvChange",
        t[t.roleLogin = 4] = "roleLogin"
    }(F || (F = {}));
    var tt = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.canBind = !1,
            e.isAdvert = !1,
            e.isCommunity = !0,
            e.isBindAccount = !0,
            e.getPurchaseNum = 0,
            e.language = "zh_hant",
            e._supportLans = ["zh_hant", "zh_cn", "en_us", "ko_kr", "ja_jp", "vi_vn", "ta_ta"],
            e.isNew = !1,
            e
        }
        return J(e, t),
        e.prototype.login = function() {
            var t = this;
            if (N())
                return g.show();
            if (o.is.ios() || Object(o.getOption)("accessToken")) {
                var e = Object(o.getOption)("accessToken");
                return Promise.resolve({
                    accessToken: e,
                    gcatId: this.gcatId
                })
            }
            return new Promise((function(e) {
                return Q(t, void 0, void 0, (function() {
                    return Z(this, (function(t) {
                        return this._loginResolve = e,
                        this.call("doGetToken", ""),
                        [2]
                    }
                    ))
                }
                ))
            }
            ))
        }
        ,
        Object.defineProperty(e.prototype, "loginType", {
            get: function() {
                return N() ? "youke" : this.name
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.init = function(e) {
            return Q(this, void 0, void 0, (function() {
                var n, i, r = this;
                return Z(this, (function(a) {
                    switch (a.label) {
                    case 0:
                        return [4, t.prototype.init.call(this, e)];
                    case 1:
                        return n = a.sent(),
                        Object(o.on)("user_lv_change", this.onLvChange, this),
                        "gcatAndroid2" == this.name && o.res.setResAlias("icon_logo_png", "icon_logo_gcat_png"),
                        i = this,
                        this.regComponent("phase", {
                            phase: function(t) {
                                if ("initBegin" == t)
                                    r.call("doCancelLoading");
                                else if ("createRoleOk" == t)
                                    i.isNew = !0;
                                else if ("start" == t)
                                    r.stat(F.roleLogin),
                                    i.isNew && r.stat(F.create);
                                else if ("guideDone" == t)
                                    r.stat(F.finishGuide);
                                else if ("doBind" == t)
                                    r.call("doBind");
                                else if ("goCommunity" == t) {
                                    var e = o.cache.get("open_url");
                                    r.call("openURL", e)
                                } else
                                    "doLanguage" == t ? r.call("doLanguage") : "doQuery" == t ? r.call("doQuery") : "doReLogin" == t && r.call("doReLogin")
                            }
                        }),
                        this.regComponent("kefu", {
                            open: function() {
                                window.KeFuView.show()
                            },
                            getText: function() {
                                return ""
                            },
                            support: "tanwanAnd1" == Object(o.getPlatform)().name || "tanwanIos1" == Object(o.getPlatform)().name
                        }),
                        this.regComponent("clipboard", {
                            copy: function(t, e) {
                                i.call("setPasteboard", t),
                                e && e("succes")
                            },
                            get: function() {
                                return i.getInfo("getPasteboard")
                            }
                        }),
                        egret.ExternalInterface.addCallback("doGetTokenDone", (function(t) {
                            r._loginResolve && r._loginResolve({
                                accessToken: t,
                                gcatId: r.gcatId
                            })
                        }
                        )),
                        this.setConstant("colletSpot", (function(t) {
                            "view_loaded" != t && "complete_registration" != t && "create_role" != t && "nextday_left" != t && "thirdday_left" != t && "weekday_left" != t && "uninstall" != t && "initiated_checkout" != t && "purchase" != t && "first_open" != t && r.call("doEventInfo", t)
                        }
                        )),
                        this.setConstant("tokenExpire", (function() {
                            r.call("doLogout")
                        }
                        )),
                        this.setConstant("colletSpot", (function(t) {
                            return r.call("doEventInfo", t)
                        }
                        )),
                        Object(q.f)() ? this.setConstant("shareType", "fb") : Object(z.n)() && this.setConstant("shareType", "fly"),
                        egret.ExternalInterface.addCallback("shareDone", (function(t) {
                            var e = JSON.parse(t);
                            "number" == typeof e ? "1" == t && r._shareResolve ? r._shareResolve() : "1" != t && r._shareReject && r._shareReject(t) : "1" == e.status && r._shareResolve ? r._shareResolve() : r._shareReject(t)
                        }
                        )),
                        egret.ExternalInterface.addCallback("doQueryDone", (function(t) {
                            var e;
                            "0" == (e = "gcathkAndroid1" == Object(o.getPlatform)().name || "gcatenAnd" == Object(o.getPlatform)().name ? t : "gcathkIos1" == Object(o.getPlatform)().name || "gcatenIos" == Object(o.getPlatform)().name ? JSON.parse(t).status : "0") ? r.canBind = !1 : "1" == e && (r.canBind = !0),
                            Object(o.put)("accountBindResult")
                        }
                        )),
                        egret.ExternalInterface.addCallback("doBindDone", (function(t) {
                            var e;
                            "gcathkAndroid1" == Object(o.getPlatform)().name ? e = t : "gcathkIos1" == Object(o.getPlatform)().name && (e = JSON.parse(t).status),
                            "1" == e ? (r.canBind = !0,
                            Object(o.put)("accountBindSuccess")) : "0" == e && Object(o.tooltip)(Object(o.tr)("main@bindFail"))
                        }
                        )),
                        egret.ExternalInterface.addCallback("doPurchaseInfoDone", (function(t) {
                            var e = JSON.parse(t);
                            e && e.productId && r._payResolve({
                                result: 0
                            })
                        }
                        )),
                        egret.ExternalInterface.addCallback("doPurchaseListDone", (function(t) {
                            var e = JSON.parse(t);
                            console.log("请求货币" + t),
                            e.status ? "gcatenIos" == Object(o.getPlatform)().name || "gcathkIos1" == Object(o.getPlatform)().name ? o.cache.set("gcaten_recharge_price", e.puchaselist) : (o.cache.set("gcaten_recharge_price", JSON.parse(e.purchaselist)),
                            console.log(JSON.parse(e.purchaselist))) : "0" == e.errorno && r.getPurchaseNum < 4 && (r.call("doPurchaseList"),
                            r.getPurchaseNum++),
                            e.currency_symbol ? (console.log("货币三字码：" + e.currency_symbol),
                            o.cache.set("gcat_pay_currency", e.currency_symbol)) : console.log("货币三字码不存在")
                        }
                        )),
                        egret.ExternalInterface.addCallback("doShareDone", (function(t) {
                            t && (console.log("分享结果测试:" + JSON.stringify(t)),
                            Object(o.put)("do_share_done", t))
                        }
                        )),
                        egret.ExternalInterface.addCallback("doVersionDone", (function(t) {
                            var e = JSON.parse(t);
                            o.cache.set("get_ios_version", JSON.parse(e.version))
                        }
                        )),
                        egret.ExternalInterface.addCallback("doTimeZoneDone", (function(t) {
                            var e = egret.localStorage.getItem("timeZone");
                            egret.localStorage.setItem("timeZoneNum", t),
                            e || (Number(t) >= 0 ? egret.localStorage.setItem("timeZone", "east") : egret.localStorage.setItem("timeZone", "west"))
                        }
                        )),
                        egret.ExternalInterface.addCallback("doTranslationDone", (function(t) {
                            var e = JSON.parse(t);
                            if (e && Number(e.status)) {
                                var n = o.cache.get("chat_translate");
                                n && 0 != n.length || (n = []),
                                n.push(e),
                                o.cache.set("chat_translate", n),
                                Object(o.put)("chat_translate_refresh")
                            } else
                                console.log("翻译失败")
                        }
                        )),
                        egret.ExternalInterface.addCallback("doTranslationDoneText", (function(t) {
                            var e = JSON.parse(t);
                            if (e && Number(e.status)) {
                                var n = o.cache.get("chat_translate");
                                n && 0 != n.length || (n = []),
                                n.push(e),
                                o.cache.set("chat_translate", n),
                                Object(o.put)("chat_translate_refresh")
                            } else
                                console.log("翻译失败")
                        }
                        )),
                        egret.ExternalInterface.addCallback("doGetVersionDone", (function(t) {
                            var e = Number(t);
                            console.log("安卓版本号:" + e),
                            o.cache.set("get_android_version", e)
                        }
                        )),
                        egret.ExternalInterface.addCallback("doAdShowInfoDone", (function(t) {
                            var e = Number(Object(q.c)());
                            r.call("doAdShowInfo", JSON.stringify(e))
                        }
                        )),
                        egret.ExternalInterface.addCallback("doShowNoLimitPayDone", (function(t) {
                            var e = JSON.parse(t);
                            console.log("任意金额支付功能:" + t),
                            o.cache.set("anyPay_isOpen", e.status)
                        }
                        )),
                        egret.ExternalInterface.addCallback("doOnBackPressedDone", (function(t) {
                            if (!W.a.isGuiding) {
                                var e = o.UI.getUIComponentAll(o.ComponentType.Box);
                                if (e.length > 0) {
                                    var n = e.some((function(t) {
                                        return "CreateSectSkin" == t.skinName
                                    }
                                    ))
                                      , i = e.some((function(t) {
                                        return "AllGodsMainSkin" == t.skinName || "FishingSkin" == t.skinName || "FightConfirmSkin" == t.skinName || "XunFangEvent1Skin" == t.skinName || "FightSkin" == t.skinName || "JiuyouMapSkin" == t.skinName || "GodHonorEnemySelectSkin" == t.skinName || "SwordFlyPlaySkin" == t.skinName || "ActivityBountyPlaySkin" == t.skinName || "XunFangMainSkin" == t.skinName || "RechargeRouletteSkin" == t.skinName || "ActivityBountyPlaySkin" == t.skinName || "BigGiftSkin" == t.skinName || "SkyBuildingDetailSkin" == t.skinName || "NewSwordFlyPlaySkin" == t.skinName
                                    }
                                    ));
                                    if (n)
                                        for (var r in e)
                                            Object(o.put)("common.close", null, null, e[r]);
                                    else
                                        i ? Object(o.tooltip)(Object(o.tr)("main@doback")) : Object(o.put)("common.close", null, null, e[e.length - 1])
                                } else
                                    egret.ExternalInterface.call("doOnBackPressed", "")
                            }
                        }
                        )),
                        egret.ExternalInterface.addCallback("doLanguageDone", (function(t) {
                            var e = JSON.parse(t)
                              , n = "en_us";
                            if (o.cache.set("mobileLang", e.language),
                            "zh" == e.language.substring(0, 2))
                                if (e.language.indexOf("zh-Hant") >= 0)
                                    n = "zh_hant";
                                else
                                    switch (e.language) {
                                    case "zh-Hans-CN":
                                    case "zh-CN":
                                        n = "zh_cn";
                                        break;
                                    case "zh-MO":
                                    case "zh-HK":
                                    case "zh-TW":
                                    case "zh-SG":
                                    case "zh-MY":
                                        n = "zh_hant";
                                        break;
                                    default:
                                        n = "zh_hant"
                                    }
                            else
                                switch (e.language.substring(0, 2)) {
                                case "ko":
                                    n = "ko_kr";
                                    break;
                                case "en":
                                    n = "en_us";
                                    break;
                                case "ja":
                                    n = "ja_jp";
                                    break;
                                case "vi":
                                    n = "vi_vn";
                                    break;
                                case "th":
                                    n = "ta_ta";
                                    break;
                                default:
                                    n = "en_us"
                                }
                            -1 == r._supportLans.indexOf(n) && (n = "en_us"),
                            n && (r.language = n),
                            Object(Y.a)() && (n = "zh_hant");
                            var i = Object(q.d)();
                            console.log("当前语言:" + i),
                            i || r.onChangeLanguage(n)
                        }
                        )),
                        i.call("doLanguage"),
                        Object(q.i)() && o.res.setResAlias("bg_login_jpg", "bg_login_2_jpg"),
                        i.call("doPurchaseList"),
                        i.call("doTimeZone"),
                        "gcathkIos1" == Object(o.getPlatform)().name || "gcatenIos" == Object(o.getPlatform)().name ? i.call("doVersion") : (i.call("doGetVersion"),
                        i.call("doShowNoLimitPay")),
                        [2, n]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.onChangeLanguage = function(t) {
            egret.localStorage.setItem("selectLocate", t),
            Object(o.setLocale)(t),
            Object(o.getPlatComp)("reload").reload()
        }
        ,
        e.prototype.onLvChange = function() {
            this.stat(F.lvChange)
        }
        ,
        e.prototype.stat = function(t) {
            var e = Object(C.a)()
              , n = {
                spotType: t,
                extra: {
                    roleName: e.uNa,
                    roleServer: e.sId,
                    roleLevel: e.lv,
                    roleId: e.uId
                }
            };
            if ("tanwanIos1" == this.name) {
                var i = n.extra;
                i.roleServer = e.sId + "",
                i.serverName = Object(j.j)()
            }
            this.call("doSpot", JSON.stringify(n))
        }
        ,
        Object.defineProperty(e.prototype, "gcatId", {
            get: function() {
                return Object(o.getOption)("gcatId") || ""
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.payment = function(t) {
            return Q(this, void 0, void 0, (function() {
                var e, n, i, r, a, s, c = this;
                return Z(this, (function(u) {
                    switch (u.label) {
                    case 0:
                        return console.log("payData:" + JSON.stringify(t)),
                        console.log("name:" + this.name),
                        e = {},
                        e = t.money ? {
                            id: t.id,
                            gcatId: this.gcatId,
                            channel: this.name,
                            money: t.money
                        } : {
                            id: t.id,
                            gcatId: this.gcatId,
                            channel: this.name
                        },
                        n = o.cache.get("mobileLang"),
                        this._isWebPay = Object(z.n)() || Object(o.getOption)("isWebPay"),
                        Object(X.c)() && this._isWebPay && (e = $({
                            webPay: 1,
                            lang: n || Object(o.getOption)("locate")
                        }, e)),
                        [4, Object(E.d)("pay.f", e)];
                    case 1:
                        return (i = u.sent()) && i.payData ? (console.log("PAY:" + JSON.stringify(i)),
                        r = Object(C.a)(""),
                        a = $({
                            roleId: r.uId,
                            roleName: r.uNa,
                            serverId: r.sId,
                            serverName: Object(j.j)()
                        }, i.payData),
                        this._isWebPay ? (s = JSON.stringify({
                            code: "6",
                            info: i.payData.channel_order_info.pay_url,
                            pageid: ""
                        }),
                        [2, new Promise((function(t) {
                            c.call("openPlatform", s),
                            t({
                                awds: []
                            })
                        }
                        ))]) : [2, new Promise((function(t) {
                            c._payResolve = t,
                            c.call("doPay", JSON.stringify(a))
                        }
                        ))]) : [2, {
                            awds: []
                        }]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.share = function(t) {
            return Q(this, void 0, void 0, (function() {
                var e, n, i = this;
                return Z(this, (function(o) {
                    return e = Object(z.d)("inviteCode").self,
                    "photo" == (n = $({
                        shareName: "每日分享",
                        shareId: 1,
                        shareID: 1,
                        uName: Object(C.a)("uNa"),
                        server: Object(h.a)().serverInfo.selectArea.name,
                        code: e
                    }, t)).shareType && (n.photo = ""),
                    [2, new Promise((function(t, e) {
                        i._shareResolve = t,
                        i._shareReject = e,
                        egret.ExternalInterface.call("share", JSON.stringify(n))
                    }
                    ))]
                }
                ))
            }
            ))
        }
        ,
        e.prototype.isSupport = function(t) {
            return "payment" == t ? Promise.resolve(!0) : "videoAdvert" == t ? Promise.resolve(this.isSupportAdvert()) : "share" == t ? Promise.resolve(!0) : Promise.resolve(!1)
        }
        ,
        e.prototype.getVideoAdvert = function(t) {
            return Promise.resolve(new et(t))
        }
        ,
        e.prototype.isSupportAdvert = function() {
            return !!o.is.ios() || new Promise((function(t) {
                egret.ExternalInterface.call("doGetVersion", ""),
                egret.ExternalInterface.addCallback("doGetVersionDone", (function(e) {
                    var n = Number(e);
                    t(n >= 15)
                }
                )),
                window.setTimeout((function() {
                    t(!1)
                }
                ), 2500)
            }
            ))
        }
        ,
        e = K([Object(o.regPlatform)("gcatfly gcatAndroid1 gcatIos1 dianzhi gcatAndroid2 huixuanRt gcatIos2 tanwanIos1 tanwanAnd1 gcatUnion gcatUnionad kaiyingRt gcathkAndroid1 gcathkIos1 sipuRt gcatMixRt gcatml gcaten gcatenIos gcatenAnd")], e)
    }(a)
      , et = function() {
        function t(t) {
            this.opts = t,
            this.adUnitId = t.adUnitId
        }
        return t.prototype.on = function(t, e) {}
        ,
        t.prototype.off = function(t, e) {}
        ,
        t.prototype.dispose = function() {}
        ,
        t.prototype.show = function() {
            var t = this;
            return new Promise((function(e) {
                Object(o.getPlatform)().isAdvert = !0,
                egret.ExternalInterface.call("doAdShow", ""),
                egret.ExternalInterface.addCallback("doAdShowDone", (function(n) {
                    var i = JSON.parse(n);
                    Object(o.getPlatform)().isAdvert = !1,
                    "1" == i.status ? e(!0) : "2" == i.status ? (t.isError = !0,
                    e(!1)) : (t.isError = !1,
                    e(!1))
                }
                ))
            }
            ))
        }
        ,
        t
    }()
      , nt = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , it = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    };
    function ot() {
        return nt(this, void 0, void 0, (function() {
            var t;
            return it(this, (function(e) {
                switch (e.label) {
                case 0:
                    return t = (new o.PlatformParams).expand({
                        xyx: {
                            skipAuth: !0,
                            payment: {
                                env: 0,
                                quantity: 1,
                                balanceRoute: "pay.b",
                                orderRoute: "pay.c",
                                request: function(t, e) {
                                    return Object(o.getSocket)().request({
                                        route: t,
                                        p: e
                                    })
                                }
                            }
                        },
                        xiaoyouxi: {
                            payment: {
                                offerId: 1450021587
                            }
                        },
                        qqxyx: {
                            payment: {
                                offerId: 1450018175
                            }
                        },
                        ttxyx: {
                            payment: {
                                balanceRoute: "pay.g",
                                orderRoute: "pay.h"
                            }
                        }
                    }),
                    [4, Object(o.getPlatform)().init(t)];
                case 1:
                    return e.sent(),
                    [2]
                }
            }
            ))
        }
        ))
    }
    var rt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , at = function(t, e, n, i) {
        var o, r = arguments.length, a = r < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
            a = Reflect.decorate(t, e, n, i);
        else
            for (var s = t.length - 1; s >= 0; s--)
                (o = t[s]) && (a = (r < 3 ? o(a) : r > 3 ? o(e, n, a) : o(e, n)) || a);
        return r > 3 && a && Object.defineProperty(e, n, a),
        a
    }
      , st = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , ct = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    };
    function ut() {
        return window.AWY_SDK
    }
    var ht, lt = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return rt(e, t),
        e.prototype.init = function(e) {
            return st(this, void 0, void 0, (function() {
                var n;
                return ct(this, (function(i) {
                    switch (i.label) {
                    case 0:
                        return [4, t.prototype.init.call(this, e)];
                    case 1:
                        return n = i.sent(),
                        egret.Capabilities.isMobile || o.display.getStage().then((function(t) {
                            t.setContentSize(750, 1334),
                            t.scaleMode = egret.StageScaleMode.SHOW_ALL,
                            t.orientation = egret.OrientationMode.AUTO
                        }
                        )),
                        [4, v("https://cdn.11h5.com/static/js/sdk.min.js")];
                    case 2:
                        return i.sent(),
                        ut().config(628, (function(t) {
                            console.log("awy share fn:" + t),
                            Object(E.d)("at.h").then((function(t) {
                                t && (Object(o.put)("on_share_success"),
                                Object(o.put)("refresh_g1"))
                            }
                            ))
                        }
                        ), (function() {}
                        )),
                        this.regComponent("reload", {
                            support: !0,
                            reload: function() {
                                ut().refresh()
                            },
                            confirm: function(t) {
                                Object(o.reloadConfirm)(t)
                            }
                        }),
                        this.regComponent("phase", {
                            phase: function(t, e) {
                                if ("onLogin" == t) {
                                    var n = Object(C.a)();
                                    ut().serverLoginStat({
                                        serverid: n.sId,
                                        newuser: "reg" == e ? 1 : 0
                                    }),
                                    ut().shareParams({
                                        cp_shareFrom: n.uId
                                    }),
                                    ut().shareTitle("仙命决");
                                    var i = ["御剑飞行，闯荡四方，仙命由你决！", "逍遥三界外，不在五行中，你口袋里的修仙游戏。", "天材地宝，一键扫荡！珍禽异兽，尽归你手！", "仙命决，为你带来不一样的仙路旅程。", "仙路漫漫，道侣相伴，不再孤单的修仙游戏！"];
                                    ut().shareDesc(i[o.numbers.getRandomInt(0, i.length - 1)]);
                                    var r = o.res.getRemoteRes("game_icon_png");
                                    ut().shareIcon(r)
                                }
                            }
                        }),
                        [2, n]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.payment = function(t) {
            return st(this, void 0, void 0, (function() {
                var e;
                return ct(this, (function(n) {
                    switch (n.label) {
                    case 0:
                        return [4, Object(o.getSocket)().request({
                            route: "pay.f",
                            p: {
                                id: t.id,
                                channel: this.name
                            }
                        })];
                    case 1:
                        return e = n.sent(),
                        ut().pay(e.payData),
                        [2, {
                            awds: []
                        }]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.login = function(t) {
            return Promise.resolve({
                token: Object(o.getOption)("token"),
                fuid: Object(o.getOption)("fuid"),
                focus: Object(o.getOption)("focus"),
                verify: Object(o.getOption)("verify"),
                wallow: Object(o.getOption)("wallow"),
                sharefrom: Object(o.getOption)("cp_shareFrom")
            })
        }
        ,
        e = at([Object(o.regPlatform)("awy")], e)
    }(a), pt = n(181), ft = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), dt = function(t, e, n, i) {
        var o, r = arguments.length, a = r < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
            a = Reflect.decorate(t, e, n, i);
        else
            for (var s = t.length - 1; s >= 0; s--)
                (o = t[s]) && (a = (r < 3 ? o(a) : r > 3 ? o(e, n, a) : o(e, n)) || a);
        return r > 3 && a && Object.defineProperty(e, n, a),
        a
    }, bt = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, gt = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    };
    function _t(t, e) {
        return console.log("modoXyxPromisify=>>>" + t),
        new Promise((function(n, i) {
            modosdk[t](e, (function(o) {
                console.log("modoXyxPromisify promise=>>>" + t),
                console.log(JSON.stringify(o)),
                console.log(JSON.stringify(e)),
                1 == o.status ? n(o) : i("modoXyx sdk: " + o.status)
            }
            ))
        }
        ))
    }
    !function(t) {
        t[t.accountCreate = 1] = "accountCreate",
        t[t.accountLogin = 2] = "accountLogin",
        t[t.roleCreate = 3] = "roleCreate",
        t[t.roleLogin = 4] = "roleLogin"
    }(ht || (ht = {}));
    var mt = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.isNew = !1,
            e.eventData = {
                guideDone: "guideComplete",
                server: "serverList",
                clickServerBtn: "clickServerBtn",
                createRole: "indexCreate",
                createRoleOk: "clickCreateRole",
                initBegin: "indexEnter",
                enterGame: "enterGame"
            },
            e.accId = "",
            e
        }
        return ft(e, t),
        e.prototype.init = function(e) {
            return bt(this, void 0, void 0, (function() {
                var n, i, r, a, s, c, u = this;
                return gt(this, (function(h) {
                    switch (h.label) {
                    case 0:
                        return [4, t.prototype.init.call(this, e)];
                    case 1:
                        return n = h.sent(),
                        this.setConstant("isHasBg", "true"),
                        o.res.setResAlias({
                            "ingame_avatar_2_8-2_1_png": "ingame_avatar_2_8-2_1_xyx_png",
                            "avatar_2_8-2_1_png": "avatar_2_8-2_1_xyx_png"
                        }),
                        i = function(t) {
                            window.wx.setKeepScreenOn && window.wx.setKeepScreenOn({
                                keepScreenOn: t,
                                success: function() {
                                    console.log("setKeepScreenOn success")
                                },
                                fail: function() {
                                    console.log("setKeepScreenOn fail")
                                },
                                complete: function() {
                                    console.log("setKeepScreenOn complete")
                                }
                            })
                        }
                        ,
                        this.regComponent("screenOn", {
                            on: function() {
                                i(!0)
                            },
                            off: function() {
                                i(!1)
                            }
                        }),
                        r = this,
                        this.regComponent("phase", {
                            phase: function(t) {
                                "initBegin" == t ? u.tagEvent(t) : "createRoleOk" == t ? (r.isNew = !0,
                                console.log("createRoleOk>>>" + r.isNew)) : "start" == t ? (r.setShowPay(),
                                r.stat(ht.roleLogin)) : "accountLogin" == t ? r.stat(ht.accountLogin) : "accountCreate" == t ? r.stat(ht.accountCreate) : u.tagEvent(t)
                            }
                        }),
                        [4, _t("init", {})];
                    case 2:
                        return h.sent(),
                        console.log("modoxyx init"),
                        a = modosdk.getInitData(),
                        console.log("gameid=>" + a.gameid),
                        console.log("channelid=>" + a.channelid),
                        console.log("maintain=>" + a.maintain),
                        (modosdk.has_customerService() || modosdk.has_custService()) && this.regComponent("kefu", {
                            open: function() {
                                var t = {};
                                if (modosdk.has_custService()) {
                                    var e = Object(C.a)();
                                    t.isVip = e && e.vip > 0 ? 1 : 0,
                                    _t("openCustService", {})
                                } else
                                    modosdk.has_customerService() && _t("openCustomerService", {})
                            },
                            getText: function() {
                                return ""
                            },
                            support: !0
                        }),
                        s = modosdk.has_bindPhone(),
                        console.log("has_bindPhone=>" + s),
                        this.setConstant("has_bindPhone", s),
                        c = modosdk.has_certification(),
                        console.log("has_certification=>" + c),
                        this.setConstant("has_certification", c),
                        this.setConstant("query_balance", (function() {
                            return new Promise((function(t) {
                                u.queryBanlance(),
                                u._balanceResolve = t
                            }
                            ))
                        }
                        )),
                        this.setConstant("query_bindPhone", (function() {
                            return new Promise((function(t) {
                                modosdk.query_bindPhone({}, (function(e) {
                                    1 == e.status && console.log("绑定手机号===>>>" + e.phoneNumber),
                                    console.log("isBindPhone===>>>" + e.status),
                                    t(e)
                                }
                                ))
                            }
                            ))
                        }
                        )),
                        this.setConstant("query_certification", (function() {
                            return new Promise((function(t) {
                                modosdk.query_certification({}, (function(e) {
                                    console.log("isBindCertification===>>> " + e.status),
                                    t(e)
                                }
                                ))
                            }
                            ))
                        }
                        )),
                        this.regComponent("clipboard", {
                            copy: function(t, e) {
                                var n = {};
                                n.data = t.toString(),
                                _t("setClipboardData", n).then((function(t) {
                                    1 == t.status && e("succes")
                                }
                                ), this)
                            },
                            get: function() {
                                return r.getInfo("getPasteboard")
                            }
                        }),
                        modosdk.onEvent((function(t, e) {
                            "custServiceRed" == t && (console.log("<<<===显示客服红点===>>>"),
                            Object(o.put)("kefu_red_show"))
                        }
                        ), this),
                        this.setConstant("push_ServiceRed", (function() {
                            return new Promise((function(t) {
                                modosdk.setCustServiceRed({}, (function(e) {
                                    1 == e.status ? console.log("<<<===接收客服红点成功===>>>") : console.log("<<<===接收客服红点失败===>>>"),
                                    t(e)
                                }
                                ), u)
                            }
                            ))
                        }
                        )),
                        Object(o.on)("user_lv_change", this.onLvChange, this),
                        [2, n]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.setShowPay = function() {
            var t = this;
            this.setConstant("query_isShowPay", (function() {
                return new Promise((function(e) {
                    var n = {};
                    n.level = Object(C.a)("lv"),
                    console.log("sdk lv===>>>" + n.level),
                    modosdk.query_showPayPage(n, (function(t) {
                        t.status,
                        console.log("xyxShowPay===>>>" + t.status),
                        e(t.status)
                    }
                    ), t)
                }
                ))
            }
            )),
            this.getConstant("query_isShowPay")().then((function(e) {
                t.setConstant("isShowPay", e)
            }
            ))
        }
        ,
        e.prototype.payment = function(t) {
            return bt(this, void 0, void 0, (function() {
                var e, n, i;
                return gt(this, (function(r) {
                    switch (r.label) {
                    case 0:
                        return Object(pt.a)() ? [4, Object(o.getSocket)().request({
                            route: "pay.f",
                            p: {
                                id: t.id,
                                channel: this.name
                            }
                        })] : (Object(o.tooltip)(Object(o.tr)("main@nobuy")),
                        [2, {
                            awds: []
                        }]);
                    case 1:
                        return (e = r.sent()).payData.servername = Object(j.j)(),
                        n = Object(o.getConfig)("recharge_json")[t.id].recharge,
                        [4, this.getConstant("query_balance")()];
                    case 2:
                        return i = r.sent(),
                        console.log("balance=>" + i),
                        console.log("payNum=>" + n),
                        e.payData.useBalance = !1,
                        n <= i ? (e.payData.useBalance = !0,
                        [4, Object(o.confirm)({
                            title: Object(o.tr)("common@tip"),
                            text: Object(o.tr)("common@useBalance", {
                                num: i
                            }),
                            yes: Object(o.tr)("common@ok"),
                            no: Object(o.tr)("common@no"),
                            showClose: !1
                        })]) : [3, 4];
                    case 3:
                        return "yes" == r.sent() && _t("pay", e.payData),
                        [3, 5];
                    case 4:
                        _t("pay", e.payData),
                        r.label = 5;
                    case 5:
                        return console.log("useBalance=>" + e.payData.useBalance),
                        console.log("payData=>" + JSON.stringify(e.payData)),
                        [2, {
                            awds: []
                        }]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.queryBanlance = function() {
            var t = this
              , e = 0
              , n = modosdk.has_balance();
            if (console.log("query_balance=>" + n),
            !n)
                return this._balanceResolve(e),
                e;
            _t("query_balance", {}).then((function(n) {
                if (1 == n.status)
                    return console.log("余额=>" + n.balance),
                    e = n.balance,
                    Object(o.getOption)("modoBalance") && (e = Object(o.getOption)("modoBalance")),
                    t._balanceResolve(e),
                    e
            }
            ))
        }
        ,
        e.prototype.onLvChange = function() {
            var t = {}
              , e = Object(C.a)("lv");
            t.level = e,
            modosdk.setRoleLevel(t)
        }
        ,
        e.prototype.exit = function() {
            window.wx.exitMiniProgram()
        }
        ,
        e.prototype.tagEvent = function(t) {
            this.eventData[t] && modosdk.tagEvent(this.eventData[t])
        }
        ,
        e.prototype.stat = function(t) {
            var e = Object(o.getLocalStorage)().getString("accountCreateId", "");
            if ("" != e && "" == this.accId && (this.accId = e),
            console.log("accountid===>>>" + e),
            console.log(this.accId),
            console.log("modoXyxType===>>>" + t),
            t == ht.accountCreate)
                (n = {}).accountid = this.accId,
                modosdk.accountCreate(n),
                console.log("accountCreate===>>>" + JSON.stringify(n));
            else if (t == ht.accountLogin) {
                var n;
                (n = {}).accountid = this.accId,
                modosdk.accountLogin(n),
                console.log("accountLogin===>>>" + JSON.stringify(n))
            } else if (t == ht.roleLogin) {
                var i = {}
                  , r = Object(C.a)();
                if (!r)
                    return;
                i.serverid = r.sId,
                i.serverindex = r.sId,
                i.servername = Object(j.j)(),
                i.rolename = r.uNa,
                i.roleid = r.uId,
                i.accountid = this.accId,
                i.createTime = new Date,
                console.log("createRoleOk>>>" + this.isNew),
                this.isNew && (console.log("roleCreate===>>>" + JSON.stringify(i)),
                modosdk.roleCreate(i)),
                t == ht.roleLogin && (i.rolelevel = r.lv,
                i.vip = 0,
                console.log("roleLogin===>>>" + JSON.stringify(i)),
                modosdk.roleLogin(i))
            }
        }
        ,
        e.prototype.login = function() {
            return console.log("===modoxyxlogin==="),
            _t("login", {}).then((function(t) {
                return Promise.resolve({
                    token: t.token
                })
            }
            ))
        }
        ,
        e.prototype.share = function(t) {
            var e = this;
            return new Promise((function(n) {
                return bt(e, void 0, void 0, (function() {
                    var e;
                    return gt(this, (function(i) {
                        return console.log(t),
                        modosdk.has_share() && ((e = {}).ext = {
                            sharefrom: Object(C.a)("uId")
                        },
                        modosdk.share(e, (function(t) {
                            1 == t.status ? (console.log("分享成功"),
                            setTimeout((function() {
                                Object(o.put)("modoxyx_share_success"),
                                n()
                            }
                            ), 2500)) : (console.log("分享失败"),
                            n())
                        }
                        ), this)),
                        [2]
                    }
                    ))
                }
                ))
            }
            ))
        }
        ,
        e = dt([Object(o.regPlatform)("modoxyx")], e)
    }(a)
      , yt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , vt = function(t, e, n, i) {
        var o, r = arguments.length, a = r < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
            a = Reflect.decorate(t, e, n, i);
        else
            for (var s = t.length - 1; s >= 0; s--)
                (o = t[s]) && (a = (r < 3 ? o(a) : r > 3 ? o(e, n, a) : o(e, n)) || a);
        return r > 3 && a && Object.defineProperty(e, n, a),
        a
    }
      , Ot = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , jt = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , wt = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return yt(e, t),
        e.prototype.init = function(e) {
            return Ot(this, void 0, void 0, (function() {
                var n;
                return jt(this, (function(i) {
                    return t.prototype.init.call(this, e),
                    this.getComponent("reload").support = !1,
                    (n = this.getConstant("platformParams") || {}).pf = window.qq.getSystemInfoSync().platform,
                    this.setConstant("platformParams", n),
                    this.setConstant("tokenExpire", (function() {
                        window.util_fs.removeAll()
                    }
                    )),
                    this.regComponent("clipboard", {
                        copy: function(t, e) {
                            console.log("copy===>>>" + t),
                            window.qq.setClipboardData({
                                data: t,
                                success: function(t) {
                                    window.qq.getClipboardData({
                                        success: function(t) {
                                            Object(o.tooltip)(Object(o.tr)("common@copy")),
                                            console.log(t.data)
                                        }
                                    }),
                                    e("succes")
                                }
                            })
                        },
                        get: function() {
                            window.qq.getClipboardData({
                                success: function(t) {
                                    console.log(t.data)
                                }
                            })
                        }
                    }),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e.prototype.payment = function(t) {
            return Ot(this, void 0, void 0, (function() {
                return jt(this, (function(e) {
                    return [2, new Promise((function(e, n) {
                        Object(o.getSocket)().request({
                            route: "pay.f",
                            p: {
                                id: t.id,
                                channel: "qqxyx"
                            }
                        }).then((function(t) {
                            console.log("===qqxyx_pObj==="),
                            console.log(JSON.stringify(t)),
                            0 !== t.s && n(t.msg || t.message);
                            var i = {
                                prepayId: t.payData.prepayId,
                                starCurrency: t.payData.starCurrency,
                                success: e,
                                fail: n
                            };
                            console.log("===qqxyx_paymentObj==="),
                            console.log(JSON.stringify(i)),
                            window.qq.requestMidasPayment(i)
                        }
                        )).catch(n)
                    }
                    ))]
                }
                ))
            }
            ))
        }
        ,
        e.prototype.kefu = function() {
            this.regComponent("kefu", {
                support: !0,
                getText: function() {
                    return "客服qq:2641955743"
                },
                open: function() {
                    Object(o.confirm)({
                        text: Object(o.getPlatComp)("kefu").getText(),
                        yes: "确定",
                        no: ""
                    })
                }
            })
        }
        ,
        e.prototype.isSupport = function(t) {
            return new Promise((function(e) {
                if ("payment" == t) {
                    var n = o.wx.getSystem("platform");
                    e("android" == n || "devtools" == n)
                } else
                    e("videoAdvert" == t || "bannerAdvert" == t || ("openSettingButton" == t || "infoButton" == t))
            }
            ))
        }
        ,
        e = vt([Object(o.regPlatform)("qqxyx")], e)
    }(o.WxPlatform)
      , xt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , kt = function(t, e, n, i) {
        var o, r = arguments.length, a = r < 3 ? e : null === i ? i = Object.getOwnPropertyDescriptor(e, n) : i;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
            a = Reflect.decorate(t, e, n, i);
        else
            for (var s = t.length - 1; s >= 0; s--)
                (o = t[s]) && (a = (r < 3 ? o(a) : r > 3 ? o(e, n, a) : o(e, n)) || a);
        return r > 3 && a && Object.defineProperty(e, n, a),
        a
    }
      , It = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , Pt = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , Ct = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.inRecorder = !1,
            e.recorderTimeOut = !1,
            e.recorderTime = 0,
            e
        }
        return xt(e, t),
        e.prototype.init = function(e) {
            return It(this, void 0, void 0, (function() {
                var n, i, r = this;
                return Pt(this, (function(a) {
                    return t.prototype.init.call(this, e),
                    this.getComponent("reload").support = !1,
                    (n = this.getConstant("platformParams") || {}).pf = window.tt.getSystemInfoSync().platform,
                    this.setConstant("platformParams", n),
                    this.regComponent("kefu", {
                        open: function() {
                            window.KeFuPanel.show()
                        },
                        getText: function() {
                            return ""
                        },
                        support: !0
                    }),
                    (i = window.tt.getGameRecorderManager()).onStart((function(t) {
                        console.log("录屏开始"),
                        Object(o.tooltip)(Object(o.tr)("common@recorderStart")),
                        r.inRecorder = !0,
                        r.recorderTime = 0,
                        r.runTick = Object(o.setInterval)((function() {
                            r.recorderTime += 1,
                            r.recorderTime >= 300 && (r.recorderTimeOut = !0,
                            window.tt.getGameRecorderManager().stop())
                        }
                        ), r, 1e3)
                    }
                    )),
                    i.onStop((function(t) {
                        console.log(t.videoPath),
                        Object(o.tooltip)(Object(o.tr)("common@recorderEnd")),
                        Object(o.put)("main_video_over"),
                        r.inRecorder = !1,
                        r.runTick && (r.runTick.dispose(),
                        r.runTick = null),
                        r.recorderTime >= 3 && !r.recorderTimeOut ? i.clipVideo({
                            path: t.videoPath,
                            timeRange: [15, 0],
                            success: function(t) {
                                var e = window.tt;
                                console.log("录屏完成"),
                                console.log(t.videoPath),
                                Object(o.confirm)({
                                    title: Object(o.tr)("分享"),
                                    text: Object(o.tr)("是否分享当前录屏？"),
                                    showNo: !1
                                }).then((function(n) {
                                    "yes" == n && e.shareAppMessage({
                                        channel: "video",
                                        title: "逆天改命真修仙，最火爆的小游戏！",
                                        desc: "畅快淋漓的成仙之路，挂机式修仙玩法，沉浸式修仙体验！",
                                        imageUrl: "",
                                        templateId: "1fd467od8c2h27q8t8",
                                        query: "",
                                        extra: {
                                            videoPath: t.videoPath,
                                            videoTopics: ["仙命决"]
                                        },
                                        success: function() {
                                            console.log("分享视频成功")
                                        },
                                        fail: function(t) {
                                            console.log(t),
                                            console.log("分享视频失败")
                                        }
                                    })
                                }
                                ))
                            },
                            fail: function(t) {
                                console.error(t),
                                console.log("录屏失败"),
                                Object(o.tooltip)(Object(o.tr)("common@recorderFail"))
                            }
                        }) : (console.log("录屏太短会太长"),
                        r.recorderTimeOut ? (console.log(Object(o.tr)("common@recorderTimeOut")),
                        Object(o.tooltip)(Object(o.tr)("common@recorderTimeOut"))) : (console.log(Object(o.tr)("common@recorderNoTime")),
                        Object(o.tooltip)(Object(o.tr)("common@recorderNoTime")))),
                        r.recorderTimeOut = !1
                    }
                    )),
                    this.setConstant("gameRecorder", (function() {
                        console.log("===开始录屏==="),
                        r.inRecorder || (r.inRecorder = !0,
                        window.tt.getGameRecorderManager().start({
                            duration: 30
                        }))
                    }
                    )),
                    this.setConstant("gameRecorderOver", (function() {
                        console.log("===结束录屏==="),
                        r.inRecorder && (r.inRecorder = !1,
                        window.tt.getGameRecorderManager().stop())
                    }
                    )),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e.prototype.login = function() {
            return new Promise((function(t) {
                var e = Object(o.getLocalStorage)().getString("ttLoginType", "0");
                console.log("===isYouke===" + e);
                var n = "1" != e;
                console.log("===tt_force===" + n),
                window.tt.login({
                    force: n,
                    success: function(e) {
                        console.log("login调用成功===>>>" + e.code + " " + e.anonymousCode),
                        e.code ? (Object(o.getLocalStorage)().setString("tt_code", e.code),
                        t({
                            code: e.code,
                            anonymous_code: e.anonymousCode
                        })) : t({
                            anonymous_code: e.anonymousCode
                        })
                    },
                    fail: function(e) {
                        console.log("login调用失败===>>>" + e),
                        t()
                    }
                })
            }
            ))
        }
        ,
        e.prototype.isSupport = function(t) {
            return new Promise((function(e) {
                if ("payment" == t) {
                    var n = o.wx.getSystem("platform");
                    e("android" == n || "devtools" == n)
                } else
                    e("videoAdvert" == t || "bannerAdvert" == t || ("openSettingButton" == t || "infoButton" == t))
            }
            ))
        }
        ,
        e = kt([Object(o.regPlatform)("ttxyx")], e)
    }(o.ByteDancePlatform)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return B
    }
    ));
    var i, o = n(1), r = n(106), a = n(112), s = n(111), c = n(159), u = n(243), h = n(114), l = n(141), p = n(136), f = n(202), d = n(161), b = n(119), g = n(123), _ = n(139), m = n(107), y = n(108), v = n(126), O = n(192), j = n(127), w = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), x = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "CommonLotteryAward2Skin"),
            e
        }
        return w(e, t),
        e.prototype.onReady = function(t, e) {
            (this.btn_yes.visible = !0,
            this._awds = t.awds,
            this.list.itemRenderer = k,
            1 == this._awds.length) && (this.list.layout.requestedColumnCount = 1);
            var n, i = Object(j.e)(e.nameMap.main, Object(a.d)(e.nameMap.main).cId, e.conf).detail;
            n = {};
            for (var r = 0; r < i.length; r++)
                n[i[r].id] = i[r].num;
            for (var s = 0, c = [], u = 0; u < t.awds.length; u++)
                t.type[u] ? (s += n[t.type[u]],
                c.push({
                    type: t.type[u],
                    awds: t.awds[u]
                })) : c.push({
                    awds: t.awds[u]
                });
            this.lbl_result.text = Object(o.tr)(e.trMap.resultDesc, {
                num: s
            }),
            Object(y.a)(this.list, c),
            this.tap("btn_open", this.onOpen, this)
        }
        ,
        e.prototype.onOpen = function() {
            this.btn_yes.visible = !0,
            this.btn_open.visible = !1,
            Object(y.a)(this.list, this._awds)
        }
        ,
        e.show = function(t, n) {
            return Object(r.a)(new e, t, n)
        }
        ,
        e
    }(o.UIComponent), k = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return w(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (t) {
                if (3 == t.type) {
                    if (!this._lightMv) {
                        this._lightMv = o.Movie.create("new_item_icon_Light_1_ske_json");
                        var e = this.width
                          , n = this.height;
                        this._lightMv.width = e,
                        this._lightMv.height = n,
                        this._lightMv.x = e / 2,
                        this._lightMv.y = n / 2,
                        this._lightMv.scaleX = this._lightMv.scaleY = 1.05,
                        this.addChild(this._lightMv),
                        this._lightMv.play("1")
                    }
                } else
                    this.clear();
                this.item.data = t.awds
            }
        }
        ,
        e.prototype.clear = function() {
            this._lightMv && (this._lightMv.dispose(),
            this._lightMv = null)
        }
        ,
        e.prototype.onExit = function() {
            this.clear()
        }
        ,
        e
    }(o.Item), I = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), P = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, C = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, S = function(t) {
        function e(e, n) {
            var i = t.call(this) || this;
            return i.res = e,
            i.option = n,
            Object(o.setSkin)(i, "CommonLotteryAward1Skin"),
            i
        }
        return I(e, t),
        e.prototype.onReady = function(t) {
            var e = this;
            (this._awds = t.awds1,
            this.list.itemRenderer = R,
            1 == this._awds.length) && (this.list.layout.requestedColumnCount = 1);
            R.boxTypeMap = this.option.boxTypeMap,
            Object(y.a)(this.list, t.type.map((function(t) {
                return h.e.get(e.option.boxTypeMap[t])
            }
            ))),
            this.showItem()
        }
        ,
        e.prototype.showItem = function() {
            return P(this, void 0, void 0, (function() {
                return C(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, o.functions.delay(200 * this._awds.length)];
                    case 1:
                        return t.sent(),
                        Object(y.a)(this.list, this._awds),
                        [4, o.functions.delay(1e3)];
                    case 2:
                        return t.sent(),
                        o.UI.remove(this),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.onExit = function() {
            t.prototype.onExit.call(this),
            x.show(this.res, this.option)
        }
        ,
        e.show = function(t, n) {
            return Object(r.a)(new e(t,n), t)
        }
        ,
        e
    }(o.UIComponent), R = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return I(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && t.c && (e.isBox(t.c.id) ? (this.frame.visible = !1,
            this.lbl_num.visible = !1,
            this.quality.visible = !1,
            this.show()) : this.playAni())
        }
        ,
        e.isBox = function(t) {
            for (var e in this.boxTypeMap)
                if (this.boxTypeMap[e] == t)
                    return !0;
            return !1
        }
        ,
        e.prototype.show = function() {
            return P(this, void 0, void 0, (function() {
                return C(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, o.functions.delay(200 * this.itemIndex)];
                    case 1:
                        return t.sent(),
                        Object(O.a)(this.data, this),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.playAni = function() {
            this._mv || (this._mv = o.Movie.create("act_spring_3_ske_json", !0),
            this._mv.y = 49,
            this._mv.x = 60),
            this.addChild(this._mv),
            this._mv.play("1", 1)
        }
        ,
        e.prototype.onExit = function() {
            this._mv && (this._mv.dispose(),
            this._mv = null),
            t.prototype.onExit.call(this)
        }
        ,
        e
    }(v.a), T = n(109), L = n(110), A = n(143), M = n(184), N = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), B = function(t) {
        function e(e, n) {
            var i = t.call(this) || this;
            return i.option = n,
            i._textParser = new egret.HtmlTextParser,
            i._tweensTarget = [],
            Object(o.setSkin)(i, e),
            i
        }
        return N(e, t),
        Object.defineProperty(e.prototype, "actData", {
            get: function() {
                return Object(a.d)(this.option.nameMap.main)
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.onReady = function() {
            var t = this;
            this.lbl_time1.textFlow = this._textParser.parser(Object(o.tr)(this.option.trMap.periodTime, {
                time1: s.a.getLocaleFormat(this.actData.start),
                time2: s.a.getLocaleFormat(this.actData.end)
            })),
            this.lbl_time2.textFlow = this._textParser.parser(Object(o.tr)(this.option.trMap.closeTime, {
                time: s.a.getLocaleFormat(this.actData.awardEnd - 1)
            })),
            this.lbl_countDown.text = "",
            this.list.itemRenderer = c.a,
            this._hasProgress = this.progress && Object(a.d)(this.option.nameMap.progress),
            this.initPro(),
            this.updateView(),
            this.updateLog(),
            this.playRateAni(),
            this.tap("btn_x1", this.onLottery.bind(this, 1, this.option.extraMap.cost1 ? this.option.extraMap.cost1 : 1), this),
            this.tap("btn_x10", this.onLottery.bind(this, 10, this.option.extraMap.cost2 ? this.option.extraMap.cost2 : 10), this),
            this.tap("btn_view", this.onPrev, this),
            this.btn_reward && (this.tap("btn_reward", (function() {
                l.b.show(t.option.txtMap.taskT, t.getTaskData.bind(t))
            }
            ), this),
            this.disposeArr.push(Object(g.b)(this.option.redMap.reward, this.btn_reward))),
            this.btn_gift && (this.tap("btn_gift", (function() {
                p.c.show(t.option.obtainInfo)
            }
            ), this),
            this.disposeArr.push(Object(g.b)(this.option.redMap.obtain, this.btn_gift))),
            this.tap("btn_rank", (function() {
                d.a.show(t.option.txtMap.rankRewardT, t.option.rankTabArr, t.option.rankSkinType)
            }
            ), this),
            this.tap("btn_help", (function() {
                b.a.show({
                    title: t.option.txtMap.helpT,
                    content: t.option.txtMap.helpC
                })
            }
            ), this),
            this.disposeArr.push(Object(a.p)(this.lbl_countDown, this.option.nameMap.main, !0, {
                start: this.option.trMap.disStart,
                end: this.option.trMap.disEnd,
                awardEnd: this.option.trMap.disClose
            })),
            this.disposeArr.push(Object(o.setInterval)(this.playRateAni, this, 2e3));
            var e = this.actData.end - s.a.getNow();
            e > 0 && this.disposeArr.push(Object(o.setTimeout)(this.updateView, this, 1e3 * e)),
            this.addExtraBtn(),
            this.playBgMV()
        }
        ,
        e.prototype.onPrev = function() {
            var t = this;
            u.a.show((function(e) {
                return f.a.ins.getPrizePool(t.option.nameMap.main, t.option.conf, e)
            }
            ), this.option.prevTabArr, {
                title: this.option.txtMap.prevT,
                rateT: this.option.txtMap.rateT,
                rateC: this.option.txtMap.rateC
            }, this.option.skinMap.prev)
        }
        ,
        e.prototype.playBgMV = function() {
            if (this.option.mvMap.bg) {
                var t = o.Movie.create(this.option.mvMap.bg);
                this.animeNode.addChild(t),
                t.play("1"),
                this.disposeArr.push(t)
            }
        }
        ,
        e.prototype.addExtraBtn = function() {
            var t = this;
            this.btn_shop && this.tap("btn_shop", (function() {
                A.b.show(t.option.typeMap.shopType, t.option.typeMap.shop, null, {
                    desc: "",
                    isPanel: !0,
                    hideTab: !0
                })
            }
            ), this),
            this.btn_bigPrice && this.tap("btn_bigPrice", (function() {
                M.a.show(t.option.extraMap.petId, t.option.trMap.petDesc)
            }
            ), this)
        }
        ,
        e.prototype.updateView = function() {
            if (this.progress1.labelDisplay.text = Object(o.tr)(this.option.trMap.luckyV, {
                num: this.actData.big
            }),
            this.progress2.labelDisplay.text = Object(o.tr)(this.option.trMap.luckyV, {
                num: this.actData.jin
            }),
            this.btn_gift && (this.btn_gift.visible = Object(a.e)(this.option.nameMap.main)),
            this._hasProgress) {
                var t = Object(a.d)(this.option.nameMap.progress).num;
                this.lbl_active && (this.lbl_active.text = this.option.trMap.proCaption ? Object(o.tr)(this.option.trMap.proCaption, {
                    num: t
                }) : ""),
                this.cash && (this.cash.propId = this.option.costId),
                this.freeTime()
            }
        }
        ,
        e.prototype.initPro = function() {
            this._hasProgress && (this.option.extraMap.tweenRotation && (this.progress.tweenRotation = this.option.extraMap.tweenRotation),
            this.progress.option = {
                c: Object(j.e)(this.option.nameMap.progress, Object(a.d)(this.option.nameMap.main).cId, this.option.conf).detail,
                p: Object(a.d)(this.option.nameMap.progress).l,
                progress: Object(a.d)(this.option.nameMap.progress),
                request: {
                    route: this.option.routeMap.proGet,
                    type: this.option.nameMap.progress
                }
            })
        }
        ,
        e.prototype.playRateAni = function(t) {
            var e = this;
            this._jinMv || (this._jinMv = o.Movie.create(this.option.mvMap.lucky),
            this._jinMv.x = 77,
            this._jinMv.y = 117,
            this._jinMv.atLast = !0,
            this.progress2.addChild(this._jinMv),
            this.disposeArr.push(this._jinMv)),
            this._jinMv.visible = !0,
            this._jinMv.once(o.MovieEvent.COMPLETE, (function() {
                e._jinMv && (e._jinMv.visible = !1)
            }
            ), this),
            this._jinMv.play(t || (this.actData.jin >= 80 ? "2" : "1"), 1),
            this._bigMv || (this._bigMv = o.Movie.create(this.option.mvMap.lucky),
            this._bigMv.x = 77,
            this._bigMv.y = 117,
            this._bigMv.atLast = !0,
            this.progress1.addChild(this._bigMv),
            this.disposeArr.push(this._bigMv)),
            this._bigMv.visible = !0,
            this._bigMv.once(o.MovieEvent.COMPLETE, (function() {
                e._bigMv && (e._bigMv.visible = !1)
            }
            ), this),
            this._bigMv.play(t || (this.actData.big >= 80 ? "2" : "1"), 1)
        }
        ,
        e.prototype.getTaskData = function() {
            return _.a.ins.getActTaskList(this.option.nameMap.scoreReward, this.option.routeMap.rewardGet, this.option.conf, this.option.trMap.rewardItemDesc)
        }
        ,
        e.prototype.updateLog = function() {
            var t = this;
            Object(m.d)(this.option.routeMap.log).then((function(e) {
                e && e.l && Object(y.a)(t.list, e.l.map((function(e) {
                    return {
                        log: Object(o.tr)(t.option.trMap.log, {
                            name: e.name.replace(/>/gi, "&gt;").replace(/</gi, "&lt;"),
                            item: h.e.getName(e.propId)
                        })
                    }
                }
                )))
            }
            ))
        }
        ,
        e.prototype.onLottery = function(t, e) {
            if (Object(a.e)(this.option.nameMap.main, !0, a.a.close)) {
                if (this.option.extraMap.freeTime)
                    if (Object(a.d)(this.option.nameMap.main)[this.option.extraMap.freeTime] > 0)
                        return void this.requstServe(t);
                h.e.hasEnough(this.option.costId, e || t) && this.requstServe(t)
            }
        }
        ,
        e.prototype.requstServe = function(t) {
            var e = this;
            Object(m.d)(this.option.routeMap.lottery, {
                num: t
            }).then((function(n) {
                n && (e.freeTime(),
                e.playAni(n, t))
            }
            ))
        }
        ,
        e.prototype.freeTime = function() {
            if (this.option.extraMap.freeTime) {
                var t = Object(a.d)(this.option.nameMap.main)[this.option.extraMap.freeTime];
                this.gp_cost && (this.gp_cost.visible = t <= 0),
                this.price && (this.price.visible = t > 0,
                this.price.text = Object(o.tr)(this.option.trMap.freeTime, {
                    num: t,
                    maxNum: this.option.extraMap.maxFreeTime
                })),
                this.option.extraMap.putChange && Object(o.put)(this.option.extraMap.putChange)
            }
        }
        ,
        e.prototype.playAni = function(t, e) {
            var n = this;
            this.rect2.visible = !0,
            this._mv || (this._mv = o.Movie.create(this.option.mvMap.lottery, !0),
            this._mv.atLast = !0,
            this.animNode1.addChild(this._mv),
            this.disposeArr.push(this._mv)),
            this._mv.visible = !0,
            this._mv.once(o.MovieEvent.COMPLETE, (function() {
                n._mv.visible = !1,
                n.rect2.visible = !1,
                S.show(t, n.option).exit(n.playRateAni.bind(n, "3")),
                n.updateView()
            }
            ), this),
            this._mv.play(1 == e ? "1" : "2", 1)
        }
        ,
        e.prototype.onExit = function() {
            this.option.resMap.bg && RES.destroyRes(this.option.resMap.bg);
            for (var e = 0; e < this._tweensTarget.length; e++)
                egret.Tween.removeTweens(this._tweensTarget[e]);
            t.prototype.onExit.call(this)
        }
        ,
        e.show = function(t, n, i) {
            if (void 0 === i && (i = !1),
            i) {
                if (Object(a.d)(n.nameMap.main).awardEnd < s.a.getNow())
                    return void Object(o.tooltip)(Object(o.tr)("main@actEnd"))
            } else if (!Object(a.e)(n.nameMap.main, !0, a.a.close))
                return;
            n.resMap.bg ? Object(L.b)(Object(T.a)(n.resMap.bg)).then((function() {
                Object(r.a)(new e(t,n))
            }
            )) : Object(r.a)(new e(t,n))
        }
        ,
        e
    }(o.UIComponent)
}
, , , function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return f
    }
    ));
    var i, o = n(1), r = n(186), a = n(129), s = n(107), c = n(196), u = n(241), h = n(106), l = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), p = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "WabaoTipSkin"),
            e
        }
        return l(e, t),
        e.prototype.onReady = function(t) {
            var e = this;
            this.setName("WabaoTipSkin"),
            this._prop = t,
            this.tap("btn_do", this.awd, this),
            this._mv = o.Movie.create("faxianbaozang_ske_json", !0),
            this.gp_ani.addChild(this._mv),
            this._mv.play("1"),
            this.disposeArr.push({
                dispose: function() {
                    e._mv && (e._mv.dispose(),
                    e._mv = null)
                }
            })
        }
        ,
        e.prototype.awd = function() {
            Object(o.singleton)(f).use(this._prop, !0)
        }
        ,
        e
    }(o.UIComponent), f = function() {
        function t() {
            this.mapId = -1,
            this.x = -100,
            this.y = -100,
            this._show = !1
        }
        return t.prototype.moveMap = function(t, e) {
            if (this.x = t,
            this.y = e,
            !this._show)
                for (var n = u.a.getList(), i = 0; i < n.length; i++) {
                    var r = {
                        x: n[i].p.x,
                        y: n[i].p.y
                    };
                    if (this.mapId == n[i].p.mId && this.x <= r.x + 1 && this.x >= r.x - 1 && this.y <= r.y + 1 && this.y >= r.y - 1) {
                        console.log("可以用了"),
                        Object(c.f)(2) ? Object(o.tooltip)(Object(o.tr)("main@wabaoFail")) : (this._show = !0,
                        Object(h.a)(new p, n[i]));
                        break
                    }
                }
            return this._show
        }
        ,
        t.prototype.useAll = function() {
            var t = u.a.getList().length;
            if (!(t <= 0)) {
                var e = 2;
                t > 1 && (e = 4),
                Object(c.f)(e) || Object(s.d)("tr.b").then((function(t) {
                    t && (a.b.show(t.awds),
                    o.UI.remove("BagItemInfoPanel"),
                    o.UI.remove("QilingXunbaoView"),
                    Object(o.put)("refresh_bag"))
                }
                ))
            }
        }
        ,
        t.prototype.afterUse = function(t, e) {
            var n = this;
            t.fightLog ? r.b.show(t.fightLog, !0, 1e3).exit((function(i) {
                i.isWin,
                a.b.show(t.awds).exit((function() {
                    e && n.moveMap(n.x, n.y)
                }
                ))
            }
            )) : a.b.show(t.awds).exit((function() {
                e && n.moveMap(n.x, n.y)
            }
            )),
            Object(o.put)("refresh_bag")
        }
        ,
        t.prototype.use = function(t, e) {
            var n = this;
            void 0 === e && (e = !1),
            this.canUse(t) && Object(s.d)("tr.a", {
                aId: t.p.aId
            }).then((function(t) {
                t && (o.UI.remove("BagItemInfoPanel"),
                o.UI.remove("WabaoTipSkin"),
                n._show = !1,
                n.afterUse(t, e))
            }
            ))
        }
        ,
        t.prototype.canUse = function(t) {
            if (!Object(c.f)(2)) {
                var e = t.p.x
                  , n = t.p.y;
                return this.mapId == t.p.mId && this.x <= e + 1 && this.x >= e - 1 && this.y <= n + 1 && this.y >= n - 1 || (Object(o.tooltip)(Object(o.tr)("main@cangbaoTip")),
                !1)
            }
        }
        ,
        t.prototype.enter = function(t) {
            this._show = !1,
            this.mapId = t
        }
        ,
        t.prototype.leave = function() {
            this.x = -100,
            this.y = -100
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return o
    }
    )),
    n.d(e, "b", (function() {
        return r
    }
    ));
    var i = "";
    function o() {
        return i
    }
    function r(t) {
        i = t
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return o
    }
    )),
    n.d(e, "b", (function() {
        return r
    }
    ));
    var i = 0;
    function o() {
        return 0 != i
    }
    function r(t) {
        i = t
    }
}
, function(t) {
    t.exports = JSON.parse('{"female":{"hair":8,"face":8,"eyebrow":8,"eye":9,"nose":8,"mouth":9,"decorate":17},"male":{"hair":8,"face":8,"eyebrow":16,"eye":8,"nose":8,"mouth":8,"decorate":17,"beard":9},"default":{"female":[[2,1,1,1,1,1,1,1,1],[2,2,2,2,2,2,2,2,1]],"male":[[1,1,1,1,1,1,1,1,1,1],[1,2,2,2,2,2,2,2,1,2]]}}')
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return h
    }
    ));
    var i, o = n(1), r = n(106), a = n(128), s = n(108), c = n(312), u = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), h = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "CommonGetHeroSkinSkin"),
            e
        }
        return u(e, t),
        e.prototype.onReady = function(t) {
            var e = t.num > 1;
            this.setState(e ? "promote" : "obtain");
            var n = t.heroSkin
              , i = Object(o.getConfig)("heroSkin_json")[n];
            Object(a.d)(this, n, "NewHalf"),
            e ? this.lbl_sx.text = Object(o.tr)("common@heroSkin_getSkinUp", {
                name: Object(o.tr)(i.name),
                num: t.num
            }) : this.lbl_hd.text = Object(o.tr)("common@heroSkin_getSkin", {
                name: Object(o.tr)(i.name)
            }),
            i.attr.forEach((function(e) {
                return e.num = t.num
            }
            )),
            Object(s.a)(this.list_sx, i.attr, {
                smart: !0
            }),
            this.list_sx.itemRenderer = c.a
        }
        ,
        e.show = function(t) {
            var n = o.Movie.create("bounty_common_1_ske_json", !0);
            n.x = o.display.stage.stageWidth / 2,
            n.y = o.display.stage.stageHeight / 2,
            o.display.stage.addChild(n),
            n.play("1", 1),
            n.once(o.MovieEvent.COMPLETE, (function() {
                n.dispose(),
                n = null,
                Object(r.a)(new e, t)
            }
            ), this)
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return l
    }
    ));
    var i = n(1)
      , o = n(114)
      , r = n(202)
      , a = n(162)
      , s = n(115)
      , c = n(169)
      , u = n(127)
      , h = n(112)
      , l = function() {
        function t() {}
        return t.prototype.getLotteryOption = function() {
            var t = new r.b
              , e = Object(h.d)("giftDraw").cId || 1
              , n = Object(u.e)("giftDraw", e, "festivalActivity_json");
            return t.conf = "festivalActivity_json",
            t.costId = 10729,
            t.nameMap = {
                main: "giftDraw",
                scoreReward: "gdScore",
                gift: "gdGift",
                exchange: "gdExchange",
                task: "gdTask",
                progress: "gdTimes"
            },
            t.skinMap = {},
            t.resMap = {
                bg: "bg_yuanxiao_jpg"
            },
            t.trMap = {
                periodTime: "commact@lightPeriodTime",
                closeTime: "commact@lightCloseTime",
                disStart: "commact@lightDisStart",
                disEnd: "commact@lightDisEnd",
                disClose: "commact@lightDisClose",
                luckyV: "fudai@lotteryRate",
                log: "fudai@lotteryLog",
                rewardItemDesc: "fudai@lotRewardDesc",
                resultDesc: "fudai@lotteryResultDesc"
            },
            t.txtMap = {
                helpT: Object(i.tr)("fudai@lotTitle"),
                helpC: Object(i.tr)("fudai@lotContent"),
                prevT: Object(i.tr)("fudai@fudaiPrevTitle"),
                rateT: Object(i.tr)("commact@rateT"),
                rateC: Object(i.tr)("fudai@lotteryRateC", {
                    proText1: o.e.getName(10742) + ":" + Object(s.l)(n.detail[2].exAwards),
                    proText2: o.e.getName(10741) + ":" + Object(s.l)(n.detail[1].exAwards),
                    proText3: o.e.getName(10740) + ":" + Object(s.l)(n.detail[0].exAwards)
                }),
                taskT: Object(i.tr)("fudai@lotRewardTitle"),
                rankRewardT: ""
            },
            t.mvMap = {
                lottery: "act_fuhuo_1_ske_json",
                lucky: "act_fudai_2_ske_json"
            },
            t.routeMap = {
                lottery: "at.gda",
                log: "at.gdb",
                rewardGet: "at.cf",
                taskGet: "spr.dh",
                proGet: "at.cf"
            },
            t.redMap = {
                reward: "秘宝单开奖励",
                obtain: "秘宝单开获取道具"
            },
            t.boxTypeMap = {
                1: 10742,
                2: 10741,
                3: 10740
            },
            t.prevTabArr = [{
                text: o.e.getName(10742),
                name: "2",
                icon: "icon_dengmi_xiuzhen_png",
                iconDown: "icon_dengmi_sel_png"
            }, {
                text: o.e.getName(10741),
                name: "1",
                icon: "icon_dengmi_shici_png",
                iconDown: "icon_dengmi_sel_png"
            }, {
                text: o.e.getName(10740),
                name: "0",
                icon: "icon_dengmi_normal_png",
                iconDown: "icon_dengmi_sel_png"
            }],
            t.rankTabArr = [{
                text: Object(i.tr)("commact@selfReward"),
                name: "1",
                id: "gdRank1",
                confName: t.conf,
                rankText: Object(i.tr)("commact@score"),
                rankType: a.b.cross
            }, {
                text: Object(i.tr)("commact@guildReward"),
                name: "2",
                id: "gdRank2",
                confName: t.conf,
                rankText: Object(i.tr)("commact@score"),
                rankType: a.b.guildCross
            }],
            t.rankSkinType,
            t.obtainInfo[0].red = "秘宝单开礼包",
            t.obtainInfo[1].text = Object(i.tr)("commact@dailyExchange"),
            t.obtainInfo[2].red = "秘宝单开任务",
            t
        }
        ,
        t.prototype.regRed = function() {
            this._redInit || (this._redInit = !0,
            i.RedPointManager.injection(new c.d("秘宝单开进度","gdTimes","festivalActivity_json")),
            i.RedPointManager.injection(new c.d("秘宝单开任务","gdTask","festivalActivity_json")),
            i.RedPointManager.injection(new c.d("秘宝单开奖励","gdScore","festivalActivity_json",1)),
            i.RedPointManager.injection(new c.b("秘宝单开礼包","gdGift",13,"lotGift")),
            i.RedPointManager.injection(new i.RedPointGroup("秘宝单开获取道具","秘宝单开任务","秘宝单开礼包")),
            i.RedPointManager.injection(new i.RedPointGroup("秘宝单开","秘宝单开获取道具","秘宝单开奖励","秘宝单开进度")))
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    var i = function(t) {
        function e() {
            t.call(this),
            this.skinParts = ["maskRect", "loadingShape", "shapeGroup"],
            this.height = 1280,
            this.width = 720,
            this.elementsContent = [this.maskRect_i(), this.shapeGroup_i()]
        }
        __extends(e, t);
        var n = e.prototype;
        return n.maskRect_i = function() {
            var t = new eui.Rect;
            return this.maskRect = t,
            t.alpha = .001,
            t.bottom = 0,
            t.fillColor = 16777215,
            t.left = 0,
            t.name = "maskRect",
            t.right = 0,
            t.top = 0,
            t
        }
        ,
        n.shapeGroup_i = function() {
            var t = new eui.Group;
            return this.shapeGroup = t,
            t.height = 100,
            t.horizontalCenter = 0,
            t.verticalCenter = 0,
            t.width = 100,
            t.elementsContent = [this._Rect1_i(), this.loadingShape_i()],
            t
        }
        ,
        n._Rect1_i = function() {
            var t = new eui.Rect;
            return t.alpha = .5,
            t.ellipseHeight = 50,
            t.ellipseWidth = 50,
            t.height = 100,
            t.visible = !1,
            t.width = 100,
            t.x = 0,
            t.y = 0,
            t
        }
        ,
        n.loadingShape_i = function() {
            var t = new eui.Image;
            return this.loadingShape = t,
            t.anchorOffsetX = 36,
            t.anchorOffsetY = 36,
            t.horizontalCenter = 0,
            t.name = "loadingShape",
            t.source = "shape_loading_png",
            t.verticalCenter = 0,
            t
        }
        ,
        e
    }(eui.Skin);
    e.a = i
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return r
    }
    ));
    var i = n(112)
      , o = n(111)
      , r = function() {
        function t() {}
        return t.fsMap = function() {
            return "" == this._fsMap && (this._fsMap = Object(i.d)("fsMap")),
            this._fsMap
        }
        ,
        t.calculate = function() {
            var t = this.fsMap();
            if (t) {
                for (var e = !1; t.num < 10 && o.a.isOver(t.cd); )
                    t.num++,
                    t.cd += 3600,
                    e = !0;
                return e
            }
            return !1
        }
        ,
        t._fsMap = "",
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return u
    }
    ));
    var i = n(1)
      , o = n(110)
      , r = n(109)
      , a = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , s = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , c = function() {
        function t(t, e) {
            this.p = t,
            this.c = e
        }
        return Object.defineProperty(t.prototype, "canReceive", {
            get: function() {
                return !this.p.awded && this.p.num >= this.c.value
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "receiveStatus", {
            get: function() {
                return this.canReceive ? 1 : this.p.num < this.c.value ? 2 : 3
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , u = function() {
        function t() {}
        return Object.defineProperty(t, "ins", {
            get: function() {
                return Object(i.singleton)(t)
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.checkRes = function() {
            return a(this, void 0, void 0, (function() {
                return s(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Object(o.b)([Object(r.a)("flyDailyTask_json"), Object(r.b)("eui_flyquest_json"), Object(r.a)("getWay_json")])];
                    case 1:
                        return t.sent(),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        t.prototype.clearTaskList = function() {
            this._taskDic = null
        }
        ,
        t.prototype.getTaskList = function() {
            if (!this._taskDic) {
                this._taskDic = [];
                var t = Object(i.getConfig)("flyDailyTask_json")
                  , e = Object(i.getCache)("flyDailyTask.getList");
                if (e && e.l)
                    for (var n = 0; n < e.l.length; n++)
                        t[e.l[n].id] && 100 != t[e.l[n].id].type && this._taskDic.push(new c(e.l[n],t[e.l[n].id]))
            }
            for (var o = this._taskDic, r = 0; r < o.length - 1; r++)
                for (n = 0; n < o.length - 1 - r; n++)
                    if (o[n].receiveStatus > o[n + 1].receiveStatus) {
                        var a = o[n];
                        o[n] = o[n + 1],
                        o[n + 1] = a
                    } else if (o[n].receiveStatus == o[n + 1].receiveStatus && o[n].c.id > o[n + 1].c.id) {
                        a = o[n];
                        o[n] = o[n + 1],
                        o[n + 1] = a
                    }
            return o
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return o
    }
    )),
    n.d(e, "b", (function() {
        return f
    }
    ));
    var i, o, r = n(1), a = n(150), s = n(107), c = n(109), u = n(106), h = n(167), l = n(283), p = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    );
    !function(t) {
        t[t.recruit = 0] = "recruit",
        t[t.view = 1] = "view"
    }(o || (o = {}));
    var f = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(r.setSkin)(e, "PanelDiscipleViewSkin"),
            e
        }
        return p(e, t),
        e.prototype.onReady = function(t, e) {
            if (t == o.recruit)
                this.setState("recruit"),
                this.recruit();
            else {
                this.setState("view"),
                this.diziId = e.c.id,
                this.view(e.c.id, e.p.lv),
                this.lbl_status.text = e.status;
                var n = this.expbar;
                n.maximum = e.totalExp,
                n.value = e.curExp,
                this.lbl_identity.text = e.order
            }
            this.tap("btn_refuse", this.onRefuse, this),
            this.tap("btn_accept", this.onAccept, this),
            this.tap("btn_dismiss", this.onDismiss, this)
        }
        ,
        e.prototype.onDismiss = function() {
            var t = this;
            Object(l.a)(this.diziId).then((function(e) {
                e && r.UI.remove(t)
            }
            ))
        }
        ,
        e.prototype.recruit = function() {
            var t = this
              , e = Object(r.singleton)(a.a).info.todoDizi;
            if (e > 0) {
                var n = Object(a.c)(e, 4)
                  , i = 1;
                n && (i = n.val),
                this.view(e, i)
            } else
                Object(s.d)("se.j").then((function(e) {
                    if (e) {
                        var n = Object(r.singleton)(a.a).info.todoDizi;
                        h.c.write({
                            id: 1,
                            cId: n
                        }),
                        t.view(n, 1)
                    }
                }
                ))
        }
        ,
        e.prototype.onRefuse = function() {
            this.doRecruit(0)
        }
        ,
        e.prototype.onAccept = function() {
            this.doRecruit(1)
        }
        ,
        e.prototype.doRecruit = function(t) {
            var e = this
              , n = Object(r.singleton)(a.a).info.todoDizi;
            Object(s.d)("se.k", {
                opt: t
            }).then((function(i) {
                i && (0 == t ? Object(r.tooltip)(Object(r.tr)("sect@recruitTip1")) : Object(r.tooltip)(Object(r.tr)("sect@recruitTip2")),
                1 == t ? (h.c.write({
                    id: 2,
                    cId: n
                }),
                h.c.write({
                    id: 3,
                    cId: n
                }),
                h.c.write({
                    id: 4,
                    cId: n
                })) : h.c.write({
                    id: 5,
                    cId: n
                }),
                Object(r.singleton)(a.a).setDiziDirty(),
                r.UI.remove(e))
            }
            ))
        }
        ,
        e.prototype.view = function(t, e) {
            var n = Object(r.getConfig)("pupil_json")[t];
            this.img_npc.source = "role_head_" + n.icon + "_png",
            this.lbl_name.text = n.name,
            this.lbl_look.text = n.desc1,
            this.lbl_background.text = n.desc2,
            this.lbl_level.text = Object(r.getConfig)("pupilLevel_json")[e].levelName,
            this.updateSkill(n, 1),
            this.updateSkill(n, 2),
            this.updateSkill(n, 3)
        }
        ,
        e.prototype.updateSkill = function(t, e) {
            var n = this["lbl_skill_" + e];
            if (t["talent" + e]) {
                n.visible = !0;
                var i = Object(r.getConfig)("pupilTalent_json")[t["talent" + e]];
                n.text = Object(r.tr)("sect@talent", {
                    name: Object(r.tr)(i.name),
                    des: Object(r.tr)(i.desc)
                })
            } else
                n.visible = !1
        }
        ,
        e.show = function(t, n, i) {
            return Object(c.a)("pupilTalent_json").then((function(o) {
                return Object(u.a)(new e, t, n, i)
            }
            ))
        }
        ,
        e
    }(r.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return s
    }
    )),
    n.d(e, "b", (function() {
        return c
    }
    ));
    var i, o = n(1), r = n(106), a = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), s = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "ConfirmWithPriceSkin"),
            e
        }
        return a(e, t),
        e.prototype.onReady = function(t) {
            this.updateView(t),
            this.tap("yesBtn", this.onYes, this),
            this.tap("close", this.onClose, this)
        }
        ,
        e.prototype.updateView = function(t) {}
        ,
        e.prototype.onYes = function() {
            this.doTap("yes")
        }
        ,
        e.prototype.onClose = function() {
            this.doTap("close")
        }
        ,
        e.prototype.doTap = function(t) {
            this._resolve && this._resolve(t),
            o.UI.remove(this)
        }
        ,
        e.prototype.getPromise = function() {
            var t = this;
            return this._promise || (this._promise = new Promise((function(e) {
                t._resolve = e
            }
            ))),
            this._promise
        }
        ,
        e
    }(o.UIComponent), c = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return a(e, t),
        e.prototype.updateView = function(t) {
            this.des.text = Object(o.tr)("main@goConfirm", t)
        }
        ,
        e.show = function(t) {
            return Object(r.c)(new e, t).getPromise()
        }
        ,
        e
    }(s)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return a
    }
    ));
    var i, o = n(1), r = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), a = function(t) {
        function e(e) {
            void 0 === e && (e = "guide");
            var n = t.call(this) || this;
            return n.style = e,
            n
        }
        return r(e, t),
        e.prototype.$onAddToStage = function(n, i) {
            t.prototype.$onAddToStage.call(this, n, i);
            var r = new eui.Image("icon_guide_circle_png");
            r.anchorOffsetX = 39.5,
            r.anchorOffsetY = 39.5,
            this.addChild(r),
            "simple" != this.style && "guide" != this.style || (e.simple++,
            Object(o.put)("on_tap_quest"));
            var a = new eui.Image("icon_guide_finger_png");
            a.anchorOffsetX = 44.5,
            a.anchorOffsetY = 47.5,
            this.addChild(a),
            this.cir1 = r,
            this.hand = a,
            a.x = 58,
            a.y = 82,
            egret.Tween.get(a, {
                loop: !0
            }).to({
                x: 36.45,
                y: 40
            }, 300).to({
                x: 58,
                y: 82
            }, 500),
            r.scaleX = r.scaleY = .69,
            r.alpha = 0,
            egret.Tween.get(r, {
                loop: !0
            }).to({
                alpha: 1
            }, 200).to({
                scaleX: 1.6,
                scaleY: 1.6
            }, 400).call((function() {
                r.scaleX = r.scaleY = .69,
                r.alpha = 0
            }
            ))
        }
        ,
        e.prototype.$onRemoveFromStage = function() {
            t.prototype.$onRemoveFromStage.call(this),
            "simple" != this.style && "guide" != this.style || e.simple--,
            egret.Tween.removeTweens(this.cir1),
            egret.Tween.removeTweens(this.hand)
        }
        ,
        e.simple = 0,
        e
    }(egret.DisplayObjectContainer)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return c
    }
    ));
    var i, o = n(1), r = n(113), a = n(117), s = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), c = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "OfflineRewardSkin"),
            e
        }
        return s(e, t),
        e.prototype.onReady = function(t) {
            for (var n in e.property) {
                var i = t[e.property[n]];
                this["num" + n].text = (i < 1e4 ? i : Object(a.a)(i)) + ""
            }
        }
        ,
        e.checkOffline = function(t) {
            if (t)
                for (var n in e.property) {
                    var i = e.property[n];
                    if (t.hasOwnProperty(i) && 0 != t[i])
                        return !0
                }
            return !1
        }
        ,
        e.show = function() {
            var t = Object(r.a)("offline");
            this.checkOffline(t) && o.UI.openSeqBox(new e, t)
        }
        ,
        e.property = {
            1: "exp",
            2: "lqic",
            3: "ptc",
            4: "zq",
            5: "xq",
            6: "gcb",
            7: "sc",
            8: "fdc",
            9: "irc",
            10: "wdc"
        },
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return f
    }
    ));
    var i, o = n(1), r = n(108), a = n(156), s = n(107), c = n(116), u = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), h = function(t) {
        this.c = t
    };
    function l(t) {
        var e = Object(o.getCache)("Fish.getInfo").l.filter((function(e) {
            return e.cId == t
        }
        ));
        return 0 == e.length ? 0 : e[0].num
    }
    var p = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return u(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (t) {
                this.haveNode.visible = !1,
                this.item1.propId = t.c.getItemId,
                this.item1.num = t.c.getNum,
                this.item2.propId = t.c.costItemId,
                this.item2.showNum = !1;
                var e = t.c.costNum
                  , n = l(t.c.costItemId);
                this.needNum.text = n + "/" + e,
                Object(a.a)(this.needNum, n >= e)
            }
        }
        ,
        e.prototype.onReady = function() {
            this.tap("btn", this.onExchange, this)
        }
        ,
        e.prototype.onExchange = function() {
            if (l(this.data.c.costItemId) < this.data.c.costNum) {
                var t = Object(o.getConfig)("item_json")[this.data.c.costItemId].name;
                Object(o.tooltip)(Object(o.tr)("main@itemNotEnough", {
                    name: Object(o.tr)(t)
                }))
            } else
                Object(s.d)("s.i", {
                    type: "fish",
                    id: this.data.c.id
                }).then((function(t) {
                    t && (c.a.show(t.awds),
                    Object(o.put)("refresh_fish_list"))
                }
                ))
        }
        ,
        e
    }(o.Item)
      , f = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "FishingShopSkin"),
            e
        }
        return u(e, t),
        e.prototype.getArray = function() {
            var t = Object(o.getConfig)("fishShop_json")
              , e = [];
            for (var n in t)
                e.push(new h(t[n]));
            return e
        }
        ,
        e.prototype.onReady = function() {
            var t = this;
            this.list.itemRenderer = p,
            Object(r.a)(this.list, this.getArray()),
            this.on("refresh_fish_list", (function() {
                Object(r.a)(t.list, t.getArray())
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return b
    }
    ));
    var i, o = n(1), r = n(106), a = n(140), s = n(108), c = n(113), u = n(110), h = n(107), l = n(121), p = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), f = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, d = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, b = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelGiftRankSkin"),
            e
        }
        return p(e, t),
        e.prototype.onReady = function(t, e, n, i, r, u, h) {
            var p = this;
            this._recordData = r.record.map((function(t) {
                return t.tr = h,
                t
            }
            )),
            this._style = e,
            this.tab.itemRenderer = m,
            this.list.itemRenderer = g,
            this.list_record.itemRenderer = _,
            this.disposeArr.push(new l.a({
                tab: this.tab,
                array: [{
                    text: n,
                    name: "tab1"
                }, {
                    text: u,
                    name: "tab2"
                }],
                onSelect: function(e) {
                    return "tab2" == e ? (p.setState("record"),
                    Object(s.a)(p.list_record, p._recordData, {
                        smart: !0
                    })) : (0 == p._style ? p.setState("down") : p.setState("up"),
                    Object(s.a)(p.list, t.l)),
                    !0
                }
            })),
            0 == e ? this.setState("down") : this.setState("up"),
            this.lbl_type.text = i,
            Object(s.a)(this.list, t.l),
            this.lbl_top.text = 0 != t.self.rank ? t.self.rank : Object(o.tr)("main@rankNo"),
            this.lbl_name.text = Object(c.a)("uNa"),
            this.lbl_donate.text = t.self.score,
            Object(a.a)(this.head, Object(c.a)("skin")),
            this.img_top.visible = !1,
            this.lbl_top.visible = !1,
            0 == t.self.rank ? (this.lbl_top.text = Object(o.tr)("main@rankNo"),
            this.lbl_top.visible = !0) : t.self.rank < 4 ? (this.img_top.visible = !0,
            this.img_top.source = "rank_" + t.self.rank + "_png") : t.self.rank < 11 ? (this.img_top.visible = !0,
            this.img_top.source = "rank_4_png",
            this.lbl_top.text = t.self.rank,
            this.lbl_top.visible = !0) : (this.lbl_top.text = t.self.rank,
            this.lbl_top.visible = !0)
        }
        ,
        e.show = function(t, n, i, o, a, s, c, l) {
            return f(this, void 0, void 0, (function() {
                var p;
                return d(this, (function(f) {
                    switch (f.label) {
                    case 0:
                        return [4, Object(u.b)([Object(h.d)("r.a", {
                            type: t
                        }), Object(h.a)(a, l)])];
                    case 1:
                        return p = f.sent(),
                        Object(r.a)(new e, p[0], n, i, o, p[1], s, c),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent), g = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return p(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && t.rank && (this.lbl_top.text = t.rank,
            this.lbl_name.text = t.name,
            this.lbl_donate.text = t.score,
            Object(a.a)(this.head, t.skin),
            this.img_top.visible = !1,
            this.lbl_top.visible = !1,
            t.rank < 4 ? (this.img_top.visible = !0,
            this.img_top.source = "rank_" + t.rank + "_png") : t.rank < 11 ? (this.img_top.visible = !0,
            this.img_top.source = "rank_4_png",
            this.lbl_top.text = t.rank,
            this.lbl_top.visible = !0) : (this.lbl_top.text = t.rank,
            this.lbl_top.visible = !0))
        }
        ,
        e
    }(o.Item), _ = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return p(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (t && t.tr) {
                for (var e in t)
                    "tr" != e && "string" == typeof t[e] && t[e].indexOf("@") > 0 && (t[e] = Object(o.tr)(t[e]));
                this.desc.textFlow = (new egret.HtmlTextParser).parser(Object(o.tr)(t.tr, t))
            }
        }
        ,
        e
    }(o.Item), m = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return p(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.img_up.scaleX = this.img_down.scaleX = "tab1" == t.name ? -1 : 1)
        }
        ,
        e
    }(o.Item)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return c
    }
    ));
    var i, o = n(1), r = n(114), a = n(138), s = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), c = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        Object.defineProperty(e.prototype, "buyAuth", {
            get: function() {
                return !(!(r.e.getNum(40008) > 0) && "maShop2" == this.c.activityName && 1 == this.c.label) || (Object(o.tooltip)(Object(o.tr)("main@noBuyGift")),
                !1)
            },
            enumerable: !0,
            configurable: !0
        }),
        e
    }(a.b)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return l
    }
    ));
    var i, o = n(1), r = n(106), a = n(108), s = n(107), c = n(114), u = n(126), h = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), l = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            return n.duId = e,
            Object(o.setSkin)(n, "gitRecordSkin"),
            n
        }
        return h(e, t),
        e.prototype.onReady = function() {
            this.list.itemRenderer = p,
            Object(a.a)(this.list, c.e.getListByType(c.b.likevGift)),
            this.tap("btn_record", this.onGive, this)
        }
        ,
        e.prototype.onGive = function() {
            var t = this
              , e = this.list.selectedItem;
            e ? Object(s.d)("fr.a", {
                duId: this.duId,
                item: e.c.id,
                num: 1
            }).then((function(n) {
                n && (Object(o.tooltip)(Object(o.tr)("gam@likevAdd", {
                    num: e.c.ResultVal2
                })),
                Object(a.a)(t.list, c.e.getListByType(c.b.likevGift)),
                Object(o.put)("update_likev", n))
            }
            )) : this.list.dataProvider && this.list.dataProvider.length ? Object(o.tooltip)(Object(o.tr)("gam@selLikevGift")) : Object(o.tooltip)(Object(o.tr)("gam@noGift"))
        }
        ,
        e.show = function(t) {
            return Object(r.a)(new e(t))
        }
        ,
        e
    }(o.UIComponent), p = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return h(e, t),
        e.prototype.onEnter = function() {}
        ,
        e
    }(u.a)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return o
    }
    ));
    var i = n(1);
    function o() {
        return i.is.xyx() || Object(i.getOption)("offsetScreen"),
        0
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return o
    }
    ));
    var i = n(154);
    function o(t) {
        t.runOnSkinLoad((function() {
            Object(i.f)(t.commonBg);
            for (var e = 2; e <= 10 && t["commonBg" + e]; e++)
                Object(i.f)(t["commonBg" + e]);
            if (t.btn_close) {
                var n = Object(i.b)();
                if (n > 0) {
                    var o = Object(i.d)();
                    t.btn_close && (t.btn_close.left = -n * o)
                }
            }
        }
        ))
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return i
    }
    )),
    n.d(e, "a", (function() {
        return u
    }
    ));
    var i, o = n(107), r = n(1), a = n(171), s = n(176), c = function() {
        function t() {
            this.propertyMap = {},
            this._changeQueue = [],
            this.watchs = []
        }
        return t.prototype.watch = function() {
            var t = this;
            Object(o.a)("ar.a", "Attr.getInfo").then((function(e) {
                t.initProperty(),
                t.watchProperty()
            }
            ))
        }
        ,
        t.prototype.checkQueue = function() {
            this._tickId || this.tickQueue()
        }
        ,
        t.prototype.tickQueue = function() {
            if (0 == this._changeQueue.length)
                egret.clearTimeout(this._tickId),
                this._tickId = null;
            else {
                var t = this._changeQueue.shift();
                t.change < 0 ? (s.e.indexOf(t.tr) > -1 && (t.change = t.change / 100 + "%"),
                a.a.show({
                    rich: !0,
                    text: "<font color=#ce2121>" + Object(r.tr)("main@" + t.tr) + t.change + "</font>"
                })) : (s.e.indexOf(t.tr) > -1 && (t.change = t.change / 100 + "%"),
                a.a.show(Object(r.tr)("main@" + t.tr) + t.change)),
                this._tickId = egret.setTimeout(this.tickQueue, this, 500)
            }
        }
        ,
        t.prototype.pushChangeProperty = function(t, e) {
            this._changeQueue.push({
                tr: t,
                change: e - this.propertyMap[t]
            }),
            this.checkQueue(),
            this.propertyMap[t] = e
        }
        ,
        t.prototype.watchProperty = function() {
            var t = Object(r.getCache)("Attr.getInfo")
              , e = Object(s.f)();
            for (var n in e)
                this.watchs.push(eui.Watcher.watch(t, [n], this.onUpdatePrpoerty(n), this))
        }
        ,
        t.prototype.onUpdatePrpoerty = function(t) {
            var e = this;
            return function() {
                var n = Object(s.f)(t)
                  , i = Object(r.getCache)("Attr.getInfo")[t];
                console.log(t + ":" + i),
                e.pushChangeProperty(n.tr, i)
            }
        }
        ,
        t.prototype.initProperty = function() {
            var t = Object(r.getCache)("Attr.getInfo")
              , e = Object(s.f)();
            for (var n in e) {
                var i = e[n];
                this.propertyMap[i.tr] = t[n]
            }
            console.log(JSON.stringify(this.propertyMap))
        }
        ,
        t
    }();
    function u() {
        (i = new c).watch()
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return s
    }
    ));
    var i = n(112)
      , o = n(1)
      , r = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , a = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    };
    function s() {
        return r(this, void 0, void 0, (function() {
            var t;
            return a(this, (function(e) {
                try {
                    (t = Object(i.d)("addWxGame")) && !t.status && Object(o.getSocket)().request("at.k").then((function(t) {
                        console.log(t),
                        Object(o.tooltip)("收藏成功!")
                    }
                    )).catch(o.errorHandler)
                } catch (t) {
                    console.log("有错了 Myprogram")
                }
                return [2]
            }
            ))
        }
        ))
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return a
    }
    ));
    var i = n(107)
      , o = n(112)
      , r = n(1);
    function a() {
        return Object(i.d)("at.alist").then((function(t) {
            var e = []
              , n = [];
            return t.dl && r.cache.set("Daoshua.getInfo", t.dl),
            t.l.forEach((function(t) {
                var i = Object(o.d)(t.id);
                i ? i.start != t.start && n.push(t.id) : e.push(t.id)
            }
            )),
            e.length > 0 ? Object(i.d)("at.a", {
                arPids: e
            }).then((function(t) {
                Object(r.put)("update_mainActBtn"),
                n.length > 0 && Object(i.d)("at.a", {
                    arPids: n,
                    diff: "change"
                })
            }
            )) : n.length > 0 && Object(i.d)("at.a", {
                arPids: n,
                diff: "change"
            }).then((function(t) {
                Object(r.put)("update_mainActBtn")
            }
            )),
            t
        }
        ))
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return o
    }
    ));
    var i = n(113);
    function o() {
        return Object(i.a)("druglv") >= 1 || Object(i.a)("refinlv") >= 1
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return f
    }
    ));
    var i, o = n(1), r = n(106), a = n(118), s = n(240), c = n(125), u = n(0), h = n(135), l = n(183), p = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), f = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "XianshiMainSkin"),
            e
        }
        return p(e, t),
        e.prototype.onExit = function() {}
        ,
        e.prototype.onReady = function() {
            this.addBehavior(new a.a),
            this.tap("btn_lundao", this.onLundao, this),
            this.tap("btn_xunfang", this.onXunfang, this),
            this.tap("btn_shenmu", this.onShenmu, this),
            this.tap("btn_explore", this.openExplore, this),
            this.tap("btn_julingdian", this.onJuling, this),
            this.tap("btn_remains", this.onRemains, this),
            this.disposeArr.push(new l.a(this.btn_remains,"太古遗迹",{
                name: "tybiaoti_1_ske_json",
                x: 162,
                y: 240,
                scaleX: 1.4,
                scaleY: 1.7
            })),
            this.disposeArr.push(new l.a(this.btn_lundao,"仙仆论道",{
                name: "tybiaoti_1_ske_json",
                x: 162,
                y: 210,
                scaleX: 1.4,
                scaleY: 1.7
            })),
            this.disposeArr.push(new l.a(this.btn_shenmu,"四方神木",{
                name: "tybiaoti_1_ske_json",
                x: 162,
                y: 270,
                scaleX: 1.4,
                scaleY: 1.7
            }))
        }
        ,
        e.prototype.onRemains = function() {
            Object(c.b)({
                source: Object(u.y)(),
                locale: "finance",
                resGroup: "finance",
                name: "finance"
            }).then((function(t) {
                Object(o.put)("finance.open")
            }
            ))
        }
        ,
        e.prototype.openExplore = function() {
            h.a.openExplore()
        }
        ,
        e.prototype.onXunfang = function() {
            h.a.openXunfang()
        }
        ,
        e.prototype.onShenmu = function() {
            h.a.openTree()
        }
        ,
        e.prototype.onJuling = function() {
            h.a.openLing(2)
        }
        ,
        e.prototype.onLundao = function() {
            Object(c.b)({
                source: Object(u.xb)(),
                locale: "pvps",
                name: "pvps"
            }).then((function(t) {
                t.PVPSMainView.show()
            }
            ))
        }
        ,
        e.show = function() {
            s.a.show((function() {
                Object(r.a)(new e)
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return v
    }
    ));
    var i, o = n(1), r = n(106), a = n(110), s = n(107), c = n(116), u = n(114), h = n(109), l = n(119), p = n(160), f = n(130), d = n(112), b = n(111), g = n(123), _ = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), m = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, y = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, v = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "YunxianchiMainSkin"),
            e
        }
        return _(e, t),
        e.prototype.onReady = function() {
            this.updateView(),
            this.tap("btn_stone", this.onClick, this),
            this.tap("btn_help", (function() {
                l.a.show({
                    title: Object(o.tr)("main@stoneHTitle"),
                    content: Object(o.tr)("main@stoneHContent")
                })
            }
            ), this),
            this.tap("btn_adv", (function() {
                p.d.show({
                    isIcon: !0,
                    type: "yunXianChi",
                    state: "yunXianChi",
                    confId: 6
                })
            }
            ), this),
            this.disposeArr.push(Object(g.b)("蕴仙池激励视频", this.btn_adv)),
            this.on("refresh_advert_success", this.refreshAdvert, this),
            this.refreshAdvert()
        }
        ,
        e.prototype.updateView = function() {
            var t = Object(o.getCache)("GStone.getInfo", "maxNum") - Object(o.getCache)("GStone.getInfo", "num") + 1
              , e = Object(o.getConfig)("dianjin_json")[t] ? Object(o.getConfig)("dianjin_json")[t] : Object(o.getConfig)("dianjin_json")[10];
            this.lbl_num.text = Object(o.tr)("main@todayTimes", {
                n: Object(o.getCache)("GStone.getInfo", "num")
            }),
            this.item_1.propId = u.f.lingyu,
            this.item_1.num = e.costNum,
            this.item_2.propId = 1033,
            this.item_2.num = e.xianshi
        }
        ,
        e.prototype.onClick = function() {
            if (Object(o.getCache)("GStone.getInfo", "num") <= 0)
                return Object(o.tooltip)(Object(o.tr)("main@blankLimit"));
            var t = this
              , e = Object(o.getCache)("GStone.getInfo", "maxNum") - Object(o.getCache)("GStone.getInfo", "num") + 1
              , n = Object(o.getConfig)("dianjin_json")[e] ? Object(o.getConfig)("dianjin_json")[e].costNum : Object(o.getConfig)("dianjin_json")[10].costNum;
            Object(o.confirm)(Object(o.tr)("main@glodStoneAsk", {
                n: n
            })).then((function(e) {
                "yes" == e && u.e.hasEnough(u.f.lingyu, n) && Object(s.d)("poi.b").then((function(e) {
                    e && (c.a.show(e.awds),
                    t.updateView())
                }
                ))
            }
            ))
        }
        ,
        e.prototype.refreshAdvert = function() {
            var t = Object(d.d)("shareSwitch");
            t && f.b.isOpen("advert") ? this.btn_adv.visible = t.ids.yunXianChi.num > 0 && b.a.getNow() > t.ids.yunXianChi.time : this.btn_adv.visible = !1
        }
        ,
        e.show = function() {
            return m(this, void 0, void 0, (function() {
                return y(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Object(a.b)([Object(s.a)("poi.a", "GStone.getInfo"), Object(h.a)("dianjin_json")])];
                    case 1:
                        return t.sent(),
                        Object(r.a)(new e),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return w
    }
    ));
    var i, o = n(1), r = n(106), a = n(212), s = n(107), c = n(4), u = n(110), h = n(109), l = n(111), p = n(303), f = n(166), d = n(113), b = n(171), g = n(165), _ = n(134), m = n(137), y = n(112), v = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), O = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, j = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, w = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            return n._index = 0,
            n._type = e,
            Object(o.setSkin)(n, "RaidEventSkin"),
            n
        }
        return v(e, t),
        e.prototype.onReady = function() {
            this.updateView();
            for (var t = 1; t <= 3; t++)
                this.tap(this["btn_option_" + t], this.onTap.bind(this, t), this);
            this.tap("btn_comfirm", this.onOk, this),
            this.tap("btn_next", this.onNext, this),
            this.tap("btn_previous", this.onPrevious, this)
        }
        ,
        Object.defineProperty(e.prototype, "events", {
            get: function() {
                return Object(o.singleton)(p.b).getYuanList(this._type)
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "model", {
            get: function() {
                return this._index >= this.events.length && (this._index = this.events.length - 1),
                this.events[this._index]
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.onNext = function() {
            this._index < this.events.length - 1 && (this._index++,
            this.updateView())
        }
        ,
        e.prototype.onPrevious = function() {
            this._index > 0 && (this._index--,
            this.updateView())
        }
        ,
        e.prototype.onTap = function(t) {
            var e = this
              , n = this.model;
            if (n.type == p.d.xian) {
                if (!n || !n.options)
                    return;
                var i = n.options[t - 1];
                if (Object(c.leftPackage)(1) && 3 != t)
                    return;
                if (i.c.costItemId > 0 && !c.PropModel.hasEnough(i.c.costItemId, i.c.costNum))
                    return;
                Object(s.d)("m.f", {
                    id: n.id,
                    cId: n.options[t - 1].optionId
                }).then((function(i) {
                    i && (n.select(t - 1, i),
                    n.cur.c.type == p.c.fight ? c.FightPanel.show(i.fightLog, !0, 1e3).exit((function(t) {
                        t.isWin ? Object(o.get)(a.a).pushRaidlog({
                            type: "qySuccess"
                        }) : Object(o.get)(a.a).pushRaidlog({
                            type: "qyFail"
                        }),
                        e.raidlog(i),
                        e.updateView()
                    }
                    )) : (e.raidlog(i),
                    e.updateView()))
                }
                ))
            } else
                n.jiyuanType == p.a.share_event && 1 == t ? (1 == n.id ? Object(_.a)("game_video_jiyuan0") : Object(_.a)("game_video_jiyuan12"),
                c.PropModel.hasEnough(20063, 1, !1) ? this.sendJiyuan(n, t) : Object(g.c)((function() {
                    e.sendJiyuan(n, t)
                }
                ), this.failAdvert)) : this.sendJiyuan(n, t)
        }
        ,
        e.prototype.failAdvert = function() {}
        ,
        e.prototype.sendJiyuan = function(t, e) {
            var n = this;
            Object(s.d)("n.b", {
                id: t.p.id,
                type: t.p.type,
                uniqId: t.p.uniqId,
                optionId: e
            }).then((function(i) {
                i && (b.a.show(i.awds),
                t.select(e - 1, i),
                n.updateView(),
                t.jiyuanType == p.a.daolv && n.addDaolvLog(t))
            }
            ))
        }
        ,
        e.prototype.addDaolvLog = function(t) {
            var e, n;
            0 == t.optIdx && (e = "main@daolvEventLog_0",
            e = 4 == t.obj.id ? "main@daolvEventLog_2" : "main@daolvEventLog_1",
            n = new f.b(f.c.common,{
                content: e,
                year: Object(d.a)("yt"),
                name: t.npcName
            }),
            Object(o.singleton)(f.a).addLog(f.c.homeDaolv, n))
        }
        ,
        e.prototype.raidlog = function(t) {
            if (t.awds) {
                for (var e = "", n = "", i = t.awds.filter((function(t) {
                    return t.num >= 0
                }
                )), r = t.awds.filter((function(t) {
                    return t.num < 0
                }
                )), s = 0; s < i.length; s++) {
                    var c = u == i.length - 1 ? "" : "、";
                    e += "[" + Object(o.tr)(Object(o.getConfig)("item_json")[i[s].propId].name) + "]*" + i[s].num + c
                }
                for (var u = 0; u < r.length; u++) {
                    c = u == r.length - 1 ? "" : "、";
                    n += "[" + Object(o.tr)(Object(o.getConfig)("item_json")[r[u].propId].name) + "]*" + -r[u].num + c
                }
                i.length > 0 && Object(o.get)(a.a).pushRaidlog({
                    type: "qyReward",
                    reward: e
                }),
                r.length > 0 && Object(o.get)(a.a).pushRaidlog({
                    type: "qyLose",
                    reward: n
                })
            }
        }
        ,
        e.prototype.onOk = function() {
            Object(o.singleton)(p.b).removeXian(this.model) ? this.updateView() : o.UI.remove(this)
        }
        ,
        e.prototype.updateView = function() {
            var t = this.model;
            if (this.events.length > 1 ? (this.gp_page.visible = !0,
            this.lbl_page.text = this._index + 1 + "/" + this.events.length,
            this.btn_next.enabled = this._index < this.events.length - 1,
            this.btn_previous.enabled = this._index > 0) : this.gp_page.visible = !1,
            this.gp_option.visible = !1,
            this.gp_result_2.visible = !1,
            this.lbl_result_1.visible = !1,
            this.btn_comfirm.visible = !1,
            t)
                if (this.lbl_title.text = t.title,
                this.lbl_content.text = t.desc,
                this.lbl_identity.text = t.role,
                this.lbl_name.text = t.name,
                this.img_npc.source = t.npcIcon,
                t.cur) {
                    var e = parseInt(t.cur.itemId)
                      , n = t.cur.num;
                    e ? (this.gp_result_2.visible = !0,
                    this.reward.propId = e,
                    this.reward.num = n,
                    this.lbl_result_2.text = t.awdText) : (this.lbl_result_1.visible = !0,
                    this.lbl_result_1.text = t.awdText),
                    this.btn_comfirm.visible = !0
                } else {
                    this.gp_option.visible = !0;
                    var i = t.options;
                    this.btn_option_1.img_adv.visible = t.jiyuanType == p.a.share_event && (Object(y.n)() || Object(m.i)() || "bearjoy" == Object(o.getPlatform)().name),
                    this.skipNode.visible = t.jiyuanType == p.a.share_event && (Object(y.n)() || "bearjoy" == Object(o.getPlatform)().name);
                    for (var r = 1; r <= 3; r++)
                        i[r - 1] ? (this["btn_option_" + r].visible = !0,
                        this["btn_option_" + r].label = i[r - 1].text) : this["btn_option_" + r].visible = !1
                }
        }
        ,
        e.prototype.updateAwd = function(t, e, n) {
            var i = null;
            if (e.proxyData && e.proxyData.awds && (i = e.proxyData.awds.filter((function(e) {
                if (t) {
                    if (2 == t.type && 20005 == e.propId)
                        return !0;
                    if (1 == t.type && 20018 == e.propId)
                        return !0
                }
                return e.propId == t.itemId && e.num > 0
            }
            ))[0]),
            t && t.type <= 7) {
                this.lbl_result_1.visible = !0;
                var r = t.type;
                this.lbl_result_1.text = Object(o.tr)("main@mainEvent" + r, {
                    num: i ? i.num : t.num,
                    name: Object(o.tr)(e.npcName)
                })
            } else
                t ? (this.gp_result_2.visible = !0,
                this.lbl_result_2.text = n.name,
                i ? (this.item.propId = i.itemId || i.propId,
                this.item.num = i.num) : (this.item.propId = t.itemId,
                this.item.num = t.num)) : (this.lbl_result_1.visible = !0,
                this.lbl_result_1.text = n.name)
        }
        ,
        e.show = function(t) {
            return O(this, void 0, void 0, (function() {
                return j(this, (function(n) {
                    return Object(u.b)([Object(s.a)("m.e", "Map.getInfo"), Object(s.a)("n.a", "LuckChange.getList", (function(t) {
                        return l.a.getNow(!0) >= t.time
                    }
                    )), Object(h.a)("adventureOption_json"), Object(h.a)("adventure_json"), Object(h.a)("eventResult_json"), Object(h.a)("duBoEvent_json"), Object(h.a)("unionEvent_json"), Object(h.a)("daoLvEve_json"), Object(h.a)("event_json"), Object(h.a)("shareEvent_json"), Object(o.getLocale)().init("adv")]).then((function(n) {
                        var i = n[0];
                        n[1];
                        i && (Object(o.singleton)(p.b).init(),
                        Object(o.singleton)(p.b).getYuanList(t).length <= 0 ? t == p.d.xian ? Object(o.tooltip)(Object(o.tr)("main@noXianYuan")) : Object(o.tooltip)(Object(o.tr)("main@noJiYuan")) : Object(r.a)(new e(t)))
                    }
                    )),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return l
    }
    ));
    var i, o = n(1), r = n(121), a = n(110), s = n(106), c = n(108), u = n(191), h = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), l = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "TreasureHouseSkin"),
            e
        }
        return h(e, t),
        e.prototype.onExit = function() {
            Object(o.put)("refresh_bag")
        }
        ,
        e.prototype.onReady = function(t) {
            var e = this;
            this.list.itemRenderer = u.a,
            this.disposeArr.push(new r.a({
                tab: this.tabbar,
                array: [{
                    name: "tab1",
                    text: Object(o.tr)("main@treasuretab1")
                }, {
                    name: "tab2",
                    text: Object(o.tr)("main@treasuretab2")
                }],
                onSelect: function(t) {
                    var n = 2;
                    "tab1" == t && (n = 1),
                    e._array = Object(u.c)("trea", n),
                    Object(c.a)(e.list, e._array)
                },
                defaultSelectName: t
            })),
            this.on("refresh_treaShop", (function() {
                Object(c.a)(e.list, e._array)
            }
            ), this)
        }
        ,
        e.show = function(t) {
            void 0 === t && (t = "tab1"),
            Object(a.b)(Object(u.d)("trea")).then((function() {
                Object(s.a)(new e, t)
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return r
    }
    ));
    var i = n(1)
      , o = function() {
        function t(t) {
            this.pos = t,
            this.c = Object(i.getConfig)("qiling_json")[this.pos]
        }
        return Object.defineProperty(t.prototype, "icon", {
            get: function() {
                return "item_1001_png"
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.setAdd = function(t) {
            this._add = t
        }
        ,
        t.prototype.getProperty = function() {
            for (var t = [], e = 0; e < this.c.attr.length; e++)
                t.push({
                    k: this.c.attr[e].type,
                    v: this.c.attr[e].grow * this.lv
                });
            return t
        }
        ,
        t.prototype.isMax = function() {
            return !1
        }
        ,
        t.prototype.getCost = function() {
            return {
                propId: 10293,
                num: this.lv + 10
            }
        }
        ,
        Object.defineProperty(t.prototype, "lv", {
            get: function() {
                return this._add ? this.p.lv + 1 : this.p.lv
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "p", {
            get: function() {
                return i.cache.get("Qiling.getInfo", "l")[this.pos - 1]
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , r = function() {
        function t() {
            this._list = []
        }
        return t.prototype.getList = function() {
            if (0 == this._list.length)
                for (var t = 0; t < 8; t++)
                    this._list.push(new o(t + 1));
            return this._list
        }
        ,
        t.prototype.getByPos = function(t) {
            return this.getList()[t - 1]
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return r
    }
    ));
    var i = n(107)
      , o = n(1);
    function r(t, e) {
        return void 0 === e && (e = 1),
        Object(i.d)("prp.c", {
            num: e
        }).then((function(t) {
            if (t) {
                var e = t.num;
                Object(o.put)("refresh_bag"),
                Object(o.tooltip)(Object(o.tr)("main@bagCount", {
                    num: e
                }))
            }
        }
        ))
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return f
    }
    ));
    var i, o = n(1), r = n(106), a = n(114), s = n(156), c = n(174), u = n(107), h = n(116), l = n(155), p = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), f = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "XianPuPropMixSkin"),
            e
        }
        return p(e, t),
        e.prototype.onReady = function(t, e, n) {
            var i = this;
            this._propId = t,
            this._materialId = e,
            this._need = n,
            this.item.propId = t,
            this.item0.propId = e,
            this.item0.showNum = !1;
            var r = Object(o.getConfig)("item_json")[t];
            this.nameLabel.text = r.name,
            this.des.text = r.desc,
            Object(l.c)(this.nameLabel, r),
            this.pageControl = new c.a(null,this.maxBtn,this.prevBtn,this.nextBtn,this.getMax(),(function(t) {
                i.inputBtn.label = t + ""
            }
            )),
            this.updateView(),
            this.tap("btn_use", this.onUse, this)
        }
        ,
        e.prototype.onUse = function() {
            var t = this;
            if (this.pageControl.num <= 0) {
                [10120, 10121, 10122].indexOf(this._materialId) > -1 ? a.e.hasEnough(this._materialId, this._need) : Object(o.tooltip)(Object(o.tr)("hero@composeTip"))
            } else
                Object(u.d)("prp.f", {
                    cId: this._propId,
                    num: this.pageControl.num
                }).then((function(e) {
                    e && (t.success = !0,
                    h.a.show(e.awds),
                    t.updateView())
                }
                ))
        }
        ,
        e.prototype.getMax = function() {
            return Math.floor(a.e.getNum(this._materialId) / this._need)
        }
        ,
        e.prototype.updateView = function() {
            this.pageControl.setMaxNum(this.getMax());
            var t = a.e.getNum(this._materialId);
            this.lbl_mixNum.text = t + "/" + this._need,
            Object(s.a)(this.lbl_mixNum, t >= this._need),
            this.item.propId = this._propId
        }
        ,
        e.prototype.onExit = function() {
            this.pageControl && this.pageControl.dispose()
        }
        ,
        e.show = function(t, n, i) {
            return Object(r.a)(new e, t, n, i)
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return b
    }
    ));
    var i, o = n(1), r = n(106), a = n(108), s = n(110), c = n(109), u = n(107), h = n(125), l = n(135), p = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), f = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, d = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, b = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "GodheadGetSkin"),
            e
        }
        return p(e, t),
        e.prototype.onReady = function(t, e) {
            this.list.itemRenderer = g,
            t.l && t.l.length > 0 && (Object(a.a)(this.list, t.l.map((function(t) {
                return new _(t,e)
            }
            ))),
            this.checkSkin(t.l))
        }
        ,
        e.prototype.checkSkin = function(t) {
            for (var e = [], n = 0; n < t.length; n++)
                e.push({
                    id: t[n].id,
                    addNum: t[n].num
                });
            e.length > 0 && l.a.checkBianShen(e)
        }
        ,
        e.show = function(t, n) {
            return void 0 === n && (n = 48),
            f(this, void 0, void 0, (function() {
                return d(this, (function(i) {
                    switch (i.label) {
                    case 0:
                        return [4, Object(s.b)(Object(h.a)("tree_1&tree_2").concat([Object(u.a)("wo.a", "Wood.getInfo"), Object(c.a)("immortalTree_json"), Object(c.a)("treeSkin_json")]))];
                    case 1:
                        return i.sent(),
                        Object(r.a)(new e, t, n),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent), g = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return p(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.img_tree.source = "preview_elve_" + t.skin_c.icon + "_png",
            48 == t.resId ? this.lbl_result.text = Object(o.tr)("main@use_48", {
                name: Object(o.tr)(Object(o.getConfig)("immortalTree_json")[t.p.id].name),
                num: t.p.num
            }) : this.lbl_result.text = Object(o.tr)("tree@addLv", {
                n: t.p.num
            }))
        }
        ,
        e
    }(o.Item), _ = function() {
        function t(t, e) {
            this.p = t,
            this.c = Object(o.getConfig)("immortalTree_json")[t.id],
            this.resId = e
        }
        return Object.defineProperty(t.prototype, "skin_c", {
            get: function() {
                var t = this
                  , e = Object(o.getCache)("Wood.getInfo", "woods").find((function(e) {
                    return e.id == t.p.id
                }
                ))
                  , n = e ? e.dress : this.c.res[0].skinId;
                return Object(o.getConfig)("treeSkin_json")[n]
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return p
    }
    ));
    var i, o = n(1), r = n(156), a = n(114), s = n(113), c = n(107), u = n(242), h = n(305), l = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), p = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.succeed = !1,
            Object(o.setSkin)(e, "PanelChangeNameSkin"),
            e
        }
        return l(e, t),
        e.prototype.onReady = function() {
            var t = this;
            this.updateNum(),
            this.input_name.text = Object(s.a)("uNa"),
            this.tap("btn_confirm", this.onConfirm, this),
            this.tap("btn_random", this.onRandom, this),
            this.on("refresh_bag", (function() {
                t.updateNum()
            }
            ), this),
            console.log(1123)
        }
        ,
        e.prototype.updateNum = function() {
            var t = a.e.getNum(1011);
            this.lbl_num.text = t + "/1",
            Object(r.a)(this.lbl_num, t > 0)
        }
        ,
        e.prototype.onRandom = function() {
            var t = this;
            Object(u.a)().then((function(e) {
                t.input_name.text = e
            }
            ))
        }
        ,
        e.prototype.onConfirm = function() {
            var t = this;
            console.log(123);
            var e = this.input_name.text.trim();
            Object(h.a)(e) && e != Object(s.a)("uNa") && a.e.hasEnough(1011, 1) && Object(c.d)("u.h", {
                name: e
            }).then((function(e) {
                e && (Object(o.tooltip)(Object(o.tr)("main@renameOk")),
                t.succeed = !0,
                o.UI.remove(t))
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return /(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g.test(t)
    }
    n.d(e, "a", (function() {
        return i
    }
    ))
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return o
    }
    )),
    n.d(e, "b", (function() {
        return r
    }
    ));
    var i = !1;
    function o() {
        return i
    }
    function r(t) {
        i = t
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return g
    }
    ));
    var i, o = n(1), r = n(201), a = n(107), s = n(116), c = n(290), u = n(108), h = n(155), l = n(182), p = n(236), f = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), d = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return f(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.arrow.visible = !1,
            this.arrow.includeInLayout = !1,
            t.type && (this.arrow.visible = !0,
            this.arrow.includeInLayout = !0,
            this.arrow.source = "arrow_" + t.type + "_png"),
            this.prop.text = Object(o.tr)("main@equipAttr", {
                name: Object(o.tr)("main@" + t.attr),
                num: t.value,
                max: t.max
            }))
        }
        ,
        e
    }(o.Item), b = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return f(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.arrow.visible = !1,
            this.prop.text = Object(o.tr)("main@equipAttr2", {
                name: Object(o.tr)("main@" + t.attr),
                num: t.value
            }))
        }
        ,
        e
    }(o.Item), g = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "EquipmentInfoSkin"),
            e
        }
        return f(e, t),
        e.prototype.onReady = function(t) {
            if (t && t.p)
                if (this.model = t,
                t && t.p && 1 == t.p.dress ? this.setState("equiped") : this.setState("normal"),
                this.tap("btn_equip", this.onEquip, this),
                this.tap("btn_unload", this.onUnload, this),
                this.tap("btn_sell", this.onSell, this),
                this.nameLabel.text = t.c.name,
                Object(h.c)(this.nameLabel, t),
                Object(p.a)(t, this),
                this.stageLabel.text = Object(o.tr)("main@quality" + t.c.quality),
                this.item.data = t,
                this.des.text = t.c.desc,
                this.list.itemRenderer = d,
                t.p && 1 == t.p.dress ? Object(u.a)(this.list, this.getOneEquipPropertys()) : Object(u.a)(this.list, this.getCompareEquipPropertys()),
                t.lv > 0) {
                    this.lbl_refine.visible = !0,
                    this.lbl_refine.includeInLayout = !0,
                    this.list2.visible = !0,
                    this.list2.includeInLayout = !0,
                    this.lbl_refine.text = Object(o.tr)("main@refineAttr", {
                        n: t.lv
                    }),
                    this.list2.itemRenderer = b;
                    var e = r.a.getRefineAtts(t.c.id, t.lv);
                    e.length > 0 && Object(u.a)(this.list2, e),
                    this.lbl_curq.visible = this.lbl_times.visible = !0;
                    this.lbl_times.text = String(50 - t.lv + "/50"),
                    this.lbl_times.textColor = 50 - t.lv > 0 ? l.a.DARK_GREEN : l.a.RED
                } else
                    this.lbl_refine.visible = !1,
                    this.lbl_refine.includeInLayout = !1,
                    this.list2.visible = !1,
                    this.list2.includeInLayout = !1,
                    this.lbl_curq.visible = this.lbl_times.visible = !1
        }
        ,
        e.prototype.getOneEquipPropertys = function() {
            for (var t = this.model, e = [], n = 0; n < c.a.length; n++) {
                var i = c.a[n];
                t.p[i] > 0 && e.push({
                    attr: i,
                    value: t.p[i],
                    max: Object(o.getConfig)("armAttr_json")[t.c.id][i + "To"]
                })
            }
            return e
        }
        ,
        e.prototype.getCompareEquipPropertys = function() {
            var t = this.model
              , e = t.c.armType
              , n = r.a.getEquipByDress(e);
            if (!n)
                return this.getOneEquipPropertys();
            for (var i = [], a = 0; a < c.a.length; a++) {
                var s = c.a[a]
                  , u = t.p[s];
                if (u > 0) {
                    var h = "";
                    h = u > n.p[s] ? "up" : "down",
                    i.push({
                        type: h,
                        attr: s,
                        value: u,
                        max: Object(o.getConfig)("armAttr_json")[t.c.id][s + "To"]
                    })
                }
            }
            return i
        }
        ,
        e.prototype.onEquip = function() {
            var t = this;
            Object(a.d)("arm.a", {
                aId: this.model.p.aId
            }).then((function(e) {
                e && (Object(o.put)("refresh_bag"),
                Object(o.put)("equip_equip", t.model),
                o.UI.remove(t))
            }
            ))
        }
        ,
        e.prototype.onUnload = function() {
            var t = this;
            Object(a.d)("arm.b", {
                aId: this.model.p.aId
            }).then((function(e) {
                e && (Object(o.put)("refresh_bag"),
                Object(o.put)("unload_equip", t.model),
                o.UI.remove(t))
            }
            ))
        }
        ,
        e.prototype.onSell = function() {
            var t = this;
            Object(o.confirm)(Object(o.tr)("main@sellConfirm", {
                name: Object(o.tr)(this.model.c.name),
                num: 1,
                color: Object(h.b)(this.model.quality),
                sc: this.model.c.sellMoney
            })).then((function(e) {
                "yes" == e && Object(a.d)("arm.c", {
                    aId: t.model.p.aId
                }).then((function(e) {
                    e && (s.a.show(e.awds),
                    Object(o.put)("refresh_bag"),
                    o.UI.remove(t))
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return l
    }
    ));
    var i, o = n(1), r = n(109), a = n(106), s = n(121), c = n(108), u = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), h = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return u(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.img_help.source = t.icon,
            this.lbl_help.text = t.text)
        }
        ,
        e
    }(o.Item), l = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            return n._skipId = e,
            Object(o.setSkin)(n, "HelpSkin"),
            n
        }
        return u(e, t),
        e.prototype.onReady = function() {
            for (var t = this, e = [], n = 0; n < arguments.length; n++)
                e[n] = arguments[n];
            var i = Object(o.getConfig)("help_json")
              , r = [];
            for (var a in i)
                r.push({
                    text: i[a].question,
                    name: a
                });
            this.tab.itemRenderer = s.b,
            this.disposeArr.push(new s.a({
                tab: this.tab,
                array: r,
                defaultSelectName: this._skipId,
                onSelect: function(e) {
                    var n = i[e];
                    t.lbl_title.text = Object(o.tr)(n.title);
                    var r = n.answer.map((function(t) {
                        return {
                            text: Object(o.tr)(t.answer),
                            icon: "help_" + t.icon + "_png"
                        }
                    }
                    ));
                    t.list.itemRenderer = h,
                    Object(c.a)(t.list, r, {
                        resetScrollerHV: !0
                    })
                }
            }))
        }
        ,
        e.show = function(t) {
            Object(r.a)("help_json").then((function() {
                Object(a.a)(new e(t))
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return c
    }
    ));
    var i, o = n(1), r = n(113), a = n(168), s = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), c = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "LegalRulesSkin"),
            e
        }
        return s(e, t),
        e.prototype.onReady = function() {
            this.tap("btn_confirm", this.confirm, this),
            this.auto.addEventListener(egret.Event.CHANGE, this.refreshConfirm, this),
            this.auto0.addEventListener(egret.Event.CHANGE, this.refreshConfirm, this),
            this.auto1.addEventListener(egret.Event.CHANGE, this.refreshConfirm, this);
            var t = egret.localStorage.getItem("JP_Rule");
            t && 1 == Number(t) && (this.auto.selected = !0,
            this.auto0.selected = !0,
            this.auto1.selected = !0,
            this.btn_confirm.enabled = !0)
        }
        ,
        e.prototype.onExit = function() {
            0 == Object(r.a)("guide") && a.a.check(a.b.welcome)
        }
        ,
        e.prototype.confirm = function() {
            egret.localStorage.setItem("JP_Rule", "1"),
            o.UI.remove(this)
        }
        ,
        e.prototype.refreshConfirm = function() {
            var t = this.auto.selected
              , e = this.auto0.selected
              , n = this.auto1.selected;
            this.btn_confirm.enabled = !!(t && e && n)
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return s
    }
    ));
    var i, o = n(1), r = n(154), a = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), s = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "VipKeFuSkin"),
            e
        }
        return a(e, t),
        e.prototype.onReady = function() {
            var t = Object(r.a)().serverInfo.kefu;
            this.lbl_qq.text = t,
            4774 != Object(o.getOption)("gcatId") && 4658 != Object(o.getOption)("gcatId") || (this.img_VIP.source = "bg_dianzhiVIP_png")
        }
        ,
        e.prototype.copyText = function() {
            var t = document.createElement("input");
            console.log(t),
            t.value = "856555231",
            document.body.appendChild(t),
            t.select(),
            t.setSelectionRange(0, t.value.length),
            document.execCommand("Copy"),
            document.body.removeChild(t)
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return y
    }
    ));
    var i, o = n(1), r = n(106), a = n(121), s = n(108), c = n(307), u = n(107), h = n(110), l = n(146), p = n(109), f = n(114), d = n(116), b = n(125), g = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), _ = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, m = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, y = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "HuanyigeShopSkin"),
            e
        }
        return g(e, t),
        e.prototype.onReady = function() {
            var t = this;
            this.cash1 && (this.cash1.propId = f.f.lingyu),
            this.cash2 && (this.cash2.propId = f.f.hyisha),
            this.list.itemRenderer = v,
            this.on("update_SkinShop", this.updateList, this),
            this.disposeArr.push(new a.a({
                tab: this.tab,
                array: [{
                    text: Object(o.tr)("huanyige@skinShopTab1"),
                    name: "tab1"
                }, {
                    text: Object(o.tr)("huanyige@skinShopTab2"),
                    name: "tab2"
                }, {
                    text: Object(o.tr)("huanyige@skinShopTab3"),
                    name: "tab3"
                }, {
                    text: Object(o.tr)("huanyige@skinShopTab4"),
                    name: "tab4"
                }, {
                    text: Object(o.tr)("huanyige@skinShopTab5"),
                    name: "tab5"
                }, {
                    text: Object(o.tr)("huanyige@skinShopTab6"),
                    name: "tab6"
                }, {
                    text: Object(o.tr)("main@dressTab2"),
                    name: "tab8"
                }, {
                    text: Object(o.tr)("main@dressTab3"),
                    name: "tab7"
                }, {
                    text: Object(o.tr)("huanyige@skinShopTab9"),
                    name: "tab10"
                }],
                onSelect: function(e) {
                    var n = e.substr(3);
                    return Object(s.a)(t.list, c.a.ins.getShopList(n), {
                        resetScrollerHV: !0
                    }),
                    !0
                }
            }))
        }
        ,
        e.prototype.updateList = function() {
            this.tab.selectedItem && Object(s.a)(this.list, c.a.ins.getShopList(this.tab.selectedItem.name.substr(3)))
        }
        ,
        e.show = function() {
            return _(this, void 0, void 0, (function() {
                var t;
                return m(this, (function(n) {
                    switch (n.label) {
                    case 0:
                        return t = l.c[l.c.skin],
                        [4, Object(h.b)([Object(b.a)("huanyige"), Object(p.a)("skinPrizeShop_json"), Object(u.a)("s.a", t + "Shop.getList", null, {
                            shopType: t
                        })])];
                    case 1:
                        return n.sent(),
                        Object(r.a)(new e),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent), v = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return g(e, t),
        e.prototype.onReady = function() {
            this.tap("btn_exchange", this.onExchange, this)
        }
        ,
        e.prototype.onExchange = function() {
            var t = this;
            this.data.fashionId ? Object(o.confirm)(Object(o.tr)("main@exchangeAsk", {
                name: f.e.getName(this.data.c.costItemId),
                n: this.data.c.costNum
            })).then((function(e) {
                "yes" == e && t.exchange()
            }
            )) : this.exchange()
        }
        ,
        e.prototype.exchange = function() {
            f.e.hasEnough(this.data.c.costItemId, this.data.c.costNum) && Object(u.d)("s.b", {
                id: this.data.p.id,
                shopType: l.c[l.c.skin],
                num: 1
            }).then((function(t) {
                t && (d.a.show(t.awds),
                Object(o.put)("update_SkinShop"))
            }
            ))
        }
        ,
        e.prototype.onDataUpdate = function(t) {
            if (t && t.c)
                if (this.item_0.propId = t.c.itemId,
                this.item_0.num = t.c.num,
                this.item_1.propId = t.c.costItemId,
                this.item_1.need = t.c.costNum,
                t.fashionId)
                    this.btn_exchange.enabled = !0,
                    this.btn_exchange.visible = !t.has,
                    this.gp_own.visible = t.has,
                    this.gp_sex.visible = !1,
                    //!data.sameSex;
                    this.lbl_num.visible = this.lbl_num.includeInLayout = !1;
                else {
                    var e = t.limit;
                    this.btn_exchange.visible = !0,
                    this.btn_exchange.enabled = e.num < e.max,
                    this.lbl_num.text = e.num + "/" + e.max,
                    this.gp_own.visible = !1,
                    this.gp_sex.visible = !1,
                    this.lbl_num.visible = this.lbl_num.includeInLayout = !0
                }
        }
        ,
        e
    }(o.Item)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return h
    }
    ));
    var i = "function" == typeof Float32Array;
    function o(t, e) {
        return 1 - 3 * e + 3 * t
    }
    function r(t, e) {
        return 3 * e - 6 * t
    }
    function a(t) {
        return 3 * t
    }
    function s(t, e, n) {
        return ((o(e, n) * t + r(e, n)) * t + a(e)) * t
    }
    function c(t, e, n) {
        return 3 * o(e, n) * t * t + 2 * r(e, n) * t + a(e)
    }
    function u(t) {
        return t
    }
    function h(t, e, n, o) {
        if (!(0 <= t && t <= 1 && 0 <= n && n <= 1))
            throw new Error("bezier x values must be in [0, 1] range");
        if (t === e && n === o)
            return u;
        for (var r = i ? new Float32Array(11) : new Array(11), a = 0; a < 11; ++a)
            r[a] = s(.1 * a, t, n);
        function h(e) {
            for (var i = 0, o = 1; 10 !== o && r[o] <= e; ++o)
                i += .1;
            --o;
            var a = i + .1 * ((e - r[o]) / (r[o + 1] - r[o]))
              , u = c(a, t, n);
            return u >= .001 ? function(t, e, n, i) {
                for (var o = 0; o < 4; ++o) {
                    var r = c(e, n, i);
                    if (0 === r)
                        return e;
                    e -= (s(e, n, i) - t) / r
                }
                return e
            }(e, a, t, n) : 0 === u ? a : function(t, e, n, i, o) {
                var r, a, c = 0;
                do {
                    (r = s(a = e + (n - e) / 2, i, o) - t) > 0 ? n = a : e = a
                } while (Math.abs(r) > 1e-7 && ++c < 10);return a
            }(e, i, i + .1, t, n)
        }
        return function(t) {
            return 0 === t ? 0 : 1 === t ? 1 : s(h(t), e, o)
        }
    }
    window.BezierEasing = h
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return m
    }
    )),
    n.d(e, "a", (function() {
        return y
    }
    ));
    var i, o = n(1), r = n(106), a = n(159), s = n(108), c = n(166), u = n(367), h = n(167), l = n(213), p = n(368), f = n(293), d = n(111), b = n(113), g = n(115), _ = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), m = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "CommonLogPanelSkin"),
            e
        }
        return _(e, t),
        e.prototype.onReady = function(t) {
            var e;
            switch (t) {
            case c.c.raid:
                this.list.itemRenderer = u.a,
                e = Object(c.e)(),
                Object(s.a)(this.list, e);
                break;
            case c.c.menpai:
                this.list.itemRenderer = l.a,
                h.f.show(this.list);
                break;
            case c.c.menpai_fa:
                this.list.itemRenderer = l.a,
                h.d.show(this.list);
                break;
            case c.c.menpai_al:
                this.list.itemRenderer = l.a,
                h.b.show(this.list);
                break;
            case c.c.menpai_shop:
                this.list.itemRenderer = l.a,
                h.h.show(this.list);
                break;
            case c.c.menpai_hall:
                this.list.itemRenderer = l.a,
                h.e.show(this.list);
                break;
            case c.c.menpai_sidao:
                this.list.itemRenderer = l.a,
                h.i.show(this.list);
                break;
            case c.c.youli:
                this.list.itemRenderer = p.a;
                var n = Object(c.d)(Object(g.y)("youliLog"));
                n.sort((function(t, e) {
                    return (t.time1 || 0) - (e.time1 || 0)
                }
                ));
                var i = n.slice(0).reverse();
                Object(s.a)(this.list, i);
                break;
            case c.c.yiji:
                this.list.itemRenderer = v,
                Object(s.a)(this.list, Object(c.d)("yijiLog"));
                break;
            case c.c.guild_battle:
                this.list.itemRenderer = j,
                Object(s.a)(this.list, o.cache.get("GuildWar.getLogs", "l"));
                break;
            case c.c.fudi:
                this.list.itemRenderer = f.b;
                var r = o.cache.get("Fudi.getInfo").i.log;
                r = r.map((function(t) {
                    return Object(c.h)(t)
                }
                )).filter((function(t) {
                    return !!t
                }
                )),
                Object(s.a)(this.list, r);
                break;
            case c.c.holOccupy:
                this.list.itemRenderer = y,
                Object(s.a)(this.list, Object(c.d)("holOccLog"));
                break;
            case c.c.teamSwordFly:
                this.list.itemRenderer = O,
                Object(s.a)(this.list, Object(c.d)("swordLog"));
                break;
            case c.c.treasure:
                this.list.itemRenderer = w,
                Object(s.a)(this.list, Object(c.d)(Object(g.y)("treasureLog")));
                break;
            default:
                this.list.itemRenderer = a.a,
                e = Object(o.singleton)(c.a).getLogs(t),
                Object(s.a)(this.list, e)
            }
        }
        ,
        e.show = function(t) {
            Object(r.a)(new e, t)
        }
        ,
        e
    }(o.UIComponent), y = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e._tp = new egret.HtmlTextParser,
            e
        }
        return _(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.lbl_desc.textFlow = this._tp.parser(Object(o.tr)("hol@occupyLog1" + t.type, {
                name1: t.name.replace(/>/gi, "&gt;").replace(/</gi, "&lt;"),
                name2: t.toName.replace(/>/gi, "&gt;").replace(/</gi, "&lt;"),
                num: t.income,
                remains: t.totalIncome
            })),
            this.lbl_time.text = d.a.timeStamp(t.time, "SECONDS"))
        }
        ,
        e
    }(o.Item), v = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return _(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.des.textFlow = Object(c.k)(t))
        }
        ,
        e
    }(o.Item), O = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return _(e, t),
        e.prototype.onDataUpdate = function(t, e) {
            t && (this.des.textFlow = Object(c.i)(t))
        }
        ,
        e
    }(o.Item), j = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return _(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (t.guildId == Object(b.a)("guildId") ? t.prev = Object(o.tr)("guild@battleLogPre1") : t.prev = Object(o.tr)("guild@battleLogPre2"),
            t.heroName = Object(o.tr)(Object(o.getConfig)("hero_json")[t.hId1].name),
            this.des.text = Object(o.tr)("guild@battleLog", t))
        }
        ,
        e
    }(o.Item), w = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return _(e, t),
        e.prototype.onDataUpdate = function(t, e) {
            t && (this.des.textFlow = Object(c.j)(t))
        }
        ,
        e
    }(o.Item)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return a
    }
    )),
    n.d(e, "b", (function() {
        return s
    }
    ));
    var i, o = n(1), r = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), a = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return r(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (t) {
                "firstMap" == t.type || "againMap" == t.type || "gameOver" == t.type || "chuqiaoStart" == t.type ? {
                    year: t.year,
                    mapName: t.mapName
                } : "syFight" == t.type ? {
                    year: t.year,
                    mapName: t.mapName,
                    monsterName: t.monsterName,
                    reward: t.reward
                } : "qyReward" == t.type || "qyLose" == t.type ? {
                    year: t.year,
                    reward: t.reward
                } : "xuruo" == t.type ? {
                    year: t.year,
                    mapName: t.mapName
                } : "raidSaohua1" == t.type || "raidSaohua2" == t.type || "raidSaohua3" == t.type || "chuqiaoEnd" == t.type ? {} : {
                    year: t.year
                },
                this.des.textFlow = s(t)
            }
        }
        ,
        e
    }(o.Item);
    function s(t) {
        var e = null;
        return e = "firstMap" == t.type || "againMap" == t.type || "gameOver" == t.type || "chuqiaoStart" == t.type ? {
            year: t.year,
            mapName: t.mapName
        } : "syFight" == t.type ? {
            year: t.year,
            mapName: t.mapName,
            monsterName: t.monsterName,
            reward: t.reward
        } : "qyReward" == t.type || "qyLose" == t.type ? {
            year: t.year,
            reward: t.reward
        } : "xuruo" == t.type ? {
            year: t.year,
            mapName: t.mapName
        } : "raidSaohua1" == t.type || "raidSaohua2" == t.type || "raidSaohua3" == t.type || "chuqiaoEnd" == t.type ? {} : {
            year: t.year
        },
        (new egret.HtmlTextParser).parser(Object(o.tr)("main@rL_" + t.type, e))
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return a
    }
    )),
    n.d(e, "b", (function() {
        return s
    }
    ));
    var i, o = n(1), r = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), a = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return r(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.des.textFlow = s(t))
        }
        ,
        e
    }(o.Item);
    function s(t) {
        var e = Object(o.tr)("youli@log" + t.t);
        if (e = e.replace("{year}", t.year),
        t.mId && (e = e.replace("{mapName}", Object(o.tr)(Object(o.getConfig)("travelMap_json")[t.mId].mapName))),
        e = e.replace("{visitor}", Object(o.tr)("youli@logstr" + t.visitor)),
        3 == t.t) {
            for (var n = "", i = t.hasOwnProperty("overflow") && t.overflow ? Object(o.tr)("main@rL_bagFull") : "", r = 0; r < t.awds.length; r++) {
                var a = r == t.awds.length - 1 ? "" : "、";
                n += "[" + Object(o.tr)(Object(o.getConfig)("item_json")[t.awds[r].propId].name) + "]*" + t.awds[r].num + a
            }
            n += i,
            e = e.replace("{awds}", n)
        }
        return (new egret.HtmlTextParser).parser(e)
    }
}
, , , function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return xt
    }
    ));
    var i = n(1)
      , o = n(106)
      , r = n(121)
      , a = n(124)
      , s = n(113)
      , c = n(117)
      , u = n(114)
      , h = n(171)
      , l = n(111)
      , p = null
      , f = function() {
        return (p = JSON.parse(Object(i.getLocalStorage)().getString("spirtRootLog", '{"logs": [], "time": ""}'))).logs = [[3, 1, 0, 0], [3, 2, 0, 0], [3, 3, 0, 0]].concat(p.logs),
        p.logs.length > 4 && (p.logs = p.logs.slice(-4)),
        p.logs
    };
    function d(t, e, n, o) {
        void 0 === n && (n = 0),
        void 0 === o && (o = 0),
        f().push([t, e, n, o]),
        p && Object(i.getLocalStorage)().setString("spirtRootLog", JSON.stringify(p)),
        Object(i.put)("refresh_spritRoot_event")
    }
    var b, g = n(116), _ = n(134), m = n(115), y = (b = function(t, e) {
        return (b = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        b(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), v = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.jiyuan = 0,
            e.isFlyTip = !1,
            e.stop = !1,
            Object(i.setSkin)(e, "LinggenSkin"),
            e.top = 0,
            e.bottom = 0,
            e
        }
        return y(e, t),
        e.prototype.childrenCreated = function() {
            this.timer = new egret.Timer(50,0)
        }
        ,
        e.prototype.onReady = function(t) {
            var e = this;
            t = Object(i.getCache)("Attr.getInfo", "jiyuan"),
            this.progress.maximum = 5e3,
            this.timer.addEventListener(egret.TimerEvent.TIMER, this.timerFunc, this),
            this.timer.start(),
            this.jiyuan = Math.floor(t / 2),
            this.Rootdata = i.cache.get("SpiritRoot_List"),
            this.tap("lvupBtn", this.lvUp, this),
            this.tap("btn_lingqu", this.getProp, this),
            this.refreshView(),
            i.cache.onChange("Root.getList", this.refreshView, this, this.disposeArr),
            this.on("SpiritRoot_Refresh", this.refreshView, this),
            this.on("SpiritRoot_LvUp_MV", (function(t) {
                e.PlayMove(t)
            }
            ), this),
            Object(i.on)("spiritRoot_stop_false", (function() {
                e.stop = !1
            }
            ), this, this.disposeArr),
            this.auto.addEventListener(egret.Event.CHANGE, this.changeAuto, this),
            this.refine.addEventListener(egret.Event.CHANGE, this.changeRefine, this),
            this.disposeArr.push({
                dispose: function() {
                    e.auto.removeEventListener(egret.Event.CHANGE, e.changeAuto, e),
                    e.refine.removeEventListener(egret.Event.CHANGE, e.changeRefine, e),
                    e.lvUpMove1 && e.lvUpMove1.dispose(),
                    e.lvUpMove2 && e.lvUpMove2.dispose(),
                    e.lvUpMove3 && e.lvUpMove3.dispose(),
                    e.lvUpMove4 && e.lvUpMove4.dispose(),
                    e.lvUpMove5 && e.lvUpMove5.dispose(),
                    e.rootMvQi && e.rootMvQi.dispose()
                }
            }),
            this.tab.itemRenderer = j,
            this.rootMvQi = this.createMove("wuxing_qi", 0);
            var n = Math.floor(i.cache.get("first_refresh_uc_time"));
            (l.a.getNow(!1) - n) % 1e4 > 5e3 ? this.isTrueData = !0 : this.isTrueData = !1,
            i.cache.set("SpirtRoot_Refresh_Status", !1);
            var o = [{
                text: Object(i.tr)("main@julingzhen"),
                name: "1"
            }, {
                text: Object(i.tr)("main@yunlingzhen"),
                name: "2"
            }];
            this.disposeArr.push(new r.a({
                tab: this.tab,
                array: o,
                onSelect: function(t) {
                    if ("1" == t)
                        i.is.xyx() || Object(i.getOption)("test") ? e.setState("julingzhen_xyx") : e.setState("julingzhen");
                    else {
                        if (e.PoolLv < 200)
                            return Object(i.tooltip)(Object(i.tr)("main@wenlingzhenNoLv")),
                            !1;
                        i.is.xyx() || Object(i.getOption)("test") ? e.setState("yunlingzhen_xyx") : e.setState("yunlingzhen")
                    }
                }
            }))
        }
        ,
        e.prototype.onExit = function() {
            this.user.lExp = this.nowLExp,
            this.timer.stop(),
            this.timer.removeEventListener(egret.TimerEvent.TIMER, this.timerFunc, this),
            egret.clearTimeout(this.timeid),
            t.prototype.onExit.call(this)
        }
        ,
        e.prototype.refreshView = function() {
            var t = Object(i.getCache)("Root.getList");
            this.Rootdata = t.l.root,
            this.Pooldata = t.l.record,
            this.PoolLv = t.l.poolv,
            this.poolConf = Object(i.getConfig)("spiritPool_json")[this.PoolLv];
            var e = Object(i.getConfig)("spiritPool_json")[this.PoolLv + 1];
            if (this.user = Object(s.a)(),
            this.cash1.text = this.user.wdc > 1e4 ? Object(c.a)(this.user.wdc) : this.user.wdc + "",
            this.cash2.text = +this.user.irc > 1e4 ? Object(c.a)(this.user.irc) : this.user.irc + "",
            e) {
                var n = Object(i.getConfig)("item_json")[this.poolConf.cost[0].itemId]
                  , o = Object(i.getConfig)("item_json")[this.poolConf.cost[1].itemId];
                this.user.wdc >= this.poolConf.cost[0].num ? this.needWood.textFlow = (new egret.HtmlTextParser).parser(Object(i.tr)(n.name) + " x <font color=#6BBF2D>" + this.poolConf.cost[0].num + "</font>") : this.needWood.textFlow = (new egret.HtmlTextParser).parser(Object(i.tr)(n.name) + " x <font color=#CE2121>" + this.poolConf.cost[0].num + "</font>"),
                this.user.irc >= this.poolConf.cost[1].num ? this.needIron.textFlow = (new egret.HtmlTextParser).parser(Object(i.tr)(o.name) + " x <font color=#6BBF2D>" + this.poolConf.cost[1].num + "</font>") : this.needIron.textFlow = (new egret.HtmlTextParser).parser(Object(i.tr)(o.name) + " x <font color=#CE2121>" + this.poolConf.cost[1].num + "</font>")
            } else
                this.needWood.text = Object(i.tr)("main@baGuaMax"),
                this.needIron.textFlow = "",
                this.lvupBtn.visible = !1;
            this.lvLabel.text = this.poolConf.name,
            this.speedLabel.text = Object(i.tr)("main@pool", {
                num: this.poolConf.addLingQi + this.jiyuan,
                num2: this.jiyuan
            }),
            this.storeNum.text = this.user.lExp + "/" + this.poolConf.maxLingQi,
            this.nowLExp = this.user.lExp,
            i.cache.set("spiritRoot_lExp_num", this.nowLExp);
            var r = Object(m.n)();
            this.auto.visible = !(r <= 0 && 0 == this.user.tqInfo.tq2),
            this.btn1.setData = this.Rootdata[0],
            this.btn2.setData = this.Rootdata[1],
            this.btn3.setData = this.Rootdata[2],
            this.btn4.setData = this.Rootdata[3],
            this.btn5.setData = this.Rootdata[4],
            this.auto.selected = 1 == this.user.switch.autoLingGen,
            t.l.poolv >= 200 && (this.lbl_ylzms.text = Object(i.tr)("main@yunlingzhenms", {
                num: t.l.speedCost
            }),
            this.lbl_yldsl.text = Object(i.tr)("main@yunlingzhencx", {
                num1: t.l.hasNum,
                num2: 100
            }),
            this.lzjd.maximum = 100,
            this.lzjd.value = t.l.speed,
            this.refine.selected = 1 == t.l.set)
        }
        ,
        e.prototype.lvUp = function() {
            u.e.hasEnough(this.poolConf.cost[0].itemId, this.poolConf.cost[0].num, !0) && u.e.hasEnough(this.poolConf.cost[1].itemId, this.poolConf.cost[1].num, !0) && (Object(_.a)("Talent_upgrade"),
            Object(i.getSocket)().request({
                route: "sr.b"
            }).then((function() {
                var t = i.cache.get("Root.getList").l.poolv;
                d(2, 0, Object(s.a)("yt"), t)
            }
            )))
        }
        ,
        e.prototype.flyTip = function() {
            h.a.show(Object(i.tr)("main@lingqi2", {
                num: this.poolConf.addLingQi + this.jiyuan
            }), this, this);
            var t = Math.floor(i.cache.get("first_refresh_uc_time"));
            (l.a.getNow(!1) - t) % 1e4 > 5e3 ? (this.nowLExp += this.poolConf.addLingQi + this.jiyuan,
            this.nowLExp > this.poolConf.maxLingQi && (this.nowLExp = this.poolConf.maxLingQi),
            console.log("假,", this.user.lExp),
            i.cache.set("SpirtRoot_Refresh_Status", !1),
            this.isTrueData = !0) : (this.nowLExp = this.user.lExp,
            console.log("真,", this.user.lExp),
            this.isTrueData = !1),
            this.storeNum.text = this.nowLExp + "/" + this.poolConf.maxLingQi,
            i.cache.set("spiritRoot_lExp_num", this.nowLExp)
        }
        ,
        e.prototype.changeAuto = function() {
            var t = this.auto.selected ? 1 : 0;
            Object(i.getSocket)().request({
                route: "u.t",
                p: {
                    type: "autoLingGen",
                    sw: t
                }
            }).then((function() {}
            )).catch(i.errorHandler)
        }
        ,
        e.prototype.changeRefine = function() {
            Object(i.getSocket)().request({
                route: "sr.d"
            }).then((function() {}
            )).catch(i.errorHandler)
        }
        ,
        e.prototype.createMove = function(t, e, n) {
            void 0 === n && (n = null);
            var o = i.Movie.create(t + "_ske_json");
            return this["container" + e].addChild(o),
            o.atLast = !0,
            null == n ? o.play("1") : o.play("1", 1),
            o
        }
        ,
        e.prototype.PlayMove = function(t) {
            switch (t) {
            case 1:
                this.lvUpMove1 ? this.lvUpMove1.play("1", 1) : this.lvUpMove1 = this.createMove("jinjie_baodian", 1, 1),
                this.container1.rotation = 0;
                break;
            case 2:
                this.lvUpMove2 ? this.lvUpMove2.play("1", 1) : this.lvUpMove2 = this.createMove("jinjie_baodian", 1, 1),
                this.container1.rotation = 63;
                break;
            case 3:
                this.lvUpMove3 ? this.lvUpMove3.play("1", 1) : this.lvUpMove3 = this.createMove("jinjie_baodian", 1, 1),
                this.container1.rotation = 132;
                break;
            case 4:
                this.lvUpMove4 ? this.lvUpMove4.play("1", 1) : this.lvUpMove4 = this.createMove("jinjie_baodian", 1, 1),
                this.container1.rotation = 228;
                break;
            case 5:
                this.lvUpMove5 ? this.lvUpMove5.play("1", 1) : this.lvUpMove5 = this.createMove("jinjie_baodian", 1, 1),
                this.container1.rotation = 297
            }
        }
        ,
        e.prototype.getProp = function() {
            var t = Object(i.getCache)("Root.getList");
            t && t.l.hasNum > 0 ? Object(i.getSocket)().request({
                route: "sr.e"
            }).then((function(t) {
                g.a.show(t.awds)
            }
            )).catch(i.errorHandler) : Object(i.tooltip)(Object(i.tr)("main@spiritNoEnough"))
        }
        ,
        e.prototype.timerFunc = function() {
            var t = this;
            if (!this.stop) {
                var e = l.a.getNow(!1)
                  , n = Math.floor(i.cache.get("first_refresh_uc_time"));
                if (this.isTrueData) {
                    var o = i.cache.get("SpirtRoot_Refresh_Status");
                    if (5e3 - (e - n) % 5e3 < 100 && 0 == o)
                        return this.progress.value = 4950,
                        void (this.stop = !0)
                }
                this.progress.value = (e - n) % 5e3,
                (e - n) % 5e3 <= 100 && (this.isFlyTip || (this.flyTip(),
                this.isFlyTip = !0,
                egret.clearTimeout(this.timeid),
                this.timeid = egret.setTimeout((function() {
                    t.isFlyTip = !1
                }
                ), this, 2e3)))
            }
        }
        ,
        e
    }(i.Component), O = function(t) {
        function e() {
            return t.call(this) || this
        }
        return y(e, t),
        e.prototype.onReady = function() {
            var t = this;
            this.tap(this, this.lvUp, this),
            this.disposeArr.push({
                dispose: function() {
                    t.mv && (t.mv.dispose(),
                    t.mv = null)
                }
            })
        }
        ,
        e.prototype.refresh = function() {
            var t = this;
            if (this.conf = Object(i.getConfig)("spiritRoot_json")[this.id],
            this.__data = this.conf.filter((function(e) {
                return e.level == t.level
            }
            ))[0],
            this.conf.filter((function(e) {
                return e.level == t.level + 1
            }
            ))[0] ? this.des2.textFlow = (new egret.HtmlTextParser).parser(Object(i.tr)("main@needLq", {
                num: this.__data.nextExp
            })) : (this.des2.text = Object(i.tr)("main@baGuaMax"),
            this.btn.enabled = !1),
            this.des1.textFlow = (new egret.HtmlTextParser).parser(Object(i.tr)("main@gongfa" + this.id, {
                num: this.__data.addVal
            })),
            this.btn_img.source = "icon_linggen_" + this.id + "_png",
            this.nameLabel.text = Object(i.tr)(this.__data.name),
            !this.mv) {
                var e = void 0;
                switch (this.id) {
                case 1:
                    e = "wuxing_jin";
                    break;
                case 2:
                    e = "wuxing_mu";
                    break;
                case 3:
                    e = "wuxing_shui";
                    break;
                case 4:
                    e = "wuxing_huo";
                    break;
                case 5:
                    e = "wuxing_tu"
                }
                this.mv = i.Movie.create(e + "_ske_json"),
                this.animeNode1.addChild(this.mv),
                this.mv.play("1")
            }
        }
        ,
        Object.defineProperty(e.prototype, "setData", {
            set: function(t) {
                this.id = t.id,
                this.level = t.level,
                this.refresh(),
                1 == this.id && (this.btn.name = "jin")
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.lvUp = function() {
            var t = this
              , e = i.cache.get("spiritRoot_lExp_num");
            Object(i.put)("btn_click", {
                name: "guideBtn5"
            }),
            this.__data.nextExp > e ? Object(i.tooltip)(Object(i.tr)("main@lExpEnough")) : Object(i.getSocket)().request({
                route: "sr.a",
                p: {
                    id: this.id
                }
            }).then((function() {
                d(1, t.id, Object(s.a)("yt"), t.level),
                Object(i.put)("SpiritRoot_Refresh"),
                Object(i.put)("SpiritRoot_LvUp_MV", t.id);
                var e = i.Movie.create("jinjie_guangxian_ske_json");
                t.animeNode2.addChild(e),
                e.play("1", 1),
                e.once(i.MovieEvent.COMPLETE, (function() {
                    e.dispose(),
                    e = null
                }
                ), t)
            }
            )).catch(i.errorHandler)
        }
        ,
        e
    }(i.Component);
    Object(a.a)("SpiritRootItem", O);
    !function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        y(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (t) {
                var e = Object(s.a)();
                if (1 == t.status) {
                    var n = Object(i.getConfig)("spiritRoot_json")[t.lType].filter((function(e) {
                        return e.level == t.level
                    }
                    ))[0];
                    this.des.textFlow = (new egret.HtmlTextParser).parser(Object(i.tr)("main@spiritRecord1", {
                        year: t.year,
                        name: e.uNa,
                        attr: Object(i.tr)("main@attr" + t.lType),
                        level: Object(i.tr)(n.name)
                    }))
                } else
                    3 == t.status ? this.des.textFlow = (new egret.HtmlTextParser).parser(Object(i.tr)("main@spiritLog" + t.lType)) : this.des.textFlow = (new egret.HtmlTextParser).parser(Object(i.tr)("main@spiritRecord2", {
                        year: t.year,
                        name: e.uNa,
                        num: t.level
                    }))
            }
        }
    }(i.Item);
    var j = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return y(e, t),
        e.prototype.onDataUpdate = function(e, n) {
            t.prototype.onDataUpdate.call(this, e, n),
            e && (this.labelDisplay.text = e.text,
            this.img_up.scaleX = this.img_down.scaleX = "2" == e.name ? -1 : 1)
        }
        ,
        e
    }(r.b)
      , w = n(230)
      , x = n(108)
      , k = n(142)
      , I = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , P = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(i.setSkin)(e, "KungfuDetailsSkin"),
            e
        }
        return I(e, t),
        e.prototype.onReady = function(t) {
            this.img_icon.source = "item_" + t.c.icon + "_png",
            this.lbl_name.text = t.name,
            this.lbl_attrType.text = Object(k.q)(t.c.elementsType),
            this.lbl_lv.text = Object(i.tr)("main@lv", {
                num: t.lv
            }),
            this.lbl_upexp.text = Object(i.tr)("main@skillUpNeed", {
                num: t.p.needExp
            }),
            this.lbl_attr.text = Object(k.p)(t.c.attrType, t.attrValue),
            this.lbl_effect.text = Object(i.tr)("main@skillEffect", {
                num: t.attrEffectValue
            }),
            this.lbl_desc.text = Object(i.tr)(t.c.desc),
            this.img_element.source = "icon_linggen_" + t.c.elementsType + "_png"
        }
        ,
        e
    }(i.UIComponent);
    Object(a.a)("KungFuDetailsPanel", P);
    var C = n(107)
      , S = n(146)
      , R = n(109)
      , T = n(125)
      , L = n(0)
      , A = n(301)
      , M = n(135)
      , N = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , B = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(i.setSkin)(e, "KungfuUpSkin"),
            e
        }
        return N(e, t),
        e.prototype.onReady = function(t) {
            this._type = t,
            this.setData(Object(i.getCache)("User.getInfo", "i")),
            this.list.itemRendererFunction = this.itemRendererFactory,
            this.list.setLayout(1, 40, 20),
            this.list_attr.itemRenderer = E,
            this.lbl_leixing.text = Object(k.s)(t),
            this.chk_auto.visible = Object(s.a)("tqInfo.tq2") > 0,
            this.chk_auto.selected = Object(i.singleton)(A.a).isAutoSkill(t),
            this.updateList(),
            this.on("update_skilUpList", this.updateList, this),
            this.on("update_skillforgot", this.updateList.bind(this, !0), this),
            this.tap("chk_auto", this.onAutoUp, this),
            this.tap("btn_add", this.onAdd, this),
            this.tap("btn_go", this.onGo, this),
            this.lbl_skillAttrs.text = Object(i.tr)("main@skAttr", {
                name: Object(k.s)(t)
            }),
            this.gp_zongmen.visible = t == w.b.zongmen,
            this.updateNum()
        }
        ,
        e.prototype.updateNum = function() {
            if (this._type == w.b.zongmen) {
                var t = Object(s.a)("sectSknum");
                this.lbl_num.text = Object(i.tr)("main@zmSkillNum", {
                    cur: this.getZMSkillNum(),
                    max: t
                }),
                this.btn_add.visible = t < 40
            }
        }
        ,
        e.prototype.getZMSkillNum = function() {
            return Object(i.singleton)(w.a).data.filter((function(t) {
                return 8 == t.c.type
            }
            )).length
        }
        ,
        e.prototype.onGo = function() {
            return this._type == w.b.zongmen ? (Object(T.b)({
                source: Object(L.Qb)(),
                locale: "union",
                name: "union"
            }).then((function(t) {
                t.UnionMainView.show()
            }
            )),
            void i.UI.remove(this)) : this._type == w.b.chuangong ? (i.UI.clearBox(),
            void (1 == Object(s.a)("fly") ? Object(T.b)({
                source: Object(L.ob)(),
                locale: "sect_1&sect_2",
                name: "menpai",
                getInfo: {
                    route: "se.a",
                    cache: "Sect.getInfo"
                }
            }).then((function(t) {
                console.log(t),
                t.openSkillExchange()
            }
            )) : M.a.openRaidDisplay())) : void S.b.show(S.c.cangjing)
        }
        ,
        e.prototype.onAdd = function() {
            var t = this;
            Object(R.a)("unionSkillNum_json").then((function() {
                var e = Object(s.a)("sectSknum")
                  , n = Object(i.getConfig)("unionSkillNum_json")[e + 1].costNum
                  , o = u.e.getNum(u.f.weiwang);
                Object(i.confirm)(Object(i.tr)("main@skillUp", {
                    need: n,
                    cur: o
                })).then((function(e) {
                    "yes" == e && (o < n ? Object(i.tooltip)(Object(i.tr)("main@noWeiwang")) : Object(C.d)("un.k").then((function(e) {
                        e && t.updateNum()
                    }
                    )))
                }
                ))
            }
            ))
        }
        ,
        e.prototype.updateList = function(t) {
            void 0 === t && (t = !1);
            var e = Object(i.singleton)(w.a).getSkillGroupByStar(this._type);
            this.gp_go.visible = !e.length,
            this.btn_go.visible = !0,
            this._type == w.b.zongmen ? this.lbl_go.text = Object(i.tr)("main@learnZMSKill") : this._type == w.b.chuangong && (1 == Object(s.a)("fly") ? (this.lbl_go.text = Object(i.tr)("main@flyKefuEmpty2"),
            this.btn_go.visible = !0) : 1 == Object(s.a)("flyRt") || 1 == Object(s.a)("flyXw") ? this.lbl_go.text = Object(i.tr)("main@flyKefuEmpty") : (this.lbl_go.text = "",
            this.btn_go.visible = !1)),
            t ? this.list.dataProvider = new eui.ArrayCollection(e) : Object(x.a)(this.list, e);
            var n = Object(i.singleton)(w.a).getAttrTotalByType(this._type)
              , o = Object.keys(n).map((function(t) {
                return {
                    key: t,
                    val: n[t]
                }
            }
            ));
            Object(x.a)(this.list_attr, o),
            this.updateNum()
        }
        ,
        e.prototype.itemRendererFactory = function(t) {
            return t && 0 == t.skinType ? D : G
        }
        ,
        e.prototype.onAutoUp = function() {
            Object(i.singleton)(A.a).changeAuto(this._type, this.chk_auto.selected)
        }
        ,
        e
    }(i.UIComponent)
      , E = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(i.setSkin)(e, "txt1Skin"),
            e
        }
        return N(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.lbl_value.text = Object(k.k)(t.key) + "+" + t.val)
        }
        ,
        e
    }(i.Item)
      , D = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(i.setSkin)(e, "itemKungfuTopSkin"),
            e
        }
        return N(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.lbl_title.text = Object(k.r)(t.p))
        }
        ,
        e
    }(i.Item)
      , G = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(i.setSkin)(e, "itemKungfuSkin"),
            e
        }
        return N(e, t),
        e.prototype.onReady = function() {
            this.tap("btn_get", this.onGet, this),
            this.tap("btn_forgotten", this.onForgotten, this),
            this.tap(this, this.onSee, this)
        }
        ,
        e.prototype.onSee = function() {
            Object(o.a)(new P, this.data)
        }
        ,
        e.prototype.getMovie = function() {
            return this._movie || (this._movie = i.Movie.create("kungfu_up_ske_json"),
            this._movie.x = this.width >> 1,
            this._movie.y = (this.height >> 1) - 46,
            this.addChild(this._movie)),
            this._movie
        }
        ,
        e.prototype.onGet = function(t) {
            var e = this;
            t.stopPropagation(),
            this.data.canUp ? Object(C.d)("skl.b", {
                cId: this.data.p.cId
            }).then((function(t) {
                e.playUp(),
                Object(_.a)("Skill_upgrade")
            }
            )) : Object(i.tooltip)(Object(i.tr)("main@skillUpNoExp"))
        }
        ,
        e.prototype.onForgotten = function(t) {
            var e = this;
            t.stopPropagation(),
            Object(i.confirm)(Object(i.tr)("main@skillForgotten", {
                name: this.data.name
            })).then((function(t) {
                "yes" == t && Object(C.d)("skl.c", {
                    cId: e.data.p.cId
                }).then((function(t) {
                    Object(i.singleton)(w.a).gcData(),
                    Object(i.put)("update_skillforgot")
                }
                ))
            }
            ))
        }
        ,
        e.prototype.playUp = function() {
            this._playing = !0,
            this.getMovie().play("2", 1),
            egret.setTimeout(this.checkMv, this, 850)
        }
        ,
        e.prototype.checkMv = function() {
            this._playing = !1,
            Object(i.put)("update_skilUpList")
        }
        ,
        e.prototype.clearMv = function() {
            this._movie && (this._movie.dispose(),
            this._movie = null)
        }
        ,
        e.prototype.onExit = function() {
            this.clearMv(),
            t.prototype.onExit.call(this)
        }
        ,
        e.prototype.onDataUpdate = function(t) {
            if (t && t.skinType) {
                var e = t.canUp;
                this.img_icon.source = "bottom_kungfus_" + t.c.elementsType + "_png",
                this.img_skill.source = 1 == t.c.type ? "skill_" + t.c.id + "_png" : "item_" + t.c.icon + "_png",
                this.lbl_name.text = t.name,
                this.btn_get.visible = e,
                this.gp_info.visible = !e,
                this.btn_forgotten.visible = t.canForgotten,
                this.img_full.source = "icon_kungfu_" + t.lv + "_png",
                this.lbl_lingqi.text = t.exp ? Object(i.tr)("main@lqExp", {
                    num: t.exp
                }) : "",
                e ? this.getMovie().play("1") : this._playing || this.clearMv()
            } else
                this.clearMv()
        }
        ,
        e
    }(i.Item);
    Object(a.a)("KungFuUpView", B);
    var V = n(176)
      , U = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , H = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(i.setSkin)(e, "KungfuMainSkin"),
            e.top = 0,
            e.bottom = 0,
            e
        }
        return U(e, t),
        e.prototype.onExit = function() {}
        ,
        e.prototype.onReady = function() {
            var t = this;
            this.setData(Object(i.getCache)("User.getInfo", "i")),
            this._kungfuData = Object(i.singleton)(w.a),
            this.tap("btn_tips", (function() {
                Object(m.J)(t.gp_tips)
            }
            ), this),
            this._movie = i.Movie.create("kungfu_ske_json", !0),
            this.animeNode.addChild(this._movie),
            this._movie.play("1"),
            this.disposeArr.push({
                dispose: function() {
                    t._movie && t._movie.dispose()
                }
            }),
            this.tap(this.btn_tianshu, this.onClick.bind(this, w.b.tianshu)),
            this.tap(this.btn_midian, this.onClick.bind(this, w.b.midian)),
            this.tap(this.btn_tishu, this.onClick.bind(this, w.b.tishu)),
            this.tap(this.btn_xinfa, this.onClick.bind(this, w.b.xinfa)),
            this.tap(this.btn_dunshu, this.onClick.bind(this, w.b.dunshu)),
            this.tap(this.btn_zhenyan, this.onClick.bind(this, w.b.zhenyan)),
            this.tap(this.btn_gongfa, this.onClick.bind(this, w.b.zongmen)),
            this.btn_chuangong.visible = Object(s.a)("flyRt") || Object(s.a)("flyXw"),
            this.tap(this.btn_chuangong, this.onClick.bind(this, w.b.chuangong)),
            this.on("update_skilUpList", this.updatePropertys, this),
            this.updatePropertys()
        }
        ,
        e.prototype.updatePropertys = function() {
            var t = this._kungfuData.getAttrTotalByType(0);
            if (this.lbl_atk.text = Object(i.tr)("main@atk", {
                num: t.gongji || 0
            }),
            this.lbl_def.text = Object(i.tr)("main@def", {
                num: t.fangyu || 0
            }),
            this.lbl_hp.text = Object(i.tr)("main@hp", {
                num: t.shengming || 0
            }),
            this.lbl_dodge.text = Object(i.tr)("main@dodge", {
                num: t.shanbi || 0
            }),
            this.lbl_efficient.text = Object(i.tr)("main@efficient", {
                num: t.xiulian || 0
            }),
            this.lbl_lingqi.text = Object(i.tr)("main@lingqi", {
                num: t.linglihuoqu || 0
            }),
            this.setButton(this.btn_tianshu, {
                type: w.b.tianshu,
                skillType: w.c.wuxing
            }),
            this.setButton(this.btn_midian, {
                type: w.b.midian,
                skillType: w.c.zhenqi
            }),
            this.setButton(this.btn_tishu, {
                type: w.b.tishu,
                skillType: w.c.gengu
            }),
            this.setButton(this.btn_xinfa, {
                type: w.b.xinfa,
                skillType: w.c.tipo
            }),
            this.setButton(this.btn_dunshu, {
                type: w.b.dunshu,
                skillType: w.c.shenfa
            }),
            this.setButton(this.btn_zhenyan, {
                type: w.b.zhenyan,
                skillType: w.c.jiyuan
            }),
            Object(i.singleton)(A.a).isAutoSkill(w.b.zongmen))
                this.img_gongfa_up.visible = !1;
            else {
                var e = Object(i.singleton)(w.a).data.filter((function(t) {
                    return t.c.type == w.b.zongmen && t.canUp
                }
                ));
                e && e.length > 0 ? this.img_gongfa_up.visible = !0 : this.img_gongfa_up.visible = !1
            }
        }
        ,
        e.prototype.onClick = function(t) {
            Object(o.a)(new B, t)
        }
        ,
        e.prototype.setButton = function(t, e) {
            var n = V.a[e.skillType]
              , o = Object(i.singleton)(w.a).getProperty({
                type: e.type,
                prop: "prop"
            })
              , r = Object(i.tr)("main@" + n) + "+" + (o[n] || 0);
            if (t.lbl_desc.text = r,
            t.img_up.visible = !1,
            t.img_icon.source = "but_kungfu_" + e.type + "_png",
            !Object(i.singleton)(A.a).isAutoSkill(e.type)) {
                var a = Object(i.singleton)(w.a).data.filter((function(t) {
                    return t.c.type == e.type && t.canUp
                }
                ));
                a && a.length > 0 && (t.img_up.visible = !0)
            }
        }
        ,
        e
    }(i.Component);
    Object(a.a)("KungFuView", H);
    var F = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , z = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(i.setSkin)(e, "KungfuSkillSkin"),
            e
        }
        return F(e, t),
        e.prototype.onReady = function() {
            this.list.itemRenderer = q,
            this.updateList(),
            this.on("update_skillList", this.updateList, this)
        }
        ,
        e.prototype.updateList = function() {
            var t = Object(i.singleton)(w.a).getJuexueList();
            Object(x.a)(this.list, t)
        }
        ,
        e
    }(i.UIComponent)
      , q = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return F(e, t),
        e.prototype.onReady = function() {
            this.tap("btn_use", this.onUse, this)
        }
        ,
        e.prototype.onUse = function() {
            Object(C.d)("skl.d", {
                sId: this.data.c.id
            }).then((function(t) {
                Object(i.put)("update_skillList")
            }
            ))
        }
        ,
        e.prototype.onDataUpdate = function(t) {
            t && (this.currentState = t.useing ? "use" : "unused",
            this.lbl_name.text = Object(i.tr)(t.c.name),
            this.lbl_desc.text = t.c.desc,
            this.img_icon.source = "skill_" + t.c.id + "_png")
        }
        ,
        e
    }(i.Item);
    Object(a.a)("KungFuSkillView", z);
    var W = n(133)
      , X = function() {
        function t() {
            if (this._add = !1,
            this._types = [],
            this._lvMap = {},
            this._jieMap = {},
            this._c = Object(i.getConfig)("jingmai_json"),
            this.c || this.c[1]) {
                for (var t = this.c[1].attr, e = 0; e < t.length; e++)
                    -1 == this._types.indexOf(t[e].type) && this._types.push(t[e].type),
                    this._lvMap[t[e].type] = t[e].grow;
                var n = this.c[2].attr;
                for (e = 0; e < n.length; e++)
                    -1 == this._types.indexOf(n[e].type) && this._types.push(n[e].type),
                    this._jieMap[n[e].type] = n[e].grow
            }
        }
        return t.prototype.lvBase = function(t) {
            return this._lvMap[t] || 0
        }
        ,
        t.prototype.jieBase = function(t) {
            return this._jieMap[t] || 0
        }
        ,
        t.prototype.getShowProperty = function() {
            for (var t = [], e = 0; e < this._types.length; e++)
                t.push({
                    k: this._types[e],
                    v: this.getProperty(this._types[e])
                });
            return t
        }
        ,
        t.prototype.getProperty = function(t) {
            var e = this.lvBase(t)
              , n = this.jieBase(t);
            return e * this.lv + n * this.jie
        }
        ,
        t.prototype.setAdd = function(t) {
            this._add = t
        }
        ,
        Object.defineProperty(t.prototype, "lv", {
            get: function() {
                return 8 * this.jie + this.star
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "jie", {
            get: function() {
                return this._add && this.needJinjie() ? this.p.jmStar + 1 : this.p.jmStar
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "star", {
            get: function() {
                return this._add ? this.needJinjie() ? 0 : this.p.jmLv + 1 : this.p.jmLv
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.needJinjie = function() {
            return 8 == this.p.jmLv
        }
        ,
        Object.defineProperty(t.prototype, "c", {
            get: function() {
                return this._c
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "p", {
            get: function() {
                return {
                    jmLv: Object(s.a)("jmLv"),
                    jmStar: Object(s.a)("jmStar")
                }
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.canLvUp = function(t) {
            return void 0 === t && (t = !0),
            8 == this.star || W.b.hasEnough(10301, this.needNum, t)
        }
        ,
        Object.defineProperty(t.prototype, "needNum", {
            get: function() {
                return 8 == this.star ? 0 : 20 * this.jie + 100
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "hasNum", {
            get: function() {
                return W.b.getNum(10301)
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , Y = n(156)
      , J = n(137)
      , $ = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , K = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(i.setSkin)(e, "JinmaiSkin"),
            e.top = 0,
            e.bottom = 0,
            e
        }
        return $(e, t),
        e.prototype.onReady = function() {
            (i.is.xyx() || Object(i.getOption)("xyx")) && this.setState("xyx"),
            this.tap("lvupBtn", this.levelup, this),
            this.refreshView()
        }
        ,
        e.prototype.refreshView = function() {
            var t = Object(i.singleton)(X);
            this.lbl_num.text = t.hasNum + "/" + t.needNum,
            Object(Y.a)(this.lbl_num, t.hasNum >= t.needNum);
            var e = Object(J.d)();
            this.lbl_jmlv.text = "en_us" == e || "vi_vn" == e ? Object(i.tr)("main@jingmaiLv", {
                v: t.p.jmStar + 1
            }) : Object(i.tr)("main@jingmaiLv", {
                v: Object(c.o)(t.p.jmStar + 1)
            });
            for (var n = 1; n <= 8; n++)
                n <= 7 && this["xian_" + n].setState(n >= t.star ? "up" : "down"),
                n < t.star || n == t.star ? this["dian_" + n].setState("down") : this["dian_" + n].setState("up");
            var o = t.getShowProperty();
            t.setAdd(!0);
            var r = t.getShowProperty();
            t.setAdd(!1);
            for (var a = 0; a < 6; a++)
                r[a] && r[a].v > 0 ? (this["gp" + a].visible = this["gp" + a].includeInLayout = !0,
                this["lbl_type" + a].text = Object(i.tr)("main@" + o[a].k),
                this["lbl_now" + a].text = o[a].v,
                this["lbl_next" + a].text = r[a].v) : this["gp" + a].visible = this["gp" + a].includeInLayout = !1
        }
        ,
        e.prototype.levelup = function() {
            var t = this
              , e = Object(i.singleton)(X);
            if (e.canLvUp()) {
                var n = "jm.a";
                this.btn_all.selected && (n = "jm.b"),
                0 == e.needNum && (n = "jm.a"),
                Object(i.getSocket)().request({
                    route: n,
                    p: {}
                }, {
                    mask: !0
                }).then((function(e) {
                    e && t.refreshView()
                }
                )).catch(i.errorHandler)
            }
        }
        ,
        e
    }(i.Component)
      , Q = n(353)
      , Z = n(326)
      , tt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , et = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(i.setSkin)(e, "QilingXunbaoBuySkin"),
            e
        }
        return tt(e, t),
        e.prototype.onReady = function() {
            this.costLabel2.text = "" + this.cost(),
            this.tap("btn_yes", this.doBuy, this)
        }
        ,
        e.prototype.cost = function() {
            return i.cache.get("TreasureMap.getInfo", "cost") || 98
        }
        ,
        e.prototype.doBuy = function() {
            var t = this;
            W.b.hasEnough(W.c.lingyu, this.cost()) && Object(C.d)("tr.d").then((function(e) {
                e && (i.UI.remove(t),
                rt.show())
            }
            ))
        }
        ,
        e
    }(i.UIComponent)
      , nt = n(110)
      , it = n(241)
      , ot = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , rt = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(i.setSkin)(e, "QilingXunbaoSkin"),
            e
        }
        return ot(e, t),
        e.prototype.onReady = function() {
            this.setName("QilingXunbaoView"),
            this.lbl_num.text = it.a.getList().length + "",
            this.tap("btn_yes", this.useAll, this)
        }
        ,
        e.prototype.useAll = function() {
            Object(i.singleton)(Z.a).useAll()
        }
        ,
        e.show = function() {
            1 == Object(s.a)("fly") ? Object(o.a)(new e) : Object(nt.b)([Object(C.a)("tr.c", "TreasureMap.getInfo")]).then((function(t) {
                t && t[0] && (console.log(t[0]),
                1 == t[0].questMap ? Object(o.a)(new e) : Object(o.a)(new et))
            }
            ))
        }
        ,
        e
    }(i.UIComponent)
      , at = n(157)
      , st = n(112)
      , ct = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , ut = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return ct(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (t) {
                this.lbl_price.text = Object(i.tr)("main@price", {
                    num: Object(at.c)(t, "showMoney", !1)
                }),
                0 == Object(st.d)("qilingGift").l[t.id - 1].awded ? (this.btn_receive.enabled = !0,
                this.btn_receive.label = Object(i.tr)("main@growGiftPrice", {
                    num: Object(at.c)(t, "rechargeNum")
                })) : (this.btn_receive.enabled = !1,
                this.btn_receive.label = Object(i.tr)("main@buyDone")),
                Object(x.a)(this.list_reward, t.awards),
                this.lbl_title.text = t.desc;
                var e = Object(i.getConfig)("recharge_json")[t.rechargeId];
                this.exp1.text = Object(i.tr)("main@getExp", {
                    num: e.vipExp
                })
            }
        }
        ,
        e.prototype.onReady = function() {
            this.tap("btn_receive", this.doBuy, this)
        }
        ,
        e.prototype.doBuy = function() {
            Object(at.d)({
                id: this.data.rechargeId
            })
        }
        ,
        e
    }(i.Item)
      , ht = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(i.setSkin)(e, "QilingGiftSkin"),
            e
        }
        return ct(e, t),
        e.prototype.onReady = function() {
            this.list.itemRenderer = ut,
            this.refreshView(),
            i.cache.onChange("Activity.getList", this.refreshView, this, this.disposeArr)
        }
        ,
        e.prototype.refreshView = function() {
            var t = Object(i.getConfig)("activity_json").qilingGift;
            Object(x.a)(this.list, t.list)
        }
        ,
        e.show = function() {
            Object(st.d)("qilingGift") && Object(nt.b)([Object(R.a)("activity_json"), Object(R.a)("recharge_json")]).then((function(t) {
                Object(o.a)(new e)
            }
            ))
        }
        ,
        e
    }(i.UIComponent)
      , lt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , pt = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(i.setSkin)(e, "QilingNoPropSkin"),
            e
        }
        return lt(e, t),
        e.prototype.onReady = function() {
            this.tap("btn_go1", this.go1, this),
            this.tap("btn_go2", this.go2, this)
        }
        ,
        e.prototype.go1 = function() {
            i.UI.remove(this),
            S.b.show(S.c.lingbao)
        }
        ,
        e.prototype.go2 = function() {
            i.UI.remove(this),
            Object(T.b)({
                source: Object(L.Qb)(),
                locale: "union",
                name: "union"
            }).then((function(t) {
                t.openUnionShop()
            }
            ))
        }
        ,
        e
    }(i.UIComponent)
      , ft = n(130)
      , dt = n(173)
      , bt = n(160)
      , gt = n(123)
      , _t = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , mt = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e._idx = 1,
            Object(i.setSkin)(e, "QiLingSkin"),
            e.top = 0,
            e.bottom = 0,
            e
        }
        return _t(e, t),
        e.prototype.onReady = function() {
            var t = this;
            (i.is.xyx() || Object(i.getOption)("xyx")) && this.setState("xyx");
            for (var e = function(e) {
                n["postion" + e].select(!1),
                n["postion" + e].setType(e),
                n.tap("postion" + e, (function() {
                    t.onSelect(e)
                }
                ), n)
            }, n = this, o = 1; o <= 8; o++)
                e(o);
            this.tap("btn_do", this.doLvUp, this),
            this.tap("btn_xunbao", this.doXunbao, this),
            this.tap("btn_buy", this.doBuy, this),
            this._mv1 = this.createMv(this.ani1),
            this._mv2 = this.createMv(this.ani2),
            this.onSelect(1),
            this.disposeArr.push(W.b.watchNum(10293, this.refreshView, this)),
            i.cache.onChange("Activity.getList", this.giftVisible, this, this.disposeArr),
            this.giftVisible(),
            this._mv2.visible = ft.b.isOpen("recharge") && !Object(dt.a)(),
            this.btn_buy.visible = ft.b.isOpen("recharge") && !Object(dt.a)(),
            this.tap("btn_adv", (function() {
                bt.d.show({
                    isIcon: !0,
                    type: "qiLing",
                    state: "qiling",
                    confId: 19
                })
            }
            ), this),
            this.disposeArr.push(Object(gt.b)("器灵激励视频", this.btn_adv)),
            this.on("refresh_advert_success", this.refreshAdvert, this),
            this.refreshAdvert()
        }
        ,
        e.prototype.onExit = function() {
            this._mv1 && (this._mv1.dispose(),
            this._mv1 = null),
            this._mv2 && (this._mv2.dispose(),
            this._mv2 = null),
            Object(i.put)("refresh_bag"),
            t.prototype.onExit.call(this)
        }
        ,
        e.prototype.giftVisible = function() {
            this.gp_gift.visible = !1;
            var t = Object(st.d)("qilingGift");
            if (t)
                for (var e = 0; e < t.l.length; e++)
                    if (0 == t.l[e].awded) {
                        this.gp_gift.visible = !0;
                        break
                    }
        }
        ,
        e.prototype.createMv = function(t) {
            var e = i.Movie.create("tongyongui_ske_json");
            return e.play("1"),
            e.atLast = !0,
            t.addChild(e),
            e
        }
        ,
        e.prototype.onSelect = function(t) {
            this._idx = t;
            for (var e = 1; e <= 8; e++)
                this["postion" + e].select(e == t);
            this._model = Object(i.singleton)(Q.a).getByPos(t),
            this.refreshView()
        }
        ,
        e.prototype.refreshView = function() {
            for (var t = 1; t <= 8; t++)
                this["img_line" + t].visible = t == this._idx;
            this.lbl_name.text = this._model.c.name,
            this.lbl_lv.text = "Lv." + this._model.lv;
            var e = this._model.getProperty();
            this._model.setAdd(!0);
            var n = this._model.getProperty();
            this._model.setAdd(!1);
            for (t = 1; t <= 2; t++)
                e[t - 1] ? (this["gp" + t].visible = this["gp" + t].includeInLayout = !0,
                this["lbl_type" + t].text = Object(i.tr)("main@" + e[t - 1].k) + ":",
                this["lbl_now" + t].text = e[t - 1].v,
                this["lbl_next" + t].text = n[t - 1].v) : this["gp" + t].visible = this["gp" + t].includeInLayout = !1;
            var o = this._model.getCost()
              , r = W.b.getNum(o.propId);
            this.lbl_num.text = r + "/" + o.num,
            Object(Y.a)(this.lbl_num, r >= o.num)
        }
        ,
        e.prototype.doLvUp = function() {
            var t = this
              , e = "ql.b";
            this.btn_all.selected && (e = "ql.c");
            var n = this._model.getCost();
            W.b.hasEnough(n.propId, n.num, !1) ? Object(C.d)(e, {
                id: this._idx
            }).then((function(e) {
                t.refreshView()
            }
            )) : Object(o.a)(new pt)
        }
        ,
        e.prototype.doXunbao = function() {
            rt.show()
        }
        ,
        e.prototype.doBuy = function() {
            ht.show()
        }
        ,
        e.prototype.refreshAdvert = function() {
            var t = Object(st.d)("shareSwitch");
            t && t.ids && t.ids.qiLing && ft.b.isOpen("advert") ? this.btn_adv.visible = t.ids.qiLing.num > 0 && l.a.getNow() > t.ids.qiLing.time : this.btn_adv.visible = !1
        }
        ,
        e
    }(i.Component)
      , yt = n(118)
      , vt = n(168)
      , Ot = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , jt = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , wt = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , xt = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(i.setSkin)(e, "XiulianMainSkin"),
            e
        }
        return Ot(e, t),
        e.prototype.onReady = function(t) {
            void 0 === t && (t = "1"),
            (i.is.xyx() || Object(i.getOption)("xyx")) && this.setState("xyx"),
            Object(i.getCache)("Root.getList", "l.poolv") < 200 && vt.a.check(vt.b.linggen),
            this.addBehavior(new yt.a),
            this.tab.itemRenderer = r.b,
            this.disposeArr.push(new r.a({
                tab: this.tab,
                container: this.container,
                array: [{
                    text: Object(i.tr)("main@xiulianTab1"),
                    type: v,
                    name: "1",
                    icon: "icon_xiuliantap_1_png"
                }, {
                    text: Object(i.tr)("main@xiulianTab2"),
                    type: H,
                    name: "2",
                    icon: "icon_xiuliantap_2_png",
                    compName: "tabGongfa"
                }, {
                    text: Object(i.tr)("main@qianghuaTab1"),
                    type: mt,
                    name: "3",
                    icon: "icon_xiuliantap_3_png"
                }, {
                    text: Object(i.tr)("main@qianghuaTab2"),
                    type: K,
                    name: "4",
                    icon: "icon_xiuliantap_4_png"
                }],
                context: this,
                defaultSelectName: t,
                onSelect: this.checkSwitch
            }))
        }
        ,
        e.prototype.checkSwitch = function(t) {
            var e = Object(s.a)("lv");
            switch (t) {
            case "1":
                return this.bg.source = "bg_linggen_1_jpg",
                !0;
            case "2":
                return Object(i.put)("btn_click", {
                    name: "tabGongfa"
                }),
                0 == Object(i.getCache)("Skill.getList").l.length ? (Object(i.tooltip)(Object(i.tr)("main@noOpenSkill")),
                !1) : (this.bg.source = "bg_kungfu_1_jpg",
                Object(i.put)("update_skilUpList"),
                !0);
            case "3":
                return e < 41 ? (Object(i.tooltip)(Object(i.tr)("main@lingmaiTip")),
                !1) : (this.bg.source = "bg_qiling_jpg",
                !0);
            case "4":
                return e < 41 ? (Object(i.tooltip)(Object(i.tr)("main@lingmaiTip")),
                !1) : (this.bg.source = "bg_jinmai_jpg",
                !0)
            }
        }
        ,
        e.show = function(t) {
            return jt(this, void 0, void 0, (function() {
                return wt(this, (function(n) {
                    switch (n.label) {
                    case 0:
                        return [4, Object(nt.b)([Object(C.a)("ar.a", "Attr.getInfo"), Object(i.singleton)(w.a).checkRes(), Object(C.a)("ql.a", "Qiling.getInfo"), RES.loadGroup("qiling")])];
                    case 1:
                        return n.sent(),
                        Object(o.a)(new e, t),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(i.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return Gt
    }
    ));
    var i, o = n(1), r = n(106), a = n(121), s = n(107), c = n(113), u = n(176), h = n(115), l = n(170), p = n(119), f = n(110), d = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), b = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "CharacterStateSkin"),
            e
        }
        return d(e, t),
        e.getProperty = function() {
            return e._propertyMap || (e._propertyMap = {
                28: {
                    tr: Object(o.tr)("main@good"),
                    uinfo: "good"
                },
                29: {
                    tr: Object(o.tr)("main@haoyu"),
                    uinfo: "bkjdc"
                },
                30: {
                    tr: Object(o.tr)("main@ptc"),
                    uinfo: "ptc"
                },
                31: {
                    tr: Object(o.tr)("main@evil"),
                    uinfo: "evil"
                },
                32: {
                    tr: Object(o.tr)("main@xieyu"),
                    uinfo: "wtjdc"
                }
            }),
            e._propertyMap
        }
        ,
        e.prototype.onReady = function() {
            var t = this;
            Object(f.b)([Object(s.a)("ar.a", "Attr.getInfo"), Object(s.d)("pav.e")]).then((function(e) {
                e[1] && o.cache.set("PavilionAttr.GetInfo", e[1].i),
                t.updateView()
            }
            )),
            this.ruleNode.alpha = 0,
            this.ruleNode.visible = !0,
            this.tap("ruleBtn", this.onRule, this),
            this.tap("btn_sm", this.propRule, this)
        }
        ,
        e.prototype.onRule = function() {
            Object(h.J)(this.ruleNode)
        }
        ,
        e.prototype.propRule = function() {
            p.a.show({
                title: Object(o.tr)("main@propHelpTitle"),
                content: Object(o.tr)("main@propHelpContent")
            })
        }
        ,
        e.prototype.updateView = function() {
            for (var t = 1; t <= 40; t++) {
                var n = this["label" + t];
                if (n) {
                    var i = e.getProperty();
                    if (i[t]) {
                        var r = i[t];
                        this.updateLabel(n, r.tr, Object(c.a)(r.uinfo) || 0)
                    } else {
                        var a = Object(u.c)(t);
                        a && this.updateLabel(n, a.key, a.val)
                    }
                }
            }
            var s = Object(c.a)();
            this.updateLabel(this.nameLabel, Object(o.tr)("main@name"), s.uNa),
            this.updateLabel(this.stateLabel, Object(o.tr)("main@jingjie"), Object(o.tr)(Object(o.getConfig)("level_json")[s.lv].name)),
            this.updateLabel(this.bodyLabel, Object(o.tr)("main@roushen"), Object(o.tr)(Object(o.getConfig)("bodyLevel_json")[s.blv].name)),
            this.updateLabel(this.timeLabel, Object(o.tr)("main@xiulianTime"), Object(o.tr)("main@years", {
                num: Object(o.singleton)(l.a).year
            })),
            this.updateLabel(this.rankLabel, Object(o.tr)("main@feisheng"), 1 == s.fly ? Object(o.tr)("main@flyOrder", {
                n: s.flyNum || 0
            }) : Object(o.tr)("main@noFeisheng"))
        }
        ,
        e.prototype.updateLabel = function(t, e, n) {
            t.textFlow = (new egret.HtmlTextParser).parse(e + "：<font color=#000000>" + n + "</font>")
        }
        ,
        e._propertyMap = null,
        e
    }(o.Component), g = n(256), _ = n(108), m = n(114), y = n(109), v = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), O = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, j = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, w = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return v(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.nameLabel.text = t.text)
        }
        ,
        e
    }(o.Item), x = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "XisuiSkin"),
            e
        }
        return v(e, t),
        e.prototype.onReady = function() {
            var t = this
              , e = Object(g.d)();
            this._arr = e,
            this.list.selectedIndex = 0,
            this.list.itemRenderer = w,
            Object(_.a)(this.list, e),
            this.list.addEventListener(eui.ItemTapEvent.ITEM_TAP, this.onTap, this),
            this.disposeArr.push({
                dispose: function() {
                    t.list.removeEventListener(eui.ItemTapEvent.ITEM_TAP, t.onTap, t)
                }
            }),
            this.onTap()
        }
        ,
        e.prototype.onTap = function() {
            var t = this.list.selectedItem ? this.list.selectedItem.quality : 1
              , e = Object(c.a)("xisui")[t] || 0
              , n = this.conf(t, e)
              , i = this.conf(t, e + 1);
            if (this.desLabel.text = Object(o.tr)("main@xisuiLimit", {
                name: this.list.selectedItem.text
            }),
            this.curLabel.text = n ? n.maxNum : 0,
            this.nextLabel.text = i ? i.maxNum : n.maxNum,
            i) {
                var r = i.costItemId;
                this.needLabel.text = Object(o.tr)(Object(o.getConfig)("item_json")[r].name) + "x" + i.costNum,
                this._needItemId = i.costItemId,
                this._needItemNum = i.costNum,
                this.haveLabel.text = Object(o.tr)("main@haveProp", {
                    num: m.e.getNum(r)
                })
            } else
                this.needLabel.text = Object(o.tr)("main@maxXisui"),
                this._needItemId = this._needItemNum = 0,
                this.haveLabel.text = "";
            this.tap("yesBtn", this.onYes, this)
        }
        ,
        e.prototype.onYes = function() {
            var t = this;
            0 != this._needItemId ? m.e.hasEnough(this._needItemId, this._needItemNum) && Object(s.d)("prp.d", {
                quality: this.list.selectedItem ? this.list.selectedItem.quality : 1
            }).then((function(e) {
                e && (t.onTap(),
                Object(o.put)("refresh_danyao"))
            }
            )) : Object(o.tooltip)(Object(o.tr)("main@maxXisui"))
        }
        ,
        e.prototype.conf = function(t, e) {
            var n = Object(o.getConfig)("xiSui_json");
            for (var i in n) {
                var r = n[i];
                if (r.level == e && r.quality == t)
                    return r
            }
            return null
        }
        ,
        e.show = function() {
            return O(this, void 0, void 0, (function() {
                return j(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Object(y.a)("xiSui_json")];
                    case 1:
                        return t.sent(),
                        Object(r.a)(new e),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent), k = n(155), I = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), P = null, C = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            return n.data = e,
            Object(o.setSkin)(n, "ItemDanyaoLabelSkin"),
            n
        }
        return I(e, t),
        e.prototype.onReady = function() {
            this.labelDisplay.textFlow = (new egret.HtmlTextParser).parse(this.data.name)
        }
        ,
        e
    }(o.Item), S = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            return n.data = e,
            Object(o.setSkin)(n, "ItemDanyaoDetailListSkin"),
            n
        }
        return I(e, t),
        e.prototype.onReady = function() {
            for (var t = this.data.items, e = 0; e < t.length; e++)
                this.group.addChild(new C(t[e]))
        }
        ,
        e
    }(o.Component), R = {}, T = function(t) {
        var e = t.quality
          , n = t.resultID;
        e || (e = 0),
        n || (n = 0);
        var i = n + "-" + e;
        return R[i] || (R[i] = Object(g.c)(t, !0)),
        R[i]
    }, L = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            return n.data = e,
            Object(o.setSkin)(n, "ItemCharacterDanyaoSkin"),
            n
        }
        return I(e, t),
        e.prototype.onReady = function() {
            this.tap("banner", this.onBanner, this),
            this.titleLabel.text = this.data.text,
            this.data.quality && this.data.quality < 100 && Object(k.c)(this.titleLabel, this.data),
            this.on("refresh_danyao", this.createGroups, this)
        }
        ,
        e.prototype.createGroups = function() {
            if (this.data.expand) {
                var t = T(this.data);
                this.group.removeChildren();
                for (var e = 0; e < t.length; e++)
                    if (t[e].items.some((function(t) {
                        return t.uses > 0
                    }
                    ))) {
                        var n = new S(t[e]);
                        this.group.addChild(n)
                    }
            } else
                this.group.removeChildren()
        }
        ,
        e.prototype.onBanner = function() {
            if (T(this.data).some((function(t) {
                return t.items.some((function(t) {
                    return t.uses > 0
                }
                ))
            }
            ))) {
                if (P == this.data)
                    return P.expand = !1,
                    P = null,
                    void Object(o.put)("refresh_danyao");
                P && (P.expand = !1,
                P = null),
                this.data.expand ? (this.data.expand = !1,
                P = null) : (this.data.expand = !0,
                P = this.data),
                Object(o.put)("refresh_danyao")
            } else {
                var t = this.data
                  , e = t.resultID
                  , n = t.quality;
                e || n ? 31 == e ? Object(o.tooltip)(Object(o.tr)("main@danyaoTip2")) : Object(o.tooltip)(Object(o.tr)("main@danyaoTip3")) : Object(o.tooltip)(Object(o.tr)("main@danyaoTip1"))
            }
        }
        ,
        e
    }(o.Component), A = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.arr = null,
            Object(o.setSkin)(e, "CharacterDanyaoSkin"),
            e
        }
        return I(e, t),
        e.prototype.onReady = function() {
            this.arr = Object(g.a)();
            for (var t = 0; t < this.arr.length; t++)
                this.group.addChild(new L(this.arr[t]));
            this.on("refresh_danyao", this.onRefresh, this),
            this.tap("btn", (function() {
                x.show()
            }
            ), this)
        }
        ,
        e.prototype.onRefresh = function() {
            var t = this.scroller;
            t.stopAnimation(),
            Object(h.x)((function() {
                t.viewport.scrollV > t.viewport.contentHeight - t.height && (t.viewport.scrollV = Math.max(0, t.viewport.contentHeight - t.height))
            }
            ))
        }
        ,
        e
    }(o.Component), M = n(177), N = n(175), B = n(118), E = n(117), D = n(286), G = n(116), V = n(357), U = n(130), H = n(361), F = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), z = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "AccountRewardSkin"),
            e
        }
        return F(e, t),
        e.prototype.onReady = function() {
            this.tap("btn_add", this.onBind, this),
            this.tap("btn_reward", this.onReward, this),
            Object(o.on)("accountBindSuccess", this.onBindResult, this),
            Object(o.on)("accountBindResult", this.refreshView, this),
            Object(o.getPlatComp)("phase").phase("doQuery"),
            this.refreshView()
        }
        ,
        e.prototype.refreshView = function() {
            var t = o.cache.get("Tpp.getInfo");
            console.log("刷新:" + t.bind),
            console.log("刷新:" + Object(o.getPlatform)().canBind),
            this.btn_reward.visible = Object(o.getPlatform)().canBind,
            this.btn_add.visible = !Object(o.getPlatform)().canBind,
            1 == t.bind && (this.btn_reward.visible = !1,
            this.btn_add.visible = !0),
            this.awded.visible = !!t.bind,
            Object(_.a)(this.list, t.bindReward)
        }
        ,
        e.prototype.onBind = function() {
            console.log("发送doBind"),
            Object(o.getPlatComp)("phase").phase("doBind")
        }
        ,
        e.prototype.onReward = function() {
            var t = this;
            Object(o.getSocket)().request({
                route: "tpp.b",
                p: {
                    type: "bind"
                }
            }).then((function(e) {
                G.a.show(e.awds),
                o.UI.remove(t)
            }
            )).catch(o.errorHandler)
        }
        ,
        e.prototype.onBindResult = function() {
            this.btn_reward.visible = !0,
            this.btn_add.visible = !1
        }
        ,
        e.show = function() {
            Object(r.a)(new e)
        }
        ,
        e
    }(o.UIComponent), q = n(173), W = n(373), X = n(266), Y = n(146), J = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), $ = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, K = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, Q = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.arr = [],
            Object(o.setSkin)(e, "BalanceSkin"),
            e
        }
        return J(e, t),
        e.prototype.onReady = function() {
            this.refreshView(),
            this.tap("btn_1", this.tiangong, this),
            this.tap("btn_2", this.meiri, this),
            this.tap("btn_3", this.lingyu, this)
        }
        ,
        e.prototype.tiangong = function() {
            W.a.show("privilegeCard")
        }
        ,
        e.prototype.meiri = function() {
            U.b.isOpen("dayGift") ? X.o.show("dayGift") : U.b.isOpen("dailyGift") ? X.o.show("dailyGift") : Object(o.tooltip)(Object(o.tr)("main@noBuyDayGift"))
        }
        ,
        e.prototype.lingyu = function() {
            Y.b.show(5)
        }
        ,
        e.prototype.refreshView = function() {
            return $(this, void 0, void 0, (function() {
                var t;
                return K(this, (function(e) {
                    switch (e.label) {
                    case 0:
                        return [4, Object(o.getPlatform)().getConstant("query_balance")()];
                    case 1:
                        return t = e.sent(),
                        console.log(t),
                        this.lbl_balance.text = Object(o.tr)("main@balance", {
                            num: t
                        }),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.onExit = function() {
            Object(o.dispose)(this.arr),
            o.UI.remove(this),
            t.prototype.onExit.call(this)
        }
        ,
        e
    }(o.UIComponent);
    window.BalancePanel = Q;
    var Z = n(112)
      , tt = n(129)
      , et = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , nt = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.arr = [],
            e.ICreator_bindPhoneDlg = {
                show: function(t) {
                    return console.log("创建ICreator_bindPhoneDlg"),
                    window.BindPhonePanel.send = t.send,
                    window.BindPhonePanel.bind = t.bind,
                    window.BindPhonePanel.cancel = t.cancel,
                    {
                        close: function() {
                            console.log("关闭ICreator_bindPhoneDlg"),
                            o.UI.remove(window.BindPhonePanel)
                        }
                    }
                }
            },
            Object(o.setSkin)(e, "PanelPhoneSkin"),
            e
        }
        return et(e, t),
        e.prototype.onEnter = function() {
            t.prototype.onEnter.call(this),
            this.tap("send", this.sendClick, this),
            this.tap("yes", this.bindClick, this),
            this.tap("closeBtn", this.cancelClick, this),
            this.tap("btn", this.rewardBtn, this),
            this.initView(),
            this.on("refresh_bindphone_view", this.refreshView, this)
        }
        ,
        e.prototype.rewardBtn = function() {
            var t = Object(Z.d)("bindReward");
            this.btn.enabled = !1,
            t && 2 != t.status && Object(s.d)("at.bb").then((function(t) {
                t.awds && tt.b.show(t.awds),
                Object(o.put)("refresh_bindphone_view")
            }
            ))
        }
        ,
        e.prototype.initView = function() {
            console.log("ICreator_bindPhoneDlg===>>>"),
            console.log(this.ICreator_bindPhoneDlg);
            var t = Object(o.getConfig)("share_json").bindReward.list[0].awards;
            Object(_.a)(this.list, t),
            this.refreshView();
            var e = window.modosdk;
            e.registerBindPhoneDlg(this.ICreator_bindPhoneDlg),
            e.bindPhone({}, (function(t) {
                console.log("bindPhone init===>>>" + JSON.stringify(t)),
                t.status,
                Object(o.put)("refresh_bindphone_view")
            }
            ), this)
        }
        ,
        e.prototype.refreshView = function() {
            var t = this
              , e = Object(Z.d)("bindReward");
            this.btn.enabled = !1,
            e && Object(o.getPlatform)().getConstant("query_bindPhone")().then((function(n) {
                if (1 == n.status) {
                    var i = n.phoneNumber.toString();
                    t.pnum.text = i.substring(0, 3) + "****" + i.substring(i.length - 4)
                }
                2 == e.status ? (t.setState("yes"),
                t.btn.label = Object(o.tr)("main@get2")) : 1 == n.status ? (t.setState("yes"),
                t.btn.label = Object(o.tr)("main@get4"),
                t.btn.enabled = !0) : t.btn.label = Object(o.tr)("main@get3")
            }
            ))
        }
        ,
        e.prototype.sendClick = function() {
            console.log("send点击执行");
            var t = this.text1.text.trim();
            t && Object(h.v)(t) || Object(o.getOption)("debugMode") ? window.BindPhonePanel.send({
                phoneNumber: t,
                cb: function(t) {
                    console.log("发送验证码结果回调", t),
                    1 == t.status ? Object(o.tooltip)(Object(o.tr)("common@sendCodeSuccess")) : Object(o.tooltip)(Object(o.tr)("common@sendCodeFail"))
                }
            }) : Object(o.tooltip)(Object(o.tr)("common@inputPhoneNoOk"))
        }
        ,
        e.prototype.bindClick = function() {
            console.log("bind点击执行");
            var t = this.text2.text.trim();
            t ? window.BindPhonePanel.bind({
                verificationCode: t,
                cb: function(t) {
                    console.log("验证验证码是否正确回调", t),
                    1 == t.status ? Object(o.tooltip)(Object(o.tr)("common@bindSuccess")) : Object(o.tooltip)(Object(o.tr)("common@bindFail"))
                }
            }) : Object(o.tooltip)(Object(o.tr)("common@inputCodeNoOk"))
        }
        ,
        e.prototype.cancelClick = function() {
            console.log("cancel点击执行"),
            window.BindPhonePanel.cancel()
        }
        ,
        e.prototype.onExit = function() {
            o.UI.remove(this),
            Object(o.dispose)(this.arr),
            t.prototype.onExit.call(this)
        }
        ,
        e.show = function() {
            Object(f.b)(Object(y.a)("share_json")).then((function(t) {
                o.UI.openBox(e)
            }
            ))
        }
        ,
        e
    }(o.UIComponent);
    window.BindPhonePanel = nt;
    var it = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , ot = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.arr = [],
            e.ICreator_CertificationDlg = {
                show: function(t) {
                    return console.log("创建ICreator_CertificationDlg"),
                    window.CertificationPanel.onOk = t.onOk,
                    window.CertificationPanel.onCancel = t.onCancel,
                    {
                        close: function() {
                            console.log("关闭ICreator_CertificationDlg"),
                            o.UI.remove(window.CertificationPanel)
                        }
                    }
                }
            },
            Object(o.setSkin)(e, "PanelRenzhengSkin"),
            e
        }
        return it(e, t),
        e.prototype.onEnter = function() {
            t.prototype.onEnter.call(this),
            this.tap("yes", this.onOkClick, this),
            this.tap("closeBtn", this.onCancelClick, this),
            this.tap("btn", this.rewardBtn, this),
            this.initView(),
            Object(o.on)("refresh_certification_view", this.refreshView, this)
        }
        ,
        e.prototype.rewardBtn = function() {
            var t = Object(Z.d)("tunameReward");
            this.btn.enabled = !1,
            t && 2 != t.status && Object(s.d)("at.ba").then((function(t) {
                t.awds && tt.b.show(t.awds),
                Object(o.put)("refresh_certification_view")
            }
            ))
        }
        ,
        e.prototype.initView = function() {
            var t = Object(o.getConfig)("share_json").tunameReward.list[0].awards;
            Object(_.a)(this.list, t),
            this.refreshView();
            var n = window.modosdk
              , i = Object(o.getPlatform)().name;
            "modo" != i && "modoIos" != i && "modoIos2" != i && (n.registerCertificationDlg(this.ICreator_CertificationDlg),
            n.certification({}, (function(t) {
                console.log("certification init===>>>" + JSON.stringify(t)),
                1 == t.status && o.UI.openBox(e),
                Object(o.put)("refresh_certification_view")
            }
            ), this))
        }
        ,
        e.prototype.refreshView = function() {
            var t = this
              , e = Object(Z.d)("tunameReward");
            this.btn.enabled = !1,
            e && Object(o.getPlatform)().getConstant("query_certification")().then((function(n) {
                2 == e.status ? (t.setState("yes"),
                t.btn.label = Object(o.tr)("main@get2")) : 1 == n.status ? (t.setState("yes"),
                t.btn.label = Object(o.tr)("main@get4"),
                t.btn.enabled = !0) : t.btn.label = Object(o.tr)("main@get3")
            }
            ))
        }
        ,
        e.prototype.onOkClick = function() {
            console.log("onOk点击执行");
            var t = this.text1.text.toString()
              , e = this.text2.text.toString();
            console.log(e),
            console.log(t),
            console.log(Object(h.r)(e)),
            console.log(Object(h.t)(t)),
            t && e && Object(h.r)(e) && Object(h.t)(t) ? window.CertificationPanel.onOk({
                name: t,
                identity_card_id: e,
                cb: function(t) {
                    console.log("验证结果", t),
                    1 == t.status ? Object(o.tooltip)(Object(o.tr)("common@cardSuccess")) : Object(o.tooltip)(Object(o.tr)("common@cardFail"))
                }
            }) : Object(o.tooltip)(Object(o.tr)("common@inputNoOk"))
        }
        ,
        e.prototype.onCancelClick = function() {
            console.log("onCancel点击执行"),
            window.CertificationPanel.onCancel()
        }
        ,
        e.prototype.onExit = function() {
            Object(o.dispose)(this.arr),
            t.prototype.onExit.call(this)
        }
        ,
        e.show = function() {
            var t = this;
            Object(f.b)(Object(y.a)("share_json")).then((function(n) {
                var i = Object(o.getPlatform)().name;
                if ("modo" == i || "modoIos" == i || "modoIos2" == i || o.is.wx()) {
                    var r = Object(Z.d)("tunameReward");
                    if (r) {
                        if (2 == r.status)
                            return void Object(o.tooltip)(Object(o.tr)("common@cardOver"));
                        Object(o.getPlatform)().getConstant("query_certification")().then((function(n) {
                            if (1 == n.status)
                                Object(s.d)("at.ba").then((function(t) {
                                    t.awds && tt.b.show(t.awds),
                                    Object(o.put)("refresh_certification_view")
                                }
                                ));
                            else {
                                var i = {
                                    show: function(t) {
                                        return console.log("创建ICreator_CertificationDlg"),
                                        o.UI.openBox(e),
                                        window.CertificationPanel.onOk = t.onOk,
                                        window.CertificationPanel.onCancel = t.onCancel,
                                        {
                                            close: function() {
                                                console.log("关闭ICreator_CertificationDlg"),
                                                o.UI.remove(window.CertificationPanel)
                                            }
                                        }
                                    }
                                }
                                  , r = window.modosdk;
                                r.registerCertificationDlg(i),
                                r.certification({}, (function(t) {
                                    console.log("certification init===>>>" + JSON.stringify(t)),
                                    1 == t.status && Object(s.d)("at.ba").then((function(t) {
                                        t.awds && tt.b.show(t.awds),
                                        Object(o.put)("refresh_certification_view")
                                    }
                                    )),
                                    Object(o.put)("refresh_certification_view")
                                }
                                ), t)
                            }
                        }
                        ))
                    }
                } else
                    o.UI.openBox(e)
            }
            ))
        }
        ,
        e
    }(o.UIComponent);
    window.CertificationPanel = ot;
    var rt = n(111)
      , at = n(137)
      , st = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , ct = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "LanguageSelectionSkin"),
            e
        }
        return st(e, t),
        e.prototype.onReady = function() {
            var t = this;
            Object(y.a)("language_json").then((function() {
                Object(y.a)("checkbox_1_check_png").then((function() {
                    t.list0.itemRenderer = ut,
                    t.tap("close", (function() {
                        return o.UI.remove(t)
                    }
                    ), t);
                    var e = Object(o.getConfig)("language_json")
                      , n = [];
                    for (var i in e)
                        n.push(e[i]);
                    Object(_.a)(t.list0, n),
                    t.tap("btn_yyConfirm", t.confirm, t),
                    t.on("language_select_update", t.select, t),
                    o.cache.set("setting_select_language", Object(at.d)())
                }
                ))
            }
            ))
        }
        ,
        e.prototype.select = function(t) {
            this.selectLanguage = t
        }
        ,
        e.prototype.confirm = function() {
            null == this.selectLanguage || this.selectLanguage == Object(at.d)() ? o.UI.remove(this) : (Object(o.setLocale)(this.selectLanguage),
            Object(o.getPlatComp)("reload").reload())
        }
        ,
        e.show = function() {
            Object(r.a)(new e)
        }
        ,
        e
    }(o.UIComponent)
      , ut = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return st(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (t) {
                this.__data = t,
                this.Language.text = this.__data.desc;
                var e = o.cache.get("setting_select_language");
                this.selection.visible = e == t.type
            }
        }
        ,
        e.prototype.onReady = function() {
            this.tap(this, this.select, this),
            this.on("language_select_update", this.canel, this)
        }
        ,
        e.prototype.select = function() {
            Object(o.put)("language_select_update", this.__data.type),
            o.cache.set("setting_select_language", this.__data.type),
            this.selection.visible = !0
        }
        ,
        e.prototype.canel = function() {
            this.selection.visible = !1
        }
        ,
        e
    }(o.Item)
      , ht = n(145)
      , lt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , pt = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "RegionalSelectionSkin1"),
            Object(ht.b)("ServerSelect", e),
            e
        }
        return lt(e, t),
        e.prototype.onReady = function() {
            var t = this;
            this.tap("world", (function() {
                t.select("west")
            }
            ), this),
            this.tap("yatai", (function() {
                t.select("east")
            }
            ), this),
            "west" == egret.localStorage.getItem("timeZone") ? this.world.Selection1.visible = !0 : this.yatai.Selection1.visible = !0;
            var e = egret.localStorage.getItem("timeZoneNum") || Number(Object(o.getOption)("timeZone"));
            e && (this.recommend1.visible = Number(e) >= 0,
            this.recommend2.visible = Number(e) < 0)
        }
        ,
        e.prototype.select = function(t) {
            var e;
            e = "west" == t ? Object(o.tr)("main@timeZoneUpdate", {
                zone: Object(o.tr)("main@world")
            }) : Object(o.tr)("main@timeZoneUpdate", {
                zone: Object(o.tr)("main@yatai")
            }),
            Object(o.confirm)(e).then((function(e) {
                "yes" == e && (egret.localStorage.setItem("timeZone", t),
                Object(o.getPlatComp)("reload").reload())
            }
            ))
        }
        ,
        e.show = function() {
            Object(r.a)(new e)
        }
        ,
        e
    }(o.UIComponent)
      , ft = n(362)
      , dt = n(363)
      , bt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , gt = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , _t = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , mt = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelCeoMailSkin"),
            e
        }
        return bt(e, t),
        e.prototype.onReady = function() {
            var t = this;
            this.tap("btn_copy", (function() {
                t.copy()
            }
            ), this)
        }
        ,
        e.show = function() {
            return gt(this, void 0, void 0, (function() {
                return _t(this, (function(t) {
                    return Object(r.a)(new e),
                    [2]
                }
                ))
            }
            ))
        }
        ,
        e.prototype.copy = function() {
            Object(o.getPlatComp)("clipboard").copy("ceo@modo.cn"),
            Object(o.tooltip)(Object(o.tr)("common@copy"))
        }
        ,
        e.prototype.onExit = function() {
            t.prototype.onExit.call(this)
        }
        ,
        e
    }(o.UIComponent)
      , yt = n(123)
      , vt = n(154)
      , Ot = n(306)
      , jt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , wt = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return jt(e, t),
        e.prototype.onDataUpdate = function(t, e) {
            t && (Object(Ot.a)(this.servicePoint, t.t),
            this.serviceName.text = t.name)
        }
        ,
        e
    }(o.Item)
      , xt = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "EnterServiceSkin"),
            e
        }
        return jt(e, t),
        e.prototype.onReady = function() {
            for (var t = this, e = [], n = 0; n < arguments.length; n++)
                e[n] = arguments[n];
            console.log("=====server====="),
            Object(o.getPlatComp)("phase").phase("server"),
            this.on("server.tap", this.onTap, this),
            this.tap("close", (function() {
                return o.UI.remove(t)
            }
            ), this),
            this.currentServer.text = Object(o.tr)("common@currentServer"),
            this.selectServer.text = Object(o.tr)("common@selectServer");
            var i = this.serviceList_2;
            i.itemRenderer = wt,
            i.itemNotice = "server.tap",
            Object(_.a)(i, Object(vt.a)().serverInfo.getAreaList(null)),
            (i = this.serviceList_1).itemRenderer = wt,
            i.itemNotice = "server.tap",
            Object(_.a)(i, Object(vt.a)().serverInfo.getAreaList({
                type: 0
            }))
        }
        ,
        e.prototype.onTap = function(t) {
            t.sId == Object(c.a)("sId") ? o.UI.remove(this) : Object(o.confirm)(Object(o.tr)("main@changeServer")).then((function(e) {
                "yes" == e && (Object(h.F)(t.sId),
                egret.localStorage.setItem("temporaryAudio", JSON.stringify({
                    music: o.audio.isOn("music"),
                    effect: o.audio.isOn("effect")
                })),
                o.audio.off("effect"),
                o.audio.off("music"),
                Object(o.getPlatComp)("reload").reload())
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
      , kt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , It = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.arr = [],
            Object(o.setSkin)(e, "PanelSipuRenzhengSkin"),
            e
        }
        return kt(e, t),
        e.prototype.onReady = function(t) {
            this.tap("yes", this.onOkClick, this),
            this.tap("btn", this.rewardBtn, this),
            this.initView(),
            Object(o.on)("refresh_certification_view", this.refreshView, this)
        }
        ,
        e.prototype.rewardBtn = function() {
            var t = Object(Z.d)("tunameReward");
            this.btn.enabled = !1,
            t && 2 != t.status && Object(s.d)("at.ba").then((function(t) {
                t.awds && tt.b.show(t.awds),
                Object(o.put)("refresh_certification_view")
            }
            ))
        }
        ,
        e.prototype.initView = function() {
            var t = Object(o.getConfig)("share_json").tunameReward.list[0].awards;
            Object(_.a)(this.list, t),
            this.refreshView()
        }
        ,
        e.prototype.refreshView = function() {
            var t = this
              , e = Object(Z.d)("tunameReward");
            this.btn.enabled = !1,
            e && Object(o.getPlatform)().getConstant("doRealNameCheck")("query").then((function(n) {
                2 == e.status ? (t.setState("yes"),
                t.btn.label = Object(o.tr)("main@get2")) : "1" == n.result ? (t.setState("yes"),
                t.btn.label = Object(o.tr)("main@get4"),
                t.btn.enabled = !0) : t.btn.label = Object(o.tr)("main@get3")
            }
            ))
        }
        ,
        e.prototype.onOkClick = function() {
            console.log("开始认证===>>>"),
            Object(o.getPlatform)().getConstant("doRealNameCheck")("bind").then((function(t) {
                console.log("验证结果===>>>", t),
                Object(o.put)("refresh_certification_view"),
                "1" == t.result ? Object(o.tooltip)(Object(o.tr)("common@cardSuccess")) : Object(o.tooltip)(Object(o.tr)("common@cardFail"))
            }
            ))
        }
        ,
        e.prototype.onExit = function() {
            Object(o.dispose)(this.arr),
            t.prototype.onExit.call(this)
        }
        ,
        e.show = function() {
            Object(f.b)(Object(y.a)("share_json")).then((function(t) {
                Object(r.a)(new e)
            }
            ))
        }
        ,
        e
    }(o.UIComponent);
    window.SipuRenzhengPanel = It;
    var Pt = n(158)
      , Ct = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , St = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , Rt = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , Tt = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelSettingSkin"),
            e
        }
        return Ct(e, t),
        e.prototype.setBtnVisible = function(t, e) {
            this[t].includeInLayout = this[t].visible = e
        }
        ,
        e.prototype.onReady = function() {
            this.lbl_name.text = Object(E.c)(),
            this.lbl_uid.text = Object(c.a)("uId") + "",
            this.lbl_serverName.text = Object(o.tr)("common@serviceName", {
                name: Object(E.j)()
            }),
            this.btn_changeServer.visible = Object(o.getPlatComp)("reload").support,
            this.tap("btn_changeServer", this.onChangeServer, this),
            this.tap("btn_cpoy", (function() {
                Object(o.getPlatComp)("clipboard").copy(Object(c.a)("uId"))
            }
            ), this),
            this.setBtnVisible("btn_tousu", Object(h.s)());
            var t = Object(h.n)();
            if (this.btn_card1.enabled = t > 0,
            this.btn_card2.enabled = Object(c.a)("tqInfo.tq2") > 0,
            this.btn_card1.visible = U.b.isOpen("cards"),
            this.btn_card2.visible = U.b.isOpen("cards"),
            this.guide.selected = 1 == Object(c.a)("switch.jieyin"),
            this.friend.selected = 1 == Object(c.a)("switch.friend"),
            Object(at.f)()) {
                var e = o.cache.get("Tpp.getInfo");
                this.setBtnVisible("btn_account", 0 == e.bind)
            } else
                this.setBtnVisible("btn_account", !1);
            console.log("settings"),
            this.setBtnVisible("gp_inviteCode", U.b.isOpen("inviteCode")),
            this.tap("btn_cpoy", (function() {
                Object(o.tooltip)(Object(o.tr)("common@copyUid")),
                Object(o.getPlatComp)("clipboard").copy(Object(c.a)("uId"))
            }
            ), this),
            this.tap("btn_changeServer", this.onChangeServer, this),
            this.tap("btn_tousu", this.showCEOMail, this),
            this.tap("music", this.onMusic, this),
            this.tap("audio", this.onAudio, this),
            this.tap("btn_exchange", this.onExchange, this),
            this.tap("btn_changeName", this.onChangeName, this),
            this.tap("btn_help", this.onHelp, this),
            this.tap("btn_account", this.onAccount, this),
            this.tap("btn_service", this.onService, this),
            this.tap("btn_Server", this.onServer, this),
            this.tap("btn_notice", this.onNotice, this),
            this.tap("btn_Language", this.onLanguage, this),
            this.tap("btn_fankui", this.onFankui, this),
            this.tap(this.guide, this.onGuide, this),
            this.tap(this.parade, this.onParade, this),
            this.tap(this.friend, this.onFriend, this),
            "bearjoy" == Object(o.getPlatform)().name && this.tap("head", (function() {
                o.httputil.adjust("uid")
            }
            )),
            (Object(q.a)() || Object(U.d)()) && this.setBtnVisible("btn_help", !1),
            this.music.selected = o.audio.isOn("music"),
            this.audio.selected = o.audio.isOn("effect"),
            this.parade.selected = 1 == Object(c.a)("switch.petCuise"),
            Object(o.getPlatComp)("kefu").support && U.b.isOpen("kefu") ? (this.setBtnVisible("btn_service", !0),
            this.disposeArr.push(Object(yt.b)("客服", this.btn_service))) : this.setBtnVisible("btn_service", !1),
            this.setBtnVisible("btn_notice", U.b.isOpen("notice")),
            this.tap("btn_service", (function() {
                Object(o.put)("kefu_red_hide"),
                "tanwan" == Object(o.getPlatform)().name || "tanwanAnd1" == Object(o.getPlatform)().name || "tanwanIos1" == Object(o.getPlatform)().name ? Object(r.a)(new dt.a) : Object(o.getPlatComp)("kefu").open()
            }
            ), this),
            this.tap("btn_notice", (function() {
                Object(r.a)(new D.a(!0))
            }
            ), this),
            this.setBtnVisible("btn_notice", !Object(q.b)()),
            this.setBtnVisible("btn_tousu", !1),
            o.res.updateVersion(this.lbl_version),
            this.setBtnVisible("lbl_balance", !1),
            this.disposeArr.push(U.b.watch("accountBind", this.btn_account)),
            Object(o.getPlatform)().getConstant("query_balance") && this.checkBanlance(),
            this.setBtnVisible("btn_Language", U.b.isOpen("language")),
            this.setBtnVisible("btn_Server", U.b.isOpen("server")),
            this.setBtnVisible("btn_help", !1),
            this.refreshTime(),
            this.tiemr = egret.setInterval(this.refreshTime, this, 1e3),
            o.cache.onChange("Tpp.getInfo", this.refreshBindingBtn, this, this.disposeArr),
            o.cache.onChange("Activity.getList", this.showBtn, this, this.disposeArr),
            this.setBtnVisible("btn_bangding", !1),
            Object(Z.d)("bindReward") && Object(o.getPlatform)().getConstant("has_bindPhone") && (this.setBtnVisible("btn_bangding", !0),
            this.tap("btn_bangding", (function() {
                nt.show()
            }
            ), this));
            var n = Object(Z.d)("tunameReward");
            this.setBtnVisible("btn_renzheng", !1),
            n && Object(o.getPlatform)().getConstant("has_certification") && (this.setBtnVisible("btn_renzheng", !0),
            this.tap("btn_renzheng", (function() {
                "sipuRt" == Object(o.getPlatform)().name ? It.show() : ot.show()
            }
            ), this)),
            this.btn_Switchaccount && (this.setBtnVisible("btn_Switchaccount", U.b.isOpen("accountSwitch")),
            this.tap(this.btn_Switchaccount, (function() {
                Object(o.getPlatComp)("phase").phase("doReLogin")
            }
            ), this)),
            "ja_jp" == Object(at.d)() && (this.btn_law.visible = !0,
            this.tap("btn_law", (function() {
                Object(r.c)(new ft.a)
            }
            ), this)),
            this.setBtnVisible("btn_notice", !Object(q.b)()),
            this.setBtnVisible("btn_fankui", Object(Pt.b)()),
            this.showBtn()
        }
        ,
        e.prototype.onFankui = function() {
            window.KeFuPanel.show()
        }
        ,
        e.prototype.showCEOMail = function() {
            mt.show()
        }
        ,
        e.prototype.showBtn = function() {
            var t = Object(Z.d)("bindReward")
              , e = Object(Z.d)("tunameReward");
            t && (2 != t.status ? egret.Tween.get(this.btn_bangding, {
                loop: !0
            }).to({
                alpha: .35
            }, 500).to({
                alpha: 1
            }, 500) : this.btn_bangding.alpha = 1),
            e && (2 != e.status ? egret.Tween.get(this.btn_renzheng, {
                loop: !0
            }).to({
                alpha: .35
            }, 500).to({
                alpha: 1
            }, 500) : this.btn_renzheng.alpha = 1)
        }
        ,
        e.prototype.checkBanlance = function() {
            return St(this, void 0, void 0, (function() {
                var t;
                return Rt(this, (function(e) {
                    switch (e.label) {
                    case 0:
                        return [4, Object(o.getPlatform)().getConstant("query_balance")()];
                    case 1:
                        return t = e.sent(),
                        console.log(t),
                        t > 0 && (this.lbl_balance.label = Object(o.tr)("main@setBalance", {
                            num: t
                        }),
                        this.setBtnVisible("lbl_balance", !0),
                        this.tap("lbl_balance", this.showBalance, this)),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.showBalance = function() {
            U.b.isOpen("recharge") ? Object(r.a)(new Q) : Object(o.tooltip)(Object(o.tr)("main@noBuyDayGift"))
        }
        ,
        e.prototype.onGuide = function() {
            Object(s.d)("u.t", {
                type: "jieyin",
                sw: this.guide.selected ? 1 : 0
            })
        }
        ,
        e.prototype.onParade = function() {
            Object(s.d)("u.t", {
                type: "petCuise",
                sw: this.parade.selected ? 1 : 0
            })
        }
        ,
        e.prototype.onFriend = function() {
            Object(s.d)("u.t", {
                type: "friend",
                sw: this.friend.selected ? 1 : 0
            })
        }
        ,
        e.prototype.onHelp = function() {
            H.a.show()
        }
        ,
        e.prototype.onChangeName = function() {
            var t = this;
            Object(r.a)(new V.a).exit((function() {
                t.lbl_name.text = Object(E.c)()
            }
            ))
        }
        ,
        e.prototype.onMusic = function() {
            this.music.selected ? o.audio.on("music") : o.audio.off("music")
        }
        ,
        e.prototype.onAudio = function() {
            this.audio.selected ? o.audio.on("effect") : o.audio.off("effect")
        }
        ,
        e.prototype.onExchange = function() {
            var t = this.text.text.trim();
            t ? Object(s.d)("code.a", {
                code: t
            }).then((function(t) {
                t && t.awds && G.a.show(t.awds)
            }
            )) : Object(o.tooltip)(Object(o.tr)("main@needRedemption"))
        }
        ,
        e.prototype.onChangeServer = function() {
            console.log("=====clickServerBtn====="),
            Object(o.getPlatComp)("phase").phase("clickServerBtn"),
            Object(r.a)(new xt)
        }
        ,
        e.prototype.onAccount = function() {
            z.show()
        }
        ,
        e.prototype.refreshBindingBtn = function() {}
        ,
        e.prototype.onLanguage = function() {
            ct.show()
        }
        ,
        e.prototype.onNotice = function() {}
        ,
        e.prototype.onService = function() {}
        ,
        e.prototype.onServer = function() {
            pt.show()
        }
        ,
        e.prototype.refreshTime = function() {
            var t;
            if (Object(at.f)()) {
                var e = Number(Object(o.getOption)("timeZone")) || 8;
                t = rt.a.getNow() - 3600 * (e - 8)
            } else {
                e = Number(Object(o.getOption)("timeZone")) || -5;
                t = rt.a.getNow() - 3600 * (e + 5)
            }
            this.time.text = Object(o.tr)("main@nowTime", {
                time: rt.a.timeStamp(t, "HMS")
            })
        }
        ,
        e.prototype.onExit = function() {
            egret.Tween.removeTweens(this.btn_renzheng),
            egret.Tween.removeTweens(this.btn_bangding),
            egret.clearInterval(this.tiemr)
        }
        ,
        e
    }(o.Component)
      , Lt = n(124)
      , At = n(230)
      , Mt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Nt = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "KungfuSkillSkin"),
            e
        }
        return Mt(e, t),
        e.prototype.onReady = function() {
            this.list.itemRenderer = Bt,
            this.updateList(),
            this.on("update_skillList", this.updateList, this)
        }
        ,
        e.prototype.updateList = function() {
            var t = Object(o.singleton)(At.a).getJuexueList();
            Object(_.a)(this.list, t)
        }
        ,
        e
    }(o.Component)
      , Bt = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return Mt(e, t),
        e.prototype.onReady = function() {
            this.tap("btn_use", this.onUse, this)
        }
        ,
        e.prototype.onUse = function() {
            Object(s.d)("skl.d", {
                sId: this.data.c.id
            }).then((function(t) {
                Object(o.put)("update_skillList")
            }
            ))
        }
        ,
        e.prototype.onDataUpdate = function(t) {
            t && (this.currentState = t.useing ? "use" : "unused",
            this.lbl_name && (this.lbl_name.text = Object(o.tr)(t.c.name)),
            this.lbl_desc.textFlow = (new egret.HtmlTextParser).parser(Object(o.tr)(t.c.desc)),
            this.img_icon.source = "skill_" + t.c.id + "_png")
        }
        ,
        e
    }(o.Item);
    Object(Lt.a)("TrickView", Nt);
    var Et = n(200)
      , Dt = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , Gt = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "CharacterSkin"),
            e
        }
        return Dt(e, t),
        e.prototype.onReady = function() {
            this.addBehavior(new B.a),
            this.disposeArr.push(new a.a({
                container: this.container,
                tab: this.tab,
                height: Object(M.a)().height - 181,
                array: [{
                    name: "setting",
                    text: Object(o.tr)("main@infoUser"),
                    type: Tt
                }, {
                    name: "info",
                    text: Object(o.tr)("main@infoState"),
                    type: b
                }, {
                    name: "trick",
                    text: Object(o.tr)("main@infoTrick"),
                    type: Nt
                }, {
                    name: "yao",
                    text: Object(o.tr)("main@infoYao"),
                    type: A
                }],
                onSelect: function(t) {
                    if (("info" == t || "yao" == t) && !Object(N.b)(1013))
                        return m.e.getNum(1013) > 0 ? Object(o.confirm)(Object(o.tr)("main@goBagUseConfirm", {
                            name: m.e.getName(1013)
                        })).then((function(t) {
                            "yes" == t && (o.UI.remove(e),
                            Et.a.show())
                        }
                        )) : Object(o.confirm)(Object(o.tr)("main@attrInfoLock")).then((function(t) {
                            "yes" == t && (o.UI.remove(e),
                            Y.b.show(Y.c.lingbao))
                        }
                        )),
                        !1
                }
            }))
        }
        ,
        e.show = function() {
            Object(o.getPlatform)().isBindAccount ? Object(o.getSocket)().request({
                route: "tpp.a"
            }).then((function(t) {
                o.cache.set("Tpp.getInfo", t),
                Object(r.a)(new e)
            }
            )).catch(o.errorHandler) : Object(r.a)(new e)
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return pt
    }
    ));
    var i, o, r = n(1), a = n(109), s = n(106), c = n(121), u = n(118), h = n(113), l = n(173), p = n(114), f = n(130), d = n(137), b = n(108), g = n(110), _ = n(107), m = n(112), y = n(116), v = n(134), O = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    );
    !function(t) {
        t[t.finish = 0] = "finish",
        t[t.normal = 1] = "normal",
        t[t.awared = 2] = "awared"
    }(o || (o = {}));
    var j = function() {
        function t(t) {
            this.p = t,
            this.c = Object(r.getConfig)("activeGift_json")[t.id]
        }
        return Object.defineProperty(t.prototype, "type", {
            get: function() {
                return this.p.idx >= this.c.detail.length ? o.awared : this.p.num >= this.detail().value1 ? o.finish : o.normal
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.detail = function() {
            return this.p.idx >= this.c.detail.length ? this.c.detail[this.c.detail.length - 1] : this.c.detail[this.p.idx]
        }
        ,
        Object.defineProperty(t.prototype, "awds", {
            get: function() {
                return this.detail().award
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "num", {
            get: function() {
                return this.detail().value1
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , w = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return O(e, t),
        e.prototype.onReady = function() {
            for (var t = [], e = 0; e < arguments.length; e++)
                t[e] = arguments[e];
            this.tap("btn_receive", this.onReceive, this)
        }
        ,
        e.prototype.onReceive = function() {
            Object(p.m)(this.data.c.detail[this.data.p.id].award) || Object(_.d)("at.n", {
                id: this.data.p.id,
                idx: this.data.p.idx
            }).then((function(t) {
                t && (Object(v.a)("activity_active_rewards"),
                y.a.show(t.awds),
                Object(r.put)("refresh_active_gift"))
            }
            ))
        }
        ,
        e.prototype.onDataUpdate = function(t, e) {
            t && (this.lbl_desc.text = Object(r.tr)(t.c.name, {
                num: t.num
            }),
            Object(b.a)(this.list, t.awds),
            t.type == o.normal ? this.setState("get2") : t.type == o.finish ? this.setState("get1") : this.setState("get3"))
        }
        ,
        e
    }(r.Item)
      , x = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(r.setSkin)(e, "Activity3Skin"),
            e
        }
        return O(e, t),
        e.prototype.onReady = function() {
            for (var t = this, e = [], n = 0; n < arguments.length; n++)
                e[n] = arguments[n];
            this.lbl_title.text = Object(r.tr)("main@activeGiftTitle"),
            this.lbl_content.text = Object(r.tr)("main@activeGiftDesc"),
            Object(b.a)(this.list, []),
            this.list.itemRenderer = w,
            Object(g.b)([Object(a.a)("activeGift_json")]).then((function(e) {
                t.refreshList()
            }
            )),
            this.on("refresh_active_gift", this.refreshList, this)
        }
        ,
        e.prototype.refreshList = function() {
            var t = Object(m.d)("activeGift").l;
            Object(b.a)(this.list, t.map((function(t) {
                return new j(t)
            }
            )).sort((function(t, e) {
                return t.type - e.type
            }
            )))
        }
        ,
        e
    }(r.Component)
      , k = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , I = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(r.setSkin)(e, "Activity7Skin"),
            e
        }
        return k(e, t),
        e.prototype.onReady = function() {
            this.list.itemRenderer = P,
            this.updateView(),
            this.on("refresh_advert_exchange", this.updateView, this)
        }
        ,
        e.prototype.updateView = function() {
            Object(b.a)(this.list, st.ins.getAdvertData())
        }
        ,
        e
    }(r.Component)
      , P = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return k(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.lbl_desc.text = t.title,
            this.item.propId = t.c.itemId,
            this.item.lbl_num.text = t.c.num,
            this.costItem.propId = t.c.costItemId,
            this.costItem.lbl_num.text = t.c.costNum,
            this.lbl_num.text = t.num,
            this.btn_receive.visible = 2 != t.status,
            this.received.visible = 2 == t.status)
        }
        ,
        e.prototype.onReady = function() {
            this.tap("btn_receive", this.receive, this)
        }
        ,
        e.prototype.receive = function() {
            p.e.hasEnough(this.data.c.costItemId, this.data.c.costNum) && Object(_.d)("at.w", {
                activityName: "shareShop",
                id: this.data.c.id
            }).then((function(t) {
                t && (Object(r.put)("refresh_advert_exchange"),
                y.a.show(t.awds))
            }
            ))
        }
        ,
        e
    }(r.Item)
      , C = n(4)
      , S = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , R = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(r.setSkin)(e, "Activity3Skin"),
            e
        }
        return S(e, t),
        e.prototype.onReady = function() {
            this.giftConf = Object(r.getConfig)("festivalActivity_json").shareSwitchTask,
            this.lbl_title.text = Object(r.tr)("act@fan58"),
            this.lbl_content.text = Object(r.tr)(this.giftConf.desc),
            this.list.itemRenderer = T,
            this.refreshView(),
            r.cache.onChange("Activity.getList", this.refreshView, this, this.disposeArr)
        }
        ,
        e.prototype.refreshView = function() {
            var t = st.ins.getActivityArr("shareSwitchTask");
            Object(b.a)(this.list, t)
        }
        ,
        e
    }(r.Component)
      , T = function(t) {
        function e() {
            return t.call(this) || this
        }
        return S(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.__data = t,
            this.lbl_desc.text = Object(r.tr)(t.c.desc, {
                num: t.c.num
            }) + "(" + t.p.num + "/" + t.c.num + ")",
            Object(b.a)(this.list, t.c.awards),
            1 == t.status ? this.setState("get3") : 0 == t.status ? this.setState("get1") : this.setState("get4"))
        }
        ,
        e.prototype.onEnter = function() {
            this.tap("btn_receive", this.receive, this),
            this.tap("btn_proceed", this.getWay, this)
        }
        ,
        e.prototype.getWay = function() {
            Object(r.singleton)(C.CommonController).getWay(Number(this.data.c.param2))
        }
        ,
        e.prototype.receive = function() {
            Object(p.m)(this.data.c.awards) || Object(r.getSocket)().request({
                route: "at.sta",
                p: {
                    type: this.__data.c.type,
                    activityName: "shareSwitchTask"
                }
            }).then((function(t) {
                y.a.show(t.awds)
            }
            ))
        }
        ,
        e
    }(r.Item)
      , L = n(115)
      , A = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , M = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(r.setSkin)(e, "Activity6Skin"),
            e
        }
        return A(e, t),
        e.prototype.onReady = function() {
            this.tap("btn_praise", this.appraise, this),
            this.tap("btn_complain", this.complaints, this),
            Object(v.a)("game_pingjia_tanchu")
        }
        ,
        e.prototype.appraise = function() {
            if (!Object(L.q)(3e3)) {
                var t = Object(r.getCache)("Red.getInfo");
                t && 1 == t.appraise && Object(r.getSocket)().request("at.az").then((function() {
                    t.appraise = 0,
                    Object(r.put)("refresh_appraise_red")
                }
                ));
                egret.ExternalInterface.call("openPlatform", JSON.stringify({
                    code: "4",
                    info: "",
                    pageid: ""
                })),
                Object(v.a)("game_pingjia_guli")
            }
        }
        ,
        e.prototype.complaints = function() {
            if (!Object(L.q)(3e3)) {
                var t = Object(r.getCache)("Red.getInfo");
                t && 1 == t.appraise && Object(r.getSocket)().request("at.az").then((function() {
                    t.appraise = 0,
                    Object(r.put)("refresh_appraise_red")
                }
                ));
                egret.ExternalInterface.call("openPlatform", JSON.stringify({
                    code: "5",
                    info: "",
                    pageid: ""
                })),
                Object(v.a)("game_pingjia_tucao")
            }
        }
        ,
        e
    }(r.Component)
      , N = n(146)
      , B = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , E = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(r.setSkin)(e, "Activity4Skin"),
            e
        }
        return B(e, t),
        e.prototype.onReady = function() {
            var t = this;
            Object(a.a)("jueXueActShow_json").then((function() {
                var e = Object(r.getConfig)("activityGroup_json")[2].activity.filter((function(t) {
                    return "jueXueActShow" == t.activityName
                }
                ))[0].name;
                t.lbl_title.text = Object(r.tr)(e);
                var n = Object(r.getConfig)("jueXueActShow_json")[1];
                t.lbl_title_1.text = n.name1,
                t.lbl_title_2.text = n.name2,
                t.lbl_content_1.textFlow = (new egret.HtmlTextParser).parser(Object(r.tr)(n.desc1)),
                t.lbl_content_2.textFlow = (new egret.HtmlTextParser).parser(Object(r.tr)(n.desc2)),
                t.lbl_content_3.textFlow = (new egret.HtmlTextParser).parser(Object(r.tr)(n.desc3)),
                t.tap("btn_buy", t.buy, t)
            }
            ))
        }
        ,
        e.prototype.buy = function() {
            N.b.show(N.c.xianyu)
        }
        ,
        e
    }(r.Component)
      , D = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , G = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(r.setSkin)(e, "Activity3Skin"),
            e
        }
        return D(e, t),
        e.prototype.onReady = function() {
            this.giftConf = Object(r.getConfig)("activity_json").levelGift;
            var t = Object(r.getConfig)("activityGroup_json")[2].activity.filter((function(t) {
                return "levelGift" == t.activityName
            }
            ))[0].name;
            this.lbl_title.text = Object(r.tr)(t),
            this.lbl_content.text = Object(r.tr)(this.giftConf.desc),
            this.list.itemRenderer = V,
            this.refreshView(),
            r.cache.onChange("Activity.getList", this.refreshView, this, this.disposeArr)
        }
        ,
        e.prototype.refreshView = function() {
            for (var t = Object(m.d)("levelGift").l, e = this.giftConf.list.map((function(e) {
                for (var n = 0; n < t.length; n++)
                    if (t[n].id == e.uniqId)
                        return new it(e,t[n])
            }
            )), n = [], i = [], o = [], r = 0; r < e.length; r++)
                0 == e[r].status ? n.push(e[r]) : 2 == e[r].status ? i.push(e[r]) : o.push(e[r]);
            e = n.concat(i, o),
            Object(b.a)(this.list, e)
        }
        ,
        e
    }(r.Component)
      , V = function(t) {
        function e() {
            return t.call(this) || this
        }
        return D(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.__data = t,
            this.lbl_desc.text = t.c.desc,
            Object(b.a)(this.list, t.c.awards),
            1 == t.status ? this.setState("get3") : 0 == t.status ? this.setState("get1") : this.setState("get2"))
        }
        ,
        e.prototype.onEnter = function() {
            this.tap("btn_receive", this.receive, this)
        }
        ,
        e.prototype.receive = function() {
            Object(p.m)(this.data.c.awards) || Object(r.getSocket)().request({
                route: "at.c",
                p: {
                    id: this.__data.c.uniqId,
                    activityName: this.__data.c.activityName
                }
            }).then((function(t) {
                Object(v.a)("activity_stateLevel_rewards"),
                y.a.show(t.awds)
            }
            ))
        }
        ,
        e
    }(r.Item)
      , U = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , H = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(r.setSkin)(e, "Activity5Skin"),
            e
        }
        return U(e, t),
        e.prototype.isModo = function() {
            return Object(r.getPlatform)().name.indexOf("modo") > -1
        }
        ,
        e.prototype.onReady = function() {
            for (var t = [], e = 0; e < arguments.length; e++)
                t[e] = arguments[e];
            (r.is.wx() || this.isModo()) && (this.lbl_name1.text = Object(r.tr)("main@gzgzh1"),
            this.lbl_name2.text = Object(r.tr)("main@gzgzh2"),
            this.lbl_name3.text = Object(r.tr)("main@gzgzh3"));
            var n = [{
                propId: 1017,
                num: 2
            }, {
                propId: 1021,
                num: 3
            }, {
                propId: 1024,
                num: 2
            }, {
                propId: 1101,
                num: 10
            }];
            Object(b.a)(this.list, n)
        }
        ,
        e
    }(r.Component)
      , F = n(123)
      , z = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , q = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.data = {
                zh_cn: {
                    url: "https://www.facebook.com/profile.php?id=100042043021318",
                    code: 2
                },
                zh_hant: {
                    url: "https://www.facebook.com/profile.php?id=100042043021318",
                    code: 2
                },
                en_us: "",
                ko_kr: "",
                ja_jp: {
                    url: "https://twitter.com/houchisennin",
                    code: 6
                },
                vi_vn: "",
                ta_ta: {
                    url: "https://www.facebook.com/profile.php?id=100047794083576",
                    code: 2
                }
            },
            Object(r.setSkin)(e, "OverseaVipSkin"),
            e
        }
        return z(e, t),
        e.prototype.onReady = function() {
            this.tap("btn_cpoy", this.copy, this),
            this.tap("Btn_add", this.add, this),
            this.tap("Btn_recharge", this.recharge, this),
            this.tap("btn_lock", this.onLock, this);
            var t = Object(m.d)("overseaVip");
            Object(h.a)("vipExp") >= 6e3 ? this.setState("unlock") : (this.setState("shut"),
            this.lbl_num.text = Object(r.tr)("main@overseaVipNeed", {
                num: 6e3 - Object(h.a)("vipExp")
            }));
            var e = Object(d.d)();
            this.Btn_add.visible = !("en_us" == e || "ko_kr" == e || "vi_vn" == e),
            this.lbl_name.text = Object(r.tr)("main@overseaVipKefu"),
            this.disposeArr.push(Object(F.b)("vip客服", this.btn_lock)),
            1 == t.open ? this.btn_lock.visible = !0 : this.btn_lock.visible = !1
        }
        ,
        e.prototype.copy = function() {
            Object(v.a)("game_vipcs_fuzhi"),
            Object(r.getPlatComp)("clipboard").copy(this.lbl_name.text)
        }
        ,
        e.prototype.recharge = function() {
            N.b.show(N.c.recharge)
        }
        ,
        e.prototype.add = function() {
            Object(v.a)("game_vipcs_tianjia"),
            egret.ExternalInterface.call("openPlatform", JSON.stringify({
                code: this.data[Object(d.d)()].code,
                info: this.data[Object(d.d)()].url,
                pageid: ""
            }))
        }
        ,
        e.prototype.onLock = function() {
            var t = this;
            1 == Object(m.d)("overseaVip").open && Object(_.d)("at.dd").then((function(e) {
                e && (Object(r.tooltip)(Object(r.tr)("main@lockSucc")),
                Object(r.put)("refresh_activity_data"),
                t.btn_lock.visible = !1)
            }
            ))
        }
        ,
        e
    }(r.Component)
      , W = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , X = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(r.setSkin)(e, "Activity3Skin"),
            e
        }
        return W(e, t),
        e.prototype.onReady = function() {
            var t = Object(r.getConfig)("activityGroup_json")[2].activity.filter((function(t) {
                return "timeGift" == t.activityName
            }
            ))[0].name;
            this.giftConf = Object(r.getConfig)("activity_json").timeGift,
            this.lbl_title.text = Object(r.tr)(t),
            this.lbl_content.text = Object(r.tr)(this.giftConf.desc),
            this.list.itemRenderer = Y,
            this.refreshView(),
            r.cache.onChange("Activity.getList", this.refreshView, this, this.disposeArr)
        }
        ,
        e.prototype.refreshView = function() {
            for (var t = Object(m.d)("timeGift").l, e = this.giftConf.list.map((function(e) {
                for (var n = 0; n < t.length; n++)
                    if (t[n].id == e.uniqId)
                        return new ot(e,t[n])
            }
            )), n = [], i = [], o = [], r = 0; r < e.length; r++)
                0 == e[r].status ? n.push(e[r]) : 2 == e[r].status ? i.push(e[r]) : o.push(e[r]);
            e = n.concat(i, o),
            Object(b.a)(this.list, e)
        }
        ,
        e
    }(r.Component)
      , Y = function(t) {
        function e() {
            return t.call(this) || this
        }
        return W(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.__data = t,
            this.lbl_desc.text = t.c.desc,
            Object(b.a)(this.list, t.c.awards),
            1 == t.status ? this.setState("get3") : 0 == t.status ? this.setState("get1") : this.setState("get2"))
        }
        ,
        e.prototype.onEnter = function() {
            this.tap("btn_receive", this.receive, this)
        }
        ,
        e.prototype.receive = function() {
            var t = this;
            Object(p.m)(this.data.c.awards) || Object(r.getSocket)().request({
                route: "at.c",
                p: {
                    id: this.__data.c.uniqId,
                    activityName: this.__data.c.activityName
                }
            }).then((function(e) {
                console.log(e),
                Object(v.a)("years_" + t.data.c.num + "_rewards"),
                y.a.show(e.awds)
            }
            ))
        }
        ,
        e
    }(r.Item)
      , J = n(132)
      , $ = n(274)
      , K = n(129)
      , Q = n(120)
      , Z = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , tt = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(r.setSkin)(e, "Activity8Skin"),
            e
        }
        return Z(e, t),
        Object.defineProperty(e.prototype, "actData", {
            get: function() {
                return Object(m.d)("overseaVip")
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.onReady = function() {
            var t = this;
            this.tab_recharge.itemRenderer = c.b,
            this.list.itemRenderer = et,
            this.myProgress.maximum = 2e3,
            this.tab = new c.a({
                tab: this.tab_recharge,
                array: nt.ins.getTab(),
                onSelect: function(e) {
                    t._name = e,
                    t.updateView(e)
                }
            }),
            this.tap("btn_award", this.onGet, this),
            this.on("update_mainActBtn", this.updateRes, this),
            this.disposeArr.push(Object(F.b)("会员礼包", this.btn_award))
        }
        ,
        e.prototype.updateRes = function() {
            var t = this;
            Object(a.a)("festivalActivity_cur_json").then((function() {
                t.updateView(t._name)
            }
            ))
        }
        ,
        e.prototype.updateView = function(t) {
            t || (t = this._name);
            var e = nt.ins.getGitfData(t);
            console.log("检测:" + t),
            Object(b.a)(this.list, e.awards);
            var n = Number(t) - 1;
            this.btn_award.visible = 2 != this.actData.l[n].awded,
            this.received.visible = 2 == this.actData.l[n].awded,
            this.btn_award.enabled = this.actData.recharge >= e.param1 && 1 == this.actData.l[n].awded,
            this.lbl_num.text = this.actData.recharge,
            this.myProgress.value = this.actData.recharge,
            this._id = e.uniqId,
            this._cd && (this._cd.dispose(),
            this._cd = null),
            this._cd = new Q.a({
                component: this.lbl_time,
                endTime: this.actData.end,
                textFlowKey: function(t) {
                    return r.time.leftCountdown(t, Object(r.tr)("main@vipGiftTime"))
                }
            }),
            this.disposeArr.push(this._cd)
        }
        ,
        e.prototype.onGet = function() {
            var t = this;
            Object(_.d)("at.dc", {
                id: this._id
            }).then((function(e) {
                e && (t.updateView(t._name),
                K.a.show(e))
            }
            ))
        }
        ,
        e
    }(r.Component)
      , et = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return Z(e, t),
        e.prototype.onDataUpdate = function(e) {
            e && (t.prototype.onDataUpdate.call(this, e),
            this.img_tip.visible = !1,
            this._mv || (this._mv = r.Movie.create("new_item_icon_Light_1_ske_json"),
            this._mv.scaleX = this._mv.scaleY = 1.05,
            this.animeNode.addChild(this._mv),
            this._mv.play("1")))
        }
        ,
        e.prototype.dispose = function() {
            t.prototype.dispose.call(this),
            this._mv && (this._mv.dispose(),
            this._mv = null)
        }
        ,
        e
    }($.a)
      , nt = function() {
        function t() {}
        return Object.defineProperty(t, "ins", {
            get: function() {
                return Object(r.singleton)(t)
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.getTab = function() {
            for (var t = Object(J.a)("festivalActivity_cur_json").overseaVip.list[0].detail, e = [], n = 0; n < t.length; n++) {
                var i = {
                    name: n + 1,
                    text: t[n].param1,
                    red: "会员礼包" + (n + 1)
                };
                e.push(i)
            }
            return e
        }
        ,
        t.prototype.getGitfData = function(t) {
            return Object(J.a)("festivalActivity_cur_json").overseaVip.list[0].detail[t - 1]
        }
        ,
        t
    }()
      , it = function(t, e) {
        this.c = t,
        this.p = e;
        var n = Object(h.a)("lv");
        1 == e.awded ? this.status = 1 : this.status = n >= t.num ? 0 : 2
    }
      , ot = function(t, e) {
        this.c = t,
        this.p = e;
        var n = Object(h.a)("yt");
        1 == e.awded ? this.status = 1 : this.status = n >= t.num ? 0 : 2
    }
      , rt = function() {
        function t(t) {
            this.c = t;
            var e = Object(m.d)("shareShop");
            if (e)
                for (var n = 0; n < e.l.length; n++)
                    if (e.l[n].id == t.id) {
                        this.p = e.l[n];
                        break
                    }
        }
        return Object.defineProperty(t.prototype, "title", {
            get: function() {
                return p.e.getName(this.c.itemId)
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "num", {
            get: function() {
                return this.p.num + "/" + this.p.limit
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "status", {
            get: function() {
                return this.p.num >= this.p.limit ? 2 : 1
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , at = function() {
        function t(t, e) {
            this.c = t,
            this.p = e
        }
        return Object.defineProperty(t.prototype, "status", {
            get: function() {
                return 0 != this.p.ids.length ? 1 : this.p.num >= this.c.num ? 0 : 2
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "sort", {
            get: function() {
                return 0 == this.status ? 3 : 2 == this.status ? 2 : 1
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }()
      , st = function() {
        function t() {
            this.PageType = {
                timeGift: X,
                levelGift: G,
                jueXueActShow: E
            },
            this._activityArr = []
        }
        return Object.defineProperty(t, "ins", {
            get: function() {
                return Object(r.singleton)(t)
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.getData = function() {
            var t = Object(r.getConfig)("activityGroup_json")[2].activity
              , e = Object(m.d)("bookHeaven")
              , n = []
              , i = 1;
            Object(m.d)("activeGift") && n.push({
                text: Object(r.tr)("main@activeGiftTitle"),
                type: x,
                name: "activeGift"
            });
            var o = Object(r.getConfig)("activityGroup_json")[2].activity;
            for (var a in o) {
                var s = o[a].activityName;
                if ("jueXueActShow" == s) {
                    var c = void 0
                      , u = !1;
                    if ("gcatenIos" == Object(r.getPlatform)().name || "gcathkIos1" == Object(r.getPlatform)().name)
                        u = (c = Number(r.cache.get("get_ios_version"))) && c >= 3;
                    else {
                        var p = location.href;
                        c = Number(r.cache.get("get_android_version")),
                        u = p.indexOf("global.html") > 0 ? c && c >= 34 : c && c >= 24
                    }
                    if (u && Object(d.i)() && Object(h.a)("lv") >= 31 && !Object(l.a)() && (n.push({
                        text: Object(r.tr)("main@appraise"),
                        type: M,
                        name: "pingjia"
                    }),
                    i++),
                    !e || 1 == e.status || !f.b.isOpen("recharge"))
                        continue
                }
                "activeGift" != s && ("privilegeCard" != s && (n.push({
                    text: Object(r.tr)(t[a].name),
                    type: this.PageType[t[a].activityName],
                    name: t[a].activityName
                }),
                i++))
            }
            var b = Object(m.d)("shareSwitchTask");
            (Object(d.i)() || "bearjoy" == Object(r.getPlatform)().name) && b && n.push({
                text: Object(r.tr)("act@fan58"),
                type: R,
                name: "shareSwitchTask"
            });
            var g = Object(m.d)("shareSwitch")
              , _ = Object(h.a)("sId");
            (Object(m.n)() && g && 301 != _ || Object(d.i)() || "bearjoy" == Object(r.getPlatform)().name) && n.push({
                text: Object(r.tr)("main@advertTitle"),
                type: I,
                name: "tab" + i
            }),
            (Object(d.i)() || "bearjoy" == Object(r.getPlatform)().name) && n.push({
                text: Object(r.tr)("main@overseaVip"),
                type: q,
                name: "overseaVip"
            });
            var y = Object(m.d)("overseaVip");
            return y && 2 == y.open && (Object(d.i)() || "bearjoy" == Object(r.getPlatform)().name) && n.push({
                text: Object(r.tr)("main@vipGift"),
                type: tt,
                name: "vipGift"
            }),
            ("false" != Object(r.getOption)("followAward") && this.isModo() && f.b.isOpen("followAward") || r.is.wx()) && (n.push({
                text: "关注有礼",
                type: H,
                name: "tab" + i
            }),
            i++),
            n
        }
        ,
        t.prototype.isModo = function() {
            return Object(r.getPlatform)().name.indexOf("modo") > -1
        }
        ,
        t.prototype.getAdvertData = function() {
            if (!this._advertData) {
                this._advertData = [];
                for (var t = Object(r.getConfig)("fsShop_json").shareShop.detail, e = 0; e < t.length; e++)
                    this._advertData.push(new rt(t[e]))
            }
            for (var n = this._advertData, i = 0; i < n.length - 1; i++)
                for (e = 0; e < n.length - 1 - i; e++)
                    if (n[e].status > n[e + 1].status) {
                        var o = n[e];
                        n[e] = n[e + 1],
                        n[e + 1] = o
                    } else if (n[e].status == n[e + 1].status && n[e].c.id > n[e + 1].c.id) {
                        o = n[e];
                        n[e] = n[e + 1],
                        n[e + 1] = o
                    }
            return n
        }
        ,
        t.prototype.getActivityArr = function(t) {
            if (!this._activityArr || !this._activityArr[t]) {
                this._activityArr[t] = [];
                for (var e = Object(m.d)("shareSwitchTask").list, n = Object(r.getConfig)("festivalActivity_json").shareSwitchTask.list[0].detail, i = 0; i < n.length; i++)
                    for (var o in e)
                        if (n[i].type == o) {
                            1 == n[i].param1 ? 1 == Object(h.a)("fly") && this._activityArr[t].push(new at(n[i],e[o])) : this._activityArr[t].push(new at(n[i],e[o]));
                            break
                        }
            }
            return this._activityArr[t] = this._activityArr[t].sort((function(t, e) {
                return e.sort - t.sort
            }
            )),
            this._activityArr[t]
        }
        ,
        t
    }()
      , ct = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }()
      , ut = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }
      , ht = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }
      , lt = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return ct(e, t),
        e.prototype.onDataUpdate = function(t) {
            var e, n = this;
            t && (console.log(t),
            "activeGift" == t.name ? e = "活动礼包" : "timeGift" == t.name ? e = "修炼礼包" : "levelGift" == t.name ? (this.name = "levelGift",
            e = "境界礼包") : "vipGift" == t.name ? e = "会员礼包" : "overseaVip" == t.name ? e = "vip客服" : "pingjia" == t.name ? e = "评价吐槽" : "shareSwitchTask" == t.name && (e = "激励任务"),
            e && this.disposeArr.push(new F.a(e,(function(t) {
                t ? n.mv ? n.mv.visible = t : n.mv = n.fateMovie() : n.mv && (n.mv.visible = t)
            }
            ))))
        }
        ,
        e.prototype.onExit = function() {
            this.mv && this.mv.dispose()
        }
        ,
        e.prototype.fateMovie = function() {
            var t = r.Movie.create("biaoqian_ske_json");
            return t.play("1"),
            this.animeNode.addChild(t),
            t
        }
        ,
        e
    }(r.Item)
      , pt = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(r.setSkin)(e, "ActivitySkin"),
            e
        }
        return ct(e, t),
        e.prototype.onReady = function(t) {
            return ut(this, void 0, void 0, (function() {
                var e = this;
                return ht(this, (function(n) {
                    switch (n.label) {
                    case 0:
                        return this.addBehavior(new u.a),
                        [4, this.preLoadRes()];
                    case 1:
                        return n.sent(),
                        this.tab.itemRenderer = lt,
                        this.on("refresh_activity_data", this.refreshTab, this),
                        this._tab = new c.a({
                            tab: this.tab,
                            container: this.gp_activity,
                            array: st.ins.getData(),
                            defaultSelectName: t,
                            onSelect: function(t) {
                                return e._name = t,
                                "levelGift" == t && Object(r.put)("btn_click", {
                                    name: t
                                }),
                                !0
                            }
                        }),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.prototype.onExit = function() {
            t.prototype.onExit.call(this),
            this.clearTab()
        }
        ,
        e.prototype.clearTab = function() {
            this._tab && (this._tab.dispose(),
            this._tab = null)
        }
        ,
        e.prototype.refreshTab = function() {
            this.clearTab(),
            this._tab = new c.a({
                tab: this.tab,
                container: this.gp_activity,
                array: st.ins.getData(),
                defaultSelectName: "vipGift",
                onSelect: function(t) {
                    return "levelGift" == t && Object(r.put)("btn_click", {
                        name: t
                    }),
                    !0
                }
            })
        }
        ,
        e.prototype.preLoadRes = function() {
            return ut(this, void 0, void 0, (function() {
                return ht(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Promise.all([Object(a.a)("activity_json"), Object(a.a)("activityGroup_json"), Object(a.a)("festivalActivity_cur_json"), Object(a.a)("fsShop_json"), Object(a.a)("festivalActivity_json"), Object(a.a)("recharge_json")])];
                    case 1:
                        return [2, t.sent()]
                    }
                }
                ))
            }
            ))
        }
        ,
        e.show = function(t) {
            void 0 === t && (t = "activeGift"),
            Object(r.getSocket)().request({
                route: "at.d"
            }).then((function(n) {
                console.log(n),
                Object(s.a)(new e, t)
            }
            ))
        }
        ,
        e
    }(r.UIComponent)
}
, , function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return C
    }
    ));
    var i, o = n(1), r = n(106), a = n(107), s = n(121), c = n(108), u = n(4), h = function() {
        function t(t, e, n, i) {
            this.p = e,
            this.super_c = n,
            this.group = i,
            this.c = t
        }
        return Object.defineProperty(t.prototype, "num", {
            get: function() {
                return this.p ? this.c.num : 0
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "value", {
            get: function() {
                var t = 0
                  , e = u.HeroModel.getListByGroup(this.group);
                switch (this.c.type) {
                case 1:
                    t = e.length;
                    break;
                case 2:
                    for (var n = 0; n < e.length; n++)
                        t += e[n].lv;
                    break;
                case 3:
                    for (n = 0; n < e.length; n++)
                        t += e[n].atkAttr + e[n].matkAttr + e[n].datkAttr + e[n].travelAttr;
                    break;
                case 4:
                    for (n = 0; n < e.length; n++)
                        t += e[n].power
                }
                return t
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "next", {
            get: function() {
                return this.p && this.super_c.attr[this.p.lv] || this.c
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "isFullLv", {
            get: function() {
                return this.p && this.p.lv == this.next.lv
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "typeStr", {
            get: function() {
                var t = "";
                switch (this.c.type) {
                case 1:
                    t = Object(o.tr)("main@count");
                    break;
                case 2:
                    t = Object(o.tr)("main@pure_lv");
                    break;
                case 3:
                    t = Object(o.tr)("main@pure_attr");
                    break;
                case 4:
                    t = Object(o.tr)("main@power")
                }
                return t
            },
            enumerable: !0,
            configurable: !0
        }),
        t
    }(), l = function() {
        function t(t) {
            this.p = t;
            var e = Object(o.getConfig)("heroArtifact_json");
            for (var n in e)
                if (e[n].group == this.p.group) {
                    this.c = e[n];
                    break
                }
        }
        return Object.defineProperty(t.prototype, "skills", {
            get: function() {
                var t, e, n, i, o = this;
                this._skills = [];
                for (var r = function(r) {
                    t = a.c.skill[r],
                    e = null,
                    n = null;
                    for (var s = 0; s < a.c.skill[r].attr.length; s++)
                        if ((i = a.p.skills.findIndex((function(t) {
                            return t.skId == o.c.skill[r].skillId
                        }
                        ))) >= 0) {
                            n = a.p.skills[i],
                            e = a.c.skill[r].attr[n.lv - 1];
                            break
                        }
                    e || (e = a.c.skill[r].attr[0]),
                    a._skills.push(new h(e,n,t,a.c.group))
                }, a = this, s = 0; s < this.c.skill.length; s++)
                    r(s);
                return this._skills
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.getSkillAttr = function() {
            for (var t = {
                atk: 0,
                def: 0,
                hp: 0,
                miss: 0
            }, e = this.skills, n = 0; n < e.length; n++)
                (t[e[n].c.attr] || 0 == t[e[n].c.attr]) && (t[e[n].c.attr] += e[n].num);
            return t
        }
        ,
        t
    }(), p = function() {
        function t() {}
        return t.prototype.getArtifactByGroup = function(t) {
            if (!this._artifactDic || !this._artifactDic[t]) {
                this._artifactDic = {};
                for (var e = Object(o.getCache)("HeroArtifact.getInfo", "l"), n = 0; n < e.length; n++)
                    this._artifactDic[e[n].group] = new l(e[n])
            }
            return this._artifactDic[t]
        }
        ,
        t
    }(), f = n(110), d = n(125), b = n(109), g = n(115), _ = n(176), m = n(147), y = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), v = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, O = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, j = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.groupIcon = {
                2: 1,
                4: 2,
                1: 3,
                3: 4
            },
            Object(o.setSkin)(e, "PanelArtifactSkin"),
            e
        }
        return y(e, t),
        e.prototype.onReady = function(t) {
            var e = this;
            this._model = Object(o.singleton)(p).getArtifactByGroup(t),
            this.tab.itemRenderer = s.b,
            this.list.itemRenderer = w,
            this.lbl_title.text = Object(o.tr)("main@artifact_" + t);
            var n = o.Movie.create("baoqi_" + this.groupIcon[t] + "_ske_json");
            this.animNode.addChild(n),
            n.play("1"),
            this.disposeArr.push(n),
            this.updateView(),
            this.disposeArr.push(new s.a({
                tab: this.tab,
                array: [{
                    text: Object(o.tr)("main@artifactTab1"),
                    name: "attr"
                }, {
                    text: Object(o.tr)("main@artifactTab2"),
                    name: "skill"
                }],
                onSelect: function(t) {
                    return e.onTab(t),
                    !0
                }
            })),
            this.on("update_artifactDetail", this.updateView, this)
        }
        ,
        e.prototype.updateView = function() {
            this.updateBase(),
            this.updateSkill()
        }
        ,
        e.prototype.onTab = function(t) {
            "skill" == t ? (this.group1.visible = !1,
            this.group2.visible = !0) : (this.group1.visible = !0,
            this.group2.visible = !1)
        }
        ,
        e.prototype.updateBase = function() {
            for (var t = u.HeroModel.getListByGroup(this._model.c.group), e = 0, n = 0, i = 0, r = 0, a = 0, s = 0, c = 0, h = 0, l = 0; l < t.length; l++)
                e += t[l].atkAttr,
                n += t[l].matkAttr,
                i += t[l].datkAttr,
                r += t[l].travelAttr,
                a += t[l].atk,
                s += t[l].matk,
                c += t[l].datk,
                h += t[l].travel;
            this.lbl_group.text = Object(o.tr)("hero@artifactPower", {
                group: Object(o.tr)("common@power" + this._model.c.group)
            }),
            this.lbl_prop1.text = Object(o.tr)("hero@zz1") + "：" + e,
            this.lbl_prop2.text = Object(o.tr)("hero@zz2") + "：" + n,
            this.lbl_prop3.text = Object(o.tr)("hero@zz3") + "：" + i,
            this.lbl_prop4.text = Object(o.tr)("hero@zz4") + "：" + r,
            this.lbl_zz1.text = Object(o.tr)("hero@zzType1") + "：" + a,
            this.lbl_zz2.text = Object(o.tr)("hero@zzType2") + "：" + s,
            this.lbl_zz3.text = Object(o.tr)("hero@zzType3") + "：" + c,
            this.lbl_zz4.text = Object(o.tr)("hero@zzType4") + "：" + h;
            var p = this._model.getSkillAttr();
            this.lbl_atk.text = Object(o.tr)("main@atk", {
                num: this._model.p.atkAdd - p.atk >> 0
            }),
            this.lbl_def.text = Object(o.tr)("main@def", {
                num: this._model.p.defAdd - p.def >> 0
            }),
            this.lbl_hp.text = Object(o.tr)("main@hp", {
                num: this._model.p.hpAdd - p.hp >> 0
            }),
            this.lbl_dodge.text = Object(o.tr)("main@dodge", {
                num: this._model.p.missAdd - p.miss >> 0
            })
        }
        ,
        e.prototype.updateSkill = function() {
            Object(c.a)(this.list, this._model.skills)
        }
        ,
        e.show = function(t) {
            return v(this, void 0, void 0, (function() {
                return O(this, (function(n) {
                    switch (n.label) {
                    case 0:
                        return [4, Object(f.b)([Object(b.a)("heroArtifact_json"), Object(o.singleton)(m.a).checkRes()].concat(Object(d.a)("hero_1&hero_2")))];
                    case 1:
                        return n.sent(),
                        Object(r.a)(new e, t),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent), w = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return y(e, t),
        e.prototype.onReady = function() {
            this.tap("btn_lvUp", this.onUp, this)
        }
        ,
        e.prototype.onUp = function() {
            Object(a.d)("ha.b", {
                id: this.data.c.skillId
            }).then((function(t) {
                t && (Object(o.put)("update_artifactDetail"),
                Object(o.put)("update_artifact"))
            }
            ))
        }
        ,
        e.prototype.onDataUpdate = function(t) {
            if (t && t.c) {
                this.setState(t.isFullLv ? "maxLv" : "normal"),
                this.lbl_type.text = Object(o.tr)("main@artifactSkDesc", {
                    group: Object(o.tr)("common@power" + t.group),
                    type: t.typeStr
                }),
                this.lbl_value.text = t.value + "/" + t.next.value,
                this.lbl_value.textColor = t.value >= t.next.value ? 567164 : 16153101,
                this.btn_lvUp.enabled = t.value >= t.next.value,
                this.btn_lvUp.visible = !t.p || t.p.lv < t.next.lv;
                var e = _.e.indexOf(t.c.attr) >= 0;
                this.lbl_current.text = Object(o.tr)("main@currAttr", {
                    attr: Object(g.c)(t.c.attr),
                    num: (t.p ? e ? Object(u.div)(t.c.num, 100) : t.c.num : 0) + (e ? "%" : "")
                }),
                this.lbl_next.text = Object(o.tr)("main@nextAttr", {
                    attr: Object(g.c)(t.c.attr),
                    num: e ? Object(u.div)(t.next.num, 100) + "%" : t.next.num
                })
            }
        }
        ,
        e
    }(o.Item), x = n(119), k = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), I = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, P = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, C = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "ArtifactMainSkin"),
            e
        }
        return k(e, t),
        e.prototype.onReady = function() {
            this.initView(),
            this.updateView(),
            this.tap("btn_artifact1", this.onArtifact.bind(this, 2), this),
            this.tap("btn_artifact2", this.onArtifact.bind(this, 4), this),
            this.tap("btn_artifact3", this.onArtifact.bind(this, 1), this),
            this.tap("btn_artifact4", this.onArtifact.bind(this, 3), this),
            this.tap("helpBtn", (function() {
                x.a.show({
                    title: Object(o.tr)("hero@artifactHelpT"),
                    content: Object(o.tr)("hero@artifactHelpC")
                })
            }
            ), this),
            this.on("update_artifact", this.updateView, this)
        }
        ,
        e.prototype.initView = function() {
            for (var t = 1; t <= 4; t++) {
                var e = o.Movie.create("baoqi_bg_ske_json");
                this["animNode" + t].addChild(e),
                e.play("1"),
                this.disposeArr.push(e);
                var n = o.Movie.create("baoqi_" + t + "_ske_json");
                this["animNode" + t].addChild(n),
                n.play("1"),
                this.disposeArr.push(n)
            }
        }
        ,
        e.prototype.updateView = function() {
            var t, e = Object(o.getCache)("HeroArtifact.getInfo", "l");
            t = {};
            for (var n = 0; n < e.length; n++)
                for (var i in e[n])
                    "skills" != i && (t[i] || (t[i] = 0),
                    t[i] += e[n][i]);
            this.lbl_atk.text = Object(o.tr)("main@gongji") + "：" + t.atkAdd,
            this.lbl_def.text = Object(o.tr)("main@fangyu") + "：" + t.defAdd,
            this.lbl_hp.text = Object(o.tr)("main@shengming") + "：" + t.hpAdd,
            this.lbl_dodge.text = Object(o.tr)("main@shanbi") + "：" + t.missAdd,
            this.lbl_hurt.text = Object(o.tr)("main@hurt") + "：" + Object(u.mul)(t.hurtAdd || 0, .01) + "%",
            this.lbl_harmless.text = Object(o.tr)("main@harmless") + "：" + Object(u.mul)(t.harmlessAdd || 0, .01) + "%",
            this.lbl_pierce.text = Object(o.tr)("main@pierce") + "：" + Object(u.mul)(t.pierceAdd || 0, .01) + "%",
            this.lbl_hit.text = Object(o.tr)("main@hit") + "：" + Object(u.mul)(t.hitAdd || 0, .01) + "%"
        }
        ,
        e.prototype.onArtifact = function(t) {
            j.show(t)
        }
        ,
        e.show = function() {
            return I(this, void 0, void 0, (function() {
                return P(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Object(f.b)([Object(a.a)("ha.a", "HeroArtifact.getInfo"), Object(o.singleton)(m.a).checkRes()].concat(Object(d.a)("hero_1&hero_2")))];
                    case 1:
                        return t.sent(),
                        Object(r.a)(new e),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", (function() {
        return P
    }
    )),
    n.d(e, "a", (function() {
        return N
    }
    ));
    var i, o, r = n(1), a = n(118), s = n(121), c = n(106), u = n(177), h = n(114), l = n(134), p = n(157), f = n(116), d = n(108), b = n(113), g = n(122), _ = n(135), m = n(115), y = n(130), v = n(158), O = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), j = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(r.setSkin)(e, "NewCard1Skin"),
            e
        }
        return O(e, t),
        e.prototype.onReady = function() {
            var t = this
              , e = (Object(r.getConfig)("activityGroup_json")[2].activity.filter((function(t) {
                return "privilegeCard" == t.activityName
            }
            ))[0].name,
            Object(r.getConfig)("privilegeCard_json"));
            y.b.isOpen("advert") && !Object(v.d)() ? (this.lbl_content1.textFlow = (new egret.HtmlTextParser).parser(Object(r.tr)(e[1071].descfly)),
            this.lbl_content2.textFlow = (new egret.HtmlTextParser).parser(Object(r.tr)(e[1072].descfly))) : (this.lbl_content1.textFlow = (new egret.HtmlTextParser).parser(Object(r.tr)(e[1071].desc)),
            this.lbl_content2.textFlow = (new egret.HtmlTextParser).parser(Object(r.tr)(e[1072].desc))),
            this.tap("btn_1", (function() {
                t.buy(1)
            }
            ), this),
            this.tap("btn_2", (function() {
                t.buy(2)
            }
            ), this),
            this.tap("btn_3", this.get2, this),
            this.tap("btn_4", this.get1, this),
            Object(d.a)(this.list, e[1072].award),
            r.cache.onChange("User.getInfo", this.refreshView, this, this.disposeArr),
            this.disposeArr.push(Object(g.a)(this.lbl_content1, egret.TextEvent.LINK, this.onTextLink, this)),
            this.disposeArr.push(Object(g.a)(this.lbl_content2, egret.TextEvent.LINK, this.onTextLink, this)),
            this.refreshView()
        }
        ,
        e.prototype.onTextLink = function(t) {
            t.text.indexOf("getWay_") > -1 && _.a.openKeeper()
        }
        ,
        e.prototype.onExit = function() {
            this._mv1 && (this._mv1.dispose(),
            this._mv1 = null),
            this._mv2 && (this._mv2.dispose(),
            this._mv2 = null),
            Object(r.put)("refresh_bag"),
            t.prototype.onExit.call(this)
        }
        ,
        e.prototype.refreshView = function() {
            var t = Object(b.a)("tqInfo")
              , e = Object(r.getConfig)("privilegeCard_json")
              , n = Object(m.n)();
            if (this.btn_1.visible = n <= 0,
            this.btn_1.price.text = Object(r.tr)("main@privilegePrice", {
                num: Object(p.c)(e[1071], "recharge")
            }),
            this.btn_4.visible = n > 0,
            this.btn_4.enabled = 0 == t.tq1DayAwd,
            this.btn_2.visible = t.tq2 <= 0,
            this.gp_forever.visible = !(t.tq2 <= 0),
            this.btn_2.price.text = Object(r.tr)("main@privilegePrice", {
                num: Object(p.c)(e[1072], "recharge")
            }),
            this.btn_3.visible = t.tq2 > 0,
            this.btn_3.enabled = 0 == t.tq2Awd,
            n > 0) {
                var i = Math.floor(n / 86400);
                this.countDown.textFlow = (new egret.HtmlTextParser).parser(Object(r.tr)("main@onlyDay2", {
                    num: i
                }))
            } else
                this.countDown.textFlow = (new egret.HtmlTextParser).parser(Object(r.tr)("main@onlyDay1"))
        }
        ,
        e.prototype.buy = function(t) {
            console.log(t),
            1 == t ? (Object(l.a)("monthly_card"),
            Object(p.d)({
                id: 10001
            })) : (Object(l.a)("lifetime_card"),
            Object(p.d)({
                id: 10002
            }))
        }
        ,
        e.prototype.get2 = function() {
            var t = this;
            Object(h.l)(1) || Object(r.getSocket)().request({
                route: "u.u"
            }).then((function(e) {
                f.a.show(e.awds, t.btn_2)
            }
            ))
        }
        ,
        e.prototype.get1 = function() {
            var t = this;
            Object(h.l)(1) || Object(r.getSocket)().request({
                route: "u.e"
            }).then((function(e) {
                f.a.show(e.awds, t.btn_4)
            }
            ))
        }
        ,
        e
    }(r.Component), w = n(188), x = n(111), k = n(107), I = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }();
    !function(t) {
        t[t.get = 0] = "get",
        t[t.noselect = 1] = "noselect",
        t[t.select = 2] = "select"
    }(o || (o = {}));
    var P, C = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e._idx = 1,
            Object(r.setSkin)(e, "NewCard2Skin"),
            e
        }
        return I(e, t),
        e.prototype.onReady = function() {
            var t = this;
            Object(k.a)("hu.a", "Housekeeper.getInfo").then((function() {
                var e = Object(r.getConfig)("privilegeCard_json")[10316];
                t._conf = e,
                t.lel_tequan.text = Object(r.tr)(e.desc),
                t.tap("btn_goumai", (function() {
                    t.onBuy()
                }
                ), t),
                t.tap("btn_goumai1", (function() {
                    t.onBuy(!0)
                }
                ), t),
                t.tap("btn_lingqu", t.onGet, t),
                t.tap("btn_gongzi", t.onAward, t);
                var n = [e.rechargeId, e.rechargeId2]
                  , i = Object(r.getConfig)("recharge_json")[n[0]];
                t.btn_goumai.label = Object(r.tr)("main@growGiftPrice", {
                    num: Object(p.c)(i, "recharge")
                });
                var o = Object(r.getConfig)("recharge_json")[n[1]];
                t.btn_goumai1.label = Object(r.tr)("main@growGiftPrice", {
                    num: Object(p.c)(o, "recharge")
                }),
                t.updateView(),
                t.on("refresh_guanjia_awdlist", t.updateView, t)
            }
            ))
        }
        ,
        e.prototype.getStatus = function() {
            var t = Object(r.getCache)("Housekeeper.getInfo");
            return 0 == t.isAward ? o.get : 1 == t.isAward && 0 == t.pickItemId ? o.noselect : o.select
        }
        ,
        e.prototype.updateView = function() {
            this.w && (this.w.unwatch(),
            this.w = null);
            var t = Object(r.getCache)("Housekeeper.getInfo");
            this.btn_gongzi.enabled = 0 == t.isSalary;
            var e = this.getStatus();
            this.gp_xuanze.visible = e != o.get,
            this.gp_huode.visible = e == o.get;
            var n = Object(b.a)("tqInfo");
            if (y.b.isOpen("recharge") || n.tq3 > 0 && (0 == t.isSalary || 0 == t.isAward)) {
                this.w = eui.Watcher.watch(n, ["tq3"], this.updateView, this),
                this.gp_goumai.visible = 0 == n.tq3,
                this.gp_goumai1.visible = 0 == n.tq3,
                this.btn_gongzi.visible = n.tq3 > 0,
                this.lbl_shengyu.visible = n.tq3 > 0;
                var i = n.tq3 - x.a.getNow();
                if (i > 0) {
                    var a = Math.ceil(i / 86400);
                    this.lbl_shengyu.text = Object(r.tr)("main@weekCardLeft", {
                        day: a
                    })
                }
                this.item.visible = !1,
                e == o.get ? (this.item.visible = !0,
                this.item.propId = t.pickItemId,
                this.item.num = this.getPickNum(t.pickItemId)) : (this.list.itemRenderer = S,
                Object(d.a)(this.list, this._conf.award2)),
                t.pickItemId > 0 ? this.list.touchEnabled = this.list.touchChildren = !1 : this.list.touchEnabled = this.list.touchChildren = !0
            } else
                Object(r.tooltip)(Object(r.tr)("main@noOpen"))
        }
        ,
        e.prototype.getPickNum = function(t) {
            for (var e = this._conf.award2, n = 0; n < e.length; n++)
                if (e[n].itemId == t)
                    return e[n].num * (Object(b.a)("tqInfo.tq3") > 0 ? 2 : 1);
            return 0
        }
        ,
        e.prototype.onAward = function() {
            var t = this;
            Object(r.getCache)("Housekeeper.getInfo").isSalary > 0 ? Object(r.tooltip)(Object(r.tr)("main@salaryAward")) : Object(k.d)("hu.c").then((function(e) {
                e && (f.a.show(e.awds),
                t.updateView())
            }
            ))
        }
        ,
        e.prototype.onBuy = function(t) {
            void 0 === t && (t = !1);
            var e = [this._conf.rechargeId, this._conf.rechargeId2]
              , n = t ? e[1] : e[0];
            Object(w.a)("guanjiaCard", 30) && Object(p.d)(n)
        }
        ,
        e.prototype.onGet = function() {
            var t = this;
            Object(k.d)("hu.b").then((function(e) {
                e && (f.a.show(e.awds),
                t.updateView())
            }
            ))
        }
        ,
        e.prototype.onExit = function() {
            this._mv1 && (this._mv1.dispose(),
            this._mv1 = null),
            this._mv2 && (this._mv2.dispose(),
            this._mv2 = null),
            Object(r.put)("refresh_bag"),
            t.prototype.onExit.call(this)
        }
        ,
        e
    }(r.Component), S = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return I(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (t) {
                var e = Object(r.getCache)("Housekeeper.getInfo").pickItemId;
                this.item.propId = this.data.itemId,
                this.item.num = this.data.num,
                this.item.touchEnabled = this.item.touchChildren = !1,
                t.itemId == e ? this.gp_select.visible = !0 : this.gp_select.visible = !1
            }
        }
        ,
        e.prototype.onReady = function() {
            for (var t = [], e = 0; e < arguments.length; e++)
                t[e] = arguments[e];
            this.tap(this, this.onTap, this)
        }
        ,
        e.prototype.onTap = function() {
            0 == Object(r.getCache)("Housekeeper.getInfo").pickItemId && Object(k.d)("hu.d", {
                itemId: this.data.itemId
            }).then((function(t) {
                t && Object(r.put)("refresh_guanjia_awdlist")
            }
            ))
        }
        ,
        e
    }(r.Item), R = n(110), T = n(5), L = n(181), A = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }();
    !function(t) {
        t[t.guanzhi = 1] = "guanzhi",
        t[t.pinshu = 2] = "pinshu"
    }(P || (P = {}));
    var M = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return A(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (1 == this.itemIndex ? (this.img_up.scaleX = 1,
            this.img_down.scaleX = 1) : (this.img_up.scaleX = -1,
            this.img_down.scaleX = -1))
        }
        ,
        e
    }(r.Item)
      , N = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(r.setSkin)(e, "NewCardTabSkin"),
            e
        }
        return A(e, t),
        e.prototype.onReady = function(t) {
            Object(L.a)() || r.UI.remove(this),
            this.addBehavior(new a.a),
            this.tab.itemRenderer = M,
            this.disposeArr.push(new s.a({
                height: Object(u.a)().height - 100,
                tab: this.tab,
                container: this.container,
                array: [{
                    text: Object(r.tr)("main@guanzhi"),
                    type: j,
                    name: "tab1"
                }, {
                    text: Object(r.tr)("main@pinshu"),
                    type: C,
                    name: "tab2"
                }],
                onSelect: function(t) {
                    return !0
                },
                defaultSelectName: t == P.guanzhi ? "tab1" : "tab2"
            }))
        }
        ,
        e.show = function(t) {
            void 0 === t && (t = P.guanzhi),
            Object(R.b)(Object(T.checkImg)("MonthCardView")).then((function(n) {
                Object(c.a)(new e, t)
            }
            ))
        }
        ,
        e.topShow = function() {
            Object(c.c)(new e)
        }
        ,
        e
    }(r.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return O
    }
    ));
    var i, o = n(1), r = n(121), a = n(107), s = n(113), c = n(116), u = n(340), h = n(114), l = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), p = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "SermonEnrolmentSkin"),
            e
        }
        return l(e, t),
        e.prototype.onReady = function() {
            this._info = Object(o.getCache)("Sermon.getInfo"),
            this.updateView(),
            this.tap("btn_enrolment", this.onEnrolment, this),
            this.tap("btn_receive", this.onReceive, this),
            this.tap("btn_rank", (function() {
                u.a.show("teach", 0, Object(o.tr)("main@sermonRank"), Object(o.tr)("main@sermonTimes"), "t.f", Object(o.tr)("main@sermonRecord"), "main@sermonRecordFmt", "SermonRecord.getInfo")
            }
            ), this)
        }
        ,
        e.prototype.updateView = function() {
            switch (this._info.status) {
            case 0:
                this.currentState = "reg",
                this.lbl_content.text = Object(o.tr)("main@sermonReg", {
                    user: Object(s.a)("uNa")
                });
                break;
            case 1:
                this.currentState = "reged",
                this.lbl_content.text = Object(o.tr)("main@sermonReged", {
                    user: Object(s.a)("uNa")
                });
                break;
            case 3:
                this.currentState = "receive",
                this.lbl_content.text = Object(o.tr)("main@sermonReceive", {
                    user: Object(s.a)("uNa")
                }),
                this.prop && (this.prop.propId = this._info.propId,
                this.prop.showNum = !1);
                break;
            case 2:
                this.currentState = "received",
                this.lbl_content && (this.lbl_content.text = Object(o.tr)("main@sermonReceived", {
                    user: Object(s.a)("uNa")
                }))
            }
        }
        ,
        e.prototype.onEnrolment = function() {
            var t = this;
            Object(a.d)("t.b").then((function(e) {
                e && (t.updateView(),
                Object(o.tooltip)(Object(o.tr)("main@sermonRegSuc")))
            }
            ))
        }
        ,
        e.prototype.onReceive = function() {
            var t = this;
            Object(h.l)(1) || Object(a.d)("t.d").then((function(e) {
                e && (c.a.show(e.awds),
                t.updateView())
            }
            ))
        }
        ,
        e
    }(o.Component), f = n(298), d = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), b = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelPraySkin"),
            e
        }
        return d(e, t),
        e.prototype.onReady = function() {
            this.tap("btn_pray", this.pray, this),
            this.tap("btn_receive", this.receive, this),
            this.tap("btn_rank", this.onRank, this);
            var t = o.cache.get("desire.getInfo");
            3 == t.status ? (this.setState("receive"),
            this.lbl_result.text = Object(o.tr)("main@prayDesc3", {
                name: t.desirer
            })) : 1 == t.status ? this.setState("wait") : 2 == t.status ? this.setState("received") : (this.setState("normal"),
            this.lbl_desc.text = Object(o.tr)("main@prayDesc2"))
        }
        ,
        e.prototype.onExit = function() {}
        ,
        e.prototype.pray = function() {
            var t = this
              , e = o.cache.get("desire.getInfo");
            1 != e.status && 2 != e.status ? Object(o.getSocket)().request({
                route: "wi.b"
            }).then((function(e) {
                Object(o.tooltip)(Object(o.tr)("main@praySucc")),
                t.setState("wait")
            }
            )).catch((function(t) {
                Object(o.tooltip)(t.message),
                console.log(t)
            }
            )) : Object(o.tooltip)(Object(o.tr)("main@prayNoEnough"))
        }
        ,
        e.prototype.receive = function() {
            var t = this;
            Object(h.l)(1) || Object(o.getSocket)().request({
                route: "wi.d"
            }).then((function(e) {
                c.a.show(e.awds),
                t.setState("received")
            }
            ))
        }
        ,
        e.prototype.onRank = function() {
            f.a.show(1)
        }
        ,
        e.show = function() {
            Object(o.getSocket)().request({
                route: "wi.a"
            }).then((function(t) {}
            ))
        }
        ,
        e
    }(o.Component), g = n(110), _ = n(106), m = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), y = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, v = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, O = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelDisplaySkin"),
            e
        }
        return m(e, t),
        e.prototype.onReady = function() {
            this.tab.itemRenderer = f.b,
            this.disposeArr.push(new r.a({
                tab: this.tab,
                container: this.gp_switch,
                array: [{
                    text: Object(o.tr)("main@qiudao"),
                    type: p,
                    name: "tab1"
                }, {
                    text: Object(o.tr)("main@pray"),
                    type: b,
                    name: "tab2"
                }]
            }))
        }
        ,
        e.show = function() {
            return y(this, void 0, void 0, (function() {
                return v(this, (function(t) {
                    switch (t.label) {
                    case 0:
                        return [4, Object(g.b)([Object(a.c)("t.a", "Sermon.getInfo"), Object(a.c)("wi.a", "desire.getInfo")])];
                    case 1:
                        return t.sent(),
                        Object(_.a)(new e),
                        [2]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return y
    }
    ));
    var i, o = n(1), r = n(109), a = n(122), s = n(108), c = n(111), u = n(113), h = n(110), l = n(168), p = n(4), f = n(112), d = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), b = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return d(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.img_openScreen.source = "img_openscreen_" + t.icon + "_png")
        }
        ,
        e
    }(o.Item), g = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), _ = function(t, e, n, i) {
        return new (n || (n = Promise))((function(o, r) {
            function a(t) {
                try {
                    c(i.next(t))
                } catch (t) {
                    r(t)
                }
            }
            function s(t) {
                try {
                    c(i.throw(t))
                } catch (t) {
                    r(t)
                }
            }
            function c(t) {
                t.done ? o(t.value) : new n((function(e) {
                    e(t.value)
                }
                )).then(a, s)
            }
            c((i = i.apply(t, e || [])).next())
        }
        ))
    }, m = function(t, e) {
        var n, i, o, r, a = {
            label: 0,
            sent: function() {
                if (1 & o[0])
                    throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        };
        return r = {
            next: s(0),
            throw: s(1),
            return: s(2)
        },
        "function" == typeof Symbol && (r[Symbol.iterator] = function() {
            return this
        }
        ),
        r;
        function s(r) {
            return function(s) {
                return function(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1,
                            i && (o = 2 & r[0] ? i.return : r[0] ? i.throw || ((o = i.return) && o.call(i),
                            0) : i.next) && !(o = o.call(i, r[1])).done)
                                return o;
                            switch (i = 0,
                            o && (r = [2 & r[0], o.value]),
                            r[0]) {
                            case 0:
                            case 1:
                                o = r;
                                break;
                            case 4:
                                return a.label++,
                                {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                i = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(o = a.trys,
                                (o = o.length > 0 && o[o.length - 1]) || 6 !== r[0] && 2 !== r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!o || r[1] > o[0] && r[1] < o[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < o[1]) {
                                    a.label = o[1],
                                    o = r;
                                    break
                                }
                                if (o && a.label < o[2]) {
                                    a.label = o[2],
                                    a.ops.push(r);
                                    break
                                }
                                o[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            i = 0
                        } finally {
                            n = o = 0
                        }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }([r, s])
            }
        }
    }, y = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "OpenScreenSkin"),
            e
        }
        return g(e, t),
        e.prototype.onReady = function(t) {
            if (t) {
                this.lbl_time.text = Object(o.tr)("commact@periodTime", {
                    time1: c.a.timeStamp(t.start, "DAY"),
                    time2: c.a.timeStamp(t.end, "DAY")
                });
                var e = Object(o.getConfig)("festivalActivity_os_json", "openScreen").list;
                this.list.itemRenderer = b;
                var n = e.find((function(e) {
                    return e.turn == t.cId
                }
                ));
                this.detailArr = n ? n.detail : [];
                var i = this.detailArr.length;
                Object(s.a)(this.list, this.detailArr),
                i <= 1 ? (this.btn_left.visible = !1,
                this.btn_right.visible = !1) : Object(a.e)(this.sc, this.btn_left, this.btn_right),
                this.tap("btn_go", this.onGo, this)
            }
        }
        ,
        e.prototype.onGo = function() {
            var t = this.list.selectedItem;
            t || (t = this.list.dataProvider.getItemAt(0));
            var e = t.wayId
              , n = Object(o.getConfig)("getWay_json")[e];
            Object(f.d)(t.actName) ? Object(u.a)("lv") < n.lv ? Object(o.tooltip)("commact@lvLess") : 1 != n.state || 0 != Object(u.a)("fly") ? 1 != n.faction || 0 != Object(u.a)("guildId") ? 1 != n.school || 0 != Object(u.a)("sectPoint") ? (Object(o.singleton)(p.CommonController).getWay(Number(e)),
            1 === this.detailArr.length && o.UI.remove(this)) : Object(o.tooltip)("commact@needSect") : Object(o.tooltip)("commact@needGuild") : Object(o.tooltip)("commact@needFly") : Object(o.tooltip)(Object(o.tr)("main@actUnopen"))
        }
        ,
        e.prototype.onExit = function() {
            this.detailArr.forEach((function(t) {
                RES.destroyRes("img_openscreen_" + t.icon + "_png")
            }
            ))
        }
        ,
        e.checkOpenScreen = function(t) {
            if (t) {
                var e = c.a.getNow();
                return !(t.start > e || e > t.end) && (!(Object(u.a)("lv") < 31) && !!c.a.isCurDayFirst("openScreen"))
            }
            return !1
        }
        ,
        e.show = function() {
            return _(this, void 0, void 0, (function() {
                var t;
                return m(this, (function(n) {
                    switch (n.label) {
                    case 0:
                        return t = Object(f.d)("openScreen"),
                        [4, Object(h.b)([Object(r.a)("festivalActivity_os_json"), Object(r.a)("getWay_json"), Object(o.getLocale)().init("commact")])];
                    case 1:
                        return n.sent(),
                        l.a.isGuiding ? [2] : [2, o.UI.openSeqBox(new e, t)]
                    }
                }
                ))
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return C
    }
    ));
    var i, o = n(1), r = n(106), a = n(107), s = n(150), c = n(113), u = n(133), h = n(235), l = n(175), p = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), f = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelTransmitEnrollSkin"),
            e
        }
        return p(e, t),
        e.prototype.onReady = function() {
            this.tap("btn_enroll", this.doReg, this),
            this.refreshView()
        }
        ,
        e.prototype.refreshView = function() {
            var t = Object(o.getConfig)("sectPosition_json")[Object(o.singleton)(s.a).info.point]
              , e = o.cache.get("Sermon.getInfo");
            if (0 == e.signS)
                this.setState("normal"),
                this.lbl_content.text = Object(o.tr)("sect@sermonDesc4", {
                    user: Object(c.a)("uNa"),
                    address: Object(o.tr)(t.name)
                });
            else if (1 == e.signS)
                this.setState("enroll"),
                this.lbl_content.text = Object(o.tr)("sect@sermonDesc5", {
                    user: Object(c.a)("uNa")
                });
            else if (2 == e.signS) {
                this.setState("finish");
                var n = Object(o.getConfig)("item_json")[t.itemId]
                  , i = !0;
                Object(h.a)(n.skillId) || Object(l.a)(n.id) || (i = !1),
                this.lbl_content.text = i ? Object(o.tr)("sect@sermonDesc7", {
                    user: Object(c.a)("uNa"),
                    user1: e.uName,
                    book: u.b.getName(t.itemId),
                    address: Object(o.tr)(t.name)
                }) : Object(o.tr)("sect@sermonDesc6", {
                    user: Object(c.a)("uNa"),
                    user1: e.uName,
                    book: u.b.getName(t.itemId),
                    address: Object(o.tr)(t.name)
                })
            }
            this.lbl_book.text = u.b.getName(t.itemId)
        }
        ,
        e.prototype.doReg = function() {
            var t = this;
            Object(a.d)("t.i").then((function() {
                t.refreshView()
            }
            ))
        }
        ,
        e
    }(o.UIComponent), d = n(109), b = n(122), g = n(108), _ = n(110), m = n(230), y = n(140), v = n(111), O = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), j = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return O(e, t),
        e.prototype.onDataUpdate = function(t, e) {
            if (t) {
                var n = Object(o.getConfig)("sectPosition_json");
                this.labelDisplay.text = n[t].name
            }
        }
        ,
        e
    }(o.Item), w = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return O(e, t),
        e.prototype.onDataUpdate = function(t) {
            if (t) {
                Object(y.a)(this.head, t.skin),
                this.lbl_name.text = t.name;
                var n = Object(o.getConfig)("sectPosition_json")[e.item];
                this.lbl_book.text = u.b.getName(n.itemId)
            }
        }
        ,
        e
    }(o.Item), x = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e._refreshTime = -1,
            Object(o.setSkin)(e, "PanelTransmitListSkin"),
            e
        }
        return O(e, t),
        e.prototype.onReady = function() {
            this.list_1.itemRenderer = j,
            this.list_2.itemRenderer = w,
            this.disposeArr.push(Object(b.c)(this.list_1, this.onTapItem, this)),
            this.tap("btn_go", this.onLearn, this),
            this.tap("btn_refresh", this.onRefresh, this),
            this.refreshView()
        }
        ,
        e.prototype.refreshView = function() {
            var t = Object(o.singleton)(s.a).getCanLearn();
            Object(g.a)(this.list_1, t),
            t.length > 0 ? (this.list_1.selectedIndex = 0,
            this.updateList2(t[0])) : this.selected = null;
            var e = o.cache.get("Sermon.getInfo");
            this.lbl_tips.visible = e.exNum <= 0,
            this.btn_go.visible = e.exNum > 0,
            this.btn_refresh.visible = e.exNum > 0,
            this.gp_price.visible = e.exNum > 0
        }
        ,
        e.prototype.updateList2 = function(t) {
            var e = this;
            this.selected = t,
            w.item = t;
            var n = o.cache.get("SermonEx.getList", "l");
            n && n[t] ? (this.lbl_none.visible = 0 == n[t].l.length,
            Object(g.a)(this.list_2, n[t].l),
            this.list_2.selectedIndex = 0) : Object(a.d)("t.h", {
                sectId: t
            }).then((function(n) {
                n && (o.cache.has("SermonEx.getList") || o.cache.set("SermonEx.getList", {
                    l: {
                        data: n
                    }
                }),
                o.cache.get("SermonEx.getList", "l")[t] = n,
                e.lbl_none.visible = 0 == n.l.length,
                Object(g.a)(e.list_2, n.l),
                e.list_2.selectedIndex = 0)
            }
            ))
        }
        ,
        e.prototype.onTapItem = function() {
            var t = this.list_1.dataProvider.getItemAt(this.list_1.selectedIndex);
            this.updateList2(t)
        }
        ,
        e.prototype.onRefresh = function() {
            var t = this
              , e = v.a.getNow();
            this._refreshTime > -1 && e - this._refreshTime < 30 ? Object(o.tooltip)(Object(o.tr)("sect@exchangeRefresh")) : this.selected && (this._refreshTime = e,
            Object(a.d)("t.h", {
                sectId: this.selected
            }).then((function(e) {
                e && (o.cache.has("SermonEx.getList") || o.cache.set("SermonEx.getList", {
                    l: {
                        data: e
                    }
                }),
                o.cache.get("SermonEx.getList", "l")[t.selected] = e,
                t.lbl_none.visible = 0 == e.l.length,
                Object(g.a)(t.list_2, e.l),
                t.list_2.selectedIndex = 0)
            }
            )))
        }
        ,
        e.prototype.onLearn = function() {
            var t = this;
            if (this.selected) {
                var e = this.list_2.selectedItem;
                e && Object(o.confirm)(Object(o.tr)("sect@learnConfirm", {
                    n: 50
                })).then((function(n) {
                    "yes" == n && u.b.hasEnough(u.c.lingyu, 50) && Object(a.d)("t.j", {
                        id: e.uId,
                        sectId: t.selected
                    }).then((function(e) {
                        1 == e.cst ? (Object(o.tooltip)(Object(o.tr)("sect@learnFail")),
                        t._refreshTime = -1,
                        t.onRefresh()) : t.refreshView()
                    }
                    ))
                }
                ))
            }
        }
        ,
        e.show = function() {
            Object(_.b)([Object(o.singleton)(m.a).checkRes(), Object(d.a)("sectPosition_json")]).then((function() {
                0 != Object(o.singleton)(s.a).getCanLearn().length ? Object(r.a)(new e) : Object(o.tooltip)(Object(o.tr)("sect@noNeedLearn"))
            }
            ))
        }
        ,
        e
    }(o.UIComponent), k = n(119), I = n(183), P = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), C = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelTransmitEntranceSkin"),
            e
        }
        return P(e, t),
        e.prototype.onReady = function() {
            this.tap("btn_enroll", this.reg, this),
            this.tap("btn_learn", this.exchange, this),
            this.tap("btn_help", this.help, this),
            this.disposeArr.push(new I.a(this.btn_enroll,"指定传功",{
                name: "tishi_ske_json",
                x: 100,
                y: 60,
                scaleX: .6,
                scaleY: .6,
                mv: "2"
            }))
        }
        ,
        e.prototype.reg = function() {
            Object(r.a)(new f)
        }
        ,
        e.prototype.exchange = function() {
            x.show()
        }
        ,
        e.prototype.help = function() {
            k.a.show({
                title: Object(o.tr)("sect@zdcgTitle"),
                content: Object(o.tr)("sect@zdcgHelp")
            })
        }
        ,
        e.show = function() {
            0 != Object(o.singleton)(s.a).info.point ? Object(_.b)([Object(d.a)("sectPosition_json"), Object(a.a)("t.a", "Sermon.getInfo", (function(t) {
                return !!t.hasOwnProperty("expiredTime") && v.a.getNow(!0) >= t.expiredTime
            }
            ))]).then((function() {
                Object(r.a)(new e)
            }
            )) : Object(o.tooltip)(Object(o.tr)("main@noMenPai"))
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return k
    }
    ));
    var i, o = n(1), r = n(106), a = n(108), s = n(113), c = n(107), u = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), h = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "RaidSellSettingSkin"),
            e
        }
        return u(e, t),
        e.prototype.onReady = function() {
            this.tap("yesBtn", this.onYes, this);
            for (var t = Object(s.a)("flySellList"), e = 1; e <= 9; e++) {
                var n = this["cbox" + e];
                n.selected = t.indexOf(e + 9) > -1,
                n.label = Object(o.tr)("youli@lv" + e)
            }
        }
        ,
        e.prototype.onYes = function() {
            for (var t = this, e = [], n = 1; n <= 9; n++) {
                this["cbox" + n].selected && e.push(n + 9)
            }
            Object(c.d)("y.l", {
                l: e
            }).then((function(e) {
                e && (Object(o.tooltip)(Object(o.tr)("main@setOk")),
                o.UI.remove(t))
            }
            ))
        }
        ,
        e
    }(o.UIComponent), l = n(120), p = n(111), f = n(195), d = n(175), b = n(297), g = n(148), _ = n(135), m = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), y = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "YunyouSaodangLingxiuSkin"),
            e
        }
        return m(e, t),
        e.prototype.onReady = function() {
            var t = g.a.travelValue();
            this.lbl_ss.text = "" + t,
            this.lbl_lingxiu.text = "" + t,
            this.tap("btn_go", this.goto, this)
        }
        ,
        e.prototype.goto = function() {
            o.UI.clearBox(),
            _.a.openHero()
        }
        ,
        e
    }(o.UIComponent), v = n(142), O = n(110), j = n(147), w = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), x = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return w(e, t),
        e.prototype.onDataUpdate = function(t) {
            t && (this.nameLabel.text = t.mapName,
            this.setSelect(e.select))
        }
        ,
        e.prototype.onReady = function() {
            this.tap(this, this.onClick, this),
            this.on("shenyou_select", this.setSelect, this)
        }
        ,
        e.prototype.setSelect = function(t) {
            var e = Object(s.a)("ylMapId") - 1;
            this.data.id <= e ? this.setState(t == this.data ? "upAndSelected" : "up") : this.setState("disabled")
        }
        ,
        e.prototype.onClick = function() {
            if (!(Object(o.singleton)(f.a).p.ylHangId > 0)) {
                var t = Object(s.a)("ylMapId") - 1;
                this.data.id <= t ? (e.select = this.data,
                Object(o.put)("shenyou_select", this.data)) : Object(o.tooltip)(Object(o.tr)("main@noFightend"))
            }
        }
        ,
        e.select = null,
        e
    }(o.Item), k = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "YunyouSaodangSkin"),
            e
        }
        return w(e, t),
        e.prototype.onReady = function() {
            this.list.itemRenderer = x;
            var t = Object(o.getConfig)("travelMap_json")
              , e = [];
            for (var n in t)
                e.push(t[n]);
            var i = Object(s.a)("ylMapId")
              , r = Object(o.singleton)(f.a).p.ylHangId;
            x.select = r ? e[r - 1] : e[i - 2],
            x.select && x.select.id > 10 ? Object(a.a)(this.list, e, {
                smart: !0
            }) : Object(a.a)(this.list, e),
            this.on("shenyou_select", this.refreshView, this),
            this.tap("ruleBtn", this.showRule, this),
            this.tap("sellSetting", this.showFilter, this),
            this.tap("startBtn", this.start, this),
            this.tap("stopBtn", this.stop, this),
            this.tap("btn_youli", this.showExpDetail, this),
            this.refreshView(),
            this.refreshState();
            var c = this.showHeroInfo();
            this.heroNode.visible = c,
            this.lbl_lingxiu.text = Object(o.tr)("main@heroExp", {
                v: g.a.travelValue()
            })
        }
        ,
        e.prototype.disposeCountDown = function() {
            this._countdown && (this._countdown.dispose(),
            this._countdown = null)
        }
        ,
        e.prototype.showHeroInfo = function() {
            return !0
        }
        ,
        e.prototype.onExit = function() {
            this.disposeCountDown(),
            x.select = null,
            egret.Tween.removeTweens(this.progress),
            this.disposeTime(),
            t.prototype.onExit.call(this)
        }
        ,
        e.prototype.disposeTime = function() {
            this._timeId && (this._timeId.dispose(),
            this._timeId = null),
            this.ruleNode.alpha = 1,
            egret.Tween.removeTweens(this.ruleNode)
        }
        ,
        e.prototype.showRule = function() {
            var t = this;
            this.disposeTime(),
            this.ruleNode.visible = !0,
            this._timeId = Object(o.setTimeout)((function() {
                egret.Tween.get(t.ruleNode).to({
                    alpha: 0
                }, 500).call((function() {
                    t.ruleNode.visible = !1
                }
                ))
            }
            ), this, 2e3)
        }
        ,
        e.prototype.refreshView = function() {
            if (this.choose.text = Object(o.tr)("main@chooseMap", {
                name: x.select ? Object(o.tr)(x.select.mapName) : Object(o.tr)("youli@notSure")
            }),
            x.select) {
                var t = Object(o.singleton)(f.a).mapInfo(x.select.id);
                if (t.bossDie) {
                    var e = t.nums.fearVal
                      , n = void 0;
                    n = e <= 39 ? 1 : e <= 80 ? 2 : 3,
                    this.awdType.textFlow = (new egret.HtmlTextParser).parser(Object(o.tr)("youli@shenyou2", {
                        type: Object(v.n)(n)
                    }))
                } else
                    this.awdType.textFlow = (new egret.HtmlTextParser).parser(Object(o.tr)("youli@shenyou2", {
                        type: Object(o.tr)("youli@notSure")
                    }))
            } else
                this.awdType.textFlow = (new egret.HtmlTextParser).parser(Object(o.tr)("youli@shenyou2", {
                    type: Object(o.tr)("youli@notSure")
                }))
        }
        ,
        e.prototype.showExpDetail = function() {
            Object(r.a)(new y)
        }
        ,
        e.prototype.showFilter = function() {
            Object(d.b)(1058) ? Object(r.a)(new h) : Object(r.a)(new b.a, 1058)
        }
        ,
        e.prototype.stop = function() {
            var t = this;
            Object(c.d)("y.j").then((function() {
                Object(o.singleton)(f.a).endShenyou(),
                t.setState("normal"),
                t.disposeCountDown()
            }
            ))
        }
        ,
        e.prototype.getEndTime = function() {
            var t = Object(o.singleton)(f.a).p.ylHangTime;
            return 900 - (p.a.getNow() - t) % 900 + p.a.getNow()
        }
        ,
        e.prototype.isHunging = function() {
            return Object(o.singleton)(f.a).p.ylHangId > 0
        }
        ,
        e.prototype.refreshState = function() {
            this.isHunging() ? (this.setState("chuqiao"),
            this.areaName.text = Object(o.tr)("youli@shenyou6", {
                mapName: Object(o.tr)(x.select.mapName)
            }),
            this.disposeCountDown(),
            this._countdown = new l.a({
                component: this.progress,
                endTime: this.getEndTime(),
                complete: this.complete.bind(this),
                max: 900
            })) : this.setState("normal")
        }
        ,
        e.prototype.complete = function() {
            this.refreshState()
        }
        ,
        e.prototype.start = function() {
            var t = this;
            if (x.select) {
                var e = Object(o.singleton)(f.a).mapInfo(x.select.id);
                e && 1 == e.bossDie ? Object(c.d)("y.i", {
                    mId: x.select.id
                }).then((function() {
                    Object(o.singleton)(f.a).beginShenyou(x.select.id),
                    t.refreshState()
                }
                )) : Object(o.tooltip)(Object(o.tr)("youli@shenyou7"))
            } else
                Object(o.tooltip)(Object(o.tr)("youli@shenyou1"))
        }
        ,
        e.show = function() {
            Object(O.b)([Object(o.singleton)(j.a).checkRes()]).then((function(t) {
                Object(r.a)(new e)
            }
            ))
        }
        ,
        e
    }(o.UIComponent)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", (function() {
        return O
    }
    ));
    var i, o = n(1), r = n(117), a = n(122), s = n(108), c = n(114), u = n(106), h = n(174), l = n(275), p = n(155), f = n(355), d = n(128), b = n(236), g = (i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        )(t, e)
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), _ = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "PanelXianPuPropSkin"),
            e
        }
        return g(e, t),
        e.prototype.onReady = function(t, e) {
            var n = this;
            this._prop = t,
            this._heroId = e;
            var i = this.getState(t);
            this.setState(i),
            Object(b.a)(t, this),
            this.pageControl = new h.a(null,this.maxBtn,this.prevBtn,this.nextBtn,this.getMax(),(function(t) {
                n.inputBtn.label = t + ""
            }
            )),
            this.updateView(),
            this.tap("btn_use", this.onUse, this),
            this.btn_use.visible = this._prop.c.together
        }
        ,
        e.prototype.onExit = function() {
            this.pageControl && this.pageControl.dispose()
        }
        ,
        e.prototype.onUse = function() {
            var t = this;
            "mix" == this.currentState ? this.onMake() : "use" == this.currentState && (this.pageControl.num > 0 ? this._heroId ? Object(d.g)(this._prop.c.id, this._heroId, this.pageControl.num).then((function(e) {
                o.UI.remove(t)
            }
            )) : l.a.show(this._prop.c.id, this.pageControl.num).exit((function() {
                t.updateView()
            }
            )) : Object(o.tooltip)(Object(o.tr)("hero@num0")))
        }
        ,
        e.prototype.getComposeId = function() {
            return this._prop.c.compose ? parseInt(this._prop.c.compose.split("=")[0]) : this._prop.c.id
        }
        ,
        e.prototype.updateView = function() {
            this.item.uiData = this._prop,
            this.nameLabel.text = Object(o.tr)(this._prop.c.name),
            Object(p.c)(this.nameLabel, this._prop),
            this.des.text = Object(o.tr)(this._prop.c.desc),
            this.pageControl.setMaxNum(this.getMax())
        }
        ,
        e.prototype.onMake = function() {
            var t, e = this;
            if (this._prop.c.together) {
                var n = this._prop.c.together.split("=");
                t = f.a.show(this._prop.c.id, parseInt(n[0]), parseInt(n[1]))
            }
            t.exit((function() {
                e.updateView()
            }
            ))
        }
        ,
        e.prototype.getMax = function() {
            return this._prop.num
        }
        ,
        e.prototype.getState = function(t) {
            return 1 == t.c.IsUse ? "use" : t.c.compose || t.c.together ? "mix" : "com"
        }
        ,
        e.show = function(t, n) {
            return Object(u.a)(new e, t, n)
        }
        ,
        e
    }(o.UIComponent), m = function() {
        var t = function(e, n) {
            return (t = Object.setPrototypeOf || {
                __proto__: []
            }instanceof Array && function(t, e) {
                t.__proto__ = e
            }
            || function(t, e) {
                for (var n in e)
                    e.hasOwnProperty(n) && (t[n] = e[n])
            }
            )(e, n)
        };
        return function(e, n) {
            function i() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
            new i)
        }
    }(), y = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return m(e, t),
        e.prototype.onDataUpdate = function(t, e) {
            t && (this.img_prop.source = Object(r.b)(t.c.id),
            this.lbl_num.text = t.num)
        }
        ,
        e
    }(o.Item), v = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return m(e, t),
        e.prototype.onDataUpdate = function(t, e) {
            if (t) {
                var n = t.idx;
                this.img_sj.source = "icon_xianpu_prop_lv" + (n + 1) + "_png",
                this.list.itemRenderer = y,
                Object(s.a)(this.list, t)
            }
        }
        ,
        e.prototype.onReady = function() {
            for (var t = [], e = 0; e < arguments.length; e++)
                t[e] = arguments[e];
            this.disposeArr.push(Object(a.c)(this.list, this.onTap, this))
        }
        ,
        e.prototype.onTap = function(t) {
            _.show(t.item)
        }
        ,
        e
    }(o.Item), O = function(t) {
        function e() {
            var e = t.call(this) || this;
            return Object(o.setSkin)(e, "BtnTabXianPuPropSkin"),
            e
        }
        return m(e, t),
        e.prototype.onReady = function() {
            for (var t = this, e = [], n = 0; n < arguments.length; n++)
                e[n] = arguments[n];
            var i = Object(o.getConfig)("item_json")
              , r = [];
            for (var a in i) {
                var u = i[a];
                if (4 == u.itemType) {
                    var h = u.quality - 4;
                    r[h] || (r[h] = [],
                    r[h].idx = h),
                    r[h].push(c.e.get(u.id))
                }
            }
            this.list.itemRenderer = v,
            Object(s.a)(this.list, r),
            Object(o.onChange)("Bag.getList", (function() {
                Object(s.a)(t.list, r)
            }
            ), this, this.disposeArr)
        }
        ,
        e.show = function() {
            Object(u.a)(new e)
        }
        ,
        e
    }(o.UIComponent)
}
, function(t) {
    t.exports = JSON.parse('{"1_1":{"x":825,"y":950},"1_2":{"x":823,"y":957},"1_3":{"x":825,"y":950},"1_4":{"x":815,"y":950},"1_5":{"x":825,"y":945},"1_6":{"x":825,"y":945},"1_7":{"x":825,"y":945},"1_8":{"x":827,"y":945},"1_9":{"x":825,"y":960},"1_10":{"x":827,"y":950},"1_11":{"x":824,"y":950},"1_101":{"x":827,"y":950},"1_201":{"x":829,"y":950},"1_202":{"x":825,"y":950},"1_203":{"x":824,"y":945},"1_204":{"x":828,"y":942},"1_205":{"x":834,"y":962},"1_206":{"x":827,"y":956},"1_207":{"x":830,"y":945},"1_208":{"x":825,"y":898},"1_209":{"x":822,"y":970},"1_210":{"x":824,"y":899},"1_211":{"x":824,"y":938},"1_212":{"x":828,"y":936},"1_213":{"x":827,"y":930},"1_214":{"x":828,"y":932},"1_215":{"x":824,"y":889},"1_216":{"x":828,"y":880},"1_217":{"x":828,"y":890},"1_218":{"x":828,"y":890},"1_219":{"x":830,"y":1022},"1_220":{"x":840,"y":981},"1_221":{"x":828,"y":883},"1_223":{"x":826,"y":890},"1_224":{"x":825,"y":890},"1_225":{"x":822,"y":883},"1_226":{"x":840,"y":909},"1_227":{"x":840,"y":888},"1_228":{"x":800,"y":830},"2_1":{"x":827,"y":915},"2_2":{"x":825,"y":917},"2_3":{"x":827,"y":927},"2_4":{"x":825,"y":921},"2_5":{"x":825,"y":912},"2_6":{"x":830,"y":914},"2_7":{"x":825,"y":905},"2_8":{"x":825,"y":912},"2_9":{"x":825,"y":905},"2_10":{"x":827,"y":905},"2_11":{"x":827,"y":905},"2_101":{"x":827,"y":905},"2_201":{"x":828,"y":1005},"2_202":{"x":832,"y":945},"2_203":{"x":830,"y":910},"2_204":{"x":830,"y":910},"2_205":{"x":830,"y":925},"2_206":{"x":834,"y":955},"2_207":{"x":827,"y":935},"2_208":{"x":829,"y":915},"2_209":{"x":830,"y":963},"2_210":{"x":824,"y":888},"2_211":{"x":826,"y":903},"2_212":{"x":824,"y":927},"2_213":{"x":827,"y":890},"2_214":{"x":827,"y":880},"2_215":{"x":817,"y":880},"2_216":{"x":822,"y":889},"2_217":{"x":826,"y":895},"2_218":{"x":826,"y":895},"2_219":{"x":827,"y":896},"2_220":{"x":827,"y":963},"2_221":{"x":831,"y":895},"2_223":{"x":825,"y":890},"2_224":{"x":825,"y":890},"2_225":{"x":819,"y":892},"2_226":{"x":855,"y":936},"2_227":{"x":828,"y":870},"2_228":{"x":920,"y":885}}')
}
, function(t, e, n) {
    (function(t) {
        var i = Object.getOwnPropertyDescriptors || function(t) {
            for (var e = Object.keys(t), n = {}, i = 0; i < e.length; i++)
                n[e[i]] = Object.getOwnPropertyDescriptor(t, e[i]);
            return n
        }
          , o = /%[sdj%]/g;
        e.format = function(t) {
            if (!_(t)) {
                for (var e = [], n = 0; n < arguments.length; n++)
                    e.push(s(arguments[n]));
                return e.join(" ")
            }
            n = 1;
            for (var i = arguments, r = i.length, a = String(t).replace(o, (function(t) {
                if ("%%" === t)
                    return "%";
                if (n >= r)
                    return t;
                switch (t) {
                case "%s":
                    return String(i[n++]);
                case "%d":
                    return Number(i[n++]);
                case "%j":
                    try {
                        return JSON.stringify(i[n++])
                    } catch (t) {
                        return "[Circular]"
                    }
                default:
                    return t
                }
            }
            )), c = i[n]; n < r; c = i[++n])
                b(c) || !v(c) ? a += " " + c : a += " " + s(c);
            return a
        }
        ,
        e.deprecate = function(n, i) {
            if (void 0 !== t && !0 === t.noDeprecation)
                return n;
            if (void 0 === t)
                return function() {
                    return e.deprecate(n, i).apply(this, arguments)
                }
                ;
            var o = !1;
            return function() {
                if (!o) {
                    if (t.throwDeprecation)
                        throw new Error(i);
                    t.traceDeprecation ? console.trace(i) : console.error(i),
                    o = !0
                }
                return n.apply(this, arguments)
            }
        }
        ;
        var r, a = {};
        function s(t, n) {
            var i = {
                seen: [],
                stylize: u
            };
            return arguments.length >= 3 && (i.depth = arguments[2]),
            arguments.length >= 4 && (i.colors = arguments[3]),
            d(n) ? i.showHidden = n : n && e._extend(i, n),
            m(i.showHidden) && (i.showHidden = !1),
            m(i.depth) && (i.depth = 2),
            m(i.colors) && (i.colors = !1),
            m(i.customInspect) && (i.customInspect = !0),
            i.colors && (i.stylize = c),
            h(i, t, i.depth)
        }
        function c(t, e) {
            var n = s.styles[e];
            return n ? "[" + s.colors[n][0] + "m" + t + "[" + s.colors[n][1] + "m" : t
        }
        function u(t, e) {
            return t
        }
        function h(t, n, i) {
            if (t.customInspect && n && w(n.inspect) && n.inspect !== e.inspect && (!n.constructor || n.constructor.prototype !== n)) {
                var o = n.inspect(i, t);
                return _(o) || (o = h(t, o, i)),
                o
            }
            var r = function(t, e) {
                if (m(e))
                    return t.stylize("undefined", "undefined");
                if (_(e)) {
                    var n = "'" + JSON.stringify(e).replace(/^"|"$/g, "").replace(/'/g, "\\'").replace(/\\"/g, '"') + "'";
                    return t.stylize(n, "string")
                }
                if (g(e))
                    return t.stylize("" + e, "number");
                if (d(e))
                    return t.stylize("" + e, "boolean");
                if (b(e))
                    return t.stylize("null", "null")
            }(t, n);
            if (r)
                return r;
            var a = Object.keys(n)
              , s = function(t) {
                var e = {};
                return t.forEach((function(t, n) {
                    e[t] = !0
                }
                )),
                e
            }(a);
            if (t.showHidden && (a = Object.getOwnPropertyNames(n)),
            j(n) && (a.indexOf("message") >= 0 || a.indexOf("description") >= 0))
                return l(n);
            if (0 === a.length) {
                if (w(n)) {
                    var c = n.name ? ": " + n.name : "";
                    return t.stylize("[Function" + c + "]", "special")
                }
                if (y(n))
                    return t.stylize(RegExp.prototype.toString.call(n), "regexp");
                if (O(n))
                    return t.stylize(Date.prototype.toString.call(n), "date");
                if (j(n))
                    return l(n)
            }
            var u, v = "", x = !1, k = ["{", "}"];
            (f(n) && (x = !0,
            k = ["[", "]"]),
            w(n)) && (v = " [Function" + (n.name ? ": " + n.name : "") + "]");
            return y(n) && (v = " " + RegExp.prototype.toString.call(n)),
            O(n) && (v = " " + Date.prototype.toUTCString.call(n)),
            j(n) && (v = " " + l(n)),
            0 !== a.length || x && 0 != n.length ? i < 0 ? y(n) ? t.stylize(RegExp.prototype.toString.call(n), "regexp") : t.stylize("[Object]", "special") : (t.seen.push(n),
            u = x ? function(t, e, n, i, o) {
                for (var r = [], a = 0, s = e.length; a < s; ++a)
                    C(e, String(a)) ? r.push(p(t, e, n, i, String(a), !0)) : r.push("");
                return o.forEach((function(o) {
                    o.match(/^\d+$/) || r.push(p(t, e, n, i, o, !0))
                }
                )),
                r
            }(t, n, i, s, a) : a.map((function(e) {
                return p(t, n, i, s, e, x)
            }
            )),
            t.seen.pop(),
            function(t, e, n) {
                if (t.reduce((function(t, e) {
                    return e.indexOf("\n") >= 0 && 0,
                    t + e.replace(/\u001b\[\d\d?m/g, "").length + 1
                }
                ), 0) > 60)
                    return n[0] + ("" === e ? "" : e + "\n ") + " " + t.join(",\n  ") + " " + n[1];
                return n[0] + e + " " + t.join(", ") + " " + n[1]
            }(u, v, k)) : k[0] + v + k[1]
        }
        function l(t) {
            return "[" + Error.prototype.toString.call(t) + "]"
        }
        function p(t, e, n, i, o, r) {
            var a, s, c;
            if ((c = Object.getOwnPropertyDescriptor(e, o) || {
                value: e[o]
            }).get ? s = c.set ? t.stylize("[Getter/Setter]", "special") : t.stylize("[Getter]", "special") : c.set && (s = t.stylize("[Setter]", "special")),
            C(i, o) || (a = "[" + o + "]"),
            s || (t.seen.indexOf(c.value) < 0 ? (s = b(n) ? h(t, c.value, null) : h(t, c.value, n - 1)).indexOf("\n") > -1 && (s = r ? s.split("\n").map((function(t) {
                return "  " + t
            }
            )).join("\n").substr(2) : "\n" + s.split("\n").map((function(t) {
                return "   " + t
            }
            )).join("\n")) : s = t.stylize("[Circular]", "special")),
            m(a)) {
                if (r && o.match(/^\d+$/))
                    return s;
                (a = JSON.stringify("" + o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/) ? (a = a.substr(1, a.length - 2),
                a = t.stylize(a, "name")) : (a = a.replace(/'/g, "\\'").replace(/\\"/g, '"').replace(/(^"|"$)/g, "'"),
                a = t.stylize(a, "string"))
            }
            return a + ": " + s
        }
        function f(t) {
            return Array.isArray(t)
        }
        function d(t) {
            return "boolean" == typeof t
        }
        function b(t) {
            return null === t
        }
        function g(t) {
            return "number" == typeof t
        }
        function _(t) {
            return "string" == typeof t
        }
        function m(t) {
            return void 0 === t
        }
        function y(t) {
            return v(t) && "[object RegExp]" === x(t)
        }
        function v(t) {
            return "object" == typeof t && null !== t
        }
        function O(t) {
            return v(t) && "[object Date]" === x(t)
        }
        function j(t) {
            return v(t) && ("[object Error]" === x(t) || t instanceof Error)
        }
        function w(t) {
            return "function" == typeof t
        }
        function x(t) {
            return Object.prototype.toString.call(t)
        }
        function k(t) {
            return t < 10 ? "0" + t.toString(10) : t.toString(10)
        }
        e.debuglog = function(n) {
            if (m(r) && (r = Object({
                NODE_ENV: "production"
            }).NODE_DEBUG || ""),
            n = n.toUpperCase(),
            !a[n])
                if (new RegExp("\\b" + n + "\\b","i").test(r)) {
                    var i = t.pid;
                    a[n] = function() {
                        var t = e.format.apply(e, arguments);
                        console.error("%s %d: %s", n, i, t)
                    }
                } else
                    a[n] = function() {}
                    ;
            return a[n]
        }
        ,
        e.inspect = s,
        s.colors = {
            bold: [1, 22],
            italic: [3, 23],
            underline: [4, 24],
            inverse: [7, 27],
            white: [37, 39],
            grey: [90, 39],
            black: [30, 39],
            blue: [34, 39],
            cyan: [36, 39],
            green: [32, 39],
            magenta: [35, 39],
            red: [31, 39],
            yellow: [33, 39]
        },
        s.styles = {
            special: "cyan",
            number: "yellow",
            boolean: "yellow",
            undefined: "grey",
            null: "bold",
            string: "green",
            date: "magenta",
            regexp: "red"
        },
        e.isArray = f,
        e.isBoolean = d,
        e.isNull = b,
        e.isNullOrUndefined = function(t) {
            return null == t
        }
        ,
        e.isNumber = g,
        e.isString = _,
        e.isSymbol = function(t) {
            return "symbol" == typeof t
        }
        ,
        e.isUndefined = m,
        e.isRegExp = y,
        e.isObject = v,
        e.isDate = O,
        e.isError = j,
        e.isFunction = w,
        e.isPrimitive = function(t) {
            return null === t || "boolean" == typeof t || "number" == typeof t || "string" == typeof t || "symbol" == typeof t || void 0 === t
        }
        ,
        e.isBuffer = n(385);
        var I = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
        function P() {
            var t = new Date
              , e = [k(t.getHours()), k(t.getMinutes()), k(t.getSeconds())].join(":");
            return [t.getDate(), I[t.getMonth()], e].join(" ")
        }
        function C(t, e) {
            return Object.prototype.hasOwnProperty.call(t, e)
        }
        e.log = function() {
            console.log("%s - %s", P(), e.format.apply(e, arguments))
        }
        ,
        e.inherits = n(386),
        e._extend = function(t, e) {
            if (!e || !v(e))
                return t;
            for (var n = Object.keys(e), i = n.length; i--; )
                t[n[i]] = e[n[i]];
            return t
        }
        ;
        var S = "undefined" != typeof Symbol ? Symbol("util.promisify.custom") : void 0;
        function R(t, e) {
            if (!t) {
                var n = new Error("Promise was rejected with a falsy value");
                n.reason = t,
                t = n
            }
            return e(t)
        }
        e.promisify = function(t) {
            if ("function" != typeof t)
                throw new TypeError('The "original" argument must be of type Function');
            if (S && t[S]) {
                var e;
                if ("function" != typeof (e = t[S]))
                    throw new TypeError('The "util.promisify.custom" argument must be of type Function');
                return Object.defineProperty(e, S, {
                    value: e,
                    enumerable: !1,
                    writable: !1,
                    configurable: !0
                }),
                e
            }
            function e() {
                for (var e, n, i = new Promise((function(t, i) {
                    e = t,
                    n = i
                }
                )), o = [], r = 0; r < arguments.length; r++)
                    o.push(arguments[r]);
                o.push((function(t, i) {
                    t ? n(t) : e(i)
                }
                ));
                try {
                    t.apply(this, o)
                } catch (t) {
                    n(t)
                }
                return i
            }
            return Object.setPrototypeOf(e, Object.getPrototypeOf(t)),
            S && Object.defineProperty(e, S, {
                value: e,
                enumerable: !1,
                writable: !1,
                configurable: !0
            }),
            Object.defineProperties(e, i(t))
        }
        ,
        e.promisify.custom = S,
        e.callbackify = function(e) {
            if ("function" != typeof e)
                throw new TypeError('The "original" argument must be of type Function');
            function n() {
                for (var n = [], i = 0; i < arguments.length; i++)
                    n.push(arguments[i]);
                var o = n.pop();
                if ("function" != typeof o)
                    throw new TypeError("The last argument must be of type Function");
                var r = this
                  , a = function() {
                    return o.apply(r, arguments)
                };
                e.apply(this, n).then((function(e) {
                    t.nextTick(a, null, e)
                }
                ), (function(e) {
                    t.nextTick(R, e, a)
                }
                ))
            }
            return Object.setPrototypeOf(n, Object.getPrototypeOf(e)),
            Object.defineProperties(n, i(e)),
            n
        }
    }
    ).call(this, n(384))
}
, function(t, e) {
    var n, i, o = t.exports = {};
    function r() {
        throw new Error("setTimeout has not been defined")
    }
    function a() {
        throw new Error("clearTimeout has not been defined")
    }
    function s(t) {
        if (n === setTimeout)
            return setTimeout(t, 0);
        if ((n === r || !n) && setTimeout)
            return n = setTimeout,
            setTimeout(t, 0);
        try {
            return n(t, 0)
        } catch (e) {
            try {
                return n.call(null, t, 0)
            } catch (e) {
                return n.call(this, t, 0)
            }
        }
    }
    !function() {
        try {
            n = "function" == typeof setTimeout ? setTimeout : r
        } catch (t) {
            n = r
        }
        try {
            i = "function" == typeof clearTimeout ? clearTimeout : a
        } catch (t) {
            i = a
        }
    }();
    var c, u = [], h = !1, l = -1;
    function p() {
        h && c && (h = !1,
        c.length ? u = c.concat(u) : l = -1,
        u.length && f())
    }
    function f() {
        if (!h) {
            var t = s(p);
            h = !0;
            for (var e = u.length; e; ) {
                for (c = u,
                u = []; ++l < e; )
                    c && c[l].run();
                l = -1,
                e = u.length
            }
            c = null,
            h = !1,
            function(t) {
                if (i === clearTimeout)
                    return clearTimeout(t);
                if ((i === a || !i) && clearTimeout)
                    return i = clearTimeout,
                    clearTimeout(t);
                try {
                    i(t)
                } catch (e) {
                    try {
                        return i.call(null, t)
                    } catch (e) {
                        return i.call(this, t)
                    }
                }
            }(t)
        }
    }
    function d(t, e) {
        this.fun = t,
        this.array = e
    }
    function b() {}
    o.nextTick = function(t) {
        var e = new Array(arguments.length - 1);
        if (arguments.length > 1)
            for (var n = 1; n < arguments.length; n++)
                e[n - 1] = arguments[n];
        u.push(new d(t,e)),
        1 !== u.length || h || s(f)
    }
    ,
    d.prototype.run = function() {
        this.fun.apply(null, this.array)
    }
    ,
    o.title = "browser",
    o.browser = !0,
    o.env = {},
    o.argv = [],
    o.version = "",
    o.versions = {},
    o.on = b,
    o.addListener = b,
    o.once = b,
    o.off = b,
    o.removeListener = b,
    o.removeAllListeners = b,
    o.emit = b,
    o.prependListener = b,
    o.prependOnceListener = b,
    o.listeners = function(t) {
        return []
    }
    ,
    o.binding = function(t) {
        throw new Error("process.binding is not supported")
    }
    ,
    o.cwd = function() {
        return "/"
    }
    ,
    o.chdir = function(t) {
        throw new Error("process.chdir is not supported")
    }
    ,
    o.umask = function() {
        return 0
    }
}
, function(t, e) {
    t.exports = function(t) {
        return t && "object" == typeof t && "function" == typeof t.copy && "function" == typeof t.fill && "function" == typeof t.readUInt8
    }
}
, function(t, e) {
    "function" == typeof Object.create ? t.exports = function(t, e) {
        t.super_ = e,
        t.prototype = Object.create(e.prototype, {
            constructor: {
                value: t,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        })
    }
    : t.exports = function(t, e) {
        t.super_ = e;
        var n = function() {};
        n.prototype = e.prototype,
        t.prototype = new n,
        t.prototype.constructor = t
    }
}
, function(t) {
    t.exports = JSON.parse('{"full":{"x":0,"y":0,"scale":1,"x_2045":0,"y_2045":0,"scale_2045":0.85,"x_1053":0,"y_1053":0,"scale_1053":0.95},"NewHalf":{"x":20,"y":650,"scale":0.93,"x_1053":80,"y_1053":750,"x_1054":2,"y_1054":700,"x_2045":60,"y_2045":780,"x_2058":20,"y_2058":750,"scale_2058":0.93,"x_2050":-70,"y_2050":650,"scale_2050":0.93,"x_2061":-20,"y_2061":650,"scale_2061":1},"NewSmallHalf":{"x":2,"y":640,"scale":0.93,"x_1053":132,"y_1053":700,"scale_1053":0.93,"x_1054":2,"y_1054":680,"x_2045":100,"y_2045":740,"x_2058":20,"y_2058":770,"scale_2058":0.93,"x_2050":-70,"y_2050":640,"scale_2050":0.93,"x_2061":2,"y_2061":640,"scale_2061":1},"VHalf":{"x":20,"y":650,"scale":0.93,"x_1053":132,"y_1053":720,"scale_1053":0.93,"x_1054":2,"y_1054":700,"x_2045":115,"y_2045":760,"x_2058":20,"y_2058":750,"scale_2058":0.93,"x_2050":-70,"y_2050":650,"scale_2050":0.93,"x_2061":20,"y_2061":630,"scale_2061":0.93},"LundaoChuzhanSkin":{"x":20,"y":1000,"scale":1,"x_2045":50,"y_2045":1100,"scale_2045":1,"x_1053":80,"y_1053":1100,"scale_1053":1,"x_2058":20,"y_2058":1150,"scale_2058":1},"LundaoOverSkin":{"x":20,"y":1000,"scale":1,"x_2045":50,"y_2045":1100,"scale_2045":1,"x_1053":80,"y_1053":1100,"scale_1053":1,"x_2058":20,"y_2058":1150,"scale_2058":1},"TreasureMainSkin":{"x":-320,"y":-50,"scale":1},"PanelHeroPKGoSkin":{"x":0,"y":970,"scale":1},"XianPuUpSkin":{"x":20,"y":1000,"scale":1},"ItemHeroPKNewSkin":{"x":20,"y":370,"scale":0.6},"PanelHeroAbilitySkin":{"x":20,"y":1000,"scale":1}}')
}
]]);
